function h(s,d){const c='a[href]:not([tabindex="-1"]), button:not([tabindex="-1"]), input:not([tabindex="-1"]), textarea:not([tabindex="-1"]), select:not([tabindex="-1"]), details:not([tabindex="-1"]), [tabindex]:not([tabindex="-1"])';let n,o;function u(e){e.shiftKey&&e.code==="Tab"&&(e.preventDefault(),o.focus())}function f(e){!e.shiftKey&&e.code==="Tab"&&(e.preventDefault(),n.focus())}const b=e=>e.filter(t=>t.tabIndex>=0).sort((t,r)=>t.tabIndex===0&&r.tabIndex>0?1:t.tabIndex>0&&r.tabIndex===0?-1:t.tabIndex-r.tabIndex),x=e=>{const t=[...s.querySelectorAll("[data-focusindex]")];return!t||t.length===0?e:t.sort((r,v)=>+r.dataset.focusindex-+v.dataset.focusindex)[0]||e},a=e=>{if(d===!1)return;const t=b(Array.from(s.querySelectorAll(c)));t.length&&(n=t[0],o=t[t.length-1],e||x(n).focus(),n.addEventListener("keydown",u),o.addEventListener("keydown",f))};a(!1);function i(){n&&n.removeEventListener("keydown",u),o&&o.removeEventListener("keydown",f)}const y=(e,t)=>(e.length&&(i(),a(!0)),t),l=new MutationObserver(y);return l.observe(s,{childList:!0,subtree:!0}),{update(e){d=e,e?a(!1):i()},destroy(){i(),l.disconnect()}}}export{h as f};
//# sourceMappingURL=focusTrap.C1iSgani.js.map
