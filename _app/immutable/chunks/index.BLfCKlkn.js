const y=s=>typeof s=="object"&&s!==null,m=s=>y(s)&&!(s instanceof RegExp)&&!(s instanceof Error)&&!(s instanceof Date),S=Symbol("mapObjectSkip"),p=(s,e,t,r=new WeakMap)=>{if(t={deep:!1,target:{},...t},r.has(s))return r.get(s);r.set(s,t.target);const{target:i}=t;delete t.target;const a=n=>n.map(o=>m(o)?p(o,e,t,r):o);if(Array.isArray(s))return a(s);for(const[n,o]of Object.entries(s)){const h=e(n,o,s);if(h===S)continue;let[l,c,{shouldRecurse:f=!0}={}]=h;l!=="__proto__"&&(t.deep&&f&&m(c)&&(c=Array.isArray(c)?a(c):p(c,e,t,r)),i[l]=c)}return i};function g(s,e,t){if(!y(s))throw new TypeError(`Expected an object, got \`${s}\` (${typeof s})`);return p(s,e,t)}const R=/[\p{Lu}]/u,z=/[\p{Ll}]/u,x=/^[\p{Lu}](?![\p{Lu}])/gu,w=/([\p{Alpha}\p{N}_]|$)/u,_=/[_.\- ]+/,L=new RegExp("^"+_.source),C=new RegExp(_.source+w.source,"gu"),A=new RegExp("\\d+"+w.source,"gu"),T=(s,e,t,r)=>{let i=!1,a=!1,n=!1,o=!1;for(let h=0;h<s.length;h++){const l=s[h];o=h>2?s[h-3]==="-":!0,i&&R.test(l)?(s=s.slice(0,h)+"-"+s.slice(h),i=!1,n=a,a=!0,h++):a&&n&&z.test(l)&&(!o||r)?(s=s.slice(0,h-1)+"-"+s.slice(h-1),n=a,a=!1,i=!0):(i=e(l)===l&&t(l)!==l,n=a,a=t(l)===l&&e(l)!==l)}return s},b=(s,e)=>(x.lastIndex=0,s.replaceAll(x,t=>e(t))),O=(s,e)=>(C.lastIndex=0,A.lastIndex=0,s.replaceAll(A,(t,r,i)=>["_","-"].includes(s.charAt(i+t.length))?t:e(t)).replaceAll(C,(t,r)=>e(r)));function N(s,e){if(!(typeof s=="string"||Array.isArray(s)))throw new TypeError("Expected the input to be `string | string[]`");if(e={pascalCase:!1,preserveConsecutiveUppercase:!1,...e},Array.isArray(s)?s=s.map(a=>a.trim()).filter(a=>a.length).join("-"):s=s.trim(),s.length===0)return"";const t=e.locale===!1?a=>a.toLowerCase():a=>a.toLocaleLowerCase(e.locale),r=e.locale===!1?a=>a.toUpperCase():a=>a.toLocaleUpperCase(e.locale);return s.length===1?_.test(s)?"":e.pascalCase?r(s):t(s):(s!==t(s)&&(s=T(s,t,r,e.preserveConsecutiveUppercase)),s=s.replace(L,""),s=e.preserveConsecutiveUppercase?b(s,t):t(s),e.pascalCase&&(s=r(s.charAt(0))+s.slice(1)),O(s,r))}class D extends Map{constructor(e={}){if(super(),!(e.maxSize&&e.maxSize>0))throw new TypeError("`maxSize` must be a number greater than 0");if(typeof e.maxAge=="number"&&e.maxAge===0)throw new TypeError("`maxAge` must be a number greater than 0");this.maxSize=e.maxSize,this.maxAge=e.maxAge||Number.POSITIVE_INFINITY,this.onEviction=e.onEviction,this.cache=new Map,this.oldCache=new Map,this._size=0}_emitEvictions(e){if(typeof this.onEviction=="function")for(const[t,r]of e)this.onEviction(t,r.value)}_deleteIfExpired(e,t){return typeof t.expiry=="number"&&t.expiry<=Date.now()?(typeof this.onEviction=="function"&&this.onEviction(e,t.value),this.delete(e)):!1}_getOrDeleteIfExpired(e,t){if(this._deleteIfExpired(e,t)===!1)return t.value}_getItemValue(e,t){return t.expiry?this._getOrDeleteIfExpired(e,t):t.value}_peek(e,t){const r=t.get(e);return this._getItemValue(e,r)}_set(e,t){this.cache.set(e,t),this._size++,this._size>=this.maxSize&&(this._size=0,this._emitEvictions(this.oldCache),this.oldCache=this.cache,this.cache=new Map)}_moveToRecent(e,t){this.oldCache.delete(e),this._set(e,t)}*_entriesAscending(){for(const e of this.oldCache){const[t,r]=e;this.cache.has(t)||this._deleteIfExpired(t,r)===!1&&(yield e)}for(const e of this.cache){const[t,r]=e;this._deleteIfExpired(t,r)===!1&&(yield e)}}get(e){if(this.cache.has(e)){const t=this.cache.get(e);return this._getItemValue(e,t)}if(this.oldCache.has(e)){const t=this.oldCache.get(e);if(this._deleteIfExpired(e,t)===!1)return this._moveToRecent(e,t),t.value}}set(e,t,{maxAge:r=this.maxAge}={}){const i=typeof r=="number"&&r!==Number.POSITIVE_INFINITY?Date.now()+r:void 0;return this.cache.has(e)?this.cache.set(e,{value:t,expiry:i}):this._set(e,{value:t,expiry:i}),this}has(e){return this.cache.has(e)?!this._deleteIfExpired(e,this.cache.get(e)):this.oldCache.has(e)?!this._deleteIfExpired(e,this.oldCache.get(e)):!1}peek(e){if(this.cache.has(e))return this._peek(e,this.cache);if(this.oldCache.has(e))return this._peek(e,this.oldCache)}delete(e){const t=this.cache.delete(e);return t&&this._size--,this.oldCache.delete(e)||t}clear(){this.cache.clear(),this.oldCache.clear(),this._size=0}resize(e){if(!(e&&e>0))throw new TypeError("`maxSize` must be a number greater than 0");const t=[...this._entriesAscending()],r=t.length-e;r<0?(this.cache=new Map(t),this.oldCache=new Map,this._size=t.length):(r>0&&this._emitEvictions(t.slice(0,r)),this.oldCache=new Map(t.slice(r)),this.cache=new Map,this._size=0),this.maxSize=e}*keys(){for(const[e]of this)yield e}*values(){for(const[,e]of this)yield e}*[Symbol.iterator](){for(const e of this.cache){const[t,r]=e;this._deleteIfExpired(t,r)===!1&&(yield[t,r.value])}for(const e of this.oldCache){const[t,r]=e;this.cache.has(t)||this._deleteIfExpired(t,r)===!1&&(yield[t,r.value])}}*entriesDescending(){let e=[...this.cache];for(let t=e.length-1;t>=0;--t){const r=e[t],[i,a]=r;this._deleteIfExpired(i,a)===!1&&(yield[i,a.value])}e=[...this.oldCache];for(let t=e.length-1;t>=0;--t){const r=e[t],[i,a]=r;this.cache.has(i)||this._deleteIfExpired(i,a)===!1&&(yield[i,a.value])}}*entriesAscending(){for(const[e,t]of this._entriesAscending())yield[e,t.value]}get size(){if(!this._size)return this.oldCache.size;let e=0;for(const t of this.oldCache.keys())this.cache.has(t)||e++;return Math.min(this._size+e,this.maxSize)}entries(){return this.entriesAscending()}forEach(e,t=this){for(const[r,i]of this.entriesAscending())e.call(t,i,r,this)}get[Symbol.toStringTag](){return JSON.stringify([...this.entriesAscending()])}}const U=(s,e)=>s.some(t=>typeof t=="string"?t===e:(t.lastIndex=0,t.test(e))),u=new D({maxSize:1e5}),I=s=>typeof s=="object"&&s!==null&&!(s instanceof RegExp)&&!(s instanceof Error)&&!(s instanceof Date),v=(s,e={})=>{if(!I(s))return s;const{exclude:t,pascalCase:r=!1,stopPaths:i,deep:a=!1,preserveConsecutiveUppercase:n=!1}=e,o=new Set(i),h=l=>(c,f)=>{if(a&&I(f)){const d=l===void 0?c:`${l}.${c}`;o.has(d)||(f=g(f,h(d)))}if(!(t&&U(t,c))){const d=r?`${c}_`:c;if(u.has(d))c=u.get(d);else{const E=N(c,{pascalCase:r,locale:!1,preserveConsecutiveUppercase:n});c.length<100&&u.set(d,E),c=E}}return[c,f]};return g(s,h(void 0))};function M(s,e){return Array.isArray(s)?Object.keys(s).map(t=>v(s[t],e)):v(s,e)}export{M as default};
//# sourceMappingURL=index.BLfCKlkn.js.map
