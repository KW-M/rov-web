import{n as J,Y as Fn,V as Vn,s as xt,W as Lt,I as Y,j as D,p as W,f as k,r as Wt,m as at,a8 as zn,u as ht,A as Qt,e as A,c as P,b as L,i as v,k as O,a9 as Wn,B as Se,o as Ae,a as H,g as U,ab as Ht,ac as Ut,D as Pe,K as Jt,t as et,d as nt,ad as Le,ae as De,l as ot,M as Re,G as Ie,h as cn,S as Hn,O as Un,P as jn,Q as Kn,R as qn,H as Yn,E as Gn}from"../chunks/scheduler.DX9IlJ6t.js";import{n as Xn,l as Qn,o as Jn,p as Zn,S as jt,i as Kt,t as R,g as lt,d as M,f as rt,h as le,k as xe,j as fn,c as gt,a as Ct,m as bt,e as pt}from"../chunks/index.BKTyWGZx.js";import{a7 as $n,a8 as to,a9 as eo,aa as no,u as un,ab as oo,z as At,A as Zt,y as $t,k as Vt,ac as te,ad as io,s as ee,P as so,ae as lo,F as dn,af as ro,q as ao,D as mn,E as mt,X as Be,K as Et,L as St,ag as ue,ah as Me,J as Ne,ai as be,aj as co,ak as fo,al as uo,am as pe,an as mo,ao as ho,G as go,ap as hn,aq as bo,ar as po,as as _o,at as Fe,Y as Ve,au as vo,m as de,av as wo}from"../chunks/modals.CkUeJGDD.js";import{f as yo}from"../chunks/focusTrap.C1iSgani.js";import{g as me,C as ko}from"../chunks/localStorage.DGp9duqr.js";import{p as To}from"../chunks/stores.DH3BtczU.js";function Co(e,t,n,o){if(!t)return J;const i=e.getBoundingClientRect();if(t.left===i.left&&t.right===i.right&&t.top===i.top&&t.bottom===i.bottom)return J;const{delay:s=0,duration:l=300,easing:a=Fn,start:u=Xn()+s,end:r=u+l,tick:f=J,css:c}=n(e,{from:t,to:i},o);let d=!0,m=!1,b;function w(){c&&(b=Jn(e,0,1,l,s,a,c)),s||(m=!0)}function _(){c&&Zn(e,b),d=!1}return Qn(h=>{if(!m&&h>=u&&(m=!0),m&&h>=r&&(f(1,0),_()),!d)return!1;if(m){const g=h-u,y=0+1*a(g/l);f(y,1-y)}return!0}),w(),f(0,1),_}function Oo(e){const t=getComputedStyle(e);if(t.position!=="absolute"&&t.position!=="fixed"){const{width:n,height:o}=t,i=e.getBoundingClientRect();e.style.position="absolute",e.style.width=n,e.style.height=o,gn(e,i)}}function gn(e,t){const n=e.getBoundingClientRect();if(t.left!==n.left||t.top!==n.top){const o=getComputedStyle(e),i=o.transform==="none"?"":o.transform;e.style.transform=`${i} translate(${t.left-n.left}px, ${t.top-n.top}px)`}}const Eo=!0,So=!0,rs=Object.freeze(Object.defineProperty({__proto__:null,prerender:Eo,ssr:So},Symbol.toStringTag,{value:"Module"}));function Ao(){$n(),to(),eo()}function Po(e,{from:t,to:n},o={}){const i=getComputedStyle(e),s=i.transform==="none"?"":i.transform,[l,a]=i.transformOrigin.split(" ").map(parseFloat),u=t.left+t.width*l/n.width-(n.left+l),r=t.top+t.height*a/n.height-(n.top+a),{delay:f=0,duration:c=m=>Math.sqrt(m)*120,easing:d=no}=o;return{delay:f,duration:Vn(c)?c(Math.sqrt(u*u+r*r)):c,easing:d,css:(m,b)=>{const w=b*u,_=b*r,h=m+b*t.width/n.width,g=m+b*t.height/n.height;return`transform: ${s} translate(${w}px, ${_}px) scale(${h}, ${g});`}}}function ze(e){let t=e[14],n,o,i=je(e);return{c(){i.c(),n=Y()},l(s){i.l(s),n=Y()},m(s,l){i.m(s,l),D(s,n,l),o=!0},p(s,l){l[0]&16384&&xt(t,t=s[14])?(lt(),M(i,1,1,J),rt(),i=je(s),i.c(),R(i,1),i.m(n.parentNode,n)):i.p(s,l)},i(s){o||(R(i),o=!0)},o(s){M(i),o=!1},d(s){s&&k(n),i.d(s)}}}function Lo(e){let t,n,o,i,s,l;const a=[Io,Ro],u=[];function r(f,c){var d;return(d=f[16])!=null&&d.slot?0:1}return n=r(e),o=u[n]=a[n](e),{c(){t=A("div"),o.c(),this.h()},l(f){t=P(f,"DIV",{class:!0,"data-testid":!0,role:!0,"aria-modal":!0,"aria-label":!0});var c=L(t);o.l(c),c.forEach(k),this.h()},h(){var f;v(t,"class",i="modal contents "+(((f=e[14][0])==null?void 0:f.modalClasses)??"")),v(t,"data-testid","modal-component"),v(t,"role","dialog"),v(t,"aria-modal","true"),v(t,"aria-label",s=e[14][0].title??"")},m(f,c){D(f,t,c),u[n].m(t,null),e[47](t),l=!0},p(f,c){var m;let d=n;n=r(f),n===d?u[n].p(f,c):(lt(),M(u[d],1,1,()=>{u[d]=null}),rt(),o=u[n],o?o.p(f,c):(o=u[n]=a[n](f),o.c()),R(o,1),o.m(t,null)),(!l||c[0]&16384&&i!==(i="modal contents "+(((m=f[14][0])==null?void 0:m.modalClasses)??"")))&&v(t,"class",i),(!l||c[0]&16384&&s!==(s=f[14][0].title??""))&&v(t,"aria-label",s)},i(f){l||(R(o),l=!0)},o(f){M(o),l=!1},d(f){f&&k(t),u[n].d(),e[47](null)}}}function Do(e){var m,b,w,_;let t,n,o,i,s,l,a=((m=e[14][0])==null?void 0:m.title)&&We(e),u=((b=e[14][0])==null?void 0:b.body)&&He(e),r=((w=e[14][0])==null?void 0:w.image)&&typeof((_=e[14][0])==null?void 0:_.image)=="string"&&Ue(e);function f(h,g){if(h[14][0].type==="alert")return No;if(h[14][0].type==="confirm")return Mo;if(h[14][0].type==="prompt")return Bo}let c=f(e),d=c&&c(e);return{c(){t=A("div"),a&&a.c(),n=H(),u&&u.c(),o=H(),r&&r.c(),i=H(),d&&d.c(),this.h()},l(h){t=P(h,"DIV",{class:!0,"data-testid":!0,role:!0,"aria-modal":!0,"aria-label":!0});var g=L(t);a&&a.l(g),n=U(g),u&&u.l(g),o=U(g),r&&r.l(g),i=U(g),d&&d.l(g),g.forEach(k),this.h()},h(){v(t,"class",s="modal "+e[20]),v(t,"data-testid","modal"),v(t,"role","dialog"),v(t,"aria-modal","true"),v(t,"aria-label",l=e[14][0].title??"")},m(h,g){D(h,t,g),a&&a.m(t,null),O(t,n),u&&u.m(t,null),O(t,o),r&&r.m(t,null),O(t,i),d&&d.m(t,null),e[46](t)},p(h,g){var y,S,C,E;(y=h[14][0])!=null&&y.title?a?a.p(h,g):(a=We(h),a.c(),a.m(t,n)):a&&(a.d(1),a=null),(S=h[14][0])!=null&&S.body?u?u.p(h,g):(u=He(h),u.c(),u.m(t,o)):u&&(u.d(1),u=null),(C=h[14][0])!=null&&C.image&&typeof((E=h[14][0])==null?void 0:E.image)=="string"?r?r.p(h,g):(r=Ue(h),r.c(),r.m(t,i)):r&&(r.d(1),r=null),c===(c=f(h))&&d?d.p(h,g):(d&&d.d(1),d=c&&c(h),d&&(d.c(),d.m(t,null))),g[0]&1048576&&s!==(s="modal "+h[20])&&v(t,"class",s),g[0]&16384&&l!==(l=h[14][0].title??"")&&v(t,"aria-label",l)},i:J,o:J,d(h){h&&k(t),a&&a.d(),u&&u.d(),r&&r.d(),d&&d.d(),e[46](null)}}}function Ro(e){var a,u;let t,n,o;const i=[(a=e[16])==null?void 0:a.props,{parent:e[19]}];var s=(u=e[16])==null?void 0:u.ref;function l(r,f){var d;let c={};for(let m=0;m<i.length;m+=1)c=ht(c,i[m]);return f!==void 0&&f[0]&589824&&(c=ht(c,Vt(i,[f[0]&65536&&te((d=r[16])==null?void 0:d.props),f[0]&524288&&{parent:r[19]}]))),{props:c}}return s&&(t=Jt(s,l(e))),{c(){t&&gt(t.$$.fragment),n=Y()},l(r){t&&Ct(t.$$.fragment,r),n=Y()},m(r,f){t&&bt(t,r,f),D(r,n,f),o=!0},p(r,f){var c,d;if(f[0]&65536&&s!==(s=(c=r[16])==null?void 0:c.ref)){if(t){lt();const m=t;M(m.$$.fragment,1,0,()=>{pt(m,1)}),rt()}s?(t=Jt(s,l(r,f)),gt(t.$$.fragment),R(t.$$.fragment,1),bt(t,n.parentNode,n)):t=null}else if(s){const m=f[0]&589824?Vt(i,[f[0]&65536&&te((d=r[16])==null?void 0:d.props),f[0]&524288&&{parent:r[19]}]):{};t.$set(m)}},i(r){o||(t&&R(t.$$.fragment,r),o=!0)},o(r){t&&M(t.$$.fragment,r),o=!1},d(r){r&&k(n),t&&pt(t,r)}}}function Io(e){var a,u;let t,n,o;const i=[(a=e[16])==null?void 0:a.props,{parent:e[19]}];var s=(u=e[16])==null?void 0:u.ref;function l(r,f){var d;let c={$$slots:{default:[xo]},$$scope:{ctx:r}};for(let m=0;m<i.length;m+=1)c=ht(c,i[m]);return f!==void 0&&f[0]&589824&&(c=ht(c,Vt(i,[f[0]&65536&&te((d=r[16])==null?void 0:d.props),f[0]&524288&&{parent:r[19]}]))),{props:c}}return s&&(t=Jt(s,l(e))),{c(){t&&gt(t.$$.fragment),n=Y()},l(r){t&&Ct(t.$$.fragment,r),n=Y()},m(r,f){t&&bt(t,r,f),D(r,n,f),o=!0},p(r,f){var c,d;if(f[0]&65536&&s!==(s=(c=r[16])==null?void 0:c.ref)){if(t){lt();const m=t;M(m.$$.fragment,1,0,()=>{pt(m,1)}),rt()}s?(t=Jt(s,l(r,f)),gt(t.$$.fragment),R(t.$$.fragment,1),bt(t,n.parentNode,n)):t=null}else if(s){const m=f[0]&589824?Vt(i,[f[0]&65536&&te((d=r[16])==null?void 0:d.props),f[0]&524288&&{parent:r[19]}]):{};f[0]&65536|f[1]&16777216&&(m.$$scope={dirty:f,ctx:r}),t.$set(m)}},i(r){o||(t&&R(t.$$.fragment,r),o=!0)},o(r){t&&M(t.$$.fragment,r),o=!1},d(r){r&&k(n),t&&pt(t,r)}}}function xo(e){var i;let t,n=((i=e[16])==null?void 0:i.slot)+"",o;return{c(){t=new Ht(!1),o=Y(),this.h()},l(s){t=Ut(s,!1),o=Y(),this.h()},h(){t.a=o},m(s,l){t.m(n,s,l),D(s,o,l)},p(s,l){var a;l[0]&65536&&n!==(n=((a=s[16])==null?void 0:a.slot)+"")&&t.p(n)},d(s){s&&(k(o),t.d())}}}function We(e){let t,n,o=e[14][0].title+"",i;return{c(){t=A("header"),n=new Ht(!1),this.h()},l(s){t=P(s,"HEADER",{class:!0});var l=L(t);n=Ut(l,!1),l.forEach(k),this.h()},h(){n.a=null,v(t,"class",i="modal-header "+e[5])},m(s,l){D(s,t,l),n.m(o,t)},p(s,l){l[0]&16384&&o!==(o=s[14][0].title+"")&&n.p(o),l[0]&32&&i!==(i="modal-header "+s[5])&&v(t,"class",i)},d(s){s&&k(t)}}}function He(e){let t,n,o=e[14][0].body+"",i;return{c(){t=A("article"),n=new Ht(!1),this.h()},l(s){t=P(s,"ARTICLE",{class:!0});var l=L(t);n=Ut(l,!1),l.forEach(k),this.h()},h(){n.a=null,v(t,"class",i="modal-body "+e[6])},m(s,l){D(s,t,l),n.m(o,t)},p(s,l){l[0]&16384&&o!==(o=s[14][0].body+"")&&n.p(o),l[0]&64&&i!==(i="modal-body "+s[6])&&v(t,"class",i)},d(s){s&&k(t)}}}function Ue(e){let t,n;return{c(){t=A("img"),this.h()},l(o){t=P(o,"IMG",{class:!0,src:!0,alt:!0}),this.h()},h(){var o;v(t,"class","modal-image "+Ho),Pe(t.src,n=(o=e[14][0])==null?void 0:o.image)||v(t,"src",n),v(t,"alt","Modal")},m(o,i){D(o,t,i)},p(o,i){var s;i[0]&16384&&!Pe(t.src,n=(s=o[14][0])==null?void 0:s.image)&&v(t,"src",n)},d(o){o&&k(t)}}}function Bo(e){let t,n,o,i,s,l,a,u,r,f,c,d,m,b,w=[{class:"modal-prompt-input input"},{name:"prompt"},{type:"text"},e[14][0].valueAttr],_={};for(let h=0;h<w.length;h+=1)_=ht(_,w[h]);return{c(){t=A("form"),n=A("input"),o=H(),i=A("footer"),s=A("button"),l=et(e[0]),u=H(),r=A("button"),f=et(e[2]),this.h()},l(h){t=P(h,"FORM",{class:!0});var g=L(t);n=P(g,"INPUT",{class:!0,name:!0,type:!0}),o=U(g),i=P(g,"FOOTER",{class:!0});var y=L(i);s=P(y,"BUTTON",{type:!0,class:!0});var S=L(s);l=nt(S,e[0]),S.forEach(k),u=U(y),r=P(y,"BUTTON",{type:!0,class:!0});var C=L(r);f=nt(C,e[2]),C.forEach(k),y.forEach(k),g.forEach(k),this.h()},h(){Le(n,_),v(s,"type","button"),v(s,"class",a="btn "+e[3]),v(r,"type","submit"),v(r,"class",c="btn "+e[4]),v(i,"class",d="modal-footer "+e[7]),v(t,"class","space-y-4")},m(h,g){D(h,t,g),O(t,n),n.autofocus&&n.focus(),De(n,e[15]),O(t,o),O(t,i),O(i,s),O(s,l),O(i,u),O(i,r),O(r,f),m||(b=[W(n,"input",e[45]),W(s,"click",e[26]),W(t,"submit",e[28])],m=!0)},p(h,g){Le(n,_=Vt(w,[{class:"modal-prompt-input input"},{name:"prompt"},{type:"text"},g[0]&16384&&h[14][0].valueAttr])),g[0]&32768&&n.value!==h[15]&&De(n,h[15]),g[0]&1&&ot(l,h[0]),g[0]&8&&a!==(a="btn "+h[3])&&v(s,"class",a),g[0]&4&&ot(f,h[2]),g[0]&16&&c!==(c="btn "+h[4])&&v(r,"class",c),g[0]&128&&d!==(d="modal-footer "+h[7])&&v(i,"class",d)},d(h){h&&k(t),m=!1,Wt(b)}}}function Mo(e){let t,n,o,i,s,l,a,u,r,f,c;return{c(){t=A("footer"),n=A("button"),o=et(e[0]),s=H(),l=A("button"),a=et(e[1]),this.h()},l(d){t=P(d,"FOOTER",{class:!0});var m=L(t);n=P(m,"BUTTON",{type:!0,class:!0});var b=L(n);o=nt(b,e[0]),b.forEach(k),s=U(m),l=P(m,"BUTTON",{type:!0,class:!0});var w=L(l);a=nt(w,e[1]),w.forEach(k),m.forEach(k),this.h()},h(){v(n,"type","button"),v(n,"class",i="btn "+e[3]),v(l,"type","button"),v(l,"class",u="btn "+e[4]),v(t,"class",r="modal-footer "+e[7])},m(d,m){D(d,t,m),O(t,n),O(n,o),O(t,s),O(t,l),O(l,a),f||(c=[W(n,"click",e[26]),W(l,"click",e[27])],f=!0)},p(d,m){m[0]&1&&ot(o,d[0]),m[0]&8&&i!==(i="btn "+d[3])&&v(n,"class",i),m[0]&2&&ot(a,d[1]),m[0]&16&&u!==(u="btn "+d[4])&&v(l,"class",u),m[0]&128&&r!==(r="modal-footer "+d[7])&&v(t,"class",r)},d(d){d&&k(t),f=!1,Wt(c)}}}function No(e){let t,n,o,i,s,l,a;return{c(){t=A("footer"),n=A("button"),o=et(e[0]),this.h()},l(u){t=P(u,"FOOTER",{class:!0});var r=L(t);n=P(r,"BUTTON",{type:!0,class:!0});var f=L(n);o=nt(f,e[0]),f.forEach(k),r.forEach(k),this.h()},h(){v(n,"type","button"),v(n,"class",i="btn "+e[3]),v(t,"class",s="modal-footer "+e[7])},m(u,r){D(u,t,r),O(t,n),O(n,o),l||(a=W(n,"click",e[26]),l=!0)},p(u,r){r[0]&1&&ot(o,u[0]),r[0]&8&&i!==(i="btn "+u[3])&&v(n,"class",i),r[0]&128&&s!==(s="modal-footer "+u[7])&&v(t,"class",s)},d(u){u&&k(t),l=!1,a()}}}function je(e){let t,n,o,i,s,l,a,u,r,f,c,d;const m=[Do,Lo],b=[];function w(_,h){return _[14][0].type!=="component"?0:1}return o=w(e),i=b[o]=m[o](e),{c(){t=A("div"),n=A("div"),i.c(),this.h()},l(_){t=P(_,"DIV",{class:!0,"data-testid":!0});var h=L(t);n=P(h,"DIV",{class:!0});var g=L(n);i.l(g),g.forEach(k),h.forEach(k),this.h()},h(){v(n,"class",s="modal-transition "+e[21]),v(t,"class",u="modal-backdrop "+e[22]+" "+e[18]),v(t,"data-testid","modal-backdrop")},m(_,h){D(_,t,h),O(t,n),b[o].m(n,null),f=!0,c||(d=[W(t,"mousedown",e[24]),W(t,"mouseup",e[25]),W(t,"touchstart",e[42],{passive:!0}),W(t,"touchend",e[43],{passive:!0}),Wn(yo.call(null,t,!0))],c=!0)},p(_,h){e=_;let g=o;o=w(e),o===g?b[o].p(e,h):(lt(),M(b[g],1,1,()=>{b[g]=null}),rt(),i=b[o],i?i.p(e,h):(i=b[o]=m[o](e),i.c()),R(i,1),i.m(n,null)),(!f||h[0]&2097152&&s!==(s="modal-transition "+e[21]))&&v(n,"class",s),(!f||h[0]&4456448&&u!==(u="modal-backdrop "+e[22]+" "+e[18]))&&v(t,"class",u)},i(_){f||(R(i),Lt(()=>{f&&(a&&a.end(1),l=le(n,At,{transition:e[9],params:e[10],enabled:e[8]}),l.start())}),Lt(()=>{f&&(r||(r=xe(t,At,{transition:Zt,params:{duration:150},enabled:e[8]},!0)),r.run(1))}),f=!0)},o(_){M(i),l&&l.invalidate(),a=fn(n,At,{transition:e[11],params:e[12],enabled:e[8]}),r||(r=xe(t,At,{transition:Zt,params:{duration:150},enabled:e[8]},!1)),r.run(0),f=!1},d(_){_&&k(t),b[o].d(),_&&a&&a.end(),_&&r&&r.end(),c=!1,Wt(d)}}}function Fo(e){let t,n,o,i;Lt(e[44]);let s=e[14].length>0&&ze(e);return{c(){s&&s.c(),t=Y()},l(l){s&&s.l(l),t=Y()},m(l,a){s&&s.m(l,a),D(l,t,a),n=!0,o||(i=[W(window,"keydown",e[29]),W(window,"resize",e[44])],o=!0)},p(l,a){l[14].length>0?s?(s.p(l,a),a[0]&16384&&R(s,1)):(s=ze(l),s.c(),R(s,1),s.m(t.parentNode,t)):s&&(lt(),M(s,1,1,()=>{s=null}),rt())},i(l){n||(R(s),n=!0)},o(l){M(s),n=!1},d(l){l&&k(t),s&&s.d(l),o=!1,Wt(i)}}}const Vo="fixed top-0 left-0 right-0 bottom-0 bg-surface-backdrop-token p-4",zo="w-full h-fit min-h-full overflow-y-auto flex justify-center",Wo="block overflow-y-auto",Ho="w-full h-auto";function Uo(e,t,n){let o,i,s,l,a,u,r;at(e,un,p=>n(49,r=p));const f=zn();let{components:c={}}=t,{position:d="items-center"}=t,{background:m="bg-surface-100-800-token"}=t,{width:b="w-modal"}=t,{height:w="h-auto"}=t,{padding:_="p-4"}=t,{spacing:h="space-y-4"}=t,{rounded:g="rounded-container-token"}=t,{shadow:y="shadow-xl"}=t,{zIndex:S="z-[999]"}=t,{buttonNeutral:C="variant-ghost-surface"}=t,{buttonPositive:E="variant-filled"}=t,{buttonTextCancel:I="Cancel"}=t,{buttonTextConfirm:V="Confirm"}=t,{buttonTextSubmit:z="Submit"}=t,{regionBackdrop:B=""}=t,{regionHeader:j="text-2xl font-bold"}=t,{regionBody:N="max-h-[200px] overflow-hidden"}=t,{regionFooter:F="flex justify-end space-x-2"}=t,{transitions:x=!r}=t,{transitionIn:$=$t}=t,{transitionInParams:G={duration:150,opacity:0,x:0,y:100}}=t,{transitionOut:q=$t}=t,{transitionOutParams:X={duration:150,opacity:0,x:0,y:100}}=t,K;const kt={buttonTextCancel:I,buttonTextConfirm:V,buttonTextSubmit:z};let Yt,Nt=!1,vt,T,tt="overflow-y-hidden";const dt=oo();at(e,dt,p=>n(14,u=p));function On(p){p[0].type==="prompt"&&n(15,K=p[0].value),n(0,I=p[0].buttonTextCancel||kt.buttonTextCancel),n(1,V=p[0].buttonTextConfirm||kt.buttonTextConfirm),n(2,z=p[0].buttonTextSubmit||kt.buttonTextSubmit),n(16,Yt=typeof p[0].component=="string"?c[p[0].component]:p[0].component)}function En(p){var Ft;let Q=p==null?void 0:p.clientHeight;Q||(Q=(Ft=p==null?void 0:p.firstChild)==null?void 0:Ft.clientHeight),Q&&(Q>T?n(18,tt="overflow-y-auto"):n(18,tt="overflow-y-hidden"))}function Sn(p){if(!(p.target instanceof Element))return;const Q=p.target.classList;(Q.contains("modal-backdrop")||Q.contains("modal-transition"))&&(Nt=!0)}function An(p){if(!(p.target instanceof Element))return;const Q=p.target.classList;(Q.contains("modal-backdrop")||Q.contains("modal-transition"))&&Nt&&(u[0].response&&u[0].response(void 0),dt.close(),f("backdrop",p)),Nt=!1}function fe(){u[0].response&&u[0].response(!1),dt.close()}function Pn(){u[0].response&&u[0].response(!0),dt.close()}function Ln(p){p.preventDefault(),u[0].response&&(u[0].valueAttr!==void 0&&"type"in u[0].valueAttr&&u[0].valueAttr.type==="number"?u[0].response(parseInt(K)):u[0].response(K)),dt.close()}function Dn(p){u.length&&p.code==="Escape"&&fe()}function Rn(p){Se.call(this,e,p)}function In(p){Se.call(this,e,p)}function xn(){n(17,T=window.innerHeight)}function Bn(){K=this.value,n(15,K)}function Mn(p){Ae[p?"unshift":"push"](()=>{vt=p,n(13,vt)})}function Nn(p){Ae[p?"unshift":"push"](()=>{vt=p,n(13,vt)})}return e.$$set=p=>{n(54,t=ht(ht({},t),Qt(p))),"components"in p&&n(30,c=p.components),"position"in p&&n(31,d=p.position),"background"in p&&n(32,m=p.background),"width"in p&&n(33,b=p.width),"height"in p&&n(34,w=p.height),"padding"in p&&n(35,_=p.padding),"spacing"in p&&n(36,h=p.spacing),"rounded"in p&&n(37,g=p.rounded),"shadow"in p&&n(38,y=p.shadow),"zIndex"in p&&n(39,S=p.zIndex),"buttonNeutral"in p&&n(3,C=p.buttonNeutral),"buttonPositive"in p&&n(4,E=p.buttonPositive),"buttonTextCancel"in p&&n(0,I=p.buttonTextCancel),"buttonTextConfirm"in p&&n(1,V=p.buttonTextConfirm),"buttonTextSubmit"in p&&n(2,z=p.buttonTextSubmit),"regionBackdrop"in p&&n(40,B=p.regionBackdrop),"regionHeader"in p&&n(5,j=p.regionHeader),"regionBody"in p&&n(6,N=p.regionBody),"regionFooter"in p&&n(7,F=p.regionFooter),"transitions"in p&&n(8,x=p.transitions),"transitionIn"in p&&n(9,$=p.transitionIn),"transitionInParams"in p&&n(10,G=p.transitionInParams),"transitionOut"in p&&n(11,q=p.transitionOut),"transitionOutParams"in p&&n(12,X=p.transitionOutParams)},e.$$.update=()=>{var p,Q,Ft;e.$$.dirty[0]&16384&&u.length&&On(u),e.$$.dirty[0]&8192&&En(vt),e.$$.dirty[0]&16384|e.$$.dirty[1]&1&&n(41,o=((p=u[0])==null?void 0:p.position)??d),n(22,i=`${Vo} ${B} ${S} ${t.class??""} ${((Q=u[0])==null?void 0:Q.backdropClasses)??""}`),e.$$.dirty[1]&1024&&n(21,s=`${zo} ${o??""}`),e.$$.dirty[0]&16384|e.$$.dirty[1]&254&&n(20,l=`${Wo} ${m} ${b} ${w} ${_} ${h} ${g} ${y} ${((Ft=u[0])==null?void 0:Ft.modalClasses)??""}`),e.$$.dirty[0]&255|e.$$.dirty[1]&767&&n(19,a={position:d,background:m,width:b,height:w,padding:_,spacing:h,rounded:g,shadow:y,buttonNeutral:C,buttonPositive:E,buttonTextCancel:I,buttonTextConfirm:V,buttonTextSubmit:z,regionBackdrop:B,regionHeader:j,regionBody:N,regionFooter:F,onClose:fe})},t=Qt(t),[I,V,z,C,E,j,N,F,x,$,G,q,X,vt,u,K,Yt,T,tt,a,l,s,i,dt,Sn,An,fe,Pn,Ln,Dn,c,d,m,b,w,_,h,g,y,S,B,o,Rn,In,xn,Bn,Mn,Nn]}class jo extends jt{constructor(t){super(),Kt(this,t,Uo,Fo,xt,{components:30,position:31,background:32,width:33,height:34,padding:35,spacing:36,rounded:37,shadow:38,zIndex:39,buttonNeutral:3,buttonPositive:4,buttonTextCancel:0,buttonTextConfirm:1,buttonTextSubmit:2,regionBackdrop:40,regionHeader:5,regionBody:6,regionFooter:7,transitions:8,transitionIn:9,transitionInParams:10,transitionOut:11,transitionOutParams:12},null,[-1,-1])}}function Ke(e,t,n){const o=e.slice();return o[38]=t[n],o[40]=n,o}function qe(e){let t,n,o=[],i=new Map,s,l,a,u=ee(e[9]);const r=f=>f[38];for(let f=0;f<u.length;f+=1){let c=Ke(e,u,f),d=r(c);i.set(d,o[f]=Qe(d,c))}return{c(){t=A("div"),n=A("div");for(let f=0;f<o.length;f+=1)o[f].c();this.h()},l(f){t=P(f,"DIV",{class:!0,"data-testid":!0});var c=L(t);n=P(c,"DIV",{class:!0});var d=L(n);for(let m=0;m<o.length;m+=1)o[m].l(d);d.forEach(k),c.forEach(k),this.h()},h(){v(n,"class",s="snackbar "+e[13]),v(t,"class",l="snackbar-wrapper "+e[14]),v(t,"data-testid","snackbar-wrapper")},m(f,c){D(f,t,c),O(t,n);for(let d=0;d<o.length;d+=1)o[d]&&o[d].m(n,null);a=!0},p(f,c){if(c[0]&499615){u=ee(f[9]),lt();for(let d=0;d<o.length;d+=1)o[d].r();o=so(o,c,r,1,f,u,i,n,lo,Qe,null,Ke);for(let d=0;d<o.length;d+=1)o[d].a();rt()}(!a||c[0]&8192&&s!==(s="snackbar "+f[13]))&&v(n,"class",s),(!a||c[0]&16384&&l!==(l="snackbar-wrapper "+f[14]))&&v(t,"class",l)},i(f){if(!a){for(let c=0;c<u.length;c+=1)R(o[c]);a=!0}},o(f){for(let c=0;c<o.length;c+=1)M(o[c]);a=!1},d(f){f&&k(t);for(let c=0;c<o.length;c+=1)o[c].d()}}}function Ye(e){let t,n,o=e[38].action&&Ge(e),i=!e[38].hideDismiss&&Xe(e);return{c(){t=A("div"),o&&o.c(),n=H(),i&&i.c(),this.h()},l(s){t=P(s,"DIV",{class:!0});var l=L(t);o&&o.l(l),n=U(l),i&&i.l(l),l.forEach(k),this.h()},h(){v(t,"class","toast-actions "+Xo)},m(s,l){D(s,t,l),o&&o.m(t,null),O(t,n),i&&i.m(t,null)},p(s,l){s[38].action?o?o.p(s,l):(o=Ge(s),o.c(),o.m(t,n)):o&&(o.d(1),o=null),s[38].hideDismiss?i&&(i.d(1),i=null):i?i.p(s,l):(i=Xe(s),i.c(),i.m(t,null))},d(s){s&&k(t),o&&o.d(),i&&i.d()}}}function Ge(e){let t,n,o=e[38].action.label+"",i,s;function l(){return e[31](e[40])}return{c(){t=A("button"),n=new Ht(!1),this.h()},l(a){t=P(a,"BUTTON",{class:!0});var u=L(t);n=Ut(u,!1),u.forEach(k),this.h()},h(){n.a=null,v(t,"class",e[1])},m(a,u){D(a,t,u),n.m(o,t),i||(s=W(t,"click",l),i=!0)},p(a,u){e=a,u[0]&512&&o!==(o=e[38].action.label+"")&&n.p(o),u[0]&2&&v(t,"class",e[1])},d(a){a&&k(t),i=!1,s()}}}function Xe(e){let t,n,o,i;function s(){return e[32](e[38])}return{c(){t=A("button"),n=et(e[3]),this.h()},l(l){t=P(l,"BUTTON",{class:!0,"aria-label":!0});var a=L(t);n=nt(a,e[3]),a.forEach(k),this.h()},h(){v(t,"class",e[2]),v(t,"aria-label","Dismiss toast")},m(l,a){D(l,t,a),O(t,n),o||(i=W(t,"click",s),o=!0)},p(l,a){e=l,a[0]&8&&ot(n,e[3]),a[0]&4&&v(t,"class",e[2])},d(l){l&&k(t),o=!1,i()}}}function Qe(e,t){let n,o,i,s,l=t[38].message+"",a,u,r,f,c,d,m,b=J,w,_,h,g=(t[38].action||!t[38].hideDismiss)&&Ye(t);function y(){return t[34](t[40])}function S(){return t[35](t[40])}return{key:e,first:null,c(){n=A("div"),o=A("div"),i=A("div"),s=new Ht(!1),a=H(),g&&g.c(),r=H(),this.h()},l(C){n=P(C,"DIV",{role:!0,"aria-live":!0});var E=L(n);o=P(E,"DIV",{class:!0,"data-testid":!0});var I=L(o);i=P(I,"DIV",{class:!0});var V=L(i);s=Ut(V,!1),V.forEach(k),a=U(I),g&&g.l(I),I.forEach(k),r=U(E),E.forEach(k),this.h()},h(){s.a=null,v(i,"class","text-base"),v(o,"class",u="toast "+t[12]+" "+(t[38].background??t[0])+" "+(t[38].classes??"")),v(o,"data-testid","toast"),v(n,"role",f=t[38].hideDismiss?"alert":"alertdialog"),v(n,"aria-live","polite"),this.first=n},m(C,E){D(C,n,E),O(n,o),O(o,i),s.m(l,i),O(o,a),g&&g.m(o,null),O(n,r),w=!0,_||(h=[W(n,"outroend",t[33]),W(n,"mouseenter",y),W(n,"mouseleave",S)],_=!0)},p(C,E){t=C,(!w||E[0]&512)&&l!==(l=t[38].message+"")&&s.p(l),t[38].action||!t[38].hideDismiss?g?g.p(t,E):(g=Ye(t),g.c(),g.m(o,null)):g&&(g.d(1),g=null),(!w||E[0]&4609&&u!==(u="toast "+t[12]+" "+(t[38].background??t[0])+" "+(t[38].classes??"")))&&v(o,"class",u),(!w||E[0]&512&&f!==(f=t[38].hideDismiss?"alert":"alertdialog"))&&v(n,"role",f)},r(){m=n.getBoundingClientRect()},f(){Oo(n),b(),gn(n,m)},a(){b(),b=Co(n,m,Po,{duration:t[4]?250:0})},i(C){w||(Lt(()=>{w&&(d&&d.end(1),c=le(n,At,{transition:t[5],params:{x:t[10].x,y:t[10].y,...t[6]},enabled:t[4]}),c.start())}),w=!0)},o(C){c&&c.invalidate(),d=fn(n,At,{transition:t[7],params:{x:t[10].x,y:t[10].y,...t[8]},enabled:t[4]}),w=!1},d(C){C&&k(n),g&&g.d(),C&&d&&d.end(),_=!1,Wt(h)}}}function Ko(e){let t,n,o=(e[9].length>0||e[11])&&qe(e);return{c(){o&&o.c(),t=Y()},l(i){o&&o.l(i),t=Y()},m(i,s){o&&o.m(i,s),D(i,t,s),n=!0},p(i,s){i[9].length>0||i[11]?o?(o.p(i,s),s[0]&2560&&R(o,1)):(o=qe(i),o.c(),R(o,1),o.m(t.parentNode,t)):o&&(lt(),M(o,1,1,()=>{o=null}),rt())},i(i){n||(R(o),n=!0)},o(i){M(o),n=!1},d(i){i&&k(t),o&&o.d(i)}}}const qo="flex fixed top-0 left-0 right-0 bottom-0 pointer-events-none",Yo="flex flex-col gap-y-2",Go="flex justify-between items-center pointer-events-auto",Xo="flex items-center space-x-2";function Qo(e,t,n){let o,i,s,l,a,u;at(e,un,T=>n(36,u=T));const r=io();at(e,r,T=>n(30,a=T));let{position:f="b"}=t,{max:c=3}=t,{background:d="variant-filled-secondary"}=t,{width:m="max-w-[640px]"}=t,{color:b=""}=t,{padding:w="p-4"}=t,{spacing:_="space-x-4"}=t,{rounded:h="rounded-container-token"}=t,{shadow:g="shadow-lg"}=t,{zIndex:y="z-[888]"}=t,{buttonAction:S="btn variant-filled"}=t,{buttonDismiss:C="btn-icon btn-icon-sm variant-filled"}=t,{buttonDismissLabel:E="âœ•"}=t,{transitions:I=!u}=t,{transitionIn:V=$t}=t,{transitionInParams:z={duration:250}}=t,{transitionOut:B=$t}=t,{transitionOutParams:j={duration:250}}=t,N,F,x={x:0,y:0};switch(f){case"t":N="justify-center items-start",F="items-center",x={x:0,y:-100};break;case"b":N="justify-center items-end",F="items-center",x={x:0,y:100};break;case"l":N="justify-start items-center",F="items-start",x={x:-100,y:0};break;case"r":N="justify-end items-center",F="items-end",x={x:100,y:0};break;case"tl":N="justify-start items-start",F="items-start",x={x:-100,y:0};break;case"tr":N="justify-end items-start",F="items-end",x={x:100,y:0};break;case"bl":N="justify-start items-end",F="items-start",x={x:-100,y:0};break;case"br":N="justify-end items-end",F="items-end",x={x:100,y:0};break}function $(T){var tt,dt;(dt=(tt=a[T])==null?void 0:tt.action)==null||dt.response(),r.close(a[T].id)}function G(T){var tt;(tt=a[T])!=null&&tt.hoverable&&(r.freeze(T),n(13,i+=" scale-[105%]"))}function q(T){var tt;(tt=a[T])!=null&&tt.hoverable&&(r.unfreeze(T),n(13,i=i.replace(" scale-[105%]","")))}let X=!1;const K=T=>$(T),kt=T=>r.close(T.id),Yt=()=>{l.length===0&&n(11,X=!1)},Nt=T=>G(T),vt=T=>q(T);return e.$$set=T=>{n(37,t=ht(ht({},t),Qt(T))),"position"in T&&n(19,f=T.position),"max"in T&&n(20,c=T.max),"background"in T&&n(0,d=T.background),"width"in T&&n(21,m=T.width),"color"in T&&n(22,b=T.color),"padding"in T&&n(23,w=T.padding),"spacing"in T&&n(24,_=T.spacing),"rounded"in T&&n(25,h=T.rounded),"shadow"in T&&n(26,g=T.shadow),"zIndex"in T&&n(27,y=T.zIndex),"buttonAction"in T&&n(1,S=T.buttonAction),"buttonDismiss"in T&&n(2,C=T.buttonDismiss),"buttonDismissLabel"in T&&n(3,E=T.buttonDismissLabel),"transitions"in T&&n(4,I=T.transitions),"transitionIn"in T&&n(5,V=T.transitionIn),"transitionInParams"in T&&n(6,z=T.transitionInParams),"transitionOut"in T&&n(7,B=T.transitionOut),"transitionOutParams"in T&&n(8,j=T.transitionOutParams)},e.$$.update=()=>{n(14,o=`${qo} ${N} ${y} ${t.class||""}`),e.$$.dirty[0]&545259520&&n(13,i=`${Yo} ${F} ${w}`),e.$$.dirty[0]&132120576&&n(12,s=`${Go} ${m} ${b} ${w} ${_} ${h} ${g}`),e.$$.dirty[0]&1074790400&&n(9,l=Array.from(a).slice(0,c)),e.$$.dirty[0]&512&&l.length&&n(11,X=!0)},t=Qt(t),[d,S,C,E,I,V,z,B,j,l,x,X,s,i,o,r,$,G,q,f,c,m,b,w,_,h,g,y,N,F,a,K,kt,Yt,Nt,vt]}class Jo extends jt{constructor(t){super(),Kt(this,t,Qo,Ko,xt,{position:19,max:20,background:0,width:21,color:22,padding:23,spacing:24,rounded:25,shadow:26,zIndex:27,buttonAction:1,buttonDismiss:2,buttonDismissLabel:3,transitions:4,transitionIn:5,transitionInParams:6,transitionOut:7,transitionOutParams:8},null,[-1,-1])}}function Zo(){var e,t;return!!(globalThis.window&&((t=(e=window==null?void 0:window.crypto)==null?void 0:e.subtle)!=null&&t.importKey))}function $o(e){let t=new TextEncoder;return window.crypto.subtle.importKey("raw",t.encode(e),{name:"PBKDF2"},!1,["deriveBits","deriveKey"])}function ti(e,t){return window.crypto.subtle.deriveKey({name:"PBKDF2",salt:t,iterations:1e5,hash:"SHA-256"},e,{name:"AES-GCM",length:256},!0,["encrypt","decrypt"])}async function ei(e,t,n,o){dn("decrypting",e,t,n,o);const i=he(e),s=he(t),l=he(n);let a=await $o(o),u=await ti(a,s);try{let r=await window.crypto.subtle.decrypt({name:"AES-GCM",iv:l},u,i);return ro(r)}catch(r){ao("Failed to decrypt",r)}}const Je=[255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,62,255,255,255,63,52,53,54,55,56,57,58,59,60,61,255,255,255,0,255,255,255,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,255,255,255,255,255,255,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51];function Gt(e){if(e>=Je.length)throw new Error("Unable to parse base64 string.");const t=Je[e];if(t===255)throw new Error("Unable to parse base64 string.");return t}function he(e){if(e.length%4!==0)throw new Error("Unable to parse base64 string.");const t=e.indexOf("=");if(t!==-1&&t<e.length-2)throw new Error("Unable to parse base64 string.");let n=e.endsWith("==")?2:e.endsWith("=")?1:0,o=e.length,i=new Uint8Array(3*(o/4)),s;for(let l=0,a=0;l<o;l+=4,a+=3)s=Gt(e.charCodeAt(l))<<18|Gt(e.charCodeAt(l+1))<<12|Gt(e.charCodeAt(l+2))<<6|Gt(e.charCodeAt(l+3)),i[a]=s>>16,i[a+1]=s>>8&255,i[a+2]=s&255;return i.subarray(0,i.length-n)}const ni=["top","right","bottom","left"],Ze=["start","end"],$e=ni.reduce((e,t)=>e.concat(t,t+"-"+Ze[0],t+"-"+Ze[1]),[]),Dt=Math.min,Tt=Math.max,ne=Math.round,Xt=Math.floor,wt=e=>({x:e,y:e}),oi={left:"right",right:"left",bottom:"top",top:"bottom"},ii={start:"end",end:"start"};function _e(e,t,n){return Tt(e,Dt(t,n))}function Bt(e,t){return typeof e=="function"?e(t):e}function _t(e){return e.split("-")[0]}function ct(e){return e.split("-")[1]}function bn(e){return e==="x"?"y":"x"}function ye(e){return e==="y"?"height":"width"}function Rt(e){return["top","bottom"].includes(_t(e))?"y":"x"}function ke(e){return bn(Rt(e))}function pn(e,t,n){n===void 0&&(n=!1);const o=ct(e),i=ke(e),s=ye(i);let l=i==="x"?o===(n?"end":"start")?"right":"left":o==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(l=ie(l)),[l,ie(l)]}function si(e){const t=ie(e);return[oe(e),t,oe(t)]}function oe(e){return e.replace(/start|end/g,t=>ii[t])}function li(e,t,n){const o=["left","right"],i=["right","left"],s=["top","bottom"],l=["bottom","top"];switch(e){case"top":case"bottom":return n?t?i:o:t?o:i;case"left":case"right":return t?s:l;default:return[]}}function ri(e,t,n,o){const i=ct(e);let s=li(_t(e),n==="start",o);return i&&(s=s.map(l=>l+"-"+i),t&&(s=s.concat(s.map(oe)))),s}function ie(e){return e.replace(/left|right|bottom|top/g,t=>oi[t])}function ai(e){return{top:0,right:0,bottom:0,left:0,...e}}function _n(e){return typeof e!="number"?ai(e):{top:e,right:e,bottom:e,left:e}}function se(e){const{x:t,y:n,width:o,height:i}=e;return{width:o,height:i,top:n,left:t,right:t+o,bottom:n+i,x:t,y:n}}function tn(e,t,n){let{reference:o,floating:i}=e;const s=Rt(t),l=ke(t),a=ye(l),u=_t(t),r=s==="y",f=o.x+o.width/2-i.width/2,c=o.y+o.height/2-i.height/2,d=o[a]/2-i[a]/2;let m;switch(u){case"top":m={x:f,y:o.y-i.height};break;case"bottom":m={x:f,y:o.y+o.height};break;case"right":m={x:o.x+o.width,y:c};break;case"left":m={x:o.x-i.width,y:c};break;default:m={x:o.x,y:o.y}}switch(ct(t)){case"start":m[l]-=d*(n&&r?-1:1);break;case"end":m[l]+=d*(n&&r?-1:1);break}return m}const ci=async(e,t,n)=>{const{placement:o="bottom",strategy:i="absolute",middleware:s=[],platform:l}=n,a=s.filter(Boolean),u=await(l.isRTL==null?void 0:l.isRTL(t));let r=await l.getElementRects({reference:e,floating:t,strategy:i}),{x:f,y:c}=tn(r,o,u),d=o,m={},b=0;for(let w=0;w<a.length;w++){const{name:_,fn:h}=a[w],{x:g,y,data:S,reset:C}=await h({x:f,y:c,initialPlacement:o,placement:d,strategy:i,middlewareData:m,rects:r,platform:l,elements:{reference:e,floating:t}});f=g??f,c=y??c,m={...m,[_]:{...m[_],...S}},C&&b<=50&&(b++,typeof C=="object"&&(C.placement&&(d=C.placement),C.rects&&(r=C.rects===!0?await l.getElementRects({reference:e,floating:t,strategy:i}):C.rects),{x:f,y:c}=tn(r,d,u)),w=-1)}return{x:f,y:c,placement:d,strategy:i,middlewareData:m}};async function Te(e,t){var n;t===void 0&&(t={});const{x:o,y:i,platform:s,rects:l,elements:a,strategy:u}=e,{boundary:r="clippingAncestors",rootBoundary:f="viewport",elementContext:c="floating",altBoundary:d=!1,padding:m=0}=Bt(t,e),b=_n(m),_=a[d?c==="floating"?"reference":"floating":c],h=se(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(_)))==null||n?_:_.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:r,rootBoundary:f,strategy:u})),g=c==="floating"?{x:o,y:i,width:l.floating.width,height:l.floating.height}:l.reference,y=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),S=await(s.isElement==null?void 0:s.isElement(y))?await(s.getScale==null?void 0:s.getScale(y))||{x:1,y:1}:{x:1,y:1},C=se(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:g,offsetParent:y,strategy:u}):g);return{top:(h.top-C.top+b.top)/S.y,bottom:(C.bottom-h.bottom+b.bottom)/S.y,left:(h.left-C.left+b.left)/S.x,right:(C.right-h.right+b.right)/S.x}}const fi=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:o,placement:i,rects:s,platform:l,elements:a,middlewareData:u}=t,{element:r,padding:f=0}=Bt(e,t)||{};if(r==null)return{};const c=_n(f),d={x:n,y:o},m=ke(i),b=ye(m),w=await l.getDimensions(r),_=m==="y",h=_?"top":"left",g=_?"bottom":"right",y=_?"clientHeight":"clientWidth",S=s.reference[b]+s.reference[m]-d[m]-s.floating[b],C=d[m]-s.reference[m],E=await(l.getOffsetParent==null?void 0:l.getOffsetParent(r));let I=E?E[y]:0;(!I||!await(l.isElement==null?void 0:l.isElement(E)))&&(I=a.floating[y]||s.floating[b]);const V=S/2-C/2,z=I/2-w[b]/2-1,B=Dt(c[h],z),j=Dt(c[g],z),N=B,F=I-w[b]-j,x=I/2-w[b]/2+V,$=_e(N,x,F),G=!u.arrow&&ct(i)!=null&&x!==$&&s.reference[b]/2-(x<N?B:j)-w[b]/2<0,q=G?x<N?x-N:x-F:0;return{[m]:d[m]+q,data:{[m]:$,centerOffset:x-$-q,...G&&{alignmentOffset:q}},reset:G}}});function ui(e,t,n){return(e?[...n.filter(i=>ct(i)===e),...n.filter(i=>ct(i)!==e)]:n.filter(i=>_t(i)===i)).filter(i=>e?ct(i)===e||(t?oe(i)!==i:!1):!0)}const di=function(e){return e===void 0&&(e={}),{name:"autoPlacement",options:e,async fn(t){var n,o,i;const{rects:s,middlewareData:l,placement:a,platform:u,elements:r}=t,{crossAxis:f=!1,alignment:c,allowedPlacements:d=$e,autoAlignment:m=!0,...b}=Bt(e,t),w=c!==void 0||d===$e?ui(c||null,m,d):d,_=await Te(t,b),h=((n=l.autoPlacement)==null?void 0:n.index)||0,g=w[h];if(g==null)return{};const y=pn(g,s,await(u.isRTL==null?void 0:u.isRTL(r.floating)));if(a!==g)return{reset:{placement:w[0]}};const S=[_[_t(g)],_[y[0]],_[y[1]]],C=[...((o=l.autoPlacement)==null?void 0:o.overflows)||[],{placement:g,overflows:S}],E=w[h+1];if(E)return{data:{index:h+1,overflows:C},reset:{placement:E}};const I=C.map(B=>{const j=ct(B.placement);return[B.placement,j&&f?B.overflows.slice(0,2).reduce((N,F)=>N+F,0):B.overflows[0],B.overflows]}).sort((B,j)=>B[1]-j[1]),z=((i=I.filter(B=>B[2].slice(0,ct(B[0])?2:3).every(j=>j<=0))[0])==null?void 0:i[0])||I[0][0];return z!==a?{data:{index:h+1,overflows:C},reset:{placement:z}}:{}}}},mi=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,o;const{placement:i,middlewareData:s,rects:l,initialPlacement:a,platform:u,elements:r}=t,{mainAxis:f=!0,crossAxis:c=!0,fallbackPlacements:d,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:w=!0,..._}=Bt(e,t);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const h=_t(i),g=Rt(a),y=_t(a)===a,S=await(u.isRTL==null?void 0:u.isRTL(r.floating)),C=d||(y||!w?[ie(a)]:si(a)),E=b!=="none";!d&&E&&C.push(...ri(a,w,b,S));const I=[a,...C],V=await Te(t,_),z=[];let B=((o=s.flip)==null?void 0:o.overflows)||[];if(f&&z.push(V[h]),c){const x=pn(i,l,S);z.push(V[x[0]],V[x[1]])}if(B=[...B,{placement:i,overflows:z}],!z.every(x=>x<=0)){var j,N;const x=(((j=s.flip)==null?void 0:j.index)||0)+1,$=I[x];if($)return{data:{index:x,overflows:B},reset:{placement:$}};let G=(N=B.filter(q=>q.overflows[0]<=0).sort((q,X)=>q.overflows[1]-X.overflows[1])[0])==null?void 0:N.placement;if(!G)switch(m){case"bestFit":{var F;const q=(F=B.filter(X=>{if(E){const K=Rt(X.placement);return K===g||K==="y"}return!0}).map(X=>[X.placement,X.overflows.filter(K=>K>0).reduce((K,kt)=>K+kt,0)]).sort((X,K)=>X[1]-K[1])[0])==null?void 0:F[0];q&&(G=q);break}case"initialPlacement":G=a;break}if(i!==G)return{reset:{placement:G}}}return{}}}};async function hi(e,t){const{placement:n,platform:o,elements:i}=e,s=await(o.isRTL==null?void 0:o.isRTL(i.floating)),l=_t(n),a=ct(n),u=Rt(n)==="y",r=["left","top"].includes(l)?-1:1,f=s&&u?-1:1,c=Bt(t,e);let{mainAxis:d,crossAxis:m,alignmentAxis:b}=typeof c=="number"?{mainAxis:c,crossAxis:0,alignmentAxis:null}:{mainAxis:c.mainAxis||0,crossAxis:c.crossAxis||0,alignmentAxis:c.alignmentAxis};return a&&typeof b=="number"&&(m=a==="end"?b*-1:b),u?{x:m*f,y:d*r}:{x:d*r,y:m*f}}const gi=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,o;const{x:i,y:s,placement:l,middlewareData:a}=t,u=await hi(t,e);return l===((n=a.offset)==null?void 0:n.placement)&&(o=a.arrow)!=null&&o.alignmentOffset?{}:{x:i+u.x,y:s+u.y,data:{...u,placement:l}}}}},bi=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:o,placement:i}=t,{mainAxis:s=!0,crossAxis:l=!1,limiter:a={fn:_=>{let{x:h,y:g}=_;return{x:h,y:g}}},...u}=Bt(e,t),r={x:n,y:o},f=await Te(t,u),c=Rt(_t(i)),d=bn(c);let m=r[d],b=r[c];if(s){const _=d==="y"?"top":"left",h=d==="y"?"bottom":"right",g=m+f[_],y=m-f[h];m=_e(g,m,y)}if(l){const _=c==="y"?"top":"left",h=c==="y"?"bottom":"right",g=b+f[_],y=b-f[h];b=_e(g,b,y)}const w=a.fn({...t,[d]:m,[c]:b});return{...w,data:{x:w.x-n,y:w.y-o,enabled:{[d]:s,[c]:l}}}}}};function re(){return typeof window<"u"}function Mt(e){return vn(e)?(e.nodeName||"").toLowerCase():"#document"}function Z(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function ut(e){var t;return(t=(vn(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function vn(e){return re()?e instanceof Node||e instanceof Z(e).Node:!1}function it(e){return re()?e instanceof Element||e instanceof Z(e).Element:!1}function ft(e){return re()?e instanceof HTMLElement||e instanceof Z(e).HTMLElement:!1}function en(e){return!re()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Z(e).ShadowRoot}function qt(e){const{overflow:t,overflowX:n,overflowY:o,display:i}=st(e);return/auto|scroll|overlay|hidden|clip/.test(t+o+n)&&!["inline","contents"].includes(i)}function pi(e){return["table","td","th"].includes(Mt(e))}function ae(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function Ce(e){const t=Oe(),n=it(e)?st(e):e;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(o=>(n.willChange||"").includes(o))||["paint","layout","strict","content"].some(o=>(n.contain||"").includes(o))}function _i(e){let t=yt(e);for(;ft(t)&&!It(t);){if(Ce(t))return t;if(ae(t))return null;t=yt(t)}return null}function Oe(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function It(e){return["html","body","#document"].includes(Mt(e))}function st(e){return Z(e).getComputedStyle(e)}function ce(e){return it(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function yt(e){if(Mt(e)==="html")return e;const t=e.assignedSlot||e.parentNode||en(e)&&e.host||ut(e);return en(t)?t.host:t}function wn(e){const t=yt(e);return It(t)?e.ownerDocument?e.ownerDocument.body:e.body:ft(t)&&qt(t)?t:wn(t)}function zt(e,t,n){var o;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=wn(e),s=i===((o=e.ownerDocument)==null?void 0:o.body),l=Z(i);if(s){const a=ve(l);return t.concat(l,l.visualViewport||[],qt(i)?i:[],a&&n?zt(a):[])}return t.concat(i,zt(i,[],n))}function ve(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function yn(e){const t=st(e);let n=parseFloat(t.width)||0,o=parseFloat(t.height)||0;const i=ft(e),s=i?e.offsetWidth:n,l=i?e.offsetHeight:o,a=ne(n)!==s||ne(o)!==l;return a&&(n=s,o=l),{width:n,height:o,$:a}}function Ee(e){return it(e)?e:e.contextElement}function Pt(e){const t=Ee(e);if(!ft(t))return wt(1);const n=t.getBoundingClientRect(),{width:o,height:i,$:s}=yn(t);let l=(s?ne(n.width):n.width)/o,a=(s?ne(n.height):n.height)/i;return(!l||!Number.isFinite(l))&&(l=1),(!a||!Number.isFinite(a))&&(a=1),{x:l,y:a}}const vi=wt(0);function kn(e){const t=Z(e);return!Oe()||!t.visualViewport?vi:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function wi(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Z(e)?!1:t}function Ot(e,t,n,o){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),s=Ee(e);let l=wt(1);t&&(o?it(o)&&(l=Pt(o)):l=Pt(e));const a=wi(s,n,o)?kn(s):wt(0);let u=(i.left+a.x)/l.x,r=(i.top+a.y)/l.y,f=i.width/l.x,c=i.height/l.y;if(s){const d=Z(s),m=o&&it(o)?Z(o):o;let b=d,w=ve(b);for(;w&&o&&m!==b;){const _=Pt(w),h=w.getBoundingClientRect(),g=st(w),y=h.left+(w.clientLeft+parseFloat(g.paddingLeft))*_.x,S=h.top+(w.clientTop+parseFloat(g.paddingTop))*_.y;u*=_.x,r*=_.y,f*=_.x,c*=_.y,u+=y,r+=S,b=Z(w),w=ve(b)}}return se({width:f,height:c,x:u,y:r})}function yi(e){let{elements:t,rect:n,offsetParent:o,strategy:i}=e;const s=i==="fixed",l=ut(o),a=t?ae(t.floating):!1;if(o===l||a&&s)return n;let u={scrollLeft:0,scrollTop:0},r=wt(1);const f=wt(0),c=ft(o);if((c||!c&&!s)&&((Mt(o)!=="body"||qt(l))&&(u=ce(o)),ft(o))){const d=Ot(o);r=Pt(o),f.x=d.x+o.clientLeft,f.y=d.y+o.clientTop}return{width:n.width*r.x,height:n.height*r.y,x:n.x*r.x-u.scrollLeft*r.x+f.x,y:n.y*r.y-u.scrollTop*r.y+f.y}}function ki(e){return Array.from(e.getClientRects())}function we(e,t){const n=ce(e).scrollLeft;return t?t.left+n:Ot(ut(e)).left+n}function Ti(e){const t=ut(e),n=ce(e),o=e.ownerDocument.body,i=Tt(t.scrollWidth,t.clientWidth,o.scrollWidth,o.clientWidth),s=Tt(t.scrollHeight,t.clientHeight,o.scrollHeight,o.clientHeight);let l=-n.scrollLeft+we(e);const a=-n.scrollTop;return st(o).direction==="rtl"&&(l+=Tt(t.clientWidth,o.clientWidth)-i),{width:i,height:s,x:l,y:a}}function Ci(e,t){const n=Z(e),o=ut(e),i=n.visualViewport;let s=o.clientWidth,l=o.clientHeight,a=0,u=0;if(i){s=i.width,l=i.height;const r=Oe();(!r||r&&t==="fixed")&&(a=i.offsetLeft,u=i.offsetTop)}return{width:s,height:l,x:a,y:u}}function Oi(e,t){const n=Ot(e,!0,t==="fixed"),o=n.top+e.clientTop,i=n.left+e.clientLeft,s=ft(e)?Pt(e):wt(1),l=e.clientWidth*s.x,a=e.clientHeight*s.y,u=i*s.x,r=o*s.y;return{width:l,height:a,x:u,y:r}}function nn(e,t,n){let o;if(t==="viewport")o=Ci(e,n);else if(t==="document")o=Ti(ut(e));else if(it(t))o=Oi(t,n);else{const i=kn(e);o={...t,x:t.x-i.x,y:t.y-i.y}}return se(o)}function Tn(e,t){const n=yt(e);return n===t||!it(n)||It(n)?!1:st(n).position==="fixed"||Tn(n,t)}function Ei(e,t){const n=t.get(e);if(n)return n;let o=zt(e,[],!1).filter(a=>it(a)&&Mt(a)!=="body"),i=null;const s=st(e).position==="fixed";let l=s?yt(e):e;for(;it(l)&&!It(l);){const a=st(l),u=Ce(l);!u&&a.position==="fixed"&&(i=null),(s?!u&&!i:!u&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||qt(l)&&!u&&Tn(e,l))?o=o.filter(f=>f!==l):i=a,l=yt(l)}return t.set(e,o),o}function Si(e){let{element:t,boundary:n,rootBoundary:o,strategy:i}=e;const l=[...n==="clippingAncestors"?ae(t)?[]:Ei(t,this._c):[].concat(n),o],a=l[0],u=l.reduce((r,f)=>{const c=nn(t,f,i);return r.top=Tt(c.top,r.top),r.right=Dt(c.right,r.right),r.bottom=Dt(c.bottom,r.bottom),r.left=Tt(c.left,r.left),r},nn(t,a,i));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function Ai(e){const{width:t,height:n}=yn(e);return{width:t,height:n}}function Pi(e,t,n){const o=ft(t),i=ut(t),s=n==="fixed",l=Ot(e,!0,s,t);let a={scrollLeft:0,scrollTop:0};const u=wt(0);if(o||!o&&!s)if((Mt(t)!=="body"||qt(i))&&(a=ce(t)),o){const m=Ot(t,!0,s,t);u.x=m.x+t.clientLeft,u.y=m.y+t.clientTop}else i&&(u.x=we(i));let r=0,f=0;if(i&&!o&&!s){const m=i.getBoundingClientRect();f=m.top+a.scrollTop,r=m.left+a.scrollLeft-we(i,m)}const c=l.left+a.scrollLeft-u.x-r,d=l.top+a.scrollTop-u.y-f;return{x:c,y:d,width:l.width,height:l.height}}function ge(e){return st(e).position==="static"}function on(e,t){if(!ft(e)||st(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return ut(e)===n&&(n=n.ownerDocument.body),n}function Cn(e,t){const n=Z(e);if(ae(e))return n;if(!ft(e)){let i=yt(e);for(;i&&!It(i);){if(it(i)&&!ge(i))return i;i=yt(i)}return n}let o=on(e,t);for(;o&&pi(o)&&ge(o);)o=on(o,t);return o&&It(o)&&ge(o)&&!Ce(o)?n:o||_i(e)||n}const Li=async function(e){const t=this.getOffsetParent||Cn,n=this.getDimensions,o=await n(e.floating);return{reference:Pi(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:o.width,height:o.height}}};function Di(e){return st(e).direction==="rtl"}const Ri={convertOffsetParentRelativeRectToViewportRelativeRect:yi,getDocumentElement:ut,getClippingRect:Si,getOffsetParent:Cn,getElementRects:Li,getClientRects:ki,getDimensions:Ai,getScale:Pt,isElement:it,isRTL:Di};function Ii(e,t){let n=null,o;const i=ut(e);function s(){var a;clearTimeout(o),(a=n)==null||a.disconnect(),n=null}function l(a,u){a===void 0&&(a=!1),u===void 0&&(u=1),s();const{left:r,top:f,width:c,height:d}=e.getBoundingClientRect();if(a||t(),!c||!d)return;const m=Xt(f),b=Xt(i.clientWidth-(r+c)),w=Xt(i.clientHeight-(f+d)),_=Xt(r),g={rootMargin:-m+"px "+-b+"px "+-w+"px "+-_+"px",threshold:Tt(0,Dt(1,u))||1};let y=!0;function S(C){const E=C[0].intersectionRatio;if(E!==u){if(!y)return l();E?l(!1,E):o=setTimeout(()=>{l(!1,1e-7)},1e3)}y=!1}try{n=new IntersectionObserver(S,{...g,root:i.ownerDocument})}catch{n=new IntersectionObserver(S,g)}n.observe(e)}return l(!0),s}function xi(e,t,n,o){o===void 0&&(o={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:u=!1}=o,r=Ee(e),f=i||s?[...r?zt(r):[],...zt(t)]:[];f.forEach(h=>{i&&h.addEventListener("scroll",n,{passive:!0}),s&&h.addEventListener("resize",n)});const c=r&&a?Ii(r,n):null;let d=-1,m=null;l&&(m=new ResizeObserver(h=>{let[g]=h;g&&g.target===r&&m&&(m.unobserve(t),cancelAnimationFrame(d),d=requestAnimationFrame(()=>{var y;(y=m)==null||y.observe(t)})),n()}),r&&!u&&m.observe(r),m.observe(t));let b,w=u?Ot(e):null;u&&_();function _(){const h=Ot(e);w&&(h.x!==w.x||h.y!==w.y||h.width!==w.width||h.height!==w.height)&&n(),w=h,b=requestAnimationFrame(_)}return n(),()=>{var h;f.forEach(g=>{i&&g.removeEventListener("scroll",n),s&&g.removeEventListener("resize",n)}),c==null||c(),(h=m)==null||h.disconnect(),m=null,u&&cancelAnimationFrame(b)}}const Bi=gi,Mi=di,Ni=bi,Fi=mi,Vi=fi,zi=(e,t,n)=>{const o=new Map,i={platform:Ri,...n},s={...i.platform,_c:o};return ci(e,t,{...i,platform:s})};function sn(e,t,n){const o=e.slice();return o[14]=t[n],o}function Wi(e){let t,n,o,i,s,l,a,u=(e[4]||"...")+"",r,f,c,d,m=e[1]?"Disconnect":"Connect",b,w,_,h;return{c(){t=A("span"),n=A("p"),o=et(e[0]),i=H(),s=A("p"),l=et("You Are: "),a=A("span"),r=et(u),f=H(),c=A("button"),d=A("span"),b=et(m),this.h()},l(g){t=P(g,"SPAN",{class:!0});var y=L(t);n=P(y,"P",{class:!0});var S=L(n);o=nt(S,e[0]),S.forEach(k),i=U(y),s=P(y,"P",{class:!0});var C=L(s);l=nt(C,"You Are: "),a=P(C,"SPAN",{class:!0});var E=L(a);r=nt(E,u),E.forEach(k),C.forEach(k),y.forEach(k),f=U(g),c=P(g,"BUTTON",{class:!0});var I=L(c);d=P(I,"SPAN",{class:!0});var V=L(d);b=nt(V,m),V.forEach(k),I.forEach(k),this.h()},h(){v(n,"class","m-0 p-0 font-bold"),v(a,"class","font-bold"),v(s,"class","m-0 p-0 text-primary-200"),v(t,"class","px-3 align-middle text-right text-white"),v(d,"class","whitespace-nowrap inline"),v(c,"class","btn mr-3 btn-md variant-filled-error align-top pointer-events-auto")},m(g,y){D(g,t,y),O(t,n),O(n,o),O(t,i),O(t,s),O(s,l),O(s,a),O(a,r),D(g,f,y),D(g,c,y),O(c,d),O(d,b),_||(h=W(c,"click",e[13]),_=!0)},p(g,y){y&1&&ot(o,g[0]),y&16&&u!==(u=(g[4]||"...")+"")&&ot(r,u),y&2&&m!==(m=g[1]?"Disconnect":"Connect")&&ot(b,m)},i(g){g&&(w||Lt(()=>{w=le(c,Zt,{}),w.start()}))},o:J,d(g){g&&(k(t),k(f),k(c)),_=!1,h()}}}function Hi(e){let t,n="Connect to a ROV:",o,i,s,l=ee(e[3]),a=[];for(let r=0;r<l.length;r+=1)a[r]=ln(sn(e,l,r));const u=r=>M(a[r],1,1,()=>{a[r]=null});return{c(){t=A("h2"),t.textContent=n,o=H(),i=A("div");for(let r=0;r<a.length;r+=1)a[r].c();this.h()},l(r){t=P(r,"H2",{class:!0,"data-svelte-h":!0}),cn(t)!=="svelte-1tnk2i1"&&(t.textContent=n),o=U(r),i=P(r,"DIV",{class:!0});var f=L(i);for(let c=0;c<a.length;c+=1)a[c].l(f);f.forEach(k),this.h()},h(){v(t,"class","text-center py-4 px-6 font-bold"),v(i,"class","flex flex-col align-stretch overflow-y-auto w-full p-3 pt-0")},m(r,f){D(r,t,f),D(r,o,f),D(r,i,f);for(let c=0;c<a.length;c+=1)a[c]&&a[c].m(i,null);s=!0},p(r,f){if(f&776){l=ee(r[3]);let c;for(c=0;c<l.length;c+=1){const d=sn(r,l,c);a[c]?(a[c].p(d,f),R(a[c],1)):(a[c]=ln(d),a[c].c(),R(a[c],1),a[c].m(i,null))}for(lt(),c=l.length;c<a.length;c+=1)u(c);rt()}},i(r){if(!s){for(let f=0;f<l.length;f+=1)R(a[f]);s=!0}},o(r){a=a.filter(Boolean);for(let f=0;f<a.length;f+=1)M(a[f]);s=!1},d(r){r&&(k(t),k(o),k(i)),Hn(a,r)}}}function Ui(e){let t,n="Searching for online ROVs...";return{c(){t=A("h2"),t.textContent=n,this.h()},l(o){t=P(o,"H2",{class:!0,"data-svelte-h":!0}),cn(t)!=="svelte-15o12co"&&(t.textContent=n),this.h()},h(){v(t,"class","text-center py-4 px-6 font-bold")},m(o,i){D(o,t,i)},p:J,i:J,o:J,d(o){o&&k(t)}}}function ln(e){let t,n=e[14].name+"",o,i,s,l,a,u,r,f,c;s=new ko({props:{variant:"round",class:"text-2xl inline-block pointer-events-none",tabindex:"-1"}});function d(){return e[12](e[14])}return{c(){t=A("button"),o=et(n),i=H(),gt(s.$$.fragment),l=H(),this.h()},l(m){t=P(m,"BUTTON",{class:!0});var b=L(t);o=nt(b,n),i=U(b),Ct(s.$$.fragment,b),l=U(b),b.forEach(k),this.h()},h(){t.disabled=a=!e[9](e[14].token),v(t,"class","btn ring-white variant-filled-primary align-top block m-1 pointer-events-auto")},m(m,b){D(m,t,b),O(t,o),O(t,i),bt(s,t,null),O(t,l),r=!0,f||(c=W(t,"click",d),f=!0)},p(m,b){e=m,(!r||b&8)&&n!==(n=e[14].name+"")&&ot(o,n),(!r||b&8&&a!==(a=!e[9](e[14].token)))&&(t.disabled=a)},i(m){r||(R(s.$$.fragment,m),m&&(u||Lt(()=>{u=le(t,Zt,{}),u.start()})),r=!0)},o(m){M(s.$$.fragment,m),r=!1},d(m){m&&k(t),pt(s),f=!1,c()}}}function ji(e){let t,n,o,i,s,l,a;const u=[Ui,Hi,Wi],r=[];function f(c,d){return c[3].length==0?0:c[1]?2:1}return o=f(e),i=r[o]=u[o](e),{c(){t=A("div"),n=A("div"),i.c(),this.h()},l(c){t=P(c,"DIV",{id:!0,class:!0});var d=L(t);n=P(d,"DIV",{class:!0});var m=L(n);i.l(m),m.forEach(k),d.forEach(k),this.h()},h(){v(n,"class",s=`border-2 border-surface-500 m-0 items-center flex whitespace-nowrap text-center rounded-xl max-h-full  ${e[1]?"rounded-b-none border-b-0 bg-surface-100-800-token":"flex-col shadow-2xl variant-glass-surface"} ${e[1]&&e[2]?"hidden":""}`),Re(n,"p-1",e[1]),v(t,"id","rov_chooser"),v(t,"class",l=Ie(`absolute left-1/2 bottom-0  -translate-x-1/2 transition-all overflow-visible pointer-events-none select-none  ${e[1]?"  ":"disconnected  top-0 pt-12 sm:pt-0"} `)+" svelte-1hnycqg")},m(c,d){D(c,t,d),O(t,n),r[o].m(n,null),a=!0},p(c,[d]){let m=o;o=f(c),o===m?r[o].p(c,d):(lt(),M(r[m],1,1,()=>{r[m]=null}),rt(),i=r[o],i?i.p(c,d):(i=r[o]=u[o](c),i.c()),R(i,1),i.m(n,null)),(!a||d&6&&s!==(s=`border-2 border-surface-500 m-0 items-center flex whitespace-nowrap text-center rounded-xl max-h-full  ${c[1]?"rounded-b-none border-b-0 bg-surface-100-800-token":"flex-col shadow-2xl variant-glass-surface"} ${c[1]&&c[2]?"hidden":""}`))&&v(n,"class",s),(!a||d&6)&&Re(n,"p-1",c[1]),(!a||d&2&&l!==(l=Ie(`absolute left-1/2 bottom-0  -translate-x-1/2 transition-all overflow-visible pointer-events-none select-none  ${c[1]?"  ":"disconnected  top-0 pt-12 sm:pt-0"} `)+" svelte-1hnycqg"))&&v(t,"class",l)},i(c){a||(R(i),a=!0)},o(c){M(i),a=!1},d(c){c&&k(t),r[o].d()}}}function Ki(e,t,n){let o,i,s,l,a;at(e,mn,h=>n(2,s=h));let{selectedRov:u=""}=t;const r=mt.connectionState;at(e,r,h=>n(11,i=h));const f=mt.openLivekitRoomInfo;at(e,f,h=>n(3,l=h));const c=mt.currentLivekitIdentity;at(e,c,h=>n(4,a=h));async function d(h){if(!h.token)return Et("ROV is not ready. Please wait & try again.",5e3,!1,St.error);n(0,u=h.name);let y=(me().getItem("authTokens")||{})[h.name]||null;if(y){const S=await ue(y);if(S&&h.token.encrypted&&!Me.get().has(S))return Ne("Using cached token for ROV",h.name),mt.connectToLivekitRoom(h.name,y);Ne("Cached token is invalid. Removing it.",h.name,h.token),me().updateItem("authTokens",{[h.name]:void 0}),y=null}if(h.token.encrypted){n(0,u=h.name);const S=h.token.salt,C=h.token.iv;if(!Zo())return!window.isSecureContext||window.location.protocol!=="https:"?be("Cannot access password protected ROV",{body:"<b>Non-secure web address detected</b><br/>For a better experience, please use the secure website. Password protected ROVs and game controllers will only work on the secure site.",modalClasses:"variant-filled-warning !bg-warning-500 w-fit max-w-xs px-6 py-5",buttonTextConfirm:"Go Secure",buttonTextCancel:"Cancel",response:E=>{E?window.location.protocol="https:":n(0,u="")}}):co("Cannot access password protected ROV",{body:"This browser does not support the required encryption features.<br/>Please use a more modern browser.",modalClasses:"variant-filled-warning !bg-warning-500 w-fit max-w-xs px-6 py-5",response:()=>n(0,u="")});for(;;){await fo(200);const E=await uo("Enter ROV Password");if(!E)return;try{if(y=await ei(h.token.token,S,C,E),!y||await ue(y)===!1){Et("Incorrect password. <br/> Please try again.",2e3,!1,St.warning);continue}Et("Password accepted. Connecting...",2e3,!1,St.success);break}catch(I){pe("Token Decryption Failure:",I),Et("Invalid password. Please try again. <br/> (Token Decryption Failure)",2e3,!1,St.warning);continue}}}else y=h.token.token;y&&await ue(y)?(me().updateItem("authTokens",{[h.name]:y}),mt.connectToLivekitRoom(h.name,y)):(Et("ROV is not ready yet <br/>(Token expired or invalid)",6e3,!1,St.warning),n(0,u=""))}const m=h=>h&&!Me.get().has(h.userGivenIdentity),b=()=>{mt.close(),n(0,u="")},w=h=>d(h),_=()=>b();return e.$$set=h=>{"selectedRov"in h&&n(0,u=h.selectedRov)},e.$$.update=()=>{e.$$.dirty&2049&&n(1,o=u!=""&&i!==Be.disconnectedOk&&i!==Be.failed)},[u,o,s,l,a,r,f,c,d,m,b,i,w,_]}class qi extends jt{constructor(t){super(),Kt(this,t,Ki,ji,xt,{selectedRov:0})}}function rn(e){let t,n,o,i,s;return{c(){t=A("div"),n=A("div"),o=H(),i=A("span"),s=et(e[0]),this.h()},l(l){t=P(l,"DIV",{id:!0,class:!0});var a=L(t);n=P(a,"DIV",{class:!0}),L(n).forEach(k),o=U(a),i=P(a,"SPAN",{id:!0,class:!0});var u=L(i);s=nt(u,e[0]),u.forEach(k),a.forEach(k),this.h()},h(){v(n,"class","svelte-1y00wgx"),v(i,"id","site_loading_text"),v(i,"class","svelte-1y00wgx"),v(t,"id","site_loading_indicator"),v(t,"class","lds-circle bg-surface-900 border-4 border-surface-700 shadow-2xl svelte-1y00wgx")},m(l,a){D(l,t,a),O(t,n),O(t,o),O(t,i),O(i,s)},p(l,a){a&1&&ot(s,l[0])},d(l){l&&k(t)}}}function Yi(e){let t,n=e[0]!=null&&rn(e);return{c(){n&&n.c(),t=Y()},l(o){n&&n.l(o),t=Y()},m(o,i){n&&n.m(o,i),D(o,t,i)},p(o,[i]){o[0]!=null?n?n.p(o,i):(n=rn(o),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},i:J,o:J,d(o){o&&k(t),n&&n.d(o)}}}let Gi=mo(null);function Xi(e,t,n){let o;return at(e,Gi,i=>n(0,o=i)),[o]}class Qi extends jt{constructor(t){super(),Kt(this,t,Xi,Yi,xt,{})}}class Ji{async start(){await this.checkIfInIframe()}checkLivekitSupported(){return ho()?!0:(be("Browser Not Supported",{body:`Live connectivity features are missing<br/>
                       Use an updated browser such as <b>Chrome, Edge, Firefox</b>, or <b>Safari</b>.<br/>`,modalClasses:"w-fit max-w-xs px-6 py-5 variant-filled-error !bg-error-500",buttonTextCancel:"Check Connection",buttonTextConfirm:"Ok",response:t=>{t||(window.location.href="https://livekit.io/webrtc/browser-test")}}),!1)}async checkIfInIframe(){if(!this.checkLivekitSupported())return!1;if(window.parent===window){go("We are not in an iframe, trying to connect to Livekit Cloud...");try{await mt.initUsingCloudLivekitConnection()}catch(t){await this.failedToConnectToLivekitCloud(t)}}else dn("We are in an iframe, alerting user"),be("Uh oh, rov control won't work here",{body:"Click OK to open this page outside BlueOS",response:()=>{window.open(window.location.toString())}})}async failedToConnectToLivekitCloud(t){throw pe("Livekit Cloud Not Accessable",t),new Error("Byeeeee!")}async failedToConnectToLocalLivekit(t){pe("Local Livekit Server Not Accessable: ",t)}async navigateToROVLocalIframePage(){window.location.href=hn.LIVEKIT_LOCAL_ENDPOINT+"/offlineframe"}}const Zi=new Ji;function an(e){let t,n,o,i;return t=new qi({}),o=new Qi({}),{c(){gt(t.$$.fragment),n=H(),gt(o.$$.fragment)},l(s){Ct(t.$$.fragment,s),n=U(s),Ct(o.$$.fragment,s)},m(s,l){bt(t,s,l),D(s,n,l),bt(o,s,l),i=!0},i(s){i||(R(t.$$.fragment,s),R(o.$$.fragment,s),i=!0)},o(s){M(t.$$.fragment,s),M(o.$$.fragment,s),i=!1},d(s){s&&k(n),pt(t,s),pt(o,s)}}}function $i(e){let t,n,o,i,s,l,a;t=new jo({props:{height:"h-auto max-h-screen",width:"w-modal max-w-full",zIndex:"z-40",regionBackdrop:"!overflow-y-auto",components:e[1]}}),o=new Jo({props:{position:"b",zIndex:"z-50",shadow:"shadow-3xl ring-2 ring-black",width:"w-fit max-w-full",padding:"py-3 px-4 lg:py-4 lg:px-4",max:5}});const u=e[4].default,r=Un(u,e,e[3],null);let f=e[0]&&an();return{c(){gt(t.$$.fragment),n=H(),gt(o.$$.fragment),i=H(),r&&r.c(),s=H(),f&&f.c(),l=Y()},l(c){Ct(t.$$.fragment,c),n=U(c),Ct(o.$$.fragment,c),i=U(c),r&&r.l(c),s=U(c),f&&f.l(c),l=Y()},m(c,d){bt(t,c,d),D(c,n,d),bt(o,c,d),D(c,i,d),r&&r.m(c,d),D(c,s,d),f&&f.m(c,d),D(c,l,d),a=!0},p(c,[d]){r&&r.p&&(!a||d&8)&&jn(r,u,c,c[3],a?qn(u,c[3],d,null):Kn(c[3]),null),c[0]?f?d&1&&R(f,1):(f=an(),f.c(),R(f,1),f.m(l.parentNode,l)):f&&(lt(),M(f,1,1,()=>{f=null}),rt())},i(c){a||(R(t.$$.fragment,c),R(o.$$.fragment,c),R(r,c),R(f),a=!0)},o(c){M(t.$$.fragment,c),M(o.$$.fragment,c),M(r,c),M(f),a=!1},d(c){c&&(k(n),k(i),k(s),k(l)),pt(t,c),pt(o,c),r&&r.d(c),f&&f.d(c)}}}function ts(e,t,n){let o,i;at(e,To,m=>n(2,i=m));let{$$slots:s={},$$scope:l}=t;Ao(),bo();const a=po();_o.set({computePosition:zi,autoUpdate:xi,autoPlacement:Mi,flip:Fi,shift:Ni,offset:Bi,arrow:Vi});let u;const r=()=>{de.sendLogsAllowed=!0,u=setInterval(()=>{de.sendQueuedLogs((m,b,w)=>(localStorage.setItem("log_"+w,b),Promise.resolve(!0)))},5e3)},f=()=>{for(let m=0;m<localStorage.length;m++){const b=localStorage.key(m);if(b.startsWith("log_")){const w=localStorage.getItem(b);if(w){const _=JSON.parse(w);de.addLog(_.level,_.args,_.trace,_.kind,_.origin,_.timestamp)}}}};let c;const d=()=>{const b=wo();b!==null&&(Math.abs(b)>12e3&&Et('<h4 class="h4 mb-1">The clock on this device is off</h4>Please set the date & time in your computer settings',15e3,!1,St.warning),clearInterval(c))};return Yn(()=>{Fe.set(hn.DEBUG_MODE),document.addEventListener("fullscreenchange",m=>{mn.set(document.fullscreenElement!==null)}),window.addEventListener("beforeunload",()=>{mt.close()}),f(),Fe.get()&&r(),c=setInterval(d,2e3),d(),Zi.start(),Ve.startRequiredMsgLoop()}),Gn(()=>{clearInterval(u),clearInterval(c),Ve.stopRequiredMsgLoop(),mt.close(),vo().cleanup()}),e.$$set=m=>{"$$scope"in m&&n(3,l=m.$$scope)},e.$$.update=()=>{e.$$.dirty&4&&n(0,o=!i.error&&i.route.id!=="/")},[o,a,i,l,s]}class as extends jt{constructor(t){super(),Kt(this,t,ts,$i,xt,{})}}export{as as component,rs as universal};
//# sourceMappingURL=0.C0wIlmvr.js.map
