import{n as J,Y as Mn,V as Nn,s as It,W as Lt,I as Y,j as D,u as W,f as k,v as Wt,m as at,a8 as Fn,o as ht,y as Qt,e as A,c as P,b as L,i as v,k as O,a9 as Vn,z as Ee,A as Se,a as H,g as U,aa as Ht,ab as Ut,D as Ae,K as Jt,t as et,d as nt,ac as Pe,ad as Le,l as it,M as De,G as Re,h as rn,S as zn,O as Wn,P as Hn,Q as Un,R as jn,H as Kn,E as qn}from"../chunks/scheduler.CbIxNoKh.js";import{n as Yn,l as Gn,h as Xn,j as Qn,S as jt,i as Kt,t as R,g as lt,b as M,f as rt,k as le,o as xe,p as an,c as gt,a as Ct,m as bt,d as pt}from"../chunks/index.DZKcd6DY.js";import{v as Jn,x as Zn,y as $n,z as ti,A as cn,B as ei,C as At,D as Zt,E as $t,i as Vt,F as te,G as ni,t as ee,H as ii,J as oi,K as fn,L as si,s as li,M as un,N as mt,O as Ie,P as Et,T as St,Q as ue,S as Be,U as Me,V as ge,W as ri,X as ai,Y as ci,Z as be,_ as fi,$ as ui,l as di,a0 as dn,a1 as mi,a2 as hi,a3 as gi,a4 as bi,a5 as Ne,a6 as pi,j as _i,a7 as vi}from"../chunks/modals.Di84fWfd.js";import{f as wi}from"../chunks/focusTrap.C1iSgani.js";import{g as de,C as yi}from"../chunks/localStorage.Hk1ddNsc.js";import{p as ki}from"../chunks/stores.CquDg0P6.js";function Ti(e,t,n,i){if(!t)return J;const o=e.getBoundingClientRect();if(t.left===o.left&&t.right===o.right&&t.top===o.top&&t.bottom===o.bottom)return J;const{delay:s=0,duration:l=300,easing:a=Mn,start:u=Yn()+s,end:r=u+l,tick:f=J,css:c}=n(e,{from:t,to:o},i);let d=!0,m=!1,b;function _(){c&&(b=Xn(e,0,1,l,s,a,c)),s||(m=!0)}function w(){c&&Qn(e,b),d=!1}return Gn(h=>{if(!m&&h>=u&&(m=!0),m&&h>=r&&(f(1,0),w()),!d)return!1;if(m){const g=h-u,y=0+1*a(g/l);f(y,1-y)}return!0}),_(),f(0,1),w}function Ci(e){const t=getComputedStyle(e);if(t.position!=="absolute"&&t.position!=="fixed"){const{width:n,height:i}=t,o=e.getBoundingClientRect();e.style.position="absolute",e.style.width=n,e.style.height=i,mn(e,o)}}function mn(e,t){const n=e.getBoundingClientRect();if(t.left!==n.left||t.top!==n.top){const i=getComputedStyle(e),o=i.transform==="none"?"":i.transform;e.style.transform=`${o} translate(${t.left-n.left}px, ${t.top-n.top}px)`}}const Oi=!0,Ei=!0,rs=Object.freeze(Object.defineProperty({__proto__:null,prerender:Oi,ssr:Ei},Symbol.toStringTag,{value:"Module"}));function Si(){Jn(),Zn(),$n()}function Ai(e,{from:t,to:n},i={}){const o=getComputedStyle(e),s=o.transform==="none"?"":o.transform,[l,a]=o.transformOrigin.split(" ").map(parseFloat),u=t.left+t.width*l/n.width-(n.left+l),r=t.top+t.height*a/n.height-(n.top+a),{delay:f=0,duration:c=m=>Math.sqrt(m)*120,easing:d=ti}=i;return{delay:f,duration:Nn(c)?c(Math.sqrt(u*u+r*r)):c,easing:d,css:(m,b)=>{const _=b*u,w=b*r,h=m+b*t.width/n.width,g=m+b*t.height/n.height;return`transform: ${s} translate(${_}px, ${w}px) scale(${h}, ${g});`}}}function Fe(e){let t=e[14],n,i,o=He(e);return{c(){o.c(),n=Y()},l(s){o.l(s),n=Y()},m(s,l){o.m(s,l),D(s,n,l),i=!0},p(s,l){l[0]&16384&&It(t,t=s[14])?(lt(),M(o,1,1,J),rt(),o=He(s),o.c(),R(o,1),o.m(n.parentNode,n)):o.p(s,l)},i(s){i||(R(o),i=!0)},o(s){M(o),i=!1},d(s){s&&k(n),o.d(s)}}}function Pi(e){let t,n,i,o,s,l;const a=[Ri,Di],u=[];function r(f,c){var d;return(d=f[16])!=null&&d.slot?0:1}return n=r(e),i=u[n]=a[n](e),{c(){t=A("div"),i.c(),this.h()},l(f){t=P(f,"DIV",{class:!0,"data-testid":!0,role:!0,"aria-modal":!0,"aria-label":!0});var c=L(t);i.l(c),c.forEach(k),this.h()},h(){var f;v(t,"class",o="modal contents "+(((f=e[14][0])==null?void 0:f.modalClasses)??"")),v(t,"data-testid","modal-component"),v(t,"role","dialog"),v(t,"aria-modal","true"),v(t,"aria-label",s=e[14][0].title??"")},m(f,c){D(f,t,c),u[n].m(t,null),e[47](t),l=!0},p(f,c){var m;let d=n;n=r(f),n===d?u[n].p(f,c):(lt(),M(u[d],1,1,()=>{u[d]=null}),rt(),i=u[n],i?i.p(f,c):(i=u[n]=a[n](f),i.c()),R(i,1),i.m(t,null)),(!l||c[0]&16384&&o!==(o="modal contents "+(((m=f[14][0])==null?void 0:m.modalClasses)??"")))&&v(t,"class",o),(!l||c[0]&16384&&s!==(s=f[14][0].title??""))&&v(t,"aria-label",s)},i(f){l||(R(i),l=!0)},o(f){M(i),l=!1},d(f){f&&k(t),u[n].d(),e[47](null)}}}function Li(e){var m,b,_,w;let t,n,i,o,s,l,a=((m=e[14][0])==null?void 0:m.title)&&Ve(e),u=((b=e[14][0])==null?void 0:b.body)&&ze(e),r=((_=e[14][0])==null?void 0:_.image)&&typeof((w=e[14][0])==null?void 0:w.image)=="string"&&We(e);function f(h,g){if(h[14][0].type==="alert")return Mi;if(h[14][0].type==="confirm")return Bi;if(h[14][0].type==="prompt")return Ii}let c=f(e),d=c&&c(e);return{c(){t=A("div"),a&&a.c(),n=H(),u&&u.c(),i=H(),r&&r.c(),o=H(),d&&d.c(),this.h()},l(h){t=P(h,"DIV",{class:!0,"data-testid":!0,role:!0,"aria-modal":!0,"aria-label":!0});var g=L(t);a&&a.l(g),n=U(g),u&&u.l(g),i=U(g),r&&r.l(g),o=U(g),d&&d.l(g),g.forEach(k),this.h()},h(){v(t,"class",s="modal "+e[20]),v(t,"data-testid","modal"),v(t,"role","dialog"),v(t,"aria-modal","true"),v(t,"aria-label",l=e[14][0].title??"")},m(h,g){D(h,t,g),a&&a.m(t,null),O(t,n),u&&u.m(t,null),O(t,i),r&&r.m(t,null),O(t,o),d&&d.m(t,null),e[46](t)},p(h,g){var y,S,C,E;(y=h[14][0])!=null&&y.title?a?a.p(h,g):(a=Ve(h),a.c(),a.m(t,n)):a&&(a.d(1),a=null),(S=h[14][0])!=null&&S.body?u?u.p(h,g):(u=ze(h),u.c(),u.m(t,i)):u&&(u.d(1),u=null),(C=h[14][0])!=null&&C.image&&typeof((E=h[14][0])==null?void 0:E.image)=="string"?r?r.p(h,g):(r=We(h),r.c(),r.m(t,o)):r&&(r.d(1),r=null),c===(c=f(h))&&d?d.p(h,g):(d&&d.d(1),d=c&&c(h),d&&(d.c(),d.m(t,null))),g[0]&1048576&&s!==(s="modal "+h[20])&&v(t,"class",s),g[0]&16384&&l!==(l=h[14][0].title??"")&&v(t,"aria-label",l)},i:J,o:J,d(h){h&&k(t),a&&a.d(),u&&u.d(),r&&r.d(),d&&d.d(),e[46](null)}}}function Di(e){var a,u;let t,n,i;const o=[(a=e[16])==null?void 0:a.props,{parent:e[19]}];var s=(u=e[16])==null?void 0:u.ref;function l(r,f){var d;let c={};for(let m=0;m<o.length;m+=1)c=ht(c,o[m]);return f!==void 0&&f[0]&589824&&(c=ht(c,Vt(o,[f[0]&65536&&te((d=r[16])==null?void 0:d.props),f[0]&524288&&{parent:r[19]}]))),{props:c}}return s&&(t=Jt(s,l(e))),{c(){t&&gt(t.$$.fragment),n=Y()},l(r){t&&Ct(t.$$.fragment,r),n=Y()},m(r,f){t&&bt(t,r,f),D(r,n,f),i=!0},p(r,f){var c,d;if(f[0]&65536&&s!==(s=(c=r[16])==null?void 0:c.ref)){if(t){lt();const m=t;M(m.$$.fragment,1,0,()=>{pt(m,1)}),rt()}s?(t=Jt(s,l(r,f)),gt(t.$$.fragment),R(t.$$.fragment,1),bt(t,n.parentNode,n)):t=null}else if(s){const m=f[0]&589824?Vt(o,[f[0]&65536&&te((d=r[16])==null?void 0:d.props),f[0]&524288&&{parent:r[19]}]):{};t.$set(m)}},i(r){i||(t&&R(t.$$.fragment,r),i=!0)},o(r){t&&M(t.$$.fragment,r),i=!1},d(r){r&&k(n),t&&pt(t,r)}}}function Ri(e){var a,u;let t,n,i;const o=[(a=e[16])==null?void 0:a.props,{parent:e[19]}];var s=(u=e[16])==null?void 0:u.ref;function l(r,f){var d;let c={$$slots:{default:[xi]},$$scope:{ctx:r}};for(let m=0;m<o.length;m+=1)c=ht(c,o[m]);return f!==void 0&&f[0]&589824&&(c=ht(c,Vt(o,[f[0]&65536&&te((d=r[16])==null?void 0:d.props),f[0]&524288&&{parent:r[19]}]))),{props:c}}return s&&(t=Jt(s,l(e))),{c(){t&&gt(t.$$.fragment),n=Y()},l(r){t&&Ct(t.$$.fragment,r),n=Y()},m(r,f){t&&bt(t,r,f),D(r,n,f),i=!0},p(r,f){var c,d;if(f[0]&65536&&s!==(s=(c=r[16])==null?void 0:c.ref)){if(t){lt();const m=t;M(m.$$.fragment,1,0,()=>{pt(m,1)}),rt()}s?(t=Jt(s,l(r,f)),gt(t.$$.fragment),R(t.$$.fragment,1),bt(t,n.parentNode,n)):t=null}else if(s){const m=f[0]&589824?Vt(o,[f[0]&65536&&te((d=r[16])==null?void 0:d.props),f[0]&524288&&{parent:r[19]}]):{};f[0]&65536|f[1]&16777216&&(m.$$scope={dirty:f,ctx:r}),t.$set(m)}},i(r){i||(t&&R(t.$$.fragment,r),i=!0)},o(r){t&&M(t.$$.fragment,r),i=!1},d(r){r&&k(n),t&&pt(t,r)}}}function xi(e){var o;let t,n=((o=e[16])==null?void 0:o.slot)+"",i;return{c(){t=new Ht(!1),i=Y(),this.h()},l(s){t=Ut(s,!1),i=Y(),this.h()},h(){t.a=i},m(s,l){t.m(n,s,l),D(s,i,l)},p(s,l){var a;l[0]&65536&&n!==(n=((a=s[16])==null?void 0:a.slot)+"")&&t.p(n)},d(s){s&&(k(i),t.d())}}}function Ve(e){let t,n,i=e[14][0].title+"",o;return{c(){t=A("header"),n=new Ht(!1),this.h()},l(s){t=P(s,"HEADER",{class:!0});var l=L(t);n=Ut(l,!1),l.forEach(k),this.h()},h(){n.a=null,v(t,"class",o="modal-header "+e[5])},m(s,l){D(s,t,l),n.m(i,t)},p(s,l){l[0]&16384&&i!==(i=s[14][0].title+"")&&n.p(i),l[0]&32&&o!==(o="modal-header "+s[5])&&v(t,"class",o)},d(s){s&&k(t)}}}function ze(e){let t,n,i=e[14][0].body+"",o;return{c(){t=A("article"),n=new Ht(!1),this.h()},l(s){t=P(s,"ARTICLE",{class:!0});var l=L(t);n=Ut(l,!1),l.forEach(k),this.h()},h(){n.a=null,v(t,"class",o="modal-body "+e[6])},m(s,l){D(s,t,l),n.m(i,t)},p(s,l){l[0]&16384&&i!==(i=s[14][0].body+"")&&n.p(i),l[0]&64&&o!==(o="modal-body "+s[6])&&v(t,"class",o)},d(s){s&&k(t)}}}function We(e){let t,n;return{c(){t=A("img"),this.h()},l(i){t=P(i,"IMG",{class:!0,src:!0,alt:!0}),this.h()},h(){var i;v(t,"class","modal-image "+Wi),Ae(t.src,n=(i=e[14][0])==null?void 0:i.image)||v(t,"src",n),v(t,"alt","Modal")},m(i,o){D(i,t,o)},p(i,o){var s;o[0]&16384&&!Ae(t.src,n=(s=i[14][0])==null?void 0:s.image)&&v(t,"src",n)},d(i){i&&k(t)}}}function Ii(e){let t,n,i,o,s,l,a,u,r,f,c,d,m,b,_=[{class:"modal-prompt-input input"},{name:"prompt"},{type:"text"},e[14][0].valueAttr],w={};for(let h=0;h<_.length;h+=1)w=ht(w,_[h]);return{c(){t=A("form"),n=A("input"),i=H(),o=A("footer"),s=A("button"),l=et(e[0]),u=H(),r=A("button"),f=et(e[2]),this.h()},l(h){t=P(h,"FORM",{class:!0});var g=L(t);n=P(g,"INPUT",{class:!0,name:!0,type:!0}),i=U(g),o=P(g,"FOOTER",{class:!0});var y=L(o);s=P(y,"BUTTON",{type:!0,class:!0});var S=L(s);l=nt(S,e[0]),S.forEach(k),u=U(y),r=P(y,"BUTTON",{type:!0,class:!0});var C=L(r);f=nt(C,e[2]),C.forEach(k),y.forEach(k),g.forEach(k),this.h()},h(){Pe(n,w),v(s,"type","button"),v(s,"class",a="btn "+e[3]),v(r,"type","submit"),v(r,"class",c="btn "+e[4]),v(o,"class",d="modal-footer "+e[7]),v(t,"class","space-y-4")},m(h,g){D(h,t,g),O(t,n),n.autofocus&&n.focus(),Le(n,e[15]),O(t,i),O(t,o),O(o,s),O(s,l),O(o,u),O(o,r),O(r,f),m||(b=[W(n,"input",e[45]),W(s,"click",e[26]),W(t,"submit",e[28])],m=!0)},p(h,g){Pe(n,w=Vt(_,[{class:"modal-prompt-input input"},{name:"prompt"},{type:"text"},g[0]&16384&&h[14][0].valueAttr])),g[0]&32768&&n.value!==h[15]&&Le(n,h[15]),g[0]&1&&it(l,h[0]),g[0]&8&&a!==(a="btn "+h[3])&&v(s,"class",a),g[0]&4&&it(f,h[2]),g[0]&16&&c!==(c="btn "+h[4])&&v(r,"class",c),g[0]&128&&d!==(d="modal-footer "+h[7])&&v(o,"class",d)},d(h){h&&k(t),m=!1,Wt(b)}}}function Bi(e){let t,n,i,o,s,l,a,u,r,f,c;return{c(){t=A("footer"),n=A("button"),i=et(e[0]),s=H(),l=A("button"),a=et(e[1]),this.h()},l(d){t=P(d,"FOOTER",{class:!0});var m=L(t);n=P(m,"BUTTON",{type:!0,class:!0});var b=L(n);i=nt(b,e[0]),b.forEach(k),s=U(m),l=P(m,"BUTTON",{type:!0,class:!0});var _=L(l);a=nt(_,e[1]),_.forEach(k),m.forEach(k),this.h()},h(){v(n,"type","button"),v(n,"class",o="btn "+e[3]),v(l,"type","button"),v(l,"class",u="btn "+e[4]),v(t,"class",r="modal-footer "+e[7])},m(d,m){D(d,t,m),O(t,n),O(n,i),O(t,s),O(t,l),O(l,a),f||(c=[W(n,"click",e[26]),W(l,"click",e[27])],f=!0)},p(d,m){m[0]&1&&it(i,d[0]),m[0]&8&&o!==(o="btn "+d[3])&&v(n,"class",o),m[0]&2&&it(a,d[1]),m[0]&16&&u!==(u="btn "+d[4])&&v(l,"class",u),m[0]&128&&r!==(r="modal-footer "+d[7])&&v(t,"class",r)},d(d){d&&k(t),f=!1,Wt(c)}}}function Mi(e){let t,n,i,o,s,l,a;return{c(){t=A("footer"),n=A("button"),i=et(e[0]),this.h()},l(u){t=P(u,"FOOTER",{class:!0});var r=L(t);n=P(r,"BUTTON",{type:!0,class:!0});var f=L(n);i=nt(f,e[0]),f.forEach(k),r.forEach(k),this.h()},h(){v(n,"type","button"),v(n,"class",o="btn "+e[3]),v(t,"class",s="modal-footer "+e[7])},m(u,r){D(u,t,r),O(t,n),O(n,i),l||(a=W(n,"click",e[26]),l=!0)},p(u,r){r[0]&1&&it(i,u[0]),r[0]&8&&o!==(o="btn "+u[3])&&v(n,"class",o),r[0]&128&&s!==(s="modal-footer "+u[7])&&v(t,"class",s)},d(u){u&&k(t),l=!1,a()}}}function He(e){let t,n,i,o,s,l,a,u,r,f,c,d;const m=[Li,Pi],b=[];function _(w,h){return w[14][0].type!=="component"?0:1}return i=_(e),o=b[i]=m[i](e),{c(){t=A("div"),n=A("div"),o.c(),this.h()},l(w){t=P(w,"DIV",{class:!0,"data-testid":!0});var h=L(t);n=P(h,"DIV",{class:!0});var g=L(n);o.l(g),g.forEach(k),h.forEach(k),this.h()},h(){v(n,"class",s="modal-transition "+e[21]),v(t,"class",u="modal-backdrop "+e[22]+" "+e[18]),v(t,"data-testid","modal-backdrop")},m(w,h){D(w,t,h),O(t,n),b[i].m(n,null),f=!0,c||(d=[W(t,"mousedown",e[24]),W(t,"mouseup",e[25]),W(t,"touchstart",e[42],{passive:!0}),W(t,"touchend",e[43],{passive:!0}),Vn(wi.call(null,t,!0))],c=!0)},p(w,h){e=w;let g=i;i=_(e),i===g?b[i].p(e,h):(lt(),M(b[g],1,1,()=>{b[g]=null}),rt(),o=b[i],o?o.p(e,h):(o=b[i]=m[i](e),o.c()),R(o,1),o.m(n,null)),(!f||h[0]&2097152&&s!==(s="modal-transition "+e[21]))&&v(n,"class",s),(!f||h[0]&4456448&&u!==(u="modal-backdrop "+e[22]+" "+e[18]))&&v(t,"class",u)},i(w){f||(R(o),Lt(()=>{f&&(a&&a.end(1),l=le(n,At,{transition:e[9],params:e[10],enabled:e[8]}),l.start())}),Lt(()=>{f&&(r||(r=xe(t,At,{transition:Zt,params:{duration:150},enabled:e[8]},!0)),r.run(1))}),f=!0)},o(w){M(o),l&&l.invalidate(),a=an(n,At,{transition:e[11],params:e[12],enabled:e[8]}),r||(r=xe(t,At,{transition:Zt,params:{duration:150},enabled:e[8]},!1)),r.run(0),f=!1},d(w){w&&k(t),b[i].d(),w&&a&&a.end(),w&&r&&r.end(),c=!1,Wt(d)}}}function Ni(e){let t,n,i,o;Lt(e[44]);let s=e[14].length>0&&Fe(e);return{c(){s&&s.c(),t=Y()},l(l){s&&s.l(l),t=Y()},m(l,a){s&&s.m(l,a),D(l,t,a),n=!0,i||(o=[W(window,"keydown",e[29]),W(window,"resize",e[44])],i=!0)},p(l,a){l[14].length>0?s?(s.p(l,a),a[0]&16384&&R(s,1)):(s=Fe(l),s.c(),R(s,1),s.m(t.parentNode,t)):s&&(lt(),M(s,1,1,()=>{s=null}),rt())},i(l){n||(R(s),n=!0)},o(l){M(s),n=!1},d(l){l&&k(t),s&&s.d(l),i=!1,Wt(o)}}}const Fi="fixed top-0 left-0 right-0 bottom-0 bg-surface-backdrop-token p-4",Vi="w-full h-fit min-h-full overflow-y-auto flex justify-center",zi="block overflow-y-auto",Wi="w-full h-auto";function Hi(e,t,n){let i,o,s,l,a,u,r;at(e,cn,p=>n(49,r=p));const f=Fn();let{components:c={}}=t,{position:d="items-center"}=t,{background:m="bg-surface-100-800-token"}=t,{width:b="w-modal"}=t,{height:_="h-auto"}=t,{padding:w="p-4"}=t,{spacing:h="space-y-4"}=t,{rounded:g="rounded-container-token"}=t,{shadow:y="shadow-xl"}=t,{zIndex:S="z-[999]"}=t,{buttonNeutral:C="variant-ghost-surface"}=t,{buttonPositive:E="variant-filled"}=t,{buttonTextCancel:x="Cancel"}=t,{buttonTextConfirm:V="Confirm"}=t,{buttonTextSubmit:z="Submit"}=t,{regionBackdrop:B=""}=t,{regionHeader:j="text-2xl font-bold"}=t,{regionBody:N="max-h-[200px] overflow-hidden"}=t,{regionFooter:F="flex justify-end space-x-2"}=t,{transitions:I=!r}=t,{transitionIn:$=$t}=t,{transitionInParams:G={duration:150,opacity:0,x:0,y:100}}=t,{transitionOut:q=$t}=t,{transitionOutParams:X={duration:150,opacity:0,x:0,y:100}}=t,K;const kt={buttonTextCancel:x,buttonTextConfirm:V,buttonTextSubmit:z};let Yt,Nt=!1,vt,T,tt="overflow-y-hidden";const dt=ei();at(e,dt,p=>n(14,u=p));function Tn(p){p[0].type==="prompt"&&n(15,K=p[0].value),n(0,x=p[0].buttonTextCancel||kt.buttonTextCancel),n(1,V=p[0].buttonTextConfirm||kt.buttonTextConfirm),n(2,z=p[0].buttonTextSubmit||kt.buttonTextSubmit),n(16,Yt=typeof p[0].component=="string"?c[p[0].component]:p[0].component)}function Cn(p){var Ft;let Q=p==null?void 0:p.clientHeight;Q||(Q=(Ft=p==null?void 0:p.firstChild)==null?void 0:Ft.clientHeight),Q&&(Q>T?n(18,tt="overflow-y-auto"):n(18,tt="overflow-y-hidden"))}function On(p){if(!(p.target instanceof Element))return;const Q=p.target.classList;(Q.contains("modal-backdrop")||Q.contains("modal-transition"))&&(Nt=!0)}function En(p){if(!(p.target instanceof Element))return;const Q=p.target.classList;(Q.contains("modal-backdrop")||Q.contains("modal-transition"))&&Nt&&(u[0].response&&u[0].response(void 0),dt.close(),f("backdrop",p)),Nt=!1}function fe(){u[0].response&&u[0].response(!1),dt.close()}function Sn(){u[0].response&&u[0].response(!0),dt.close()}function An(p){p.preventDefault(),u[0].response&&(u[0].valueAttr!==void 0&&"type"in u[0].valueAttr&&u[0].valueAttr.type==="number"?u[0].response(parseInt(K)):u[0].response(K)),dt.close()}function Pn(p){u.length&&p.code==="Escape"&&fe()}function Ln(p){Ee.call(this,e,p)}function Dn(p){Ee.call(this,e,p)}function Rn(){n(17,T=window.innerHeight)}function xn(){K=this.value,n(15,K)}function In(p){Se[p?"unshift":"push"](()=>{vt=p,n(13,vt)})}function Bn(p){Se[p?"unshift":"push"](()=>{vt=p,n(13,vt)})}return e.$$set=p=>{n(54,t=ht(ht({},t),Qt(p))),"components"in p&&n(30,c=p.components),"position"in p&&n(31,d=p.position),"background"in p&&n(32,m=p.background),"width"in p&&n(33,b=p.width),"height"in p&&n(34,_=p.height),"padding"in p&&n(35,w=p.padding),"spacing"in p&&n(36,h=p.spacing),"rounded"in p&&n(37,g=p.rounded),"shadow"in p&&n(38,y=p.shadow),"zIndex"in p&&n(39,S=p.zIndex),"buttonNeutral"in p&&n(3,C=p.buttonNeutral),"buttonPositive"in p&&n(4,E=p.buttonPositive),"buttonTextCancel"in p&&n(0,x=p.buttonTextCancel),"buttonTextConfirm"in p&&n(1,V=p.buttonTextConfirm),"buttonTextSubmit"in p&&n(2,z=p.buttonTextSubmit),"regionBackdrop"in p&&n(40,B=p.regionBackdrop),"regionHeader"in p&&n(5,j=p.regionHeader),"regionBody"in p&&n(6,N=p.regionBody),"regionFooter"in p&&n(7,F=p.regionFooter),"transitions"in p&&n(8,I=p.transitions),"transitionIn"in p&&n(9,$=p.transitionIn),"transitionInParams"in p&&n(10,G=p.transitionInParams),"transitionOut"in p&&n(11,q=p.transitionOut),"transitionOutParams"in p&&n(12,X=p.transitionOutParams)},e.$$.update=()=>{var p,Q,Ft;e.$$.dirty[0]&16384&&u.length&&Tn(u),e.$$.dirty[0]&8192&&Cn(vt),e.$$.dirty[0]&16384|e.$$.dirty[1]&1&&n(41,i=((p=u[0])==null?void 0:p.position)??d),n(22,o=`${Fi} ${B} ${S} ${t.class??""} ${((Q=u[0])==null?void 0:Q.backdropClasses)??""}`),e.$$.dirty[1]&1024&&n(21,s=`${Vi} ${i??""}`),e.$$.dirty[0]&16384|e.$$.dirty[1]&254&&n(20,l=`${zi} ${m} ${b} ${_} ${w} ${h} ${g} ${y} ${((Ft=u[0])==null?void 0:Ft.modalClasses)??""}`),e.$$.dirty[0]&255|e.$$.dirty[1]&767&&n(19,a={position:d,background:m,width:b,height:_,padding:w,spacing:h,rounded:g,shadow:y,buttonNeutral:C,buttonPositive:E,buttonTextCancel:x,buttonTextConfirm:V,buttonTextSubmit:z,regionBackdrop:B,regionHeader:j,regionBody:N,regionFooter:F,onClose:fe})},t=Qt(t),[x,V,z,C,E,j,N,F,I,$,G,q,X,vt,u,K,Yt,T,tt,a,l,s,o,dt,On,En,fe,Sn,An,Pn,c,d,m,b,_,w,h,g,y,S,B,i,Ln,Dn,Rn,xn,In,Bn]}class Ui extends jt{constructor(t){super(),Kt(this,t,Hi,Ni,It,{components:30,position:31,background:32,width:33,height:34,padding:35,spacing:36,rounded:37,shadow:38,zIndex:39,buttonNeutral:3,buttonPositive:4,buttonTextCancel:0,buttonTextConfirm:1,buttonTextSubmit:2,regionBackdrop:40,regionHeader:5,regionBody:6,regionFooter:7,transitions:8,transitionIn:9,transitionInParams:10,transitionOut:11,transitionOutParams:12},null,[-1,-1])}}function Ue(e,t,n){const i=e.slice();return i[38]=t[n],i[40]=n,i}function je(e){let t,n,i=[],o=new Map,s,l,a,u=ee(e[9]);const r=f=>f[38];for(let f=0;f<u.length;f+=1){let c=Ue(e,u,f),d=r(c);o.set(d,i[f]=Ge(d,c))}return{c(){t=A("div"),n=A("div");for(let f=0;f<i.length;f+=1)i[f].c();this.h()},l(f){t=P(f,"DIV",{class:!0,"data-testid":!0});var c=L(t);n=P(c,"DIV",{class:!0});var d=L(n);for(let m=0;m<i.length;m+=1)i[m].l(d);d.forEach(k),c.forEach(k),this.h()},h(){v(n,"class",s="snackbar "+e[13]),v(t,"class",l="snackbar-wrapper "+e[14]),v(t,"data-testid","snackbar-wrapper")},m(f,c){D(f,t,c),O(t,n);for(let d=0;d<i.length;d+=1)i[d]&&i[d].m(n,null);a=!0},p(f,c){if(c[0]&499615){u=ee(f[9]),lt();for(let d=0;d<i.length;d+=1)i[d].r();i=ii(i,c,r,1,f,u,o,n,oi,Ge,null,Ue);for(let d=0;d<i.length;d+=1)i[d].a();rt()}(!a||c[0]&8192&&s!==(s="snackbar "+f[13]))&&v(n,"class",s),(!a||c[0]&16384&&l!==(l="snackbar-wrapper "+f[14]))&&v(t,"class",l)},i(f){if(!a){for(let c=0;c<u.length;c+=1)R(i[c]);a=!0}},o(f){for(let c=0;c<i.length;c+=1)M(i[c]);a=!1},d(f){f&&k(t);for(let c=0;c<i.length;c+=1)i[c].d()}}}function Ke(e){let t,n,i=e[38].action&&qe(e),o=!e[38].hideDismiss&&Ye(e);return{c(){t=A("div"),i&&i.c(),n=H(),o&&o.c(),this.h()},l(s){t=P(s,"DIV",{class:!0});var l=L(t);i&&i.l(l),n=U(l),o&&o.l(l),l.forEach(k),this.h()},h(){v(t,"class","toast-actions "+Gi)},m(s,l){D(s,t,l),i&&i.m(t,null),O(t,n),o&&o.m(t,null)},p(s,l){s[38].action?i?i.p(s,l):(i=qe(s),i.c(),i.m(t,n)):i&&(i.d(1),i=null),s[38].hideDismiss?o&&(o.d(1),o=null):o?o.p(s,l):(o=Ye(s),o.c(),o.m(t,null))},d(s){s&&k(t),i&&i.d(),o&&o.d()}}}function qe(e){let t,n,i=e[38].action.label+"",o,s;function l(){return e[31](e[40])}return{c(){t=A("button"),n=new Ht(!1),this.h()},l(a){t=P(a,"BUTTON",{class:!0});var u=L(t);n=Ut(u,!1),u.forEach(k),this.h()},h(){n.a=null,v(t,"class",e[1])},m(a,u){D(a,t,u),n.m(i,t),o||(s=W(t,"click",l),o=!0)},p(a,u){e=a,u[0]&512&&i!==(i=e[38].action.label+"")&&n.p(i),u[0]&2&&v(t,"class",e[1])},d(a){a&&k(t),o=!1,s()}}}function Ye(e){let t,n,i,o;function s(){return e[32](e[38])}return{c(){t=A("button"),n=et(e[3]),this.h()},l(l){t=P(l,"BUTTON",{class:!0,"aria-label":!0});var a=L(t);n=nt(a,e[3]),a.forEach(k),this.h()},h(){v(t,"class",e[2]),v(t,"aria-label","Dismiss toast")},m(l,a){D(l,t,a),O(t,n),i||(o=W(t,"click",s),i=!0)},p(l,a){e=l,a[0]&8&&it(n,e[3]),a[0]&4&&v(t,"class",e[2])},d(l){l&&k(t),i=!1,o()}}}function Ge(e,t){let n,i,o,s,l=t[38].message+"",a,u,r,f,c,d,m,b=J,_,w,h,g=(t[38].action||!t[38].hideDismiss)&&Ke(t);function y(){return t[34](t[40])}function S(){return t[35](t[40])}return{key:e,first:null,c(){n=A("div"),i=A("div"),o=A("div"),s=new Ht(!1),a=H(),g&&g.c(),r=H(),this.h()},l(C){n=P(C,"DIV",{role:!0,"aria-live":!0});var E=L(n);i=P(E,"DIV",{class:!0,"data-testid":!0});var x=L(i);o=P(x,"DIV",{class:!0});var V=L(o);s=Ut(V,!1),V.forEach(k),a=U(x),g&&g.l(x),x.forEach(k),r=U(E),E.forEach(k),this.h()},h(){s.a=null,v(o,"class","text-base"),v(i,"class",u="toast "+t[12]+" "+(t[38].background??t[0])+" "+(t[38].classes??"")),v(i,"data-testid","toast"),v(n,"role",f=t[38].hideDismiss?"alert":"alertdialog"),v(n,"aria-live","polite"),this.first=n},m(C,E){D(C,n,E),O(n,i),O(i,o),s.m(l,o),O(i,a),g&&g.m(i,null),O(n,r),_=!0,w||(h=[W(n,"outroend",t[33]),W(n,"mouseenter",y),W(n,"mouseleave",S)],w=!0)},p(C,E){t=C,(!_||E[0]&512)&&l!==(l=t[38].message+"")&&s.p(l),t[38].action||!t[38].hideDismiss?g?g.p(t,E):(g=Ke(t),g.c(),g.m(i,null)):g&&(g.d(1),g=null),(!_||E[0]&4609&&u!==(u="toast "+t[12]+" "+(t[38].background??t[0])+" "+(t[38].classes??"")))&&v(i,"class",u),(!_||E[0]&512&&f!==(f=t[38].hideDismiss?"alert":"alertdialog"))&&v(n,"role",f)},r(){m=n.getBoundingClientRect()},f(){Ci(n),b(),mn(n,m)},a(){b(),b=Ti(n,m,Ai,{duration:t[4]?250:0})},i(C){_||(Lt(()=>{_&&(d&&d.end(1),c=le(n,At,{transition:t[5],params:{x:t[10].x,y:t[10].y,...t[6]},enabled:t[4]}),c.start())}),_=!0)},o(C){c&&c.invalidate(),d=an(n,At,{transition:t[7],params:{x:t[10].x,y:t[10].y,...t[8]},enabled:t[4]}),_=!1},d(C){C&&k(n),g&&g.d(),C&&d&&d.end(),w=!1,Wt(h)}}}function ji(e){let t,n,i=(e[9].length>0||e[11])&&je(e);return{c(){i&&i.c(),t=Y()},l(o){i&&i.l(o),t=Y()},m(o,s){i&&i.m(o,s),D(o,t,s),n=!0},p(o,s){o[9].length>0||o[11]?i?(i.p(o,s),s[0]&2560&&R(i,1)):(i=je(o),i.c(),R(i,1),i.m(t.parentNode,t)):i&&(lt(),M(i,1,1,()=>{i=null}),rt())},i(o){n||(R(i),n=!0)},o(o){M(i),n=!1},d(o){o&&k(t),i&&i.d(o)}}}const Ki="flex fixed top-0 left-0 right-0 bottom-0 pointer-events-none",qi="flex flex-col gap-y-2",Yi="flex justify-between items-center pointer-events-auto",Gi="flex items-center space-x-2";function Xi(e,t,n){let i,o,s,l,a,u;at(e,cn,T=>n(36,u=T));const r=ni();at(e,r,T=>n(30,a=T));let{position:f="b"}=t,{max:c=3}=t,{background:d="variant-filled-secondary"}=t,{width:m="max-w-[640px]"}=t,{color:b=""}=t,{padding:_="p-4"}=t,{spacing:w="space-x-4"}=t,{rounded:h="rounded-container-token"}=t,{shadow:g="shadow-lg"}=t,{zIndex:y="z-[888]"}=t,{buttonAction:S="btn variant-filled"}=t,{buttonDismiss:C="btn-icon btn-icon-sm variant-filled"}=t,{buttonDismissLabel:E="✕"}=t,{transitions:x=!u}=t,{transitionIn:V=$t}=t,{transitionInParams:z={duration:250}}=t,{transitionOut:B=$t}=t,{transitionOutParams:j={duration:250}}=t,N,F,I={x:0,y:0};switch(f){case"t":N="justify-center items-start",F="items-center",I={x:0,y:-100};break;case"b":N="justify-center items-end",F="items-center",I={x:0,y:100};break;case"l":N="justify-start items-center",F="items-start",I={x:-100,y:0};break;case"r":N="justify-end items-center",F="items-end",I={x:100,y:0};break;case"tl":N="justify-start items-start",F="items-start",I={x:-100,y:0};break;case"tr":N="justify-end items-start",F="items-end",I={x:100,y:0};break;case"bl":N="justify-start items-end",F="items-start",I={x:-100,y:0};break;case"br":N="justify-end items-end",F="items-end",I={x:100,y:0};break}function $(T){var tt,dt;(dt=(tt=a[T])==null?void 0:tt.action)==null||dt.response(),r.close(a[T].id)}function G(T){var tt;(tt=a[T])!=null&&tt.hoverable&&(r.freeze(T),n(13,o+=" scale-[105%]"))}function q(T){var tt;(tt=a[T])!=null&&tt.hoverable&&(r.unfreeze(T),n(13,o=o.replace(" scale-[105%]","")))}let X=!1;const K=T=>$(T),kt=T=>r.close(T.id),Yt=()=>{l.length===0&&n(11,X=!1)},Nt=T=>G(T),vt=T=>q(T);return e.$$set=T=>{n(37,t=ht(ht({},t),Qt(T))),"position"in T&&n(19,f=T.position),"max"in T&&n(20,c=T.max),"background"in T&&n(0,d=T.background),"width"in T&&n(21,m=T.width),"color"in T&&n(22,b=T.color),"padding"in T&&n(23,_=T.padding),"spacing"in T&&n(24,w=T.spacing),"rounded"in T&&n(25,h=T.rounded),"shadow"in T&&n(26,g=T.shadow),"zIndex"in T&&n(27,y=T.zIndex),"buttonAction"in T&&n(1,S=T.buttonAction),"buttonDismiss"in T&&n(2,C=T.buttonDismiss),"buttonDismissLabel"in T&&n(3,E=T.buttonDismissLabel),"transitions"in T&&n(4,x=T.transitions),"transitionIn"in T&&n(5,V=T.transitionIn),"transitionInParams"in T&&n(6,z=T.transitionInParams),"transitionOut"in T&&n(7,B=T.transitionOut),"transitionOutParams"in T&&n(8,j=T.transitionOutParams)},e.$$.update=()=>{n(14,i=`${Ki} ${N} ${y} ${t.class||""}`),e.$$.dirty[0]&545259520&&n(13,o=`${qi} ${F} ${_}`),e.$$.dirty[0]&132120576&&n(12,s=`${Yi} ${m} ${b} ${_} ${w} ${h} ${g}`),e.$$.dirty[0]&1074790400&&n(9,l=Array.from(a).slice(0,c)),e.$$.dirty[0]&512&&l.length&&n(11,X=!0)},t=Qt(t),[d,S,C,E,x,V,z,B,j,l,I,X,s,o,i,r,$,G,q,f,c,m,b,_,w,h,g,y,N,F,a,K,kt,Yt,Nt,vt]}class Qi extends jt{constructor(t){super(),Kt(this,t,Xi,ji,It,{position:19,max:20,background:0,width:21,color:22,padding:23,spacing:24,rounded:25,shadow:26,zIndex:27,buttonAction:1,buttonDismiss:2,buttonDismissLabel:3,transitions:4,transitionIn:5,transitionInParams:6,transitionOut:7,transitionOutParams:8},null,[-1,-1])}}function Ji(){var e,t;return!!(globalThis.window&&((t=(e=window==null?void 0:window.crypto)==null?void 0:e.subtle)!=null&&t.importKey))}function Zi(e){let t=new TextEncoder;return window.crypto.subtle.importKey("raw",t.encode(e),{name:"PBKDF2"},!1,["deriveBits","deriveKey"])}function $i(e,t){return window.crypto.subtle.deriveKey({name:"PBKDF2",salt:t,iterations:1e5,hash:"SHA-256"},e,{name:"AES-GCM",length:256},!0,["encrypt","decrypt"])}async function to(e,t,n,i){fn("decrypting",e,t,n,i);const o=me(e),s=me(t),l=me(n);let a=await Zi(i),u=await $i(a,s);try{let r=await window.crypto.subtle.decrypt({name:"AES-GCM",iv:l},u,o);return si(r)}catch(r){li("Failed to decrypt",r)}}const Xe=[255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,62,255,255,255,63,52,53,54,55,56,57,58,59,60,61,255,255,255,0,255,255,255,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,255,255,255,255,255,255,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51];function Gt(e){if(e>=Xe.length)throw new Error("Unable to parse base64 string.");const t=Xe[e];if(t===255)throw new Error("Unable to parse base64 string.");return t}function me(e){if(e.length%4!==0)throw new Error("Unable to parse base64 string.");const t=e.indexOf("=");if(t!==-1&&t<e.length-2)throw new Error("Unable to parse base64 string.");let n=e.endsWith("==")?2:e.endsWith("=")?1:0,i=e.length,o=new Uint8Array(3*(i/4)),s;for(let l=0,a=0;l<i;l+=4,a+=3)s=Gt(e.charCodeAt(l))<<18|Gt(e.charCodeAt(l+1))<<12|Gt(e.charCodeAt(l+2))<<6|Gt(e.charCodeAt(l+3)),o[a]=s>>16,o[a+1]=s>>8&255,o[a+2]=s&255;return o.subarray(0,o.length-n)}const eo=["top","right","bottom","left"],Qe=["start","end"],Je=eo.reduce((e,t)=>e.concat(t,t+"-"+Qe[0],t+"-"+Qe[1]),[]),Dt=Math.min,Tt=Math.max,ne=Math.round,Xt=Math.floor,wt=e=>({x:e,y:e}),no={left:"right",right:"left",bottom:"top",top:"bottom"},io={start:"end",end:"start"};function pe(e,t,n){return Tt(e,Dt(t,n))}function Bt(e,t){return typeof e=="function"?e(t):e}function _t(e){return e.split("-")[0]}function ct(e){return e.split("-")[1]}function hn(e){return e==="x"?"y":"x"}function we(e){return e==="y"?"height":"width"}function Rt(e){return["top","bottom"].includes(_t(e))?"y":"x"}function ye(e){return hn(Rt(e))}function gn(e,t,n){n===void 0&&(n=!1);const i=ct(e),o=ye(e),s=we(o);let l=o==="x"?i===(n?"end":"start")?"right":"left":i==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(l=oe(l)),[l,oe(l)]}function oo(e){const t=oe(e);return[ie(e),t,ie(t)]}function ie(e){return e.replace(/start|end/g,t=>io[t])}function so(e,t,n){const i=["left","right"],o=["right","left"],s=["top","bottom"],l=["bottom","top"];switch(e){case"top":case"bottom":return n?t?o:i:t?i:o;case"left":case"right":return t?s:l;default:return[]}}function lo(e,t,n,i){const o=ct(e);let s=so(_t(e),n==="start",i);return o&&(s=s.map(l=>l+"-"+o),t&&(s=s.concat(s.map(ie)))),s}function oe(e){return e.replace(/left|right|bottom|top/g,t=>no[t])}function ro(e){return{top:0,right:0,bottom:0,left:0,...e}}function bn(e){return typeof e!="number"?ro(e):{top:e,right:e,bottom:e,left:e}}function se(e){const{x:t,y:n,width:i,height:o}=e;return{width:i,height:o,top:n,left:t,right:t+i,bottom:n+o,x:t,y:n}}function Ze(e,t,n){let{reference:i,floating:o}=e;const s=Rt(t),l=ye(t),a=we(l),u=_t(t),r=s==="y",f=i.x+i.width/2-o.width/2,c=i.y+i.height/2-o.height/2,d=i[a]/2-o[a]/2;let m;switch(u){case"top":m={x:f,y:i.y-o.height};break;case"bottom":m={x:f,y:i.y+i.height};break;case"right":m={x:i.x+i.width,y:c};break;case"left":m={x:i.x-o.width,y:c};break;default:m={x:i.x,y:i.y}}switch(ct(t)){case"start":m[l]-=d*(n&&r?-1:1);break;case"end":m[l]+=d*(n&&r?-1:1);break}return m}const ao=async(e,t,n)=>{const{placement:i="bottom",strategy:o="absolute",middleware:s=[],platform:l}=n,a=s.filter(Boolean),u=await(l.isRTL==null?void 0:l.isRTL(t));let r=await l.getElementRects({reference:e,floating:t,strategy:o}),{x:f,y:c}=Ze(r,i,u),d=i,m={},b=0;for(let _=0;_<a.length;_++){const{name:w,fn:h}=a[_],{x:g,y,data:S,reset:C}=await h({x:f,y:c,initialPlacement:i,placement:d,strategy:o,middlewareData:m,rects:r,platform:l,elements:{reference:e,floating:t}});f=g??f,c=y??c,m={...m,[w]:{...m[w],...S}},C&&b<=50&&(b++,typeof C=="object"&&(C.placement&&(d=C.placement),C.rects&&(r=C.rects===!0?await l.getElementRects({reference:e,floating:t,strategy:o}):C.rects),{x:f,y:c}=Ze(r,d,u)),_=-1)}return{x:f,y:c,placement:d,strategy:o,middlewareData:m}};async function ke(e,t){var n;t===void 0&&(t={});const{x:i,y:o,platform:s,rects:l,elements:a,strategy:u}=e,{boundary:r="clippingAncestors",rootBoundary:f="viewport",elementContext:c="floating",altBoundary:d=!1,padding:m=0}=Bt(t,e),b=bn(m),w=a[d?c==="floating"?"reference":"floating":c],h=se(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(w)))==null||n?w:w.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:r,rootBoundary:f,strategy:u})),g=c==="floating"?{x:i,y:o,width:l.floating.width,height:l.floating.height}:l.reference,y=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),S=await(s.isElement==null?void 0:s.isElement(y))?await(s.getScale==null?void 0:s.getScale(y))||{x:1,y:1}:{x:1,y:1},C=se(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:g,offsetParent:y,strategy:u}):g);return{top:(h.top-C.top+b.top)/S.y,bottom:(C.bottom-h.bottom+b.bottom)/S.y,left:(h.left-C.left+b.left)/S.x,right:(C.right-h.right+b.right)/S.x}}const co=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:i,placement:o,rects:s,platform:l,elements:a,middlewareData:u}=t,{element:r,padding:f=0}=Bt(e,t)||{};if(r==null)return{};const c=bn(f),d={x:n,y:i},m=ye(o),b=we(m),_=await l.getDimensions(r),w=m==="y",h=w?"top":"left",g=w?"bottom":"right",y=w?"clientHeight":"clientWidth",S=s.reference[b]+s.reference[m]-d[m]-s.floating[b],C=d[m]-s.reference[m],E=await(l.getOffsetParent==null?void 0:l.getOffsetParent(r));let x=E?E[y]:0;(!x||!await(l.isElement==null?void 0:l.isElement(E)))&&(x=a.floating[y]||s.floating[b]);const V=S/2-C/2,z=x/2-_[b]/2-1,B=Dt(c[h],z),j=Dt(c[g],z),N=B,F=x-_[b]-j,I=x/2-_[b]/2+V,$=pe(N,I,F),G=!u.arrow&&ct(o)!=null&&I!==$&&s.reference[b]/2-(I<N?B:j)-_[b]/2<0,q=G?I<N?I-N:I-F:0;return{[m]:d[m]+q,data:{[m]:$,centerOffset:I-$-q,...G&&{alignmentOffset:q}},reset:G}}});function fo(e,t,n){return(e?[...n.filter(o=>ct(o)===e),...n.filter(o=>ct(o)!==e)]:n.filter(o=>_t(o)===o)).filter(o=>e?ct(o)===e||(t?ie(o)!==o:!1):!0)}const uo=function(e){return e===void 0&&(e={}),{name:"autoPlacement",options:e,async fn(t){var n,i,o;const{rects:s,middlewareData:l,placement:a,platform:u,elements:r}=t,{crossAxis:f=!1,alignment:c,allowedPlacements:d=Je,autoAlignment:m=!0,...b}=Bt(e,t),_=c!==void 0||d===Je?fo(c||null,m,d):d,w=await ke(t,b),h=((n=l.autoPlacement)==null?void 0:n.index)||0,g=_[h];if(g==null)return{};const y=gn(g,s,await(u.isRTL==null?void 0:u.isRTL(r.floating)));if(a!==g)return{reset:{placement:_[0]}};const S=[w[_t(g)],w[y[0]],w[y[1]]],C=[...((i=l.autoPlacement)==null?void 0:i.overflows)||[],{placement:g,overflows:S}],E=_[h+1];if(E)return{data:{index:h+1,overflows:C},reset:{placement:E}};const x=C.map(B=>{const j=ct(B.placement);return[B.placement,j&&f?B.overflows.slice(0,2).reduce((N,F)=>N+F,0):B.overflows[0],B.overflows]}).sort((B,j)=>B[1]-j[1]),z=((o=x.filter(B=>B[2].slice(0,ct(B[0])?2:3).every(j=>j<=0))[0])==null?void 0:o[0])||x[0][0];return z!==a?{data:{index:h+1,overflows:C},reset:{placement:z}}:{}}}},mo=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,i;const{placement:o,middlewareData:s,rects:l,initialPlacement:a,platform:u,elements:r}=t,{mainAxis:f=!0,crossAxis:c=!0,fallbackPlacements:d,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:_=!0,...w}=Bt(e,t);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const h=_t(o),g=Rt(a),y=_t(a)===a,S=await(u.isRTL==null?void 0:u.isRTL(r.floating)),C=d||(y||!_?[oe(a)]:oo(a)),E=b!=="none";!d&&E&&C.push(...lo(a,_,b,S));const x=[a,...C],V=await ke(t,w),z=[];let B=((i=s.flip)==null?void 0:i.overflows)||[];if(f&&z.push(V[h]),c){const I=gn(o,l,S);z.push(V[I[0]],V[I[1]])}if(B=[...B,{placement:o,overflows:z}],!z.every(I=>I<=0)){var j,N;const I=(((j=s.flip)==null?void 0:j.index)||0)+1,$=x[I];if($)return{data:{index:I,overflows:B},reset:{placement:$}};let G=(N=B.filter(q=>q.overflows[0]<=0).sort((q,X)=>q.overflows[1]-X.overflows[1])[0])==null?void 0:N.placement;if(!G)switch(m){case"bestFit":{var F;const q=(F=B.filter(X=>{if(E){const K=Rt(X.placement);return K===g||K==="y"}return!0}).map(X=>[X.placement,X.overflows.filter(K=>K>0).reduce((K,kt)=>K+kt,0)]).sort((X,K)=>X[1]-K[1])[0])==null?void 0:F[0];q&&(G=q);break}case"initialPlacement":G=a;break}if(o!==G)return{reset:{placement:G}}}return{}}}};async function ho(e,t){const{placement:n,platform:i,elements:o}=e,s=await(i.isRTL==null?void 0:i.isRTL(o.floating)),l=_t(n),a=ct(n),u=Rt(n)==="y",r=["left","top"].includes(l)?-1:1,f=s&&u?-1:1,c=Bt(t,e);let{mainAxis:d,crossAxis:m,alignmentAxis:b}=typeof c=="number"?{mainAxis:c,crossAxis:0,alignmentAxis:null}:{mainAxis:c.mainAxis||0,crossAxis:c.crossAxis||0,alignmentAxis:c.alignmentAxis};return a&&typeof b=="number"&&(m=a==="end"?b*-1:b),u?{x:m*f,y:d*r}:{x:d*r,y:m*f}}const go=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,i;const{x:o,y:s,placement:l,middlewareData:a}=t,u=await ho(t,e);return l===((n=a.offset)==null?void 0:n.placement)&&(i=a.arrow)!=null&&i.alignmentOffset?{}:{x:o+u.x,y:s+u.y,data:{...u,placement:l}}}}},bo=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:i,placement:o}=t,{mainAxis:s=!0,crossAxis:l=!1,limiter:a={fn:w=>{let{x:h,y:g}=w;return{x:h,y:g}}},...u}=Bt(e,t),r={x:n,y:i},f=await ke(t,u),c=Rt(_t(o)),d=hn(c);let m=r[d],b=r[c];if(s){const w=d==="y"?"top":"left",h=d==="y"?"bottom":"right",g=m+f[w],y=m-f[h];m=pe(g,m,y)}if(l){const w=c==="y"?"top":"left",h=c==="y"?"bottom":"right",g=b+f[w],y=b-f[h];b=pe(g,b,y)}const _=a.fn({...t,[d]:m,[c]:b});return{..._,data:{x:_.x-n,y:_.y-i,enabled:{[d]:s,[c]:l}}}}}};function re(){return typeof window<"u"}function Mt(e){return pn(e)?(e.nodeName||"").toLowerCase():"#document"}function Z(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function ut(e){var t;return(t=(pn(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function pn(e){return re()?e instanceof Node||e instanceof Z(e).Node:!1}function ot(e){return re()?e instanceof Element||e instanceof Z(e).Element:!1}function ft(e){return re()?e instanceof HTMLElement||e instanceof Z(e).HTMLElement:!1}function $e(e){return!re()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Z(e).ShadowRoot}function qt(e){const{overflow:t,overflowX:n,overflowY:i,display:o}=st(e);return/auto|scroll|overlay|hidden|clip/.test(t+i+n)&&!["inline","contents"].includes(o)}function po(e){return["table","td","th"].includes(Mt(e))}function ae(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function Te(e){const t=Ce(),n=ot(e)?st(e):e;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(i=>(n.willChange||"").includes(i))||["paint","layout","strict","content"].some(i=>(n.contain||"").includes(i))}function _o(e){let t=yt(e);for(;ft(t)&&!xt(t);){if(Te(t))return t;if(ae(t))return null;t=yt(t)}return null}function Ce(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function xt(e){return["html","body","#document"].includes(Mt(e))}function st(e){return Z(e).getComputedStyle(e)}function ce(e){return ot(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function yt(e){if(Mt(e)==="html")return e;const t=e.assignedSlot||e.parentNode||$e(e)&&e.host||ut(e);return $e(t)?t.host:t}function _n(e){const t=yt(e);return xt(t)?e.ownerDocument?e.ownerDocument.body:e.body:ft(t)&&qt(t)?t:_n(t)}function zt(e,t,n){var i;t===void 0&&(t=[]),n===void 0&&(n=!0);const o=_n(e),s=o===((i=e.ownerDocument)==null?void 0:i.body),l=Z(o);if(s){const a=_e(l);return t.concat(l,l.visualViewport||[],qt(o)?o:[],a&&n?zt(a):[])}return t.concat(o,zt(o,[],n))}function _e(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function vn(e){const t=st(e);let n=parseFloat(t.width)||0,i=parseFloat(t.height)||0;const o=ft(e),s=o?e.offsetWidth:n,l=o?e.offsetHeight:i,a=ne(n)!==s||ne(i)!==l;return a&&(n=s,i=l),{width:n,height:i,$:a}}function Oe(e){return ot(e)?e:e.contextElement}function Pt(e){const t=Oe(e);if(!ft(t))return wt(1);const n=t.getBoundingClientRect(),{width:i,height:o,$:s}=vn(t);let l=(s?ne(n.width):n.width)/i,a=(s?ne(n.height):n.height)/o;return(!l||!Number.isFinite(l))&&(l=1),(!a||!Number.isFinite(a))&&(a=1),{x:l,y:a}}const vo=wt(0);function wn(e){const t=Z(e);return!Ce()||!t.visualViewport?vo:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function wo(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Z(e)?!1:t}function Ot(e,t,n,i){t===void 0&&(t=!1),n===void 0&&(n=!1);const o=e.getBoundingClientRect(),s=Oe(e);let l=wt(1);t&&(i?ot(i)&&(l=Pt(i)):l=Pt(e));const a=wo(s,n,i)?wn(s):wt(0);let u=(o.left+a.x)/l.x,r=(o.top+a.y)/l.y,f=o.width/l.x,c=o.height/l.y;if(s){const d=Z(s),m=i&&ot(i)?Z(i):i;let b=d,_=_e(b);for(;_&&i&&m!==b;){const w=Pt(_),h=_.getBoundingClientRect(),g=st(_),y=h.left+(_.clientLeft+parseFloat(g.paddingLeft))*w.x,S=h.top+(_.clientTop+parseFloat(g.paddingTop))*w.y;u*=w.x,r*=w.y,f*=w.x,c*=w.y,u+=y,r+=S,b=Z(_),_=_e(b)}}return se({width:f,height:c,x:u,y:r})}function yo(e){let{elements:t,rect:n,offsetParent:i,strategy:o}=e;const s=o==="fixed",l=ut(i),a=t?ae(t.floating):!1;if(i===l||a&&s)return n;let u={scrollLeft:0,scrollTop:0},r=wt(1);const f=wt(0),c=ft(i);if((c||!c&&!s)&&((Mt(i)!=="body"||qt(l))&&(u=ce(i)),ft(i))){const d=Ot(i);r=Pt(i),f.x=d.x+i.clientLeft,f.y=d.y+i.clientTop}return{width:n.width*r.x,height:n.height*r.y,x:n.x*r.x-u.scrollLeft*r.x+f.x,y:n.y*r.y-u.scrollTop*r.y+f.y}}function ko(e){return Array.from(e.getClientRects())}function ve(e,t){const n=ce(e).scrollLeft;return t?t.left+n:Ot(ut(e)).left+n}function To(e){const t=ut(e),n=ce(e),i=e.ownerDocument.body,o=Tt(t.scrollWidth,t.clientWidth,i.scrollWidth,i.clientWidth),s=Tt(t.scrollHeight,t.clientHeight,i.scrollHeight,i.clientHeight);let l=-n.scrollLeft+ve(e);const a=-n.scrollTop;return st(i).direction==="rtl"&&(l+=Tt(t.clientWidth,i.clientWidth)-o),{width:o,height:s,x:l,y:a}}function Co(e,t){const n=Z(e),i=ut(e),o=n.visualViewport;let s=i.clientWidth,l=i.clientHeight,a=0,u=0;if(o){s=o.width,l=o.height;const r=Ce();(!r||r&&t==="fixed")&&(a=o.offsetLeft,u=o.offsetTop)}return{width:s,height:l,x:a,y:u}}function Oo(e,t){const n=Ot(e,!0,t==="fixed"),i=n.top+e.clientTop,o=n.left+e.clientLeft,s=ft(e)?Pt(e):wt(1),l=e.clientWidth*s.x,a=e.clientHeight*s.y,u=o*s.x,r=i*s.y;return{width:l,height:a,x:u,y:r}}function tn(e,t,n){let i;if(t==="viewport")i=Co(e,n);else if(t==="document")i=To(ut(e));else if(ot(t))i=Oo(t,n);else{const o=wn(e);i={...t,x:t.x-o.x,y:t.y-o.y}}return se(i)}function yn(e,t){const n=yt(e);return n===t||!ot(n)||xt(n)?!1:st(n).position==="fixed"||yn(n,t)}function Eo(e,t){const n=t.get(e);if(n)return n;let i=zt(e,[],!1).filter(a=>ot(a)&&Mt(a)!=="body"),o=null;const s=st(e).position==="fixed";let l=s?yt(e):e;for(;ot(l)&&!xt(l);){const a=st(l),u=Te(l);!u&&a.position==="fixed"&&(o=null),(s?!u&&!o:!u&&a.position==="static"&&!!o&&["absolute","fixed"].includes(o.position)||qt(l)&&!u&&yn(e,l))?i=i.filter(f=>f!==l):o=a,l=yt(l)}return t.set(e,i),i}function So(e){let{element:t,boundary:n,rootBoundary:i,strategy:o}=e;const l=[...n==="clippingAncestors"?ae(t)?[]:Eo(t,this._c):[].concat(n),i],a=l[0],u=l.reduce((r,f)=>{const c=tn(t,f,o);return r.top=Tt(c.top,r.top),r.right=Dt(c.right,r.right),r.bottom=Dt(c.bottom,r.bottom),r.left=Tt(c.left,r.left),r},tn(t,a,o));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function Ao(e){const{width:t,height:n}=vn(e);return{width:t,height:n}}function Po(e,t,n){const i=ft(t),o=ut(t),s=n==="fixed",l=Ot(e,!0,s,t);let a={scrollLeft:0,scrollTop:0};const u=wt(0);if(i||!i&&!s)if((Mt(t)!=="body"||qt(o))&&(a=ce(t)),i){const m=Ot(t,!0,s,t);u.x=m.x+t.clientLeft,u.y=m.y+t.clientTop}else o&&(u.x=ve(o));let r=0,f=0;if(o&&!i&&!s){const m=o.getBoundingClientRect();f=m.top+a.scrollTop,r=m.left+a.scrollLeft-ve(o,m)}const c=l.left+a.scrollLeft-u.x-r,d=l.top+a.scrollTop-u.y-f;return{x:c,y:d,width:l.width,height:l.height}}function he(e){return st(e).position==="static"}function en(e,t){if(!ft(e)||st(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return ut(e)===n&&(n=n.ownerDocument.body),n}function kn(e,t){const n=Z(e);if(ae(e))return n;if(!ft(e)){let o=yt(e);for(;o&&!xt(o);){if(ot(o)&&!he(o))return o;o=yt(o)}return n}let i=en(e,t);for(;i&&po(i)&&he(i);)i=en(i,t);return i&&xt(i)&&he(i)&&!Te(i)?n:i||_o(e)||n}const Lo=async function(e){const t=this.getOffsetParent||kn,n=this.getDimensions,i=await n(e.floating);return{reference:Po(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}};function Do(e){return st(e).direction==="rtl"}const Ro={convertOffsetParentRelativeRectToViewportRelativeRect:yo,getDocumentElement:ut,getClippingRect:So,getOffsetParent:kn,getElementRects:Lo,getClientRects:ko,getDimensions:Ao,getScale:Pt,isElement:ot,isRTL:Do};function xo(e,t){let n=null,i;const o=ut(e);function s(){var a;clearTimeout(i),(a=n)==null||a.disconnect(),n=null}function l(a,u){a===void 0&&(a=!1),u===void 0&&(u=1),s();const{left:r,top:f,width:c,height:d}=e.getBoundingClientRect();if(a||t(),!c||!d)return;const m=Xt(f),b=Xt(o.clientWidth-(r+c)),_=Xt(o.clientHeight-(f+d)),w=Xt(r),g={rootMargin:-m+"px "+-b+"px "+-_+"px "+-w+"px",threshold:Tt(0,Dt(1,u))||1};let y=!0;function S(C){const E=C[0].intersectionRatio;if(E!==u){if(!y)return l();E?l(!1,E):i=setTimeout(()=>{l(!1,1e-7)},1e3)}y=!1}try{n=new IntersectionObserver(S,{...g,root:o.ownerDocument})}catch{n=new IntersectionObserver(S,g)}n.observe(e)}return l(!0),s}function Io(e,t,n,i){i===void 0&&(i={});const{ancestorScroll:o=!0,ancestorResize:s=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:u=!1}=i,r=Oe(e),f=o||s?[...r?zt(r):[],...zt(t)]:[];f.forEach(h=>{o&&h.addEventListener("scroll",n,{passive:!0}),s&&h.addEventListener("resize",n)});const c=r&&a?xo(r,n):null;let d=-1,m=null;l&&(m=new ResizeObserver(h=>{let[g]=h;g&&g.target===r&&m&&(m.unobserve(t),cancelAnimationFrame(d),d=requestAnimationFrame(()=>{var y;(y=m)==null||y.observe(t)})),n()}),r&&!u&&m.observe(r),m.observe(t));let b,_=u?Ot(e):null;u&&w();function w(){const h=Ot(e);_&&(h.x!==_.x||h.y!==_.y||h.width!==_.width||h.height!==_.height)&&n(),_=h,b=requestAnimationFrame(w)}return n(),()=>{var h;f.forEach(g=>{o&&g.removeEventListener("scroll",n),s&&g.removeEventListener("resize",n)}),c==null||c(),(h=m)==null||h.disconnect(),m=null,u&&cancelAnimationFrame(b)}}const Bo=go,Mo=uo,No=bo,Fo=mo,Vo=co,zo=(e,t,n)=>{const i=new Map,o={platform:Ro,...n},s={...o.platform,_c:i};return ao(e,t,{...o,platform:s})};function nn(e,t,n){const i=e.slice();return i[14]=t[n],i}function Wo(e){let t,n,i,o,s,l,a,u=(e[4]||"...")+"",r,f,c,d,m=e[1]?"Disconnect":"Connect",b,_,w,h;return{c(){t=A("span"),n=A("p"),i=et(e[0]),o=H(),s=A("p"),l=et("You Are: "),a=A("span"),r=et(u),f=H(),c=A("button"),d=A("span"),b=et(m),this.h()},l(g){t=P(g,"SPAN",{class:!0});var y=L(t);n=P(y,"P",{class:!0});var S=L(n);i=nt(S,e[0]),S.forEach(k),o=U(y),s=P(y,"P",{class:!0});var C=L(s);l=nt(C,"You Are: "),a=P(C,"SPAN",{class:!0});var E=L(a);r=nt(E,u),E.forEach(k),C.forEach(k),y.forEach(k),f=U(g),c=P(g,"BUTTON",{class:!0});var x=L(c);d=P(x,"SPAN",{class:!0});var V=L(d);b=nt(V,m),V.forEach(k),x.forEach(k),this.h()},h(){v(n,"class","m-0 p-0 font-bold"),v(a,"class","font-bold"),v(s,"class","m-0 p-0 text-primary-200"),v(t,"class","px-3 align-middle text-right text-white"),v(d,"class","whitespace-nowrap inline"),v(c,"class","btn mr-3 btn-md variant-filled-error align-top pointer-events-auto")},m(g,y){D(g,t,y),O(t,n),O(n,i),O(t,o),O(t,s),O(s,l),O(s,a),O(a,r),D(g,f,y),D(g,c,y),O(c,d),O(d,b),w||(h=W(c,"click",e[13]),w=!0)},p(g,y){y&1&&it(i,g[0]),y&16&&u!==(u=(g[4]||"...")+"")&&it(r,u),y&2&&m!==(m=g[1]?"Disconnect":"Connect")&&it(b,m)},i(g){g&&(_||Lt(()=>{_=le(c,Zt,{}),_.start()}))},o:J,d(g){g&&(k(t),k(f),k(c)),w=!1,h()}}}function Ho(e){let t,n="Connect to a ROV:",i,o,s,l=ee(e[3]),a=[];for(let r=0;r<l.length;r+=1)a[r]=on(nn(e,l,r));const u=r=>M(a[r],1,1,()=>{a[r]=null});return{c(){t=A("h2"),t.textContent=n,i=H(),o=A("div");for(let r=0;r<a.length;r+=1)a[r].c();this.h()},l(r){t=P(r,"H2",{class:!0,"data-svelte-h":!0}),rn(t)!=="svelte-1tnk2i1"&&(t.textContent=n),i=U(r),o=P(r,"DIV",{class:!0});var f=L(o);for(let c=0;c<a.length;c+=1)a[c].l(f);f.forEach(k),this.h()},h(){v(t,"class","text-center py-4 px-6 font-bold"),v(o,"class","flex flex-col align-stretch overflow-y-auto w-full p-3 pt-0")},m(r,f){D(r,t,f),D(r,i,f),D(r,o,f);for(let c=0;c<a.length;c+=1)a[c]&&a[c].m(o,null);s=!0},p(r,f){if(f&776){l=ee(r[3]);let c;for(c=0;c<l.length;c+=1){const d=nn(r,l,c);a[c]?(a[c].p(d,f),R(a[c],1)):(a[c]=on(d),a[c].c(),R(a[c],1),a[c].m(o,null))}for(lt(),c=l.length;c<a.length;c+=1)u(c);rt()}},i(r){if(!s){for(let f=0;f<l.length;f+=1)R(a[f]);s=!0}},o(r){a=a.filter(Boolean);for(let f=0;f<a.length;f+=1)M(a[f]);s=!1},d(r){r&&(k(t),k(i),k(o)),zn(a,r)}}}function Uo(e){let t,n="Searching for online ROVs...";return{c(){t=A("h2"),t.textContent=n,this.h()},l(i){t=P(i,"H2",{class:!0,"data-svelte-h":!0}),rn(t)!=="svelte-15o12co"&&(t.textContent=n),this.h()},h(){v(t,"class","text-center py-4 px-6 font-bold")},m(i,o){D(i,t,o)},p:J,i:J,o:J,d(i){i&&k(t)}}}function on(e){let t,n=e[14].name+"",i,o,s,l,a,u,r,f,c;s=new yi({props:{variant:"round",class:"text-2xl inline-block pointer-events-none",tabindex:"-1"}});function d(){return e[12](e[14])}return{c(){t=A("button"),i=et(n),o=H(),gt(s.$$.fragment),l=H(),this.h()},l(m){t=P(m,"BUTTON",{class:!0});var b=L(t);i=nt(b,n),o=U(b),Ct(s.$$.fragment,b),l=U(b),b.forEach(k),this.h()},h(){t.disabled=a=!e[9](e[14].token),v(t,"class","btn ring-white variant-filled-primary align-top block m-1 pointer-events-auto")},m(m,b){D(m,t,b),O(t,i),O(t,o),bt(s,t,null),O(t,l),r=!0,f||(c=W(t,"click",d),f=!0)},p(m,b){e=m,(!r||b&8)&&n!==(n=e[14].name+"")&&it(i,n),(!r||b&8&&a!==(a=!e[9](e[14].token)))&&(t.disabled=a)},i(m){r||(R(s.$$.fragment,m),m&&(u||Lt(()=>{u=le(t,Zt,{}),u.start()})),r=!0)},o(m){M(s.$$.fragment,m),r=!1},d(m){m&&k(t),pt(s),f=!1,c()}}}function jo(e){let t,n,i,o,s,l,a;const u=[Uo,Ho,Wo],r=[];function f(c,d){return c[3].length==0?0:c[1]?2:1}return i=f(e),o=r[i]=u[i](e),{c(){t=A("div"),n=A("div"),o.c(),this.h()},l(c){t=P(c,"DIV",{id:!0,class:!0});var d=L(t);n=P(d,"DIV",{class:!0});var m=L(n);o.l(m),m.forEach(k),d.forEach(k),this.h()},h(){v(n,"class",s=`border-2 border-surface-500 m-0 items-center flex whitespace-nowrap text-center rounded-xl max-h-full  ${e[1]?"rounded-b-none border-b-0 bg-surface-100-800-token":"flex-col shadow-2xl variant-glass-surface"} ${e[1]&&e[2]?"hidden":""}`),De(n,"p-1",e[1]),v(t,"id","rov_chooser"),v(t,"class",l=Re(`absolute left-1/2 bottom-0  -translate-x-1/2 transition-all overflow-visible pointer-events-none select-none  ${e[1]?"  ":"disconnected  top-0 pt-12 sm:pt-0"} `)+" svelte-1hnycqg")},m(c,d){D(c,t,d),O(t,n),r[i].m(n,null),a=!0},p(c,[d]){let m=i;i=f(c),i===m?r[i].p(c,d):(lt(),M(r[m],1,1,()=>{r[m]=null}),rt(),o=r[i],o?o.p(c,d):(o=r[i]=u[i](c),o.c()),R(o,1),o.m(n,null)),(!a||d&6&&s!==(s=`border-2 border-surface-500 m-0 items-center flex whitespace-nowrap text-center rounded-xl max-h-full  ${c[1]?"rounded-b-none border-b-0 bg-surface-100-800-token":"flex-col shadow-2xl variant-glass-surface"} ${c[1]&&c[2]?"hidden":""}`))&&v(n,"class",s),(!a||d&6)&&De(n,"p-1",c[1]),(!a||d&2&&l!==(l=Re(`absolute left-1/2 bottom-0  -translate-x-1/2 transition-all overflow-visible pointer-events-none select-none  ${c[1]?"  ":"disconnected  top-0 pt-12 sm:pt-0"} `)+" svelte-1hnycqg"))&&v(t,"class",l)},i(c){a||(R(o),a=!0)},o(c){M(o),a=!1},d(c){c&&k(t),r[i].d()}}}function Ko(e,t,n){let i,o,s,l,a;at(e,un,h=>n(2,s=h));let{selectedRov:u=""}=t;const r=mt.connectionState;at(e,r,h=>n(11,o=h));const f=mt.openLivekitRoomInfo;at(e,f,h=>n(3,l=h));const c=mt.currentLivekitIdentity;at(e,c,h=>n(4,a=h));async function d(h){if(!h.token)return Et("ROV is not ready. Please wait & try again.",5e3,!1,St.error);n(0,u=h.name);let y=(de().getItem("authTokens")||{})[h.name]||null;if(y){const S=await ue(y);if(S&&h.token.encrypted&&!Be.get().has(S))return Me("Using cached token for ROV",h.name),mt.connectToLivekitRoom(h.name,y);Me("Cached token is invalid. Removing it.",h.name,h.token),de().updateItem("authTokens",{[h.name]:void 0}),y=null}if(h.token.encrypted){n(0,u=h.name);const S=h.token.salt,C=h.token.iv;if(!Ji())return!window.isSecureContext||window.location.protocol!=="https:"?ge("Cannot access password protected ROV",{body:"<b>Non-secure web address detected</b><br/>For a better experience, please use the secure website (https). Password protected ROVs and game controllers will only work on the secure site.",modalClasses:"variant-filled-warning !bg-warning-500 w-fit max-w-xs px-6 py-5",buttonTextConfirm:"Go Secure",buttonTextCancel:"Cancel",response:E=>{E?window.location.protocol="https:":n(0,u="")}}):ri("Cannot access password protected ROV",{body:"This browser does not support the required encryption features.<br/>Please use a more modern browser.",modalClasses:"variant-filled-warning !bg-warning-500 w-fit max-w-xs px-6 py-5",response:()=>n(0,u="")});for(;;){await ai(200);const E=await ci("Enter ROV Password");if(!E)return;try{if(y=await to(h.token.token,S,C,E),!y||await ue(y)===!1){Et("Incorrect password. <br/> Please try again.",2e3,!1,St.warning);continue}Et("Password accepted. Connecting...",2e3,!1,St.success);break}catch(x){be("Token Decryption Failure:",x),Et("Invalid password. Please try again. <br/> (Token Decryption Failure)",2e3,!1,St.warning);continue}}}else y=h.token.token;y&&await ue(y)?(de().updateItem("authTokens",{[h.name]:y}),mt.connectToLivekitRoom(h.name,y)):(Et("ROV is not ready yet <br/>(Token expired or invalid)",6e3,!1,St.warning),n(0,u=""))}const m=h=>h&&!Be.get().has(h.userGivenIdentity),b=()=>{mt.close(),n(0,u="")},_=h=>d(h),w=()=>b();return e.$$set=h=>{"selectedRov"in h&&n(0,u=h.selectedRov)},e.$$.update=()=>{e.$$.dirty&2049&&n(1,i=u!=""&&o!==Ie.disconnectedOk&&o!==Ie.failed)},[u,i,s,l,a,r,f,c,d,m,b,o,_,w]}class qo extends jt{constructor(t){super(),Kt(this,t,Ko,jo,It,{selectedRov:0})}}function sn(e){let t,n,i,o,s;return{c(){t=A("div"),n=A("div"),i=H(),o=A("span"),s=et(e[0]),this.h()},l(l){t=P(l,"DIV",{id:!0,class:!0});var a=L(t);n=P(a,"DIV",{class:!0}),L(n).forEach(k),i=U(a),o=P(a,"SPAN",{id:!0,class:!0});var u=L(o);s=nt(u,e[0]),u.forEach(k),a.forEach(k),this.h()},h(){v(n,"class","svelte-1y00wgx"),v(o,"id","site_loading_text"),v(o,"class","svelte-1y00wgx"),v(t,"id","site_loading_indicator"),v(t,"class","lds-circle bg-surface-900 border-4 border-surface-700 shadow-2xl svelte-1y00wgx")},m(l,a){D(l,t,a),O(t,n),O(t,i),O(t,o),O(o,s)},p(l,a){a&1&&it(s,l[0])},d(l){l&&k(t)}}}function Yo(e){let t,n=e[0]!=null&&sn(e);return{c(){n&&n.c(),t=Y()},l(i){n&&n.l(i),t=Y()},m(i,o){n&&n.m(i,o),D(i,t,o)},p(i,[o]){i[0]!=null?n?n.p(i,o):(n=sn(i),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},i:J,o:J,d(i){i&&k(t),n&&n.d(i)}}}let Go=fi(null);function Xo(e,t,n){let i;return at(e,Go,o=>n(0,i=o)),[i]}class Qo extends jt{constructor(t){super(),Kt(this,t,Xo,Yo,It,{})}}class Jo{async start(){await this.checkIfInIframe()}checkLivekitSupported(){return ui()?!0:(ge("Browser Not Supported",{body:`Live connectivity features are missing<br/>
                       Use an updated browser such as <b>Chrome, Edge, Firefox</b>, or <b>Safari</b>.<br/>`,modalClasses:"w-fit max-w-xs px-6 py-5 variant-filled-error !bg-error-500",buttonTextCancel:"Check Connection",buttonTextConfirm:"Ok",response:t=>{t||(window.location.href="https://livekit.io/webrtc/browser-test")}}),!1)}async checkIfInIframe(){if(!this.checkLivekitSupported())return!1;if(window.parent===window){di("We are not in an iframe, trying to connect to Livekit Cloud...");try{await mt.initUsingCloudLivekitConnection()}catch(t){await this.failedToConnectToLivekitCloud(t)}}else fn("We are in an iframe, alerting user"),ge("Uh oh, rov control won't work here",{body:"Click OK to open this page outside BlueOS",response:()=>{window.open(window.location.toString())}})}async failedToConnectToLivekitCloud(t){throw be("Livekit Cloud Not Accessable",t),new Error("Byeeeee!")}async failedToConnectToLocalLivekit(t){be("Local Livekit Server Not Accessable: ",t)}async navigateToROVLocalIframePage(){window.location.href=dn.LIVEKIT_LOCAL_ENDPOINT+"/offlineframe"}}const Zo=new Jo;function ln(e){let t,n,i,o;return t=new qo({}),i=new Qo({}),{c(){gt(t.$$.fragment),n=H(),gt(i.$$.fragment)},l(s){Ct(t.$$.fragment,s),n=U(s),Ct(i.$$.fragment,s)},m(s,l){bt(t,s,l),D(s,n,l),bt(i,s,l),o=!0},i(s){o||(R(t.$$.fragment,s),R(i.$$.fragment,s),o=!0)},o(s){M(t.$$.fragment,s),M(i.$$.fragment,s),o=!1},d(s){s&&k(n),pt(t,s),pt(i,s)}}}function $o(e){let t,n,i,o,s,l,a;t=new Ui({props:{height:"h-auto max-h-screen",width:"w-modal max-w-full",zIndex:"z-40",regionBackdrop:"!overflow-y-auto",components:e[1]}}),i=new Qi({props:{position:"b",zIndex:"z-50",shadow:"shadow-3xl ring-2 ring-black",width:"w-fit max-w-full",padding:"py-3 px-4 lg:py-4 lg:px-4",max:5}});const u=e[4].default,r=Wn(u,e,e[3],null);let f=e[0]&&ln();return{c(){gt(t.$$.fragment),n=H(),gt(i.$$.fragment),o=H(),r&&r.c(),s=H(),f&&f.c(),l=Y()},l(c){Ct(t.$$.fragment,c),n=U(c),Ct(i.$$.fragment,c),o=U(c),r&&r.l(c),s=U(c),f&&f.l(c),l=Y()},m(c,d){bt(t,c,d),D(c,n,d),bt(i,c,d),D(c,o,d),r&&r.m(c,d),D(c,s,d),f&&f.m(c,d),D(c,l,d),a=!0},p(c,[d]){r&&r.p&&(!a||d&8)&&Hn(r,u,c,c[3],a?jn(u,c[3],d,null):Un(c[3]),null),c[0]?f?d&1&&R(f,1):(f=ln(),f.c(),R(f,1),f.m(l.parentNode,l)):f&&(lt(),M(f,1,1,()=>{f=null}),rt())},i(c){a||(R(t.$$.fragment,c),R(i.$$.fragment,c),R(r,c),R(f),a=!0)},o(c){M(t.$$.fragment,c),M(i.$$.fragment,c),M(r,c),M(f),a=!1},d(c){c&&(k(n),k(o),k(s),k(l)),pt(t,c),pt(i,c),r&&r.d(c),f&&f.d(c)}}}function ts(e,t,n){let i,o;at(e,ki,d=>n(2,o=d));let{$$slots:s={},$$scope:l}=t;Si(),mi();const a=hi();gi.set({computePosition:zo,autoUpdate:Io,autoPlacement:Mo,flip:Fo,shift:No,offset:Bo,arrow:Vo});let u;const r=()=>{for(let d=0;d<localStorage.length;d++){const m=localStorage.key(d);if(m.startsWith("log_")){const b=localStorage.getItem(m);if(b){const _=JSON.parse(b);_i.addLog(_.level,_.args,_.trace,_.kind,_.origin,_.timestamp)}}}};let f;const c=()=>{const m=vi();m!==null&&(Math.abs(m)>12e3&&Et('<h4 class="h4 mb-1">The clock on this device is off</h4>Please set the date & time in your computer settings',15e3,!1,St.warning),clearInterval(f))};return Kn(()=>{bi.set(dn.DEBUG_MODE),r();const d=()=>{un.set(document.fullscreenElement!==null)},m=()=>{mt.close()};return document.addEventListener("fullscreenchange",d),window.addEventListener("beforeunload",m),f=setInterval(c,2e3),c(),Zo.start(),Ne.startRequiredMsgLoop(),()=>{window.removeEventListener("beforeunload",m),document.removeEventListener("fullscreenchange",d)}}),qn(()=>{clearInterval(u),clearInterval(f),Ne.stopRequiredMsgLoop(),mt.close(),pi().cleanup()}),e.$$set=d=>{"$$scope"in d&&n(3,l=d.$$scope)},e.$$.update=()=>{e.$$.dirty&4&&n(0,i=!o.error&&o.route.id!=="/")},[i,a,o,l,s]}class as extends jt{constructor(t){super(),Kt(this,t,ts,$o,It,{})}}export{as as component,rs as universal};
//# sourceMappingURL=0.D1fVbOhu.js.map
