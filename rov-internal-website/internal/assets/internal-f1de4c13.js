var pe=Object.defineProperty;var he=(e,t,i)=>t in e?pe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i;var $=(e,t,i)=>(he(e,typeof t!="symbol"?t+"":t,i),i);import{d as dist,R as RoomEvent,C as ConnectionStates,a as Room$1,D as DisconnectReason$1,P as ParticipantEvent,M as MediaDeviceFailure,b as DataPacket_Kind$1,E as ENCODE_TXT,c as buffer,L as LIVEKIT_CLOUD_ENDPOINT,e as LIVEKIT_BACKEND_ROOM_CONNECTION_CONFIG,f as LIVEKIT_BACKEND_ROOM_CONFIG,S as SECONDS_IN_DAY}from"./consts-49c45d49.js";var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function getAugmentedNamespace(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var i=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};i.prototype=t.prototype}else i={};return Object.defineProperty(i,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(i,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})}),i}let computedTracker=[];function nStore(e){let t=[],i=(a,s=!0)=>(t.includes(a)||t.push(a),s&&a(e),()=>{t=t.filter(u=>u!=a)});function n(a){if(a===e&&(e===null||typeof e!="object"))return;let s=e;e=a;for(let u of t)u(e,s)}function r(){let a=computedTracker[computedTracker.length-1];return a&&i(a[0],!1),e}if(typeof e=="function")return computed(e);function o(){for(let a of t)a(e,e)}return{subscribe:i,set:n,get:r,refresh:o,update:a=>{typeof a=="function"&&n(a(e))}}}function computed(e){let t=nStore(null),i=[n];return n(),t;function n(){if(computedTracker.includes(i))throw Error("Circular computation");computedTracker.push(i);let r;try{r=e()}catch(o){throw computedTracker.pop(),o}computedTracker.pop(),t.set(r)}}function waitfor(e){return new Promise(t=>{setTimeout(()=>{t("")},e)})}function asyncExpBackoff(e,t=null,i=5,n=1e3,r=2){return async function(...o){let a,s=0;for(;s<i;)try{return await e.apply(t,o)}catch(u){a=u,console.warn("err:",a),await waitfor(n*Math.pow(r,s)),s++}throw new Error("asyncExpBackoff() func failed after "+s+" retries. Error: "+a)}}function changesSubscribe(e,t){let i=!1;return e.subscribe(r=>{if(i==!1){i=!0;return}t(r)})}function getWebsocketURL(e,t=!1){return e.replace("http","ws")}function getUniqueNumber(){const e=new Date().getTime()>>>0,t=typeof performance<"u"&&performance.now&&(performance.now()>>>0)*1e3||0,i=crypto.getRandomValues(new Uint8Array(1))[0]>>>0;return e*t*i}const adjectives=["Ancient","Dawn","Small","Broken","Red","Cold","Wild","Divine","Empty","Patient","Holy","Long","Wispy","White","Delicate","Bold","Billowing","Blue","Crimson","Aged","Misty","Snowy","Withered","Little","Frosty","Weathered","Nameless","Fragrant","Lively","Quiet","Purple","Proud","Dry","Bitter","Dark","Icy","Twilight","Wandering","Solitary","Morning","Lingering","Still","Late","Sparkling","Restless","Winter","Silent","Floral","Young","Green","Cool","Autumn","Falling","Spring","Summer","Polished","Hidden","Damp","Muddy","Black","Old","Rough"],nouns=["Pond","Snow","Glade","Hill","Voice","River","Sun","Dawn","Forest","Frog","Grass","Shadow","Dust","Water","Meadow","Moon","Thunder","Sun","Wildflower","Snowflake","Silence","Haze","Shape","Pine","Waterfall","Sound","Wood","Tree","Night","Flower","Dream","Cherry","Resonance","Firefly","Bush","Star","Darkness","Lake","Frost","Paper","Surf","Fog","Brook","Mountain","Field","Bird","Leaf","Sea","Water","Sky","Smoke","Sunset","Glitter","Dew","Butterfly","Wind","Fire","Rain","Morning","Feather","Cloud","Breeze","Violet","Wave","Droplet","Swamp","Village","Hut","Path","Book","Rain","Spell","Pig"];function getHumanReadableId(e,t=0){let i=adjectives.length>>>0,n=nouns.length>>>0,r=Math.max(i,n)>>>0,o=Math.max(1,(e+1)%r)>>>0,a=Math.max(1,(t+1)%r)>>>0,s=adjectives[(o+a)%i],u=nouns[o*a%n];return s+"-"+u}const crypto$2=crypto,isCryptoKey=e=>e instanceof CryptoKey,encoder=new TextEncoder,decoder=new TextDecoder;function concat(...e){const t=e.reduce((r,{length:o})=>r+o,0),i=new Uint8Array(t);let n=0;return e.forEach(r=>{i.set(r,n),n+=r.length}),i}const encodeBase64=e=>{let t=e;typeof t=="string"&&(t=encoder.encode(t));const i=32768,n=[];for(let r=0;r<t.length;r+=i)n.push(String.fromCharCode.apply(null,t.subarray(r,r+i)));return btoa(n.join(""))},encode$2=e=>encodeBase64(e).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_");class JOSEError extends Error{static get code(){return"ERR_JOSE_GENERIC"}constructor(t){var i;super(t),this.code="ERR_JOSE_GENERIC",this.name=this.constructor.name,(i=Error.captureStackTrace)==null||i.call(Error,this,this.constructor)}}class JOSENotSupported extends JOSEError{constructor(){super(...arguments),this.code="ERR_JOSE_NOT_SUPPORTED"}static get code(){return"ERR_JOSE_NOT_SUPPORTED"}}class JWSInvalid extends JOSEError{constructor(){super(...arguments),this.code="ERR_JWS_INVALID"}static get code(){return"ERR_JWS_INVALID"}}class JWTInvalid extends JOSEError{constructor(){super(...arguments),this.code="ERR_JWT_INVALID"}static get code(){return"ERR_JWT_INVALID"}}function unusable(e,t="algorithm.name"){return new TypeError(`CryptoKey does not support this operation, its ${t} must be ${e}`)}function isAlgorithm(e,t){return e.name===t}function getHashLength(e){return parseInt(e.name.slice(4),10)}function getNamedCurve(e){switch(e){case"ES256":return"P-256";case"ES384":return"P-384";case"ES512":return"P-521";default:throw new Error("unreachable")}}function checkUsage(e,t){if(t.length&&!t.some(i=>e.usages.includes(i))){let i="CryptoKey does not support this operation, its usages must include ";if(t.length>2){const n=t.pop();i+=`one of ${t.join(", ")}, or ${n}.`}else t.length===2?i+=`one of ${t[0]} or ${t[1]}.`:i+=`${t[0]}.`;throw new TypeError(i)}}function checkSigCryptoKey(e,t,...i){switch(t){case"HS256":case"HS384":case"HS512":{if(!isAlgorithm(e.algorithm,"HMAC"))throw unusable("HMAC");const n=parseInt(t.slice(2),10);if(getHashLength(e.algorithm.hash)!==n)throw unusable(`SHA-${n}`,"algorithm.hash");break}case"RS256":case"RS384":case"RS512":{if(!isAlgorithm(e.algorithm,"RSASSA-PKCS1-v1_5"))throw unusable("RSASSA-PKCS1-v1_5");const n=parseInt(t.slice(2),10);if(getHashLength(e.algorithm.hash)!==n)throw unusable(`SHA-${n}`,"algorithm.hash");break}case"PS256":case"PS384":case"PS512":{if(!isAlgorithm(e.algorithm,"RSA-PSS"))throw unusable("RSA-PSS");const n=parseInt(t.slice(2),10);if(getHashLength(e.algorithm.hash)!==n)throw unusable(`SHA-${n}`,"algorithm.hash");break}case"EdDSA":{if(e.algorithm.name!=="Ed25519"&&e.algorithm.name!=="Ed448")throw unusable("Ed25519 or Ed448");break}case"ES256":case"ES384":case"ES512":{if(!isAlgorithm(e.algorithm,"ECDSA"))throw unusable("ECDSA");const n=getNamedCurve(t);if(e.algorithm.namedCurve!==n)throw unusable(n,"algorithm.namedCurve");break}default:throw new TypeError("CryptoKey does not support this operation")}checkUsage(e,i)}function message(e,t,...i){if(i.length>2){const n=i.pop();e+=`one of type ${i.join(", ")}, or ${n}.`}else i.length===2?e+=`one of type ${i[0]} or ${i[1]}.`:e+=`of type ${i[0]}.`;return t==null?e+=` Received ${t}`:typeof t=="function"&&t.name?e+=` Received function ${t.name}`:typeof t=="object"&&t!=null&&t.constructor&&t.constructor.name&&(e+=` Received an instance of ${t.constructor.name}`),e}const invalidKeyInput=(e,...t)=>message("Key must be ",e,...t);function withAlg(e,t,...i){return message(`Key for the ${e} algorithm must be `,t,...i)}const isKeyLike=e=>isCryptoKey(e),types=["CryptoKey"],isDisjoint=(...e)=>{const t=e.filter(Boolean);if(t.length===0||t.length===1)return!0;let i;for(const n of t){const r=Object.keys(n);if(!i||i.size===0){i=new Set(r);continue}for(const o of r){if(i.has(o))return!1;i.add(o)}}return!0};function isObjectLike(e){return typeof e=="object"&&e!==null}function isObject$4(e){if(!isObjectLike(e)||Object.prototype.toString.call(e)!=="[object Object]")return!1;if(Object.getPrototypeOf(e)===null)return!0;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}const checkKeyLength=(e,t)=>{if(e.startsWith("RS")||e.startsWith("PS")){const{modulusLength:i}=t.algorithm;if(typeof i!="number"||i<2048)throw new TypeError(`${e} requires key modulusLength to be 2048 bits or larger`)}},symmetricTypeCheck=(e,t)=>{if(!(t instanceof Uint8Array)){if(!isKeyLike(t))throw new TypeError(withAlg(e,t,...types,"Uint8Array"));if(t.type!=="secret")throw new TypeError(`${types.join(" or ")} instances for symmetric algorithms must be of type "secret"`)}},asymmetricTypeCheck=(e,t,i)=>{if(!isKeyLike(t))throw new TypeError(withAlg(e,t,...types));if(t.type==="secret")throw new TypeError(`${types.join(" or ")} instances for asymmetric algorithms must not be of type "secret"`);if(i==="sign"&&t.type==="public")throw new TypeError(`${types.join(" or ")} instances for asymmetric algorithm signing must be of type "private"`);if(i==="decrypt"&&t.type==="public")throw new TypeError(`${types.join(" or ")} instances for asymmetric algorithm decryption must be of type "private"`);if(t.algorithm&&i==="verify"&&t.type==="private")throw new TypeError(`${types.join(" or ")} instances for asymmetric algorithm verifying must be of type "public"`);if(t.algorithm&&i==="encrypt"&&t.type==="private")throw new TypeError(`${types.join(" or ")} instances for asymmetric algorithm encryption must be of type "public"`)},checkKeyType=(e,t,i)=>{e.startsWith("HS")||e==="dir"||e.startsWith("PBES2")||/^A\d{3}(?:GCM)?KW$/.test(e)?symmetricTypeCheck(e,t):asymmetricTypeCheck(e,t,i)};function validateCrit(e,t,i,n,r){if(r.crit!==void 0&&n.crit===void 0)throw new e('"crit" (Critical) Header Parameter MUST be integrity protected');if(!n||n.crit===void 0)return new Set;if(!Array.isArray(n.crit)||n.crit.length===0||n.crit.some(a=>typeof a!="string"||a.length===0))throw new e('"crit" (Critical) Header Parameter MUST be an array of non-empty strings when present');let o;i!==void 0?o=new Map([...Object.entries(i),...t.entries()]):o=t;for(const a of n.crit){if(!o.has(a))throw new JOSENotSupported(`Extension Header Parameter "${a}" is not recognized`);if(r[a]===void 0)throw new e(`Extension Header Parameter "${a}" is missing`);if(o.get(a)&&n[a]===void 0)throw new e(`Extension Header Parameter "${a}" MUST be integrity protected`)}return new Set(n.crit)}function subtleDsa(e,t){const i=`SHA-${e.slice(-3)}`;switch(e){case"HS256":case"HS384":case"HS512":return{hash:i,name:"HMAC"};case"PS256":case"PS384":case"PS512":return{hash:i,name:"RSA-PSS",saltLength:e.slice(-3)>>3};case"RS256":case"RS384":case"RS512":return{hash:i,name:"RSASSA-PKCS1-v1_5"};case"ES256":case"ES384":case"ES512":return{hash:i,name:"ECDSA",namedCurve:t.namedCurve};case"EdDSA":return{name:t.name};default:throw new JOSENotSupported(`alg ${e} is not supported either by JOSE or your javascript runtime`)}}function getCryptoKey(e,t,i){if(isCryptoKey(t))return checkSigCryptoKey(t,e,i),t;if(t instanceof Uint8Array){if(!e.startsWith("HS"))throw new TypeError(invalidKeyInput(t,...types));return crypto$2.subtle.importKey("raw",t,{hash:`SHA-${e.slice(-3)}`,name:"HMAC"},!1,[i])}throw new TypeError(invalidKeyInput(t,...types,"Uint8Array"))}const epoch=e=>Math.floor(e.getTime()/1e3),minute=60,hour=minute*60,day=hour*24,week=day*7,year=day*365.25,REGEX=/^(\d+|\d+\.\d+) ?(seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)$/i,secs=e=>{const t=REGEX.exec(e);if(!t)throw new TypeError("Invalid time period format");const i=parseFloat(t[1]);switch(t[2].toLowerCase()){case"sec":case"secs":case"second":case"seconds":case"s":return Math.round(i);case"minute":case"minutes":case"min":case"mins":case"m":return Math.round(i*minute);case"hour":case"hours":case"hr":case"hrs":case"h":return Math.round(i*hour);case"day":case"days":case"d":return Math.round(i*day);case"week":case"weeks":case"w":return Math.round(i*week);default:return Math.round(i*year)}},sign=async(e,t,i)=>{const n=await getCryptoKey(e,t,"sign");checkKeyLength(e,n);const r=await crypto$2.subtle.sign(subtleDsa(e,n.algorithm),n,i);return new Uint8Array(r)};class FlattenedSign{constructor(t){if(!(t instanceof Uint8Array))throw new TypeError("payload must be an instance of Uint8Array");this._payload=t}setProtectedHeader(t){if(this._protectedHeader)throw new TypeError("setProtectedHeader can only be called once");return this._protectedHeader=t,this}setUnprotectedHeader(t){if(this._unprotectedHeader)throw new TypeError("setUnprotectedHeader can only be called once");return this._unprotectedHeader=t,this}async sign(t,i){if(!this._protectedHeader&&!this._unprotectedHeader)throw new JWSInvalid("either setProtectedHeader or setUnprotectedHeader must be called before #sign()");if(!isDisjoint(this._protectedHeader,this._unprotectedHeader))throw new JWSInvalid("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");const n={...this._protectedHeader,...this._unprotectedHeader},r=validateCrit(JWSInvalid,new Map([["b64",!0]]),i==null?void 0:i.crit,this._protectedHeader,n);let o=!0;if(r.has("b64")&&(o=this._protectedHeader.b64,typeof o!="boolean"))throw new JWSInvalid('The "b64" (base64url-encode payload) Header Parameter must be a boolean');const{alg:a}=n;if(typeof a!="string"||!a)throw new JWSInvalid('JWS "alg" (Algorithm) Header Parameter missing or invalid');checkKeyType(a,t,"sign");let s=this._payload;o&&(s=encoder.encode(encode$2(s)));let u;this._protectedHeader?u=encoder.encode(encode$2(JSON.stringify(this._protectedHeader))):u=encoder.encode("");const l=concat(u,encoder.encode("."),s),c=await sign(a,t,l),d={signature:encode$2(c),payload:""};return o&&(d.payload=decoder.decode(s)),this._unprotectedHeader&&(d.header=this._unprotectedHeader),this._protectedHeader&&(d.protected=decoder.decode(u)),d}}class CompactSign{constructor(t){this._flattened=new FlattenedSign(t)}setProtectedHeader(t){return this._flattened.setProtectedHeader(t),this}async sign(t,i){const n=await this._flattened.sign(t,i);if(n.payload===void 0)throw new TypeError("use the flattened module for creating JWS with b64: false");return`${n.protected}.${n.payload}.${n.signature}`}}function validateInput(e,t){if(!Number.isFinite(t))throw new TypeError(`Invalid ${e} input`);return t}class ProduceJWT{constructor(t={}){if(!isObject$4(t))throw new TypeError("JWT Claims Set MUST be an object");this._payload=t}setIssuer(t){return this._payload={...this._payload,iss:t},this}setSubject(t){return this._payload={...this._payload,sub:t},this}setAudience(t){return this._payload={...this._payload,aud:t},this}setJti(t){return this._payload={...this._payload,jti:t},this}setNotBefore(t){return typeof t=="number"?this._payload={...this._payload,nbf:validateInput("setNotBefore",t)}:t instanceof Date?this._payload={...this._payload,nbf:validateInput("setNotBefore",epoch(t))}:this._payload={...this._payload,nbf:epoch(new Date)+secs(t)},this}setExpirationTime(t){return typeof t=="number"?this._payload={...this._payload,exp:validateInput("setExpirationTime",t)}:t instanceof Date?this._payload={...this._payload,exp:validateInput("setExpirationTime",epoch(t))}:this._payload={...this._payload,exp:epoch(new Date)+secs(t)},this}setIssuedAt(t){return typeof t>"u"?this._payload={...this._payload,iat:epoch(new Date)}:t instanceof Date?this._payload={...this._payload,iat:validateInput("setIssuedAt",epoch(t))}:this._payload={...this._payload,iat:validateInput("setIssuedAt",t)},this}}class SignJWT extends ProduceJWT{setProtectedHeader(t){return this._protectedHeader=t,this}async sign(t,i){var r;const n=new CompactSign(encoder.encode(JSON.stringify(this._payload)));if(n.setProtectedHeader(this._protectedHeader),Array.isArray((r=this._protectedHeader)==null?void 0:r.crit)&&this._protectedHeader.crit.includes("b64")&&this._protectedHeader.b64===!1)throw new JWTInvalid("JWTs MUST NOT use unencoded payload");return n.sign(t,i)}}const defaultTTL=6*60*60;class AccessToken{constructor(t,i,n){if(!t||!i)throw Error("api-key and api-secret must be set");this.apiKey=t,this.apiSecret=i,this.grants={},this.identity=n==null?void 0:n.identity,this.ttl=(n==null?void 0:n.ttl)||defaultTTL,n!=null&&n.metadata&&(this.metadata=n.metadata),n!=null&&n.name&&(this.name=n.name)}addGrant(t){var i;this.grants.video=Object.assign(Object.assign({},(i=this.grants.video)!==null&&i!==void 0?i:{}),t)}set metadata(t){this.grants.metadata=t}set name(t){this.grants.name=t}get sha256(){return this.grants.sha256}set sha256(t){this.grants.sha256=t}async toJwt(){var t;const i=Math.round(new Date().getTime()/1e3),n=new SignJWT(this.grants);if(n.setProtectedHeader({alg:"HS256"}),n.setExpirationTime(typeof this.ttl=="number"?i+this.ttl:this.ttl),n.setIssuer(this.apiKey),n.setNotBefore(i),this.identity)n.setSubject(this.identity),n.setJti(this.identity);else if(!((t=this.grants.video)===null||t===void 0)&&t.roomJoin)throw Error("identity is required for join but not set");return n.sign(new TextEncoder().encode(this.apiSecret))}}/**
* @license
* Copyright 2009 The Closure Library Authors
* Copyright 2020 Daniel Wirtz / The long.js Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*     http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*
* SPDX-License-Identifier: Apache-2.0
*/var wasm=null;try{wasm=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function Long(e,t,i){this.low=e|0,this.high=t|0,this.unsigned=!!i}Long.prototype.__isLong__;Object.defineProperty(Long.prototype,"__isLong__",{value:!0});function isLong(e){return(e&&e.__isLong__)===!0}function ctz32(e){var t=Math.clz32(e&-e);return e?31-t:t}Long.isLong=isLong;var INT_CACHE={},UINT_CACHE={};function fromInt(e,t){var i,n,r;return t?(e>>>=0,(r=0<=e&&e<256)&&(n=UINT_CACHE[e],n)?n:(i=fromBits(e,0,!0),r&&(UINT_CACHE[e]=i),i)):(e|=0,(r=-128<=e&&e<128)&&(n=INT_CACHE[e],n)?n:(i=fromBits(e,e<0?-1:0,!1),r&&(INT_CACHE[e]=i),i))}Long.fromInt=fromInt;function fromNumber(e,t){if(isNaN(e))return t?UZERO:ZERO;if(t){if(e<0)return UZERO;if(e>=TWO_PWR_64_DBL)return MAX_UNSIGNED_VALUE}else{if(e<=-TWO_PWR_63_DBL)return MIN_VALUE;if(e+1>=TWO_PWR_63_DBL)return MAX_VALUE}return e<0?fromNumber(-e,t).neg():fromBits(e%TWO_PWR_32_DBL|0,e/TWO_PWR_32_DBL|0,t)}Long.fromNumber=fromNumber;function fromBits(e,t,i){return new Long(e,t,i)}Long.fromBits=fromBits;var pow_dbl=Math.pow;function fromString(e,t,i){if(e.length===0)throw Error("empty string");if(typeof t=="number"?(i=t,t=!1):t=!!t,e==="NaN"||e==="Infinity"||e==="+Infinity"||e==="-Infinity")return t?UZERO:ZERO;if(i=i||10,i<2||36<i)throw RangeError("radix");var n;if((n=e.indexOf("-"))>0)throw Error("interior hyphen");if(n===0)return fromString(e.substring(1),t,i).neg();for(var r=fromNumber(pow_dbl(i,8)),o=ZERO,a=0;a<e.length;a+=8){var s=Math.min(8,e.length-a),u=parseInt(e.substring(a,a+s),i);if(s<8){var l=fromNumber(pow_dbl(i,s));o=o.mul(l).add(fromNumber(u))}else o=o.mul(r),o=o.add(fromNumber(u))}return o.unsigned=t,o}Long.fromString=fromString;function fromValue(e,t){return typeof e=="number"?fromNumber(e,t):typeof e=="string"?fromString(e,t):fromBits(e.low,e.high,typeof t=="boolean"?t:e.unsigned)}Long.fromValue=fromValue;var TWO_PWR_16_DBL=65536,TWO_PWR_24_DBL=1<<24,TWO_PWR_32_DBL=TWO_PWR_16_DBL*TWO_PWR_16_DBL,TWO_PWR_64_DBL=TWO_PWR_32_DBL*TWO_PWR_32_DBL,TWO_PWR_63_DBL=TWO_PWR_64_DBL/2,TWO_PWR_24=fromInt(TWO_PWR_24_DBL),ZERO=fromInt(0);Long.ZERO=ZERO;var UZERO=fromInt(0,!0);Long.UZERO=UZERO;var ONE=fromInt(1);Long.ONE=ONE;var UONE=fromInt(1,!0);Long.UONE=UONE;var NEG_ONE=fromInt(-1);Long.NEG_ONE=NEG_ONE;var MAX_VALUE=fromBits(-1,2147483647,!1);Long.MAX_VALUE=MAX_VALUE;var MAX_UNSIGNED_VALUE=fromBits(-1,-1,!0);Long.MAX_UNSIGNED_VALUE=MAX_UNSIGNED_VALUE;var MIN_VALUE=fromBits(0,-2147483648,!1);Long.MIN_VALUE=MIN_VALUE;var LongPrototype=Long.prototype;LongPrototype.toInt=function(){return this.unsigned?this.low>>>0:this.low};LongPrototype.toNumber=function(){return this.unsigned?(this.high>>>0)*TWO_PWR_32_DBL+(this.low>>>0):this.high*TWO_PWR_32_DBL+(this.low>>>0)};LongPrototype.toString=function(t){if(t=t||10,t<2||36<t)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative())if(this.eq(MIN_VALUE)){var i=fromNumber(t),n=this.div(i),r=n.mul(i).sub(this);return n.toString(t)+r.toInt().toString(t)}else return"-"+this.neg().toString(t);for(var o=fromNumber(pow_dbl(t,6),this.unsigned),a=this,s="";;){var u=a.div(o),l=a.sub(u.mul(o)).toInt()>>>0,c=l.toString(t);if(a=u,a.isZero())return c+s;for(;c.length<6;)c="0"+c;s=""+c+s}};LongPrototype.getHighBits=function(){return this.high};LongPrototype.getHighBitsUnsigned=function(){return this.high>>>0};LongPrototype.getLowBits=function(){return this.low};LongPrototype.getLowBitsUnsigned=function(){return this.low>>>0};LongPrototype.getNumBitsAbs=function(){if(this.isNegative())return this.eq(MIN_VALUE)?64:this.neg().getNumBitsAbs();for(var t=this.high!=0?this.high:this.low,i=31;i>0&&!(t&1<<i);i--);return this.high!=0?i+33:i+1};LongPrototype.isZero=function(){return this.high===0&&this.low===0};LongPrototype.eqz=LongPrototype.isZero;LongPrototype.isNegative=function(){return!this.unsigned&&this.high<0};LongPrototype.isPositive=function(){return this.unsigned||this.high>=0};LongPrototype.isOdd=function(){return(this.low&1)===1};LongPrototype.isEven=function(){return(this.low&1)===0};LongPrototype.equals=function(t){return isLong(t)||(t=fromValue(t)),this.unsigned!==t.unsigned&&this.high>>>31===1&&t.high>>>31===1?!1:this.high===t.high&&this.low===t.low};LongPrototype.eq=LongPrototype.equals;LongPrototype.notEquals=function(t){return!this.eq(t)};LongPrototype.neq=LongPrototype.notEquals;LongPrototype.ne=LongPrototype.notEquals;LongPrototype.lessThan=function(t){return this.comp(t)<0};LongPrototype.lt=LongPrototype.lessThan;LongPrototype.lessThanOrEqual=function(t){return this.comp(t)<=0};LongPrototype.lte=LongPrototype.lessThanOrEqual;LongPrototype.le=LongPrototype.lessThanOrEqual;LongPrototype.greaterThan=function(t){return this.comp(t)>0};LongPrototype.gt=LongPrototype.greaterThan;LongPrototype.greaterThanOrEqual=function(t){return this.comp(t)>=0};LongPrototype.gte=LongPrototype.greaterThanOrEqual;LongPrototype.ge=LongPrototype.greaterThanOrEqual;LongPrototype.compare=function(t){if(isLong(t)||(t=fromValue(t)),this.eq(t))return 0;var i=this.isNegative(),n=t.isNegative();return i&&!n?-1:!i&&n?1:this.unsigned?t.high>>>0>this.high>>>0||t.high===this.high&&t.low>>>0>this.low>>>0?-1:1:this.sub(t).isNegative()?-1:1};LongPrototype.comp=LongPrototype.compare;LongPrototype.negate=function(){return!this.unsigned&&this.eq(MIN_VALUE)?MIN_VALUE:this.not().add(ONE)};LongPrototype.neg=LongPrototype.negate;LongPrototype.add=function(t){isLong(t)||(t=fromValue(t));var i=this.high>>>16,n=this.high&65535,r=this.low>>>16,o=this.low&65535,a=t.high>>>16,s=t.high&65535,u=t.low>>>16,l=t.low&65535,c=0,d=0,m=0,E=0;return E+=o+l,m+=E>>>16,E&=65535,m+=r+u,d+=m>>>16,m&=65535,d+=n+s,c+=d>>>16,d&=65535,c+=i+a,c&=65535,fromBits(m<<16|E,c<<16|d,this.unsigned)};LongPrototype.subtract=function(t){return isLong(t)||(t=fromValue(t)),this.add(t.neg())};LongPrototype.sub=LongPrototype.subtract;LongPrototype.multiply=function(t){if(this.isZero())return this;if(isLong(t)||(t=fromValue(t)),wasm){var i=wasm.mul(this.low,this.high,t.low,t.high);return fromBits(i,wasm.get_high(),this.unsigned)}if(t.isZero())return this.unsigned?UZERO:ZERO;if(this.eq(MIN_VALUE))return t.isOdd()?MIN_VALUE:ZERO;if(t.eq(MIN_VALUE))return this.isOdd()?MIN_VALUE:ZERO;if(this.isNegative())return t.isNegative()?this.neg().mul(t.neg()):this.neg().mul(t).neg();if(t.isNegative())return this.mul(t.neg()).neg();if(this.lt(TWO_PWR_24)&&t.lt(TWO_PWR_24))return fromNumber(this.toNumber()*t.toNumber(),this.unsigned);var n=this.high>>>16,r=this.high&65535,o=this.low>>>16,a=this.low&65535,s=t.high>>>16,u=t.high&65535,l=t.low>>>16,c=t.low&65535,d=0,m=0,E=0,y=0;return y+=a*c,E+=y>>>16,y&=65535,E+=o*c,m+=E>>>16,E&=65535,E+=a*l,m+=E>>>16,E&=65535,m+=r*c,d+=m>>>16,m&=65535,m+=o*l,d+=m>>>16,m&=65535,m+=a*u,d+=m>>>16,m&=65535,d+=n*c+r*l+o*u+a*s,d&=65535,fromBits(E<<16|y,d<<16|m,this.unsigned)};LongPrototype.mul=LongPrototype.multiply;LongPrototype.divide=function(t){if(isLong(t)||(t=fromValue(t)),t.isZero())throw Error("division by zero");if(wasm){if(!this.unsigned&&this.high===-2147483648&&t.low===-1&&t.high===-1)return this;var i=(this.unsigned?wasm.div_u:wasm.div_s)(this.low,this.high,t.low,t.high);return fromBits(i,wasm.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?UZERO:ZERO;var n,r,o;if(this.unsigned){if(t.unsigned||(t=t.toUnsigned()),t.gt(this))return UZERO;if(t.gt(this.shru(1)))return UONE;o=UZERO}else{if(this.eq(MIN_VALUE)){if(t.eq(ONE)||t.eq(NEG_ONE))return MIN_VALUE;if(t.eq(MIN_VALUE))return ONE;var a=this.shr(1);return n=a.div(t).shl(1),n.eq(ZERO)?t.isNegative()?ONE:NEG_ONE:(r=this.sub(t.mul(n)),o=n.add(r.div(t)),o)}else if(t.eq(MIN_VALUE))return this.unsigned?UZERO:ZERO;if(this.isNegative())return t.isNegative()?this.neg().div(t.neg()):this.neg().div(t).neg();if(t.isNegative())return this.div(t.neg()).neg();o=ZERO}for(r=this;r.gte(t);){n=Math.max(1,Math.floor(r.toNumber()/t.toNumber()));for(var s=Math.ceil(Math.log(n)/Math.LN2),u=s<=48?1:pow_dbl(2,s-48),l=fromNumber(n),c=l.mul(t);c.isNegative()||c.gt(r);)n-=u,l=fromNumber(n,this.unsigned),c=l.mul(t);l.isZero()&&(l=ONE),o=o.add(l),r=r.sub(c)}return o};LongPrototype.div=LongPrototype.divide;LongPrototype.modulo=function(t){if(isLong(t)||(t=fromValue(t)),wasm){var i=(this.unsigned?wasm.rem_u:wasm.rem_s)(this.low,this.high,t.low,t.high);return fromBits(i,wasm.get_high(),this.unsigned)}return this.sub(this.div(t).mul(t))};LongPrototype.mod=LongPrototype.modulo;LongPrototype.rem=LongPrototype.modulo;LongPrototype.not=function(){return fromBits(~this.low,~this.high,this.unsigned)};LongPrototype.countLeadingZeros=function(){return this.high?Math.clz32(this.high):Math.clz32(this.low)+32};LongPrototype.clz=LongPrototype.countLeadingZeros;LongPrototype.countTrailingZeros=function(){return this.low?ctz32(this.low):ctz32(this.high)+32};LongPrototype.ctz=LongPrototype.countTrailingZeros;LongPrototype.and=function(t){return isLong(t)||(t=fromValue(t)),fromBits(this.low&t.low,this.high&t.high,this.unsigned)};LongPrototype.or=function(t){return isLong(t)||(t=fromValue(t)),fromBits(this.low|t.low,this.high|t.high,this.unsigned)};LongPrototype.xor=function(t){return isLong(t)||(t=fromValue(t)),fromBits(this.low^t.low,this.high^t.high,this.unsigned)};LongPrototype.shiftLeft=function(t){return isLong(t)&&(t=t.toInt()),(t&=63)===0?this:t<32?fromBits(this.low<<t,this.high<<t|this.low>>>32-t,this.unsigned):fromBits(0,this.low<<t-32,this.unsigned)};LongPrototype.shl=LongPrototype.shiftLeft;LongPrototype.shiftRight=function(t){return isLong(t)&&(t=t.toInt()),(t&=63)===0?this:t<32?fromBits(this.low>>>t|this.high<<32-t,this.high>>t,this.unsigned):fromBits(this.high>>t-32,this.high>=0?0:-1,this.unsigned)};LongPrototype.shr=LongPrototype.shiftRight;LongPrototype.shiftRightUnsigned=function(t){return isLong(t)&&(t=t.toInt()),(t&=63)===0?this:t<32?fromBits(this.low>>>t|this.high<<32-t,this.high>>>t,this.unsigned):t===32?fromBits(this.high,0,this.unsigned):fromBits(this.high>>>t-32,0,this.unsigned)};LongPrototype.shru=LongPrototype.shiftRightUnsigned;LongPrototype.shr_u=LongPrototype.shiftRightUnsigned;LongPrototype.rotateLeft=function(t){var i;return isLong(t)&&(t=t.toInt()),(t&=63)===0?this:t===32?fromBits(this.high,this.low,this.unsigned):t<32?(i=32-t,fromBits(this.low<<t|this.high>>>i,this.high<<t|this.low>>>i,this.unsigned)):(t-=32,i=32-t,fromBits(this.high<<t|this.low>>>i,this.low<<t|this.high>>>i,this.unsigned))};LongPrototype.rotl=LongPrototype.rotateLeft;LongPrototype.rotateRight=function(t){var i;return isLong(t)&&(t=t.toInt()),(t&=63)===0?this:t===32?fromBits(this.high,this.low,this.unsigned):t<32?(i=32-t,fromBits(this.high<<i|this.low>>>t,this.low<<i|this.high>>>t,this.unsigned)):(t-=32,i=32-t,fromBits(this.low<<i|this.high>>>t,this.high<<i|this.low>>>t,this.unsigned))};LongPrototype.rotr=LongPrototype.rotateRight;LongPrototype.toSigned=function(){return this.unsigned?fromBits(this.low,this.high,!1):this};LongPrototype.toUnsigned=function(){return this.unsigned?this:fromBits(this.low,this.high,!0)};LongPrototype.toBytes=function(t){return t?this.toBytesLE():this.toBytesBE()};LongPrototype.toBytesLE=function(){var t=this.high,i=this.low;return[i&255,i>>>8&255,i>>>16&255,i>>>24,t&255,t>>>8&255,t>>>16&255,t>>>24]};LongPrototype.toBytesBE=function(){var t=this.high,i=this.low;return[t>>>24,t>>>16&255,t>>>8&255,t&255,i>>>24,i>>>16&255,i>>>8&255,i&255]};Long.fromBytes=function(t,i,n){return n?Long.fromBytesLE(t,i):Long.fromBytesBE(t,i)};Long.fromBytesLE=function(t,i){return new Long(t[0]|t[1]<<8|t[2]<<16|t[3]<<24,t[4]|t[5]<<8|t[6]<<16|t[7]<<24,i)};Long.fromBytesBE=function(t,i){return new Long(t[4]<<24|t[5]<<16|t[6]<<8|t[7],t[0]<<24|t[1]<<16|t[2]<<8|t[3],i)};var indexMinimal={},minimal$1={},aspromise=asPromise;function asPromise(e,t){for(var i=new Array(arguments.length-1),n=0,r=2,o=!0;r<arguments.length;)i[n++]=arguments[r++];return new Promise(function(s,u){i[n]=function(c){if(o)if(o=!1,c)u(c);else{for(var d=new Array(arguments.length-1),m=0;m<d.length;)d[m++]=arguments[m];s.apply(null,d)}};try{e.apply(t||null,i)}catch(l){o&&(o=!1,u(l))}})}var base64$1={};(function(e){var t=e;t.length=function(s){var u=s.length;if(!u)return 0;for(var l=0;--u%4>1&&s.charAt(u)==="=";)++l;return Math.ceil(s.length*3)/4-l};for(var i=new Array(64),n=new Array(123),r=0;r<64;)n[i[r]=r<26?r+65:r<52?r+71:r<62?r-4:r-59|43]=r++;t.encode=function(s,u,l){for(var c=null,d=[],m=0,E=0,y;u<l;){var O=s[u++];switch(E){case 0:d[m++]=i[O>>2],y=(O&3)<<4,E=1;break;case 1:d[m++]=i[y|O>>4],y=(O&15)<<2,E=2;break;case 2:d[m++]=i[y|O>>6],d[m++]=i[O&63],E=0;break}m>8191&&((c||(c=[])).push(String.fromCharCode.apply(String,d)),m=0)}return E&&(d[m++]=i[y],d[m++]=61,E===1&&(d[m++]=61)),c?(m&&c.push(String.fromCharCode.apply(String,d.slice(0,m))),c.join("")):String.fromCharCode.apply(String,d.slice(0,m))};var o="invalid encoding";t.decode=function(s,u,l){for(var c=l,d=0,m,E=0;E<s.length;){var y=s.charCodeAt(E++);if(y===61&&d>1)break;if((y=n[y])===void 0)throw Error(o);switch(d){case 0:m=y,d=1;break;case 1:u[l++]=m<<2|(y&48)>>4,m=y,d=2;break;case 2:u[l++]=(m&15)<<4|(y&60)>>2,m=y,d=3;break;case 3:u[l++]=(m&3)<<6|y,d=0;break}}if(d===1)throw Error(o);return l-c},t.test=function(s){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(s)}})(base64$1);var eventemitter=EventEmitter$1;function EventEmitter$1(){this._listeners={}}EventEmitter$1.prototype.on=function(t,i,n){return(this._listeners[t]||(this._listeners[t]=[])).push({fn:i,ctx:n||this}),this};EventEmitter$1.prototype.off=function(t,i){if(t===void 0)this._listeners={};else if(i===void 0)this._listeners[t]=[];else for(var n=this._listeners[t],r=0;r<n.length;)n[r].fn===i?n.splice(r,1):++r;return this};EventEmitter$1.prototype.emit=function(t){var i=this._listeners[t];if(i){for(var n=[],r=1;r<arguments.length;)n.push(arguments[r++]);for(r=0;r<i.length;)i[r].fn.apply(i[r++].ctx,n)}return this};var float=factory(factory);function factory(e){return typeof Float32Array<"u"?function(){var t=new Float32Array([-0]),i=new Uint8Array(t.buffer),n=i[3]===128;function r(u,l,c){t[0]=u,l[c]=i[0],l[c+1]=i[1],l[c+2]=i[2],l[c+3]=i[3]}function o(u,l,c){t[0]=u,l[c]=i[3],l[c+1]=i[2],l[c+2]=i[1],l[c+3]=i[0]}e.writeFloatLE=n?r:o,e.writeFloatBE=n?o:r;function a(u,l){return i[0]=u[l],i[1]=u[l+1],i[2]=u[l+2],i[3]=u[l+3],t[0]}function s(u,l){return i[3]=u[l],i[2]=u[l+1],i[1]=u[l+2],i[0]=u[l+3],t[0]}e.readFloatLE=n?a:s,e.readFloatBE=n?s:a}():function(){function t(n,r,o,a){var s=r<0?1:0;if(s&&(r=-r),r===0)n(1/r>0?0:2147483648,o,a);else if(isNaN(r))n(2143289344,o,a);else if(r>34028234663852886e22)n((s<<31|2139095040)>>>0,o,a);else if(r<11754943508222875e-54)n((s<<31|Math.round(r/1401298464324817e-60))>>>0,o,a);else{var u=Math.floor(Math.log(r)/Math.LN2),l=Math.round(r*Math.pow(2,-u)*8388608)&8388607;n((s<<31|u+127<<23|l)>>>0,o,a)}}e.writeFloatLE=t.bind(null,writeUintLE),e.writeFloatBE=t.bind(null,writeUintBE);function i(n,r,o){var a=n(r,o),s=(a>>31)*2+1,u=a>>>23&255,l=a&8388607;return u===255?l?NaN:s*(1/0):u===0?s*1401298464324817e-60*l:s*Math.pow(2,u-150)*(l+8388608)}e.readFloatLE=i.bind(null,readUintLE),e.readFloatBE=i.bind(null,readUintBE)}(),typeof Float64Array<"u"?function(){var t=new Float64Array([-0]),i=new Uint8Array(t.buffer),n=i[7]===128;function r(u,l,c){t[0]=u,l[c]=i[0],l[c+1]=i[1],l[c+2]=i[2],l[c+3]=i[3],l[c+4]=i[4],l[c+5]=i[5],l[c+6]=i[6],l[c+7]=i[7]}function o(u,l,c){t[0]=u,l[c]=i[7],l[c+1]=i[6],l[c+2]=i[5],l[c+3]=i[4],l[c+4]=i[3],l[c+5]=i[2],l[c+6]=i[1],l[c+7]=i[0]}e.writeDoubleLE=n?r:o,e.writeDoubleBE=n?o:r;function a(u,l){return i[0]=u[l],i[1]=u[l+1],i[2]=u[l+2],i[3]=u[l+3],i[4]=u[l+4],i[5]=u[l+5],i[6]=u[l+6],i[7]=u[l+7],t[0]}function s(u,l){return i[7]=u[l],i[6]=u[l+1],i[5]=u[l+2],i[4]=u[l+3],i[3]=u[l+4],i[2]=u[l+5],i[1]=u[l+6],i[0]=u[l+7],t[0]}e.readDoubleLE=n?a:s,e.readDoubleBE=n?s:a}():function(){function t(n,r,o,a,s,u){var l=a<0?1:0;if(l&&(a=-a),a===0)n(0,s,u+r),n(1/a>0?0:2147483648,s,u+o);else if(isNaN(a))n(0,s,u+r),n(2146959360,s,u+o);else if(a>17976931348623157e292)n(0,s,u+r),n((l<<31|2146435072)>>>0,s,u+o);else{var c;if(a<22250738585072014e-324)c=a/5e-324,n(c>>>0,s,u+r),n((l<<31|c/4294967296)>>>0,s,u+o);else{var d=Math.floor(Math.log(a)/Math.LN2);d===1024&&(d=1023),c=a*Math.pow(2,-d),n(c*4503599627370496>>>0,s,u+r),n((l<<31|d+1023<<20|c*1048576&1048575)>>>0,s,u+o)}}}e.writeDoubleLE=t.bind(null,writeUintLE,0,4),e.writeDoubleBE=t.bind(null,writeUintBE,4,0);function i(n,r,o,a,s){var u=n(a,s+r),l=n(a,s+o),c=(l>>31)*2+1,d=l>>>20&2047,m=4294967296*(l&1048575)+u;return d===2047?m?NaN:c*(1/0):d===0?c*5e-324*m:c*Math.pow(2,d-1075)*(m+4503599627370496)}e.readDoubleLE=i.bind(null,readUintLE,0,4),e.readDoubleBE=i.bind(null,readUintBE,4,0)}(),e}function writeUintLE(e,t,i){t[i]=e&255,t[i+1]=e>>>8&255,t[i+2]=e>>>16&255,t[i+3]=e>>>24}function writeUintBE(e,t,i){t[i]=e>>>24,t[i+1]=e>>>16&255,t[i+2]=e>>>8&255,t[i+3]=e&255}function readUintLE(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}function readUintBE(e,t){return(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}var inquire_1=inquire;function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(e){}return null}var utf8$2={};(function(e){var t=e;t.length=function(n){for(var r=0,o=0,a=0;a<n.length;++a)o=n.charCodeAt(a),o<128?r+=1:o<2048?r+=2:(o&64512)===55296&&(n.charCodeAt(a+1)&64512)===56320?(++a,r+=4):r+=3;return r},t.read=function(n,r,o){var a=o-r;if(a<1)return"";for(var s=null,u=[],l=0,c;r<o;)c=n[r++],c<128?u[l++]=c:c>191&&c<224?u[l++]=(c&31)<<6|n[r++]&63:c>239&&c<365?(c=((c&7)<<18|(n[r++]&63)<<12|(n[r++]&63)<<6|n[r++]&63)-65536,u[l++]=55296+(c>>10),u[l++]=56320+(c&1023)):u[l++]=(c&15)<<12|(n[r++]&63)<<6|n[r++]&63,l>8191&&((s||(s=[])).push(String.fromCharCode.apply(String,u)),l=0);return s?(l&&s.push(String.fromCharCode.apply(String,u.slice(0,l))),s.join("")):String.fromCharCode.apply(String,u.slice(0,l))},t.write=function(n,r,o){for(var a=o,s,u,l=0;l<n.length;++l)s=n.charCodeAt(l),s<128?r[o++]=s:s<2048?(r[o++]=s>>6|192,r[o++]=s&63|128):(s&64512)===55296&&((u=n.charCodeAt(l+1))&64512)===56320?(s=65536+((s&1023)<<10)+(u&1023),++l,r[o++]=s>>18|240,r[o++]=s>>12&63|128,r[o++]=s>>6&63|128,r[o++]=s&63|128):(r[o++]=s>>12|224,r[o++]=s>>6&63|128,r[o++]=s&63|128);return o-a}})(utf8$2);var pool_1=pool;function pool(e,t,i){var n=i||8192,r=n>>>1,o=null,a=n;return function(u){if(u<1||u>r)return e(u);a+u>n&&(o=e(n),a=0);var l=t.call(o,a,a+=u);return a&7&&(a=(a|7)+1),l}}var longbits,hasRequiredLongbits;function requireLongbits(){if(hasRequiredLongbits)return longbits;hasRequiredLongbits=1,longbits=t;var e=requireMinimal();function t(o,a){this.lo=o>>>0,this.hi=a>>>0}var i=t.zero=new t(0,0);i.toNumber=function(){return 0},i.zzEncode=i.zzDecode=function(){return this},i.length=function(){return 1};var n=t.zeroHash="\0\0\0\0\0\0\0\0";t.fromNumber=function(a){if(a===0)return i;var s=a<0;s&&(a=-a);var u=a>>>0,l=(a-u)/4294967296>>>0;return s&&(l=~l>>>0,u=~u>>>0,++u>4294967295&&(u=0,++l>4294967295&&(l=0))),new t(u,l)},t.from=function(a){if(typeof a=="number")return t.fromNumber(a);if(e.isString(a))if(e.Long)a=e.Long.fromString(a);else return t.fromNumber(parseInt(a,10));return a.low||a.high?new t(a.low>>>0,a.high>>>0):i},t.prototype.toNumber=function(a){if(!a&&this.hi>>>31){var s=~this.lo+1>>>0,u=~this.hi>>>0;return s||(u=u+1>>>0),-(s+u*4294967296)}return this.lo+this.hi*4294967296},t.prototype.toLong=function(a){return e.Long?new e.Long(this.lo|0,this.hi|0,!!a):{low:this.lo|0,high:this.hi|0,unsigned:!!a}};var r=String.prototype.charCodeAt;return t.fromHash=function(a){return a===n?i:new t((r.call(a,0)|r.call(a,1)<<8|r.call(a,2)<<16|r.call(a,3)<<24)>>>0,(r.call(a,4)|r.call(a,5)<<8|r.call(a,6)<<16|r.call(a,7)<<24)>>>0)},t.prototype.toHash=function(){return String.fromCharCode(this.lo&255,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,this.hi&255,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},t.prototype.zzEncode=function(){var a=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^a)>>>0,this.lo=(this.lo<<1^a)>>>0,this},t.prototype.zzDecode=function(){var a=-(this.lo&1);return this.lo=((this.lo>>>1|this.hi<<31)^a)>>>0,this.hi=(this.hi>>>1^a)>>>0,this},t.prototype.length=function(){var a=this.lo,s=(this.lo>>>28|this.hi<<4)>>>0,u=this.hi>>>24;return u===0?s===0?a<16384?a<128?1:2:a<2097152?3:4:s<16384?s<128?5:6:s<2097152?7:8:u<128?9:10},longbits}var hasRequiredMinimal;function requireMinimal(){return hasRequiredMinimal||(hasRequiredMinimal=1,function(e){var t=e;t.asPromise=aspromise,t.base64=base64$1,t.EventEmitter=eventemitter,t.float=float,t.inquire=inquire_1,t.utf8=utf8$2,t.pool=pool_1,t.LongBits=requireLongbits(),t.isNode=!!(typeof commonjsGlobal<"u"&&commonjsGlobal&&commonjsGlobal.process&&commonjsGlobal.process.versions&&commonjsGlobal.process.versions.node),t.global=t.isNode&&commonjsGlobal||typeof window<"u"&&window||typeof self<"u"&&self||commonjsGlobal,t.emptyArray=Object.freeze?Object.freeze([]):[],t.emptyObject=Object.freeze?Object.freeze({}):{},t.isInteger=Number.isInteger||function(o){return typeof o=="number"&&isFinite(o)&&Math.floor(o)===o},t.isString=function(o){return typeof o=="string"||o instanceof String},t.isObject=function(o){return o&&typeof o=="object"},t.isset=t.isSet=function(o,a){var s=o[a];return s!=null&&o.hasOwnProperty(a)?typeof s!="object"||(Array.isArray(s)?s.length:Object.keys(s).length)>0:!1},t.Buffer=function(){try{var r=t.inquire("buffer").Buffer;return r.prototype.utf8Write?r:null}catch{return null}}(),t._Buffer_from=null,t._Buffer_allocUnsafe=null,t.newBuffer=function(o){return typeof o=="number"?t.Buffer?t._Buffer_allocUnsafe(o):new t.Array(o):t.Buffer?t._Buffer_from(o):typeof Uint8Array>"u"?o:new Uint8Array(o)},t.Array=typeof Uint8Array<"u"?Uint8Array:Array,t.Long=t.global.dcodeIO&&t.global.dcodeIO.Long||t.global.Long||t.inquire("long"),t.key2Re=/^true|false|0|1$/,t.key32Re=/^-?(?:0|[1-9][0-9]*)$/,t.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,t.longToHash=function(o){return o?t.LongBits.from(o).toHash():t.LongBits.zeroHash},t.longFromHash=function(o,a){var s=t.LongBits.fromHash(o);return t.Long?t.Long.fromBits(s.lo,s.hi,a):s.toNumber(!!a)};function i(r,o,a){for(var s=Object.keys(o),u=0;u<s.length;++u)(r[s[u]]===void 0||!a)&&(r[s[u]]=o[s[u]]);return r}t.merge=i,t.lcFirst=function(o){return o.charAt(0).toLowerCase()+o.substring(1)};function n(r){function o(a,s){if(!(this instanceof o))return new o(a,s);Object.defineProperty(this,"message",{get:function(){return a}}),Error.captureStackTrace?Error.captureStackTrace(this,o):Object.defineProperty(this,"stack",{value:new Error().stack||""}),s&&i(this,s)}return o.prototype=Object.create(Error.prototype,{constructor:{value:o,writable:!0,enumerable:!1,configurable:!0},name:{get:function(){return r},set:void 0,enumerable:!1,configurable:!0},toString:{value:function(){return this.name+": "+this.message},writable:!0,enumerable:!1,configurable:!0}}),o}t.newError=n,t.ProtocolError=n("ProtocolError"),t.oneOfGetter=function(o){for(var a={},s=0;s<o.length;++s)a[o[s]]=1;return function(){for(var u=Object.keys(this),l=u.length-1;l>-1;--l)if(a[u[l]]===1&&this[u[l]]!==void 0&&this[u[l]]!==null)return u[l]}},t.oneOfSetter=function(o){return function(a){for(var s=0;s<o.length;++s)o[s]!==a&&delete this[o[s]]}},t.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},t._configure=function(){var r=t.Buffer;if(!r){t._Buffer_from=t._Buffer_allocUnsafe=null;return}t._Buffer_from=r.from!==Uint8Array.from&&r.from||function(a,s){return new r(a,s)},t._Buffer_allocUnsafe=r.allocUnsafe||function(a){return new r(a)}}}(minimal$1)),minimal$1}var writer=Writer$1,util$4=requireMinimal(),BufferWriter$1,LongBits$1=util$4.LongBits,base64=util$4.base64,utf8$1=util$4.utf8;function Op(e,t,i){this.fn=e,this.len=t,this.next=void 0,this.val=i}function noop$3(){}function State(e){this.head=e.head,this.tail=e.tail,this.len=e.len,this.next=e.states}function Writer$1(){this.len=0,this.head=new Op(noop$3,0,0),this.tail=this.head,this.states=null}var create$1=function e(){return util$4.Buffer?function(){return(Writer$1.create=function(){return new BufferWriter$1})()}:function(){return new Writer$1}};Writer$1.create=create$1();Writer$1.alloc=function e(t){return new util$4.Array(t)};util$4.Array!==Array&&(Writer$1.alloc=util$4.pool(Writer$1.alloc,util$4.Array.prototype.subarray));Writer$1.prototype._push=function e(t,i,n){return this.tail=this.tail.next=new Op(t,i,n),this.len+=i,this};function writeByte(e,t,i){t[i]=e&255}function writeVarint32(e,t,i){for(;e>127;)t[i++]=e&127|128,e>>>=7;t[i]=e}function VarintOp(e,t){this.len=e,this.next=void 0,this.val=t}VarintOp.prototype=Object.create(Op.prototype);VarintOp.prototype.fn=writeVarint32;Writer$1.prototype.uint32=function e(t){return this.len+=(this.tail=this.tail.next=new VarintOp((t=t>>>0)<128?1:t<16384?2:t<2097152?3:t<268435456?4:5,t)).len,this};Writer$1.prototype.int32=function e(t){return t<0?this._push(writeVarint64,10,LongBits$1.fromNumber(t)):this.uint32(t)};Writer$1.prototype.sint32=function e(t){return this.uint32((t<<1^t>>31)>>>0)};function writeVarint64(e,t,i){for(;e.hi;)t[i++]=e.lo&127|128,e.lo=(e.lo>>>7|e.hi<<25)>>>0,e.hi>>>=7;for(;e.lo>127;)t[i++]=e.lo&127|128,e.lo=e.lo>>>7;t[i++]=e.lo}Writer$1.prototype.uint64=function e(t){var i=LongBits$1.from(t);return this._push(writeVarint64,i.length(),i)};Writer$1.prototype.int64=Writer$1.prototype.uint64;Writer$1.prototype.sint64=function e(t){var i=LongBits$1.from(t).zzEncode();return this._push(writeVarint64,i.length(),i)};Writer$1.prototype.bool=function e(t){return this._push(writeByte,1,t?1:0)};function writeFixed32(e,t,i){t[i]=e&255,t[i+1]=e>>>8&255,t[i+2]=e>>>16&255,t[i+3]=e>>>24}Writer$1.prototype.fixed32=function e(t){return this._push(writeFixed32,4,t>>>0)};Writer$1.prototype.sfixed32=Writer$1.prototype.fixed32;Writer$1.prototype.fixed64=function e(t){var i=LongBits$1.from(t);return this._push(writeFixed32,4,i.lo)._push(writeFixed32,4,i.hi)};Writer$1.prototype.sfixed64=Writer$1.prototype.fixed64;Writer$1.prototype.float=function e(t){return this._push(util$4.float.writeFloatLE,4,t)};Writer$1.prototype.double=function e(t){return this._push(util$4.float.writeDoubleLE,8,t)};var writeBytes=util$4.Array.prototype.set?function e(t,i,n){i.set(t,n)}:function e(t,i,n){for(var r=0;r<t.length;++r)i[n+r]=t[r]};Writer$1.prototype.bytes=function e(t){var i=t.length>>>0;if(!i)return this._push(writeByte,1,0);if(util$4.isString(t)){var n=Writer$1.alloc(i=base64.length(t));base64.decode(t,n,0),t=n}return this.uint32(i)._push(writeBytes,i,t)};Writer$1.prototype.string=function e(t){var i=utf8$1.length(t);return i?this.uint32(i)._push(utf8$1.write,i,t):this._push(writeByte,1,0)};Writer$1.prototype.fork=function e(){return this.states=new State(this),this.head=this.tail=new Op(noop$3,0,0),this.len=0,this};Writer$1.prototype.reset=function e(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new Op(noop$3,0,0),this.len=0),this};Writer$1.prototype.ldelim=function e(){var t=this.head,i=this.tail,n=this.len;return this.reset().uint32(n),n&&(this.tail.next=t.next,this.tail=i,this.len+=n),this};Writer$1.prototype.finish=function e(){for(var t=this.head.next,i=this.constructor.alloc(this.len),n=0;t;)t.fn(t.val,i,n),n+=t.len,t=t.next;return i};Writer$1._configure=function(e){BufferWriter$1=e,Writer$1.create=create$1(),BufferWriter$1._configure()};var writer_buffer=BufferWriter,Writer=writer;(BufferWriter.prototype=Object.create(Writer.prototype)).constructor=BufferWriter;var util$3=requireMinimal();function BufferWriter(){Writer.call(this)}BufferWriter._configure=function(){BufferWriter.alloc=util$3._Buffer_allocUnsafe,BufferWriter.writeBytesBuffer=util$3.Buffer&&util$3.Buffer.prototype instanceof Uint8Array&&util$3.Buffer.prototype.set.name==="set"?function(t,i,n){i.set(t,n)}:function(t,i,n){if(t.copy)t.copy(i,n,0,t.length);else for(var r=0;r<t.length;)i[n++]=t[r++]}};BufferWriter.prototype.bytes=function e(t){util$3.isString(t)&&(t=util$3._Buffer_from(t,"base64"));var i=t.length>>>0;return this.uint32(i),i&&this._push(BufferWriter.writeBytesBuffer,i,t),this};function writeStringBuffer(e,t,i){e.length<40?util$3.utf8.write(e,t,i):t.utf8Write?t.utf8Write(e,i):t.write(e,i)}BufferWriter.prototype.string=function e(t){var i=util$3.Buffer.byteLength(t);return this.uint32(i),i&&this._push(writeStringBuffer,i,t),this};BufferWriter._configure();var reader=Reader$1,util$2=requireMinimal(),BufferReader$1,LongBits=util$2.LongBits,utf8=util$2.utf8;function indexOutOfRange(e,t){return RangeError("index out of range: "+e.pos+" + "+(t||1)+" > "+e.len)}function Reader$1(e){this.buf=e,this.pos=0,this.len=e.length}var create_array=typeof Uint8Array<"u"?function e(t){if(t instanceof Uint8Array||Array.isArray(t))return new Reader$1(t);throw Error("illegal buffer")}:function e(t){if(Array.isArray(t))return new Reader$1(t);throw Error("illegal buffer")},create=function e(){return util$2.Buffer?function(i){return(Reader$1.create=function(r){return util$2.Buffer.isBuffer(r)?new BufferReader$1(r):create_array(r)})(i)}:create_array};Reader$1.create=create();Reader$1.prototype._slice=util$2.Array.prototype.subarray||util$2.Array.prototype.slice;Reader$1.prototype.uint32=function e(){var t=4294967295;return function(){if(t=(this.buf[this.pos]&127)>>>0,this.buf[this.pos++]<128||(t=(t|(this.buf[this.pos]&127)<<7)>>>0,this.buf[this.pos++]<128)||(t=(t|(this.buf[this.pos]&127)<<14)>>>0,this.buf[this.pos++]<128)||(t=(t|(this.buf[this.pos]&127)<<21)>>>0,this.buf[this.pos++]<128)||(t=(t|(this.buf[this.pos]&15)<<28)>>>0,this.buf[this.pos++]<128))return t;if((this.pos+=5)>this.len)throw this.pos=this.len,indexOutOfRange(this,10);return t}}();Reader$1.prototype.int32=function e(){return this.uint32()|0};Reader$1.prototype.sint32=function e(){var t=this.uint32();return t>>>1^-(t&1)|0};function readLongVarint(){var e=new LongBits(0,0),t=0;if(this.len-this.pos>4){for(;t<4;++t)if(e.lo=(e.lo|(this.buf[this.pos]&127)<<t*7)>>>0,this.buf[this.pos++]<128)return e;if(e.lo=(e.lo|(this.buf[this.pos]&127)<<28)>>>0,e.hi=(e.hi|(this.buf[this.pos]&127)>>4)>>>0,this.buf[this.pos++]<128)return e;t=0}else{for(;t<3;++t){if(this.pos>=this.len)throw indexOutOfRange(this);if(e.lo=(e.lo|(this.buf[this.pos]&127)<<t*7)>>>0,this.buf[this.pos++]<128)return e}return e.lo=(e.lo|(this.buf[this.pos++]&127)<<t*7)>>>0,e}if(this.len-this.pos>4){for(;t<5;++t)if(e.hi=(e.hi|(this.buf[this.pos]&127)<<t*7+3)>>>0,this.buf[this.pos++]<128)return e}else for(;t<5;++t){if(this.pos>=this.len)throw indexOutOfRange(this);if(e.hi=(e.hi|(this.buf[this.pos]&127)<<t*7+3)>>>0,this.buf[this.pos++]<128)return e}throw Error("invalid varint encoding")}Reader$1.prototype.bool=function e(){return this.uint32()!==0};function readFixed32_end(e,t){return(e[t-4]|e[t-3]<<8|e[t-2]<<16|e[t-1]<<24)>>>0}Reader$1.prototype.fixed32=function e(){if(this.pos+4>this.len)throw indexOutOfRange(this,4);return readFixed32_end(this.buf,this.pos+=4)};Reader$1.prototype.sfixed32=function e(){if(this.pos+4>this.len)throw indexOutOfRange(this,4);return readFixed32_end(this.buf,this.pos+=4)|0};function readFixed64(){if(this.pos+8>this.len)throw indexOutOfRange(this,8);return new LongBits(readFixed32_end(this.buf,this.pos+=4),readFixed32_end(this.buf,this.pos+=4))}Reader$1.prototype.float=function e(){if(this.pos+4>this.len)throw indexOutOfRange(this,4);var t=util$2.float.readFloatLE(this.buf,this.pos);return this.pos+=4,t};Reader$1.prototype.double=function e(){if(this.pos+8>this.len)throw indexOutOfRange(this,4);var t=util$2.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,t};Reader$1.prototype.bytes=function e(){var t=this.uint32(),i=this.pos,n=this.pos+t;if(n>this.len)throw indexOutOfRange(this,t);if(this.pos+=t,Array.isArray(this.buf))return this.buf.slice(i,n);if(i===n){var r=util$2.Buffer;return r?r.alloc(0):new this.buf.constructor(0)}return this._slice.call(this.buf,i,n)};Reader$1.prototype.string=function e(){var t=this.bytes();return utf8.read(t,0,t.length)};Reader$1.prototype.skip=function e(t){if(typeof t=="number"){if(this.pos+t>this.len)throw indexOutOfRange(this,t);this.pos+=t}else do if(this.pos>=this.len)throw indexOutOfRange(this);while(this.buf[this.pos++]&128);return this};Reader$1.prototype.skipType=function(e){switch(e){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(e=this.uint32()&7)!==4;)this.skipType(e);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+e+" at offset "+this.pos)}return this};Reader$1._configure=function(e){BufferReader$1=e,Reader$1.create=create(),BufferReader$1._configure();var t=util$2.Long?"toLong":"toNumber";util$2.merge(Reader$1.prototype,{int64:function(){return readLongVarint.call(this)[t](!1)},uint64:function(){return readLongVarint.call(this)[t](!0)},sint64:function(){return readLongVarint.call(this).zzDecode()[t](!1)},fixed64:function(){return readFixed64.call(this)[t](!0)},sfixed64:function(){return readFixed64.call(this)[t](!1)}})};var reader_buffer=BufferReader,Reader=reader;(BufferReader.prototype=Object.create(Reader.prototype)).constructor=BufferReader;var util$1=requireMinimal();function BufferReader(e){Reader.call(this,e)}BufferReader._configure=function(){util$1.Buffer&&(BufferReader.prototype._slice=util$1.Buffer.prototype.slice)};BufferReader.prototype.string=function e(){var t=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+t,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+t,this.len))};BufferReader._configure();var rpc={},service=Service,util=requireMinimal();(Service.prototype=Object.create(util.EventEmitter.prototype)).constructor=Service;function Service(e,t,i){if(typeof e!="function")throw TypeError("rpcImpl must be a function");util.EventEmitter.call(this),this.rpcImpl=e,this.requestDelimited=!!t,this.responseDelimited=!!i}Service.prototype.rpcCall=function e(t,i,n,r,o){if(!r)throw TypeError("request must be specified");var a=this;if(!o)return util.asPromise(e,a,t,i,n,r);if(!a.rpcImpl){setTimeout(function(){o(Error("already ended"))},0);return}try{return a.rpcImpl(t,i[a.requestDelimited?"encodeDelimited":"encode"](r).finish(),function(u,l){if(u)return a.emit("error",u,t),o(u);if(l===null){a.end(!0);return}if(!(l instanceof n))try{l=n[a.responseDelimited?"decodeDelimited":"decode"](l)}catch(c){return a.emit("error",c,t),o(c)}return a.emit("data",l,t),o(null,l)})}catch(s){a.emit("error",s,t),setTimeout(function(){o(s)},0);return}};Service.prototype.end=function e(t){return this.rpcImpl&&(t||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this};(function(e){var t=e;t.Service=service})(rpc);var roots={};(function(e){var t=e;t.build="minimal",t.Writer=writer,t.BufferWriter=writer_buffer,t.Reader=reader,t.BufferReader=reader_buffer,t.util=requireMinimal(),t.rpc=rpc,t.roots=roots,t.configure=i;function i(){t.util._configure(),t.Writer._configure(t.BufferWriter),t.Reader._configure(t.BufferReader)}i()})(indexMinimal);var minimal=indexMinimal;const _m0=getDefaultExportFromCjs(minimal);_m0.util.Long!==Long&&(_m0.util.Long=Long,_m0.configure());var AudioCodec;(function(e){e[e.DEFAULT_AC=0]="DEFAULT_AC",e[e.OPUS=1]="OPUS",e[e.AAC=2]="AAC",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"})(AudioCodec||(AudioCodec={}));function audioCodecFromJSON(e){switch(e){case 0:case"DEFAULT_AC":return AudioCodec.DEFAULT_AC;case 1:case"OPUS":return AudioCodec.OPUS;case 2:case"AAC":return AudioCodec.AAC;case-1:case"UNRECOGNIZED":default:return AudioCodec.UNRECOGNIZED}}function audioCodecToJSON(e){switch(e){case AudioCodec.DEFAULT_AC:return"DEFAULT_AC";case AudioCodec.OPUS:return"OPUS";case AudioCodec.AAC:return"AAC";case AudioCodec.UNRECOGNIZED:default:return"UNRECOGNIZED"}}var VideoCodec;(function(e){e[e.DEFAULT_VC=0]="DEFAULT_VC",e[e.H264_BASELINE=1]="H264_BASELINE",e[e.H264_MAIN=2]="H264_MAIN",e[e.H264_HIGH=3]="H264_HIGH",e[e.VP8=4]="VP8",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"})(VideoCodec||(VideoCodec={}));function videoCodecFromJSON(e){switch(e){case 0:case"DEFAULT_VC":return VideoCodec.DEFAULT_VC;case 1:case"H264_BASELINE":return VideoCodec.H264_BASELINE;case 2:case"H264_MAIN":return VideoCodec.H264_MAIN;case 3:case"H264_HIGH":return VideoCodec.H264_HIGH;case 4:case"VP8":return VideoCodec.VP8;case-1:case"UNRECOGNIZED":default:return VideoCodec.UNRECOGNIZED}}function videoCodecToJSON(e){switch(e){case VideoCodec.DEFAULT_VC:return"DEFAULT_VC";case VideoCodec.H264_BASELINE:return"H264_BASELINE";case VideoCodec.H264_MAIN:return"H264_MAIN";case VideoCodec.H264_HIGH:return"H264_HIGH";case VideoCodec.VP8:return"VP8";case VideoCodec.UNRECOGNIZED:default:return"UNRECOGNIZED"}}var ImageCodec;(function(e){e[e.IC_DEFAULT=0]="IC_DEFAULT",e[e.IC_JPEG=1]="IC_JPEG",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"})(ImageCodec||(ImageCodec={}));function imageCodecFromJSON(e){switch(e){case 0:case"IC_DEFAULT":return ImageCodec.IC_DEFAULT;case 1:case"IC_JPEG":return ImageCodec.IC_JPEG;case-1:case"UNRECOGNIZED":default:return ImageCodec.UNRECOGNIZED}}function imageCodecToJSON(e){switch(e){case ImageCodec.IC_DEFAULT:return"IC_DEFAULT";case ImageCodec.IC_JPEG:return"IC_JPEG";case ImageCodec.UNRECOGNIZED:default:return"UNRECOGNIZED"}}var TrackType;(function(e){e[e.AUDIO=0]="AUDIO",e[e.VIDEO=1]="VIDEO",e[e.DATA=2]="DATA",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"})(TrackType||(TrackType={}));function trackTypeFromJSON(e){switch(e){case 0:case"AUDIO":return TrackType.AUDIO;case 1:case"VIDEO":return TrackType.VIDEO;case 2:case"DATA":return TrackType.DATA;case-1:case"UNRECOGNIZED":default:return TrackType.UNRECOGNIZED}}function trackTypeToJSON(e){switch(e){case TrackType.AUDIO:return"AUDIO";case TrackType.VIDEO:return"VIDEO";case TrackType.DATA:return"DATA";case TrackType.UNRECOGNIZED:default:return"UNRECOGNIZED"}}var TrackSource$1;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.CAMERA=1]="CAMERA",e[e.MICROPHONE=2]="MICROPHONE",e[e.SCREEN_SHARE=3]="SCREEN_SHARE",e[e.SCREEN_SHARE_AUDIO=4]="SCREEN_SHARE_AUDIO",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"})(TrackSource$1||(TrackSource$1={}));function trackSourceFromJSON(e){switch(e){case 0:case"UNKNOWN":return TrackSource$1.UNKNOWN;case 1:case"CAMERA":return TrackSource$1.CAMERA;case 2:case"MICROPHONE":return TrackSource$1.MICROPHONE;case 3:case"SCREEN_SHARE":return TrackSource$1.SCREEN_SHARE;case 4:case"SCREEN_SHARE_AUDIO":return TrackSource$1.SCREEN_SHARE_AUDIO;case-1:case"UNRECOGNIZED":default:return TrackSource$1.UNRECOGNIZED}}function trackSourceToJSON(e){switch(e){case TrackSource$1.UNKNOWN:return"UNKNOWN";case TrackSource$1.CAMERA:return"CAMERA";case TrackSource$1.MICROPHONE:return"MICROPHONE";case TrackSource$1.SCREEN_SHARE:return"SCREEN_SHARE";case TrackSource$1.SCREEN_SHARE_AUDIO:return"SCREEN_SHARE_AUDIO";case TrackSource$1.UNRECOGNIZED:default:return"UNRECOGNIZED"}}var VideoQuality;(function(e){e[e.LOW=0]="LOW",e[e.MEDIUM=1]="MEDIUM",e[e.HIGH=2]="HIGH",e[e.OFF=3]="OFF",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"})(VideoQuality||(VideoQuality={}));function videoQualityFromJSON(e){switch(e){case 0:case"LOW":return VideoQuality.LOW;case 1:case"MEDIUM":return VideoQuality.MEDIUM;case 2:case"HIGH":return VideoQuality.HIGH;case 3:case"OFF":return VideoQuality.OFF;case-1:case"UNRECOGNIZED":default:return VideoQuality.UNRECOGNIZED}}function videoQualityToJSON(e){switch(e){case VideoQuality.LOW:return"LOW";case VideoQuality.MEDIUM:return"MEDIUM";case VideoQuality.HIGH:return"HIGH";case VideoQuality.OFF:return"OFF";case VideoQuality.UNRECOGNIZED:default:return"UNRECOGNIZED"}}var ConnectionQuality;(function(e){e[e.POOR=0]="POOR",e[e.GOOD=1]="GOOD",e[e.EXCELLENT=2]="EXCELLENT",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"})(ConnectionQuality||(ConnectionQuality={}));var ClientConfigSetting;(function(e){e[e.UNSET=0]="UNSET",e[e.DISABLED=1]="DISABLED",e[e.ENABLED=2]="ENABLED",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"})(ClientConfigSetting||(ClientConfigSetting={}));var DisconnectReason;(function(e){e[e.UNKNOWN_REASON=0]="UNKNOWN_REASON",e[e.CLIENT_INITIATED=1]="CLIENT_INITIATED",e[e.DUPLICATE_IDENTITY=2]="DUPLICATE_IDENTITY",e[e.SERVER_SHUTDOWN=3]="SERVER_SHUTDOWN",e[e.PARTICIPANT_REMOVED=4]="PARTICIPANT_REMOVED",e[e.ROOM_DELETED=5]="ROOM_DELETED",e[e.STATE_MISMATCH=6]="STATE_MISMATCH",e[e.JOIN_FAILURE=7]="JOIN_FAILURE",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"})(DisconnectReason||(DisconnectReason={}));var ReconnectReason;(function(e){e[e.RR_UNKNOWN=0]="RR_UNKNOWN",e[e.RR_SIGNAL_DISCONNECTED=1]="RR_SIGNAL_DISCONNECTED",e[e.RR_PUBLISHER_FAILED=2]="RR_PUBLISHER_FAILED",e[e.RR_SUBSCRIBER_FAILED=3]="RR_SUBSCRIBER_FAILED",e[e.RR_SWITCH_CANDIDATE=4]="RR_SWITCH_CANDIDATE",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"})(ReconnectReason||(ReconnectReason={}));var SubscriptionError;(function(e){e[e.SE_UNKNOWN=0]="SE_UNKNOWN",e[e.SE_CODEC_UNSUPPORTED=1]="SE_CODEC_UNSUPPORTED",e[e.SE_TRACK_NOTFOUND=2]="SE_TRACK_NOTFOUND",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"})(SubscriptionError||(SubscriptionError={}));var ParticipantInfo_State;(function(e){e[e.JOINING=0]="JOINING",e[e.JOINED=1]="JOINED",e[e.ACTIVE=2]="ACTIVE",e[e.DISCONNECTED=3]="DISCONNECTED",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"})(ParticipantInfo_State||(ParticipantInfo_State={}));function participantInfo_StateFromJSON(e){switch(e){case 0:case"JOINING":return ParticipantInfo_State.JOINING;case 1:case"JOINED":return ParticipantInfo_State.JOINED;case 2:case"ACTIVE":return ParticipantInfo_State.ACTIVE;case 3:case"DISCONNECTED":return ParticipantInfo_State.DISCONNECTED;case-1:case"UNRECOGNIZED":default:return ParticipantInfo_State.UNRECOGNIZED}}function participantInfo_StateToJSON(e){switch(e){case ParticipantInfo_State.JOINING:return"JOINING";case ParticipantInfo_State.JOINED:return"JOINED";case ParticipantInfo_State.ACTIVE:return"ACTIVE";case ParticipantInfo_State.DISCONNECTED:return"DISCONNECTED";case ParticipantInfo_State.UNRECOGNIZED:default:return"UNRECOGNIZED"}}var Encryption_Type;(function(e){e[e.NONE=0]="NONE",e[e.GCM=1]="GCM",e[e.CUSTOM=2]="CUSTOM",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"})(Encryption_Type||(Encryption_Type={}));function encryption_TypeFromJSON(e){switch(e){case 0:case"NONE":return Encryption_Type.NONE;case 1:case"GCM":return Encryption_Type.GCM;case 2:case"CUSTOM":return Encryption_Type.CUSTOM;case-1:case"UNRECOGNIZED":default:return Encryption_Type.UNRECOGNIZED}}function encryption_TypeToJSON(e){switch(e){case Encryption_Type.NONE:return"NONE";case Encryption_Type.GCM:return"GCM";case Encryption_Type.CUSTOM:return"CUSTOM";case Encryption_Type.UNRECOGNIZED:default:return"UNRECOGNIZED"}}var DataPacket_Kind;(function(e){e[e.RELIABLE=0]="RELIABLE",e[e.LOSSY=1]="LOSSY",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"})(DataPacket_Kind||(DataPacket_Kind={}));function dataPacket_KindFromJSON(e){switch(e){case 0:case"RELIABLE":return DataPacket_Kind.RELIABLE;case 1:case"LOSSY":return DataPacket_Kind.LOSSY;case-1:case"UNRECOGNIZED":default:return DataPacket_Kind.UNRECOGNIZED}}function dataPacket_KindToJSON(e){switch(e){case DataPacket_Kind.RELIABLE:return"RELIABLE";case DataPacket_Kind.LOSSY:return"LOSSY";case DataPacket_Kind.UNRECOGNIZED:default:return"UNRECOGNIZED"}}var ServerInfo_Edition;(function(e){e[e.Standard=0]="Standard",e[e.Cloud=1]="Cloud",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"})(ServerInfo_Edition||(ServerInfo_Edition={}));var ClientInfo_SDK;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.JS=1]="JS",e[e.SWIFT=2]="SWIFT",e[e.ANDROID=3]="ANDROID",e[e.FLUTTER=4]="FLUTTER",e[e.GO=5]="GO",e[e.UNITY=6]="UNITY",e[e.REACT_NATIVE=7]="REACT_NATIVE",e[e.RUST=8]="RUST",e[e.PYTHON=9]="PYTHON",e[e.CPP=10]="CPP",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"})(ClientInfo_SDK||(ClientInfo_SDK={}));function createBaseRoom(){return{sid:"",name:"",emptyTimeout:0,maxParticipants:0,creationTime:0,turnPassword:"",enabledCodecs:[],metadata:"",numParticipants:0,numPublishers:0,activeRecording:!1}}const Room={encode(e,t=_m0.Writer.create()){e.sid!==""&&t.uint32(10).string(e.sid),e.name!==""&&t.uint32(18).string(e.name),e.emptyTimeout!==0&&t.uint32(24).uint32(e.emptyTimeout),e.maxParticipants!==0&&t.uint32(32).uint32(e.maxParticipants),e.creationTime!==0&&t.uint32(40).int64(e.creationTime),e.turnPassword!==""&&t.uint32(50).string(e.turnPassword);for(const i of e.enabledCodecs)Codec.encode(i,t.uint32(58).fork()).ldelim();return e.metadata!==""&&t.uint32(66).string(e.metadata),e.numParticipants!==0&&t.uint32(72).uint32(e.numParticipants),e.numPublishers!==0&&t.uint32(88).uint32(e.numPublishers),e.activeRecording===!0&&t.uint32(80).bool(e.activeRecording),t},decode(e,t){const i=e instanceof _m0.Reader?e:_m0.Reader.create(e);let n=t===void 0?i.len:i.pos+t;const r=createBaseRoom();for(;i.pos<n;){const o=i.uint32();switch(o>>>3){case 1:if(o!==10)break;r.sid=i.string();continue;case 2:if(o!==18)break;r.name=i.string();continue;case 3:if(o!==24)break;r.emptyTimeout=i.uint32();continue;case 4:if(o!==32)break;r.maxParticipants=i.uint32();continue;case 5:if(o!==40)break;r.creationTime=longToNumber$1(i.int64());continue;case 6:if(o!==50)break;r.turnPassword=i.string();continue;case 7:if(o!==58)break;r.enabledCodecs.push(Codec.decode(i,i.uint32()));continue;case 8:if(o!==66)break;r.metadata=i.string();continue;case 9:if(o!==72)break;r.numParticipants=i.uint32();continue;case 11:if(o!==88)break;r.numPublishers=i.uint32();continue;case 10:if(o!==80)break;r.activeRecording=i.bool();continue}if((o&7)===4||o===0)break;i.skipType(o&7)}return r},fromJSON(e){return{sid:isSet$2(e.sid)?globalThis.String(e.sid):"",name:isSet$2(e.name)?globalThis.String(e.name):"",emptyTimeout:isSet$2(e.emptyTimeout)?globalThis.Number(e.emptyTimeout):0,maxParticipants:isSet$2(e.maxParticipants)?globalThis.Number(e.maxParticipants):0,creationTime:isSet$2(e.creationTime)?globalThis.Number(e.creationTime):0,turnPassword:isSet$2(e.turnPassword)?globalThis.String(e.turnPassword):"",enabledCodecs:globalThis.Array.isArray(e==null?void 0:e.enabledCodecs)?e.enabledCodecs.map(t=>Codec.fromJSON(t)):[],metadata:isSet$2(e.metadata)?globalThis.String(e.metadata):"",numParticipants:isSet$2(e.numParticipants)?globalThis.Number(e.numParticipants):0,numPublishers:isSet$2(e.numPublishers)?globalThis.Number(e.numPublishers):0,activeRecording:isSet$2(e.activeRecording)?globalThis.Boolean(e.activeRecording):!1}},toJSON(e){var t;const i={};return e.sid!==""&&(i.sid=e.sid),e.name!==""&&(i.name=e.name),e.emptyTimeout!==0&&(i.emptyTimeout=Math.round(e.emptyTimeout)),e.maxParticipants!==0&&(i.maxParticipants=Math.round(e.maxParticipants)),e.creationTime!==0&&(i.creationTime=Math.round(e.creationTime)),e.turnPassword!==""&&(i.turnPassword=e.turnPassword),!((t=e.enabledCodecs)===null||t===void 0)&&t.length&&(i.enabledCodecs=e.enabledCodecs.map(n=>Codec.toJSON(n))),e.metadata!==""&&(i.metadata=e.metadata),e.numParticipants!==0&&(i.numParticipants=Math.round(e.numParticipants)),e.numPublishers!==0&&(i.numPublishers=Math.round(e.numPublishers)),e.activeRecording===!0&&(i.activeRecording=e.activeRecording),i},create(e){return Room.fromPartial(e??{})},fromPartial(e){var t,i,n,r,o,a,s,u,l,c,d;const m=createBaseRoom();return m.sid=(t=e.sid)!==null&&t!==void 0?t:"",m.name=(i=e.name)!==null&&i!==void 0?i:"",m.emptyTimeout=(n=e.emptyTimeout)!==null&&n!==void 0?n:0,m.maxParticipants=(r=e.maxParticipants)!==null&&r!==void 0?r:0,m.creationTime=(o=e.creationTime)!==null&&o!==void 0?o:0,m.turnPassword=(a=e.turnPassword)!==null&&a!==void 0?a:"",m.enabledCodecs=((s=e.enabledCodecs)===null||s===void 0?void 0:s.map(E=>Codec.fromPartial(E)))||[],m.metadata=(u=e.metadata)!==null&&u!==void 0?u:"",m.numParticipants=(l=e.numParticipants)!==null&&l!==void 0?l:0,m.numPublishers=(c=e.numPublishers)!==null&&c!==void 0?c:0,m.activeRecording=(d=e.activeRecording)!==null&&d!==void 0?d:!1,m}};function createBaseCodec(){return{mime:"",fmtpLine:""}}const Codec={encode(e,t=_m0.Writer.create()){return e.mime!==""&&t.uint32(10).string(e.mime),e.fmtpLine!==""&&t.uint32(18).string(e.fmtpLine),t},decode(e,t){const i=e instanceof _m0.Reader?e:_m0.Reader.create(e);let n=t===void 0?i.len:i.pos+t;const r=createBaseCodec();for(;i.pos<n;){const o=i.uint32();switch(o>>>3){case 1:if(o!==10)break;r.mime=i.string();continue;case 2:if(o!==18)break;r.fmtpLine=i.string();continue}if((o&7)===4||o===0)break;i.skipType(o&7)}return r},fromJSON(e){return{mime:isSet$2(e.mime)?globalThis.String(e.mime):"",fmtpLine:isSet$2(e.fmtpLine)?globalThis.String(e.fmtpLine):""}},toJSON(e){const t={};return e.mime!==""&&(t.mime=e.mime),e.fmtpLine!==""&&(t.fmtpLine=e.fmtpLine),t},create(e){return Codec.fromPartial(e??{})},fromPartial(e){var t,i;const n=createBaseCodec();return n.mime=(t=e.mime)!==null&&t!==void 0?t:"",n.fmtpLine=(i=e.fmtpLine)!==null&&i!==void 0?i:"",n}};function createBaseParticipantPermission(){return{canSubscribe:!1,canPublish:!1,canPublishData:!1,canPublishSources:[],hidden:!1,recorder:!1,canUpdateMetadata:!1}}const ParticipantPermission={encode(e,t=_m0.Writer.create()){e.canSubscribe===!0&&t.uint32(8).bool(e.canSubscribe),e.canPublish===!0&&t.uint32(16).bool(e.canPublish),e.canPublishData===!0&&t.uint32(24).bool(e.canPublishData),t.uint32(74).fork();for(const i of e.canPublishSources)t.int32(i);return t.ldelim(),e.hidden===!0&&t.uint32(56).bool(e.hidden),e.recorder===!0&&t.uint32(64).bool(e.recorder),e.canUpdateMetadata===!0&&t.uint32(80).bool(e.canUpdateMetadata),t},decode(e,t){const i=e instanceof _m0.Reader?e:_m0.Reader.create(e);let n=t===void 0?i.len:i.pos+t;const r=createBaseParticipantPermission();for(;i.pos<n;){const o=i.uint32();switch(o>>>3){case 1:if(o!==8)break;r.canSubscribe=i.bool();continue;case 2:if(o!==16)break;r.canPublish=i.bool();continue;case 3:if(o!==24)break;r.canPublishData=i.bool();continue;case 9:if(o===72){r.canPublishSources.push(i.int32());continue}if(o===74){const a=i.uint32()+i.pos;for(;i.pos<a;)r.canPublishSources.push(i.int32());continue}break;case 7:if(o!==56)break;r.hidden=i.bool();continue;case 8:if(o!==64)break;r.recorder=i.bool();continue;case 10:if(o!==80)break;r.canUpdateMetadata=i.bool();continue}if((o&7)===4||o===0)break;i.skipType(o&7)}return r},fromJSON(e){return{canSubscribe:isSet$2(e.canSubscribe)?globalThis.Boolean(e.canSubscribe):!1,canPublish:isSet$2(e.canPublish)?globalThis.Boolean(e.canPublish):!1,canPublishData:isSet$2(e.canPublishData)?globalThis.Boolean(e.canPublishData):!1,canPublishSources:globalThis.Array.isArray(e==null?void 0:e.canPublishSources)?e.canPublishSources.map(t=>trackSourceFromJSON(t)):[],hidden:isSet$2(e.hidden)?globalThis.Boolean(e.hidden):!1,recorder:isSet$2(e.recorder)?globalThis.Boolean(e.recorder):!1,canUpdateMetadata:isSet$2(e.canUpdateMetadata)?globalThis.Boolean(e.canUpdateMetadata):!1}},toJSON(e){var t;const i={};return e.canSubscribe===!0&&(i.canSubscribe=e.canSubscribe),e.canPublish===!0&&(i.canPublish=e.canPublish),e.canPublishData===!0&&(i.canPublishData=e.canPublishData),!((t=e.canPublishSources)===null||t===void 0)&&t.length&&(i.canPublishSources=e.canPublishSources.map(n=>trackSourceToJSON(n))),e.hidden===!0&&(i.hidden=e.hidden),e.recorder===!0&&(i.recorder=e.recorder),e.canUpdateMetadata===!0&&(i.canUpdateMetadata=e.canUpdateMetadata),i},create(e){return ParticipantPermission.fromPartial(e??{})},fromPartial(e){var t,i,n,r,o,a,s;const u=createBaseParticipantPermission();return u.canSubscribe=(t=e.canSubscribe)!==null&&t!==void 0?t:!1,u.canPublish=(i=e.canPublish)!==null&&i!==void 0?i:!1,u.canPublishData=(n=e.canPublishData)!==null&&n!==void 0?n:!1,u.canPublishSources=((r=e.canPublishSources)===null||r===void 0?void 0:r.map(l=>l))||[],u.hidden=(o=e.hidden)!==null&&o!==void 0?o:!1,u.recorder=(a=e.recorder)!==null&&a!==void 0?a:!1,u.canUpdateMetadata=(s=e.canUpdateMetadata)!==null&&s!==void 0?s:!1,u}};function createBaseParticipantInfo(){return{sid:"",identity:"",state:0,tracks:[],metadata:"",joinedAt:0,name:"",version:0,permission:void 0,region:"",isPublisher:!1}}const ParticipantInfo={encode(e,t=_m0.Writer.create()){e.sid!==""&&t.uint32(10).string(e.sid),e.identity!==""&&t.uint32(18).string(e.identity),e.state!==0&&t.uint32(24).int32(e.state);for(const i of e.tracks)TrackInfo.encode(i,t.uint32(34).fork()).ldelim();return e.metadata!==""&&t.uint32(42).string(e.metadata),e.joinedAt!==0&&t.uint32(48).int64(e.joinedAt),e.name!==""&&t.uint32(74).string(e.name),e.version!==0&&t.uint32(80).uint32(e.version),e.permission!==void 0&&ParticipantPermission.encode(e.permission,t.uint32(90).fork()).ldelim(),e.region!==""&&t.uint32(98).string(e.region),e.isPublisher===!0&&t.uint32(104).bool(e.isPublisher),t},decode(e,t){const i=e instanceof _m0.Reader?e:_m0.Reader.create(e);let n=t===void 0?i.len:i.pos+t;const r=createBaseParticipantInfo();for(;i.pos<n;){const o=i.uint32();switch(o>>>3){case 1:if(o!==10)break;r.sid=i.string();continue;case 2:if(o!==18)break;r.identity=i.string();continue;case 3:if(o!==24)break;r.state=i.int32();continue;case 4:if(o!==34)break;r.tracks.push(TrackInfo.decode(i,i.uint32()));continue;case 5:if(o!==42)break;r.metadata=i.string();continue;case 6:if(o!==48)break;r.joinedAt=longToNumber$1(i.int64());continue;case 9:if(o!==74)break;r.name=i.string();continue;case 10:if(o!==80)break;r.version=i.uint32();continue;case 11:if(o!==90)break;r.permission=ParticipantPermission.decode(i,i.uint32());continue;case 12:if(o!==98)break;r.region=i.string();continue;case 13:if(o!==104)break;r.isPublisher=i.bool();continue}if((o&7)===4||o===0)break;i.skipType(o&7)}return r},fromJSON(e){return{sid:isSet$2(e.sid)?globalThis.String(e.sid):"",identity:isSet$2(e.identity)?globalThis.String(e.identity):"",state:isSet$2(e.state)?participantInfo_StateFromJSON(e.state):0,tracks:globalThis.Array.isArray(e==null?void 0:e.tracks)?e.tracks.map(t=>TrackInfo.fromJSON(t)):[],metadata:isSet$2(e.metadata)?globalThis.String(e.metadata):"",joinedAt:isSet$2(e.joinedAt)?globalThis.Number(e.joinedAt):0,name:isSet$2(e.name)?globalThis.String(e.name):"",version:isSet$2(e.version)?globalThis.Number(e.version):0,permission:isSet$2(e.permission)?ParticipantPermission.fromJSON(e.permission):void 0,region:isSet$2(e.region)?globalThis.String(e.region):"",isPublisher:isSet$2(e.isPublisher)?globalThis.Boolean(e.isPublisher):!1}},toJSON(e){var t;const i={};return e.sid!==""&&(i.sid=e.sid),e.identity!==""&&(i.identity=e.identity),e.state!==0&&(i.state=participantInfo_StateToJSON(e.state)),!((t=e.tracks)===null||t===void 0)&&t.length&&(i.tracks=e.tracks.map(n=>TrackInfo.toJSON(n))),e.metadata!==""&&(i.metadata=e.metadata),e.joinedAt!==0&&(i.joinedAt=Math.round(e.joinedAt)),e.name!==""&&(i.name=e.name),e.version!==0&&(i.version=Math.round(e.version)),e.permission!==void 0&&(i.permission=ParticipantPermission.toJSON(e.permission)),e.region!==""&&(i.region=e.region),e.isPublisher===!0&&(i.isPublisher=e.isPublisher),i},create(e){return ParticipantInfo.fromPartial(e??{})},fromPartial(e){var t,i,n,r,o,a,s,u,l,c;const d=createBaseParticipantInfo();return d.sid=(t=e.sid)!==null&&t!==void 0?t:"",d.identity=(i=e.identity)!==null&&i!==void 0?i:"",d.state=(n=e.state)!==null&&n!==void 0?n:0,d.tracks=((r=e.tracks)===null||r===void 0?void 0:r.map(m=>TrackInfo.fromPartial(m)))||[],d.metadata=(o=e.metadata)!==null&&o!==void 0?o:"",d.joinedAt=(a=e.joinedAt)!==null&&a!==void 0?a:0,d.name=(s=e.name)!==null&&s!==void 0?s:"",d.version=(u=e.version)!==null&&u!==void 0?u:0,d.permission=e.permission!==void 0&&e.permission!==null?ParticipantPermission.fromPartial(e.permission):void 0,d.region=(l=e.region)!==null&&l!==void 0?l:"",d.isPublisher=(c=e.isPublisher)!==null&&c!==void 0?c:!1,d}};function createBaseSimulcastCodecInfo(){return{mimeType:"",mid:"",cid:"",layers:[]}}const SimulcastCodecInfo={encode(e,t=_m0.Writer.create()){e.mimeType!==""&&t.uint32(10).string(e.mimeType),e.mid!==""&&t.uint32(18).string(e.mid),e.cid!==""&&t.uint32(26).string(e.cid);for(const i of e.layers)VideoLayer.encode(i,t.uint32(34).fork()).ldelim();return t},decode(e,t){const i=e instanceof _m0.Reader?e:_m0.Reader.create(e);let n=t===void 0?i.len:i.pos+t;const r=createBaseSimulcastCodecInfo();for(;i.pos<n;){const o=i.uint32();switch(o>>>3){case 1:if(o!==10)break;r.mimeType=i.string();continue;case 2:if(o!==18)break;r.mid=i.string();continue;case 3:if(o!==26)break;r.cid=i.string();continue;case 4:if(o!==34)break;r.layers.push(VideoLayer.decode(i,i.uint32()));continue}if((o&7)===4||o===0)break;i.skipType(o&7)}return r},fromJSON(e){return{mimeType:isSet$2(e.mimeType)?globalThis.String(e.mimeType):"",mid:isSet$2(e.mid)?globalThis.String(e.mid):"",cid:isSet$2(e.cid)?globalThis.String(e.cid):"",layers:globalThis.Array.isArray(e==null?void 0:e.layers)?e.layers.map(t=>VideoLayer.fromJSON(t)):[]}},toJSON(e){var t;const i={};return e.mimeType!==""&&(i.mimeType=e.mimeType),e.mid!==""&&(i.mid=e.mid),e.cid!==""&&(i.cid=e.cid),!((t=e.layers)===null||t===void 0)&&t.length&&(i.layers=e.layers.map(n=>VideoLayer.toJSON(n))),i},create(e){return SimulcastCodecInfo.fromPartial(e??{})},fromPartial(e){var t,i,n,r;const o=createBaseSimulcastCodecInfo();return o.mimeType=(t=e.mimeType)!==null&&t!==void 0?t:"",o.mid=(i=e.mid)!==null&&i!==void 0?i:"",o.cid=(n=e.cid)!==null&&n!==void 0?n:"",o.layers=((r=e.layers)===null||r===void 0?void 0:r.map(a=>VideoLayer.fromPartial(a)))||[],o}};function createBaseTrackInfo(){return{sid:"",type:0,name:"",muted:!1,width:0,height:0,simulcast:!1,disableDtx:!1,source:0,layers:[],mimeType:"",mid:"",codecs:[],stereo:!1,disableRed:!1,encryption:0,stream:""}}const TrackInfo={encode(e,t=_m0.Writer.create()){e.sid!==""&&t.uint32(10).string(e.sid),e.type!==0&&t.uint32(16).int32(e.type),e.name!==""&&t.uint32(26).string(e.name),e.muted===!0&&t.uint32(32).bool(e.muted),e.width!==0&&t.uint32(40).uint32(e.width),e.height!==0&&t.uint32(48).uint32(e.height),e.simulcast===!0&&t.uint32(56).bool(e.simulcast),e.disableDtx===!0&&t.uint32(64).bool(e.disableDtx),e.source!==0&&t.uint32(72).int32(e.source);for(const i of e.layers)VideoLayer.encode(i,t.uint32(82).fork()).ldelim();e.mimeType!==""&&t.uint32(90).string(e.mimeType),e.mid!==""&&t.uint32(98).string(e.mid);for(const i of e.codecs)SimulcastCodecInfo.encode(i,t.uint32(106).fork()).ldelim();return e.stereo===!0&&t.uint32(112).bool(e.stereo),e.disableRed===!0&&t.uint32(120).bool(e.disableRed),e.encryption!==0&&t.uint32(128).int32(e.encryption),e.stream!==""&&t.uint32(138).string(e.stream),t},decode(e,t){const i=e instanceof _m0.Reader?e:_m0.Reader.create(e);let n=t===void 0?i.len:i.pos+t;const r=createBaseTrackInfo();for(;i.pos<n;){const o=i.uint32();switch(o>>>3){case 1:if(o!==10)break;r.sid=i.string();continue;case 2:if(o!==16)break;r.type=i.int32();continue;case 3:if(o!==26)break;r.name=i.string();continue;case 4:if(o!==32)break;r.muted=i.bool();continue;case 5:if(o!==40)break;r.width=i.uint32();continue;case 6:if(o!==48)break;r.height=i.uint32();continue;case 7:if(o!==56)break;r.simulcast=i.bool();continue;case 8:if(o!==64)break;r.disableDtx=i.bool();continue;case 9:if(o!==72)break;r.source=i.int32();continue;case 10:if(o!==82)break;r.layers.push(VideoLayer.decode(i,i.uint32()));continue;case 11:if(o!==90)break;r.mimeType=i.string();continue;case 12:if(o!==98)break;r.mid=i.string();continue;case 13:if(o!==106)break;r.codecs.push(SimulcastCodecInfo.decode(i,i.uint32()));continue;case 14:if(o!==112)break;r.stereo=i.bool();continue;case 15:if(o!==120)break;r.disableRed=i.bool();continue;case 16:if(o!==128)break;r.encryption=i.int32();continue;case 17:if(o!==138)break;r.stream=i.string();continue}if((o&7)===4||o===0)break;i.skipType(o&7)}return r},fromJSON(e){return{sid:isSet$2(e.sid)?globalThis.String(e.sid):"",type:isSet$2(e.type)?trackTypeFromJSON(e.type):0,name:isSet$2(e.name)?globalThis.String(e.name):"",muted:isSet$2(e.muted)?globalThis.Boolean(e.muted):!1,width:isSet$2(e.width)?globalThis.Number(e.width):0,height:isSet$2(e.height)?globalThis.Number(e.height):0,simulcast:isSet$2(e.simulcast)?globalThis.Boolean(e.simulcast):!1,disableDtx:isSet$2(e.disableDtx)?globalThis.Boolean(e.disableDtx):!1,source:isSet$2(e.source)?trackSourceFromJSON(e.source):0,layers:globalThis.Array.isArray(e==null?void 0:e.layers)?e.layers.map(t=>VideoLayer.fromJSON(t)):[],mimeType:isSet$2(e.mimeType)?globalThis.String(e.mimeType):"",mid:isSet$2(e.mid)?globalThis.String(e.mid):"",codecs:globalThis.Array.isArray(e==null?void 0:e.codecs)?e.codecs.map(t=>SimulcastCodecInfo.fromJSON(t)):[],stereo:isSet$2(e.stereo)?globalThis.Boolean(e.stereo):!1,disableRed:isSet$2(e.disableRed)?globalThis.Boolean(e.disableRed):!1,encryption:isSet$2(e.encryption)?encryption_TypeFromJSON(e.encryption):0,stream:isSet$2(e.stream)?globalThis.String(e.stream):""}},toJSON(e){var t,i;const n={};return e.sid!==""&&(n.sid=e.sid),e.type!==0&&(n.type=trackTypeToJSON(e.type)),e.name!==""&&(n.name=e.name),e.muted===!0&&(n.muted=e.muted),e.width!==0&&(n.width=Math.round(e.width)),e.height!==0&&(n.height=Math.round(e.height)),e.simulcast===!0&&(n.simulcast=e.simulcast),e.disableDtx===!0&&(n.disableDtx=e.disableDtx),e.source!==0&&(n.source=trackSourceToJSON(e.source)),!((t=e.layers)===null||t===void 0)&&t.length&&(n.layers=e.layers.map(r=>VideoLayer.toJSON(r))),e.mimeType!==""&&(n.mimeType=e.mimeType),e.mid!==""&&(n.mid=e.mid),!((i=e.codecs)===null||i===void 0)&&i.length&&(n.codecs=e.codecs.map(r=>SimulcastCodecInfo.toJSON(r))),e.stereo===!0&&(n.stereo=e.stereo),e.disableRed===!0&&(n.disableRed=e.disableRed),e.encryption!==0&&(n.encryption=encryption_TypeToJSON(e.encryption)),e.stream!==""&&(n.stream=e.stream),n},create(e){return TrackInfo.fromPartial(e??{})},fromPartial(e){var t,i,n,r,o,a,s,u,l,c,d,m,E,y,O,g,h;const v=createBaseTrackInfo();return v.sid=(t=e.sid)!==null&&t!==void 0?t:"",v.type=(i=e.type)!==null&&i!==void 0?i:0,v.name=(n=e.name)!==null&&n!==void 0?n:"",v.muted=(r=e.muted)!==null&&r!==void 0?r:!1,v.width=(o=e.width)!==null&&o!==void 0?o:0,v.height=(a=e.height)!==null&&a!==void 0?a:0,v.simulcast=(s=e.simulcast)!==null&&s!==void 0?s:!1,v.disableDtx=(u=e.disableDtx)!==null&&u!==void 0?u:!1,v.source=(l=e.source)!==null&&l!==void 0?l:0,v.layers=((c=e.layers)===null||c===void 0?void 0:c.map(T=>VideoLayer.fromPartial(T)))||[],v.mimeType=(d=e.mimeType)!==null&&d!==void 0?d:"",v.mid=(m=e.mid)!==null&&m!==void 0?m:"",v.codecs=((E=e.codecs)===null||E===void 0?void 0:E.map(T=>SimulcastCodecInfo.fromPartial(T)))||[],v.stereo=(y=e.stereo)!==null&&y!==void 0?y:!1,v.disableRed=(O=e.disableRed)!==null&&O!==void 0?O:!1,v.encryption=(g=e.encryption)!==null&&g!==void 0?g:0,v.stream=(h=e.stream)!==null&&h!==void 0?h:"",v}};function createBaseVideoLayer(){return{quality:0,width:0,height:0,bitrate:0,ssrc:0}}const VideoLayer={encode(e,t=_m0.Writer.create()){return e.quality!==0&&t.uint32(8).int32(e.quality),e.width!==0&&t.uint32(16).uint32(e.width),e.height!==0&&t.uint32(24).uint32(e.height),e.bitrate!==0&&t.uint32(32).uint32(e.bitrate),e.ssrc!==0&&t.uint32(40).uint32(e.ssrc),t},decode(e,t){const i=e instanceof _m0.Reader?e:_m0.Reader.create(e);let n=t===void 0?i.len:i.pos+t;const r=createBaseVideoLayer();for(;i.pos<n;){const o=i.uint32();switch(o>>>3){case 1:if(o!==8)break;r.quality=i.int32();continue;case 2:if(o!==16)break;r.width=i.uint32();continue;case 3:if(o!==24)break;r.height=i.uint32();continue;case 4:if(o!==32)break;r.bitrate=i.uint32();continue;case 5:if(o!==40)break;r.ssrc=i.uint32();continue}if((o&7)===4||o===0)break;i.skipType(o&7)}return r},fromJSON(e){return{quality:isSet$2(e.quality)?videoQualityFromJSON(e.quality):0,width:isSet$2(e.width)?globalThis.Number(e.width):0,height:isSet$2(e.height)?globalThis.Number(e.height):0,bitrate:isSet$2(e.bitrate)?globalThis.Number(e.bitrate):0,ssrc:isSet$2(e.ssrc)?globalThis.Number(e.ssrc):0}},toJSON(e){const t={};return e.quality!==0&&(t.quality=videoQualityToJSON(e.quality)),e.width!==0&&(t.width=Math.round(e.width)),e.height!==0&&(t.height=Math.round(e.height)),e.bitrate!==0&&(t.bitrate=Math.round(e.bitrate)),e.ssrc!==0&&(t.ssrc=Math.round(e.ssrc)),t},create(e){return VideoLayer.fromPartial(e??{})},fromPartial(e){var t,i,n,r,o;const a=createBaseVideoLayer();return a.quality=(t=e.quality)!==null&&t!==void 0?t:0,a.width=(i=e.width)!==null&&i!==void 0?i:0,a.height=(n=e.height)!==null&&n!==void 0?n:0,a.bitrate=(r=e.bitrate)!==null&&r!==void 0?r:0,a.ssrc=(o=e.ssrc)!==null&&o!==void 0?o:0,a}};function createBaseParticipantTracks(){return{participantSid:"",trackSids:[]}}const ParticipantTracks={encode(e,t=_m0.Writer.create()){e.participantSid!==""&&t.uint32(10).string(e.participantSid);for(const i of e.trackSids)t.uint32(18).string(i);return t},decode(e,t){const i=e instanceof _m0.Reader?e:_m0.Reader.create(e);let n=t===void 0?i.len:i.pos+t;const r=createBaseParticipantTracks();for(;i.pos<n;){const o=i.uint32();switch(o>>>3){case 1:if(o!==10)break;r.participantSid=i.string();continue;case 2:if(o!==18)break;r.trackSids.push(i.string());continue}if((o&7)===4||o===0)break;i.skipType(o&7)}return r},fromJSON(e){return{participantSid:isSet$2(e.participantSid)?globalThis.String(e.participantSid):"",trackSids:globalThis.Array.isArray(e==null?void 0:e.trackSids)?e.trackSids.map(t=>globalThis.String(t)):[]}},toJSON(e){var t;const i={};return e.participantSid!==""&&(i.participantSid=e.participantSid),!((t=e.trackSids)===null||t===void 0)&&t.length&&(i.trackSids=e.trackSids),i},create(e){return ParticipantTracks.fromPartial(e??{})},fromPartial(e){var t,i;const n=createBaseParticipantTracks();return n.participantSid=(t=e.participantSid)!==null&&t!==void 0?t:"",n.trackSids=((i=e.trackSids)===null||i===void 0?void 0:i.map(r=>r))||[],n}};function longToNumber$1(e){if(e.gt(globalThis.Number.MAX_SAFE_INTEGER))throw new globalThis.Error("Value is larger than Number.MAX_SAFE_INTEGER");return e.toNumber()}_m0.util.Long!==Long&&(_m0.util.Long=Long,_m0.configure());function isSet$2(e){return e!=null}var EncodedFileType;(function(e){e[e.DEFAULT_FILETYPE=0]="DEFAULT_FILETYPE",e[e.MP4=1]="MP4",e[e.OGG=2]="OGG",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"})(EncodedFileType||(EncodedFileType={}));function encodedFileTypeFromJSON(e){switch(e){case 0:case"DEFAULT_FILETYPE":return EncodedFileType.DEFAULT_FILETYPE;case 1:case"MP4":return EncodedFileType.MP4;case 2:case"OGG":return EncodedFileType.OGG;case-1:case"UNRECOGNIZED":default:return EncodedFileType.UNRECOGNIZED}}function encodedFileTypeToJSON(e){switch(e){case EncodedFileType.DEFAULT_FILETYPE:return"DEFAULT_FILETYPE";case EncodedFileType.MP4:return"MP4";case EncodedFileType.OGG:return"OGG";case EncodedFileType.UNRECOGNIZED:default:return"UNRECOGNIZED"}}var SegmentedFileProtocol;(function(e){e[e.DEFAULT_SEGMENTED_FILE_PROTOCOL=0]="DEFAULT_SEGMENTED_FILE_PROTOCOL",e[e.HLS_PROTOCOL=1]="HLS_PROTOCOL",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"})(SegmentedFileProtocol||(SegmentedFileProtocol={}));function segmentedFileProtocolFromJSON(e){switch(e){case 0:case"DEFAULT_SEGMENTED_FILE_PROTOCOL":return SegmentedFileProtocol.DEFAULT_SEGMENTED_FILE_PROTOCOL;case 1:case"HLS_PROTOCOL":return SegmentedFileProtocol.HLS_PROTOCOL;case-1:case"UNRECOGNIZED":default:return SegmentedFileProtocol.UNRECOGNIZED}}function segmentedFileProtocolToJSON(e){switch(e){case SegmentedFileProtocol.DEFAULT_SEGMENTED_FILE_PROTOCOL:return"DEFAULT_SEGMENTED_FILE_PROTOCOL";case SegmentedFileProtocol.HLS_PROTOCOL:return"HLS_PROTOCOL";case SegmentedFileProtocol.UNRECOGNIZED:default:return"UNRECOGNIZED"}}var SegmentedFileSuffix;(function(e){e[e.INDEX=0]="INDEX",e[e.TIMESTAMP=1]="TIMESTAMP",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"})(SegmentedFileSuffix||(SegmentedFileSuffix={}));function segmentedFileSuffixFromJSON(e){switch(e){case 0:case"INDEX":return SegmentedFileSuffix.INDEX;case 1:case"TIMESTAMP":return SegmentedFileSuffix.TIMESTAMP;case-1:case"UNRECOGNIZED":default:return SegmentedFileSuffix.UNRECOGNIZED}}function segmentedFileSuffixToJSON(e){switch(e){case SegmentedFileSuffix.INDEX:return"INDEX";case SegmentedFileSuffix.TIMESTAMP:return"TIMESTAMP";case SegmentedFileSuffix.UNRECOGNIZED:default:return"UNRECOGNIZED"}}var ImageFileSuffix;(function(e){e[e.IMAGE_SUFFIX_INDEX=0]="IMAGE_SUFFIX_INDEX",e[e.IMAGE_SUFFIX_TIMESTAMP=1]="IMAGE_SUFFIX_TIMESTAMP",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"})(ImageFileSuffix||(ImageFileSuffix={}));function imageFileSuffixFromJSON(e){switch(e){case 0:case"IMAGE_SUFFIX_INDEX":return ImageFileSuffix.IMAGE_SUFFIX_INDEX;case 1:case"IMAGE_SUFFIX_TIMESTAMP":return ImageFileSuffix.IMAGE_SUFFIX_TIMESTAMP;case-1:case"UNRECOGNIZED":default:return ImageFileSuffix.UNRECOGNIZED}}function imageFileSuffixToJSON(e){switch(e){case ImageFileSuffix.IMAGE_SUFFIX_INDEX:return"IMAGE_SUFFIX_INDEX";case ImageFileSuffix.IMAGE_SUFFIX_TIMESTAMP:return"IMAGE_SUFFIX_TIMESTAMP";case ImageFileSuffix.UNRECOGNIZED:default:return"UNRECOGNIZED"}}var StreamProtocol;(function(e){e[e.DEFAULT_PROTOCOL=0]="DEFAULT_PROTOCOL",e[e.RTMP=1]="RTMP",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"})(StreamProtocol||(StreamProtocol={}));function streamProtocolFromJSON(e){switch(e){case 0:case"DEFAULT_PROTOCOL":return StreamProtocol.DEFAULT_PROTOCOL;case 1:case"RTMP":return StreamProtocol.RTMP;case-1:case"UNRECOGNIZED":default:return StreamProtocol.UNRECOGNIZED}}function streamProtocolToJSON(e){switch(e){case StreamProtocol.DEFAULT_PROTOCOL:return"DEFAULT_PROTOCOL";case StreamProtocol.RTMP:return"RTMP";case StreamProtocol.UNRECOGNIZED:default:return"UNRECOGNIZED"}}var EncodingOptionsPreset;(function(e){e[e.H264_720P_30=0]="H264_720P_30",e[e.H264_720P_60=1]="H264_720P_60",e[e.H264_1080P_30=2]="H264_1080P_30",e[e.H264_1080P_60=3]="H264_1080P_60",e[e.PORTRAIT_H264_720P_30=4]="PORTRAIT_H264_720P_30",e[e.PORTRAIT_H264_720P_60=5]="PORTRAIT_H264_720P_60",e[e.PORTRAIT_H264_1080P_30=6]="PORTRAIT_H264_1080P_30",e[e.PORTRAIT_H264_1080P_60=7]="PORTRAIT_H264_1080P_60",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"})(EncodingOptionsPreset||(EncodingOptionsPreset={}));function encodingOptionsPresetFromJSON(e){switch(e){case 0:case"H264_720P_30":return EncodingOptionsPreset.H264_720P_30;case 1:case"H264_720P_60":return EncodingOptionsPreset.H264_720P_60;case 2:case"H264_1080P_30":return EncodingOptionsPreset.H264_1080P_30;case 3:case"H264_1080P_60":return EncodingOptionsPreset.H264_1080P_60;case 4:case"PORTRAIT_H264_720P_30":return EncodingOptionsPreset.PORTRAIT_H264_720P_30;case 5:case"PORTRAIT_H264_720P_60":return EncodingOptionsPreset.PORTRAIT_H264_720P_60;case 6:case"PORTRAIT_H264_1080P_30":return EncodingOptionsPreset.PORTRAIT_H264_1080P_30;case 7:case"PORTRAIT_H264_1080P_60":return EncodingOptionsPreset.PORTRAIT_H264_1080P_60;case-1:case"UNRECOGNIZED":default:return EncodingOptionsPreset.UNRECOGNIZED}}function encodingOptionsPresetToJSON(e){switch(e){case EncodingOptionsPreset.H264_720P_30:return"H264_720P_30";case EncodingOptionsPreset.H264_720P_60:return"H264_720P_60";case EncodingOptionsPreset.H264_1080P_30:return"H264_1080P_30";case EncodingOptionsPreset.H264_1080P_60:return"H264_1080P_60";case EncodingOptionsPreset.PORTRAIT_H264_720P_30:return"PORTRAIT_H264_720P_30";case EncodingOptionsPreset.PORTRAIT_H264_720P_60:return"PORTRAIT_H264_720P_60";case EncodingOptionsPreset.PORTRAIT_H264_1080P_30:return"PORTRAIT_H264_1080P_30";case EncodingOptionsPreset.PORTRAIT_H264_1080P_60:return"PORTRAIT_H264_1080P_60";case EncodingOptionsPreset.UNRECOGNIZED:default:return"UNRECOGNIZED"}}var EgressStatus;(function(e){e[e.EGRESS_STARTING=0]="EGRESS_STARTING",e[e.EGRESS_ACTIVE=1]="EGRESS_ACTIVE",e[e.EGRESS_ENDING=2]="EGRESS_ENDING",e[e.EGRESS_COMPLETE=3]="EGRESS_COMPLETE",e[e.EGRESS_FAILED=4]="EGRESS_FAILED",e[e.EGRESS_ABORTED=5]="EGRESS_ABORTED",e[e.EGRESS_LIMIT_REACHED=6]="EGRESS_LIMIT_REACHED",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"})(EgressStatus||(EgressStatus={}));function egressStatusFromJSON(e){switch(e){case 0:case"EGRESS_STARTING":return EgressStatus.EGRESS_STARTING;case 1:case"EGRESS_ACTIVE":return EgressStatus.EGRESS_ACTIVE;case 2:case"EGRESS_ENDING":return EgressStatus.EGRESS_ENDING;case 3:case"EGRESS_COMPLETE":return EgressStatus.EGRESS_COMPLETE;case 4:case"EGRESS_FAILED":return EgressStatus.EGRESS_FAILED;case 5:case"EGRESS_ABORTED":return EgressStatus.EGRESS_ABORTED;case 6:case"EGRESS_LIMIT_REACHED":return EgressStatus.EGRESS_LIMIT_REACHED;case-1:case"UNRECOGNIZED":default:return EgressStatus.UNRECOGNIZED}}function egressStatusToJSON(e){switch(e){case EgressStatus.EGRESS_STARTING:return"EGRESS_STARTING";case EgressStatus.EGRESS_ACTIVE:return"EGRESS_ACTIVE";case EgressStatus.EGRESS_ENDING:return"EGRESS_ENDING";case EgressStatus.EGRESS_COMPLETE:return"EGRESS_COMPLETE";case EgressStatus.EGRESS_FAILED:return"EGRESS_FAILED";case EgressStatus.EGRESS_ABORTED:return"EGRESS_ABORTED";case EgressStatus.EGRESS_LIMIT_REACHED:return"EGRESS_LIMIT_REACHED";case EgressStatus.UNRECOGNIZED:default:return"UNRECOGNIZED"}}var StreamInfo_Status;(function(e){e[e.ACTIVE=0]="ACTIVE",e[e.FINISHED=1]="FINISHED",e[e.FAILED=2]="FAILED",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"})(StreamInfo_Status||(StreamInfo_Status={}));function streamInfo_StatusFromJSON(e){switch(e){case 0:case"ACTIVE":return StreamInfo_Status.ACTIVE;case 1:case"FINISHED":return StreamInfo_Status.FINISHED;case 2:case"FAILED":return StreamInfo_Status.FAILED;case-1:case"UNRECOGNIZED":default:return StreamInfo_Status.UNRECOGNIZED}}function streamInfo_StatusToJSON(e){switch(e){case StreamInfo_Status.ACTIVE:return"ACTIVE";case StreamInfo_Status.FINISHED:return"FINISHED";case StreamInfo_Status.FAILED:return"FAILED";case StreamInfo_Status.UNRECOGNIZED:default:return"UNRECOGNIZED"}}function createBaseRoomCompositeEgressRequest(){return{roomName:"",layout:"",audioOnly:!1,videoOnly:!1,customBaseUrl:"",file:void 0,stream:void 0,segments:void 0,preset:void 0,advanced:void 0,fileOutputs:[],streamOutputs:[],segmentOutputs:[],imageOutputs:[]}}const RoomCompositeEgressRequest={encode(e,t=_m0.Writer.create()){if(e.roomName!==void 0&&e.roomName!==""&&t.uint32(10).string(e.roomName),e.layout!==void 0&&e.layout!==""&&t.uint32(18).string(e.layout),e.audioOnly===!0&&t.uint32(24).bool(e.audioOnly),e.videoOnly===!0&&t.uint32(32).bool(e.videoOnly),e.customBaseUrl!==void 0&&e.customBaseUrl!==""&&t.uint32(42).string(e.customBaseUrl),e.file!==void 0&&EncodedFileOutput.encode(e.file,t.uint32(50).fork()).ldelim(),e.stream!==void 0&&StreamOutput.encode(e.stream,t.uint32(58).fork()).ldelim(),e.segments!==void 0&&SegmentedFileOutput.encode(e.segments,t.uint32(82).fork()).ldelim(),e.preset!==void 0&&t.uint32(64).int32(e.preset),e.advanced!==void 0&&EncodingOptions.encode(e.advanced,t.uint32(74).fork()).ldelim(),e.fileOutputs!==void 0&&e.fileOutputs.length!==0)for(const i of e.fileOutputs)EncodedFileOutput.encode(i,t.uint32(90).fork()).ldelim();if(e.streamOutputs!==void 0&&e.streamOutputs.length!==0)for(const i of e.streamOutputs)StreamOutput.encode(i,t.uint32(98).fork()).ldelim();if(e.segmentOutputs!==void 0&&e.segmentOutputs.length!==0)for(const i of e.segmentOutputs)SegmentedFileOutput.encode(i,t.uint32(106).fork()).ldelim();if(e.imageOutputs!==void 0&&e.imageOutputs.length!==0)for(const i of e.imageOutputs)ImageOutput.encode(i,t.uint32(114).fork()).ldelim();return t},decode(e,t){const i=e instanceof _m0.Reader?e:_m0.Reader.create(e);let n=t===void 0?i.len:i.pos+t;const r=createBaseRoomCompositeEgressRequest();for(;i.pos<n;){const o=i.uint32();switch(o>>>3){case 1:if(o!==10)break;r.roomName=i.string();continue;case 2:if(o!==18)break;r.layout=i.string();continue;case 3:if(o!==24)break;r.audioOnly=i.bool();continue;case 4:if(o!==32)break;r.videoOnly=i.bool();continue;case 5:if(o!==42)break;r.customBaseUrl=i.string();continue;case 6:if(o!==50)break;r.file=EncodedFileOutput.decode(i,i.uint32());continue;case 7:if(o!==58)break;r.stream=StreamOutput.decode(i,i.uint32());continue;case 10:if(o!==82)break;r.segments=SegmentedFileOutput.decode(i,i.uint32());continue;case 8:if(o!==64)break;r.preset=i.int32();continue;case 9:if(o!==74)break;r.advanced=EncodingOptions.decode(i,i.uint32());continue;case 11:if(o!==90)break;r.fileOutputs.push(EncodedFileOutput.decode(i,i.uint32()));continue;case 12:if(o!==98)break;r.streamOutputs.push(StreamOutput.decode(i,i.uint32()));continue;case 13:if(o!==106)break;r.segmentOutputs.push(SegmentedFileOutput.decode(i,i.uint32()));continue;case 14:if(o!==114)break;r.imageOutputs.push(ImageOutput.decode(i,i.uint32()));continue}if((o&7)===4||o===0)break;i.skipType(o&7)}return r},fromJSON(e){return{roomName:isSet$1(e.roomName)?globalThis.String(e.roomName):"",layout:isSet$1(e.layout)?globalThis.String(e.layout):"",audioOnly:isSet$1(e.audioOnly)?globalThis.Boolean(e.audioOnly):!1,videoOnly:isSet$1(e.videoOnly)?globalThis.Boolean(e.videoOnly):!1,customBaseUrl:isSet$1(e.customBaseUrl)?globalThis.String(e.customBaseUrl):"",file:isSet$1(e.file)?EncodedFileOutput.fromJSON(e.file):void 0,stream:isSet$1(e.stream)?StreamOutput.fromJSON(e.stream):void 0,segments:isSet$1(e.segments)?SegmentedFileOutput.fromJSON(e.segments):void 0,preset:isSet$1(e.preset)?encodingOptionsPresetFromJSON(e.preset):void 0,advanced:isSet$1(e.advanced)?EncodingOptions.fromJSON(e.advanced):void 0,fileOutputs:globalThis.Array.isArray(e==null?void 0:e.fileOutputs)?e.fileOutputs.map(t=>EncodedFileOutput.fromJSON(t)):[],streamOutputs:globalThis.Array.isArray(e==null?void 0:e.streamOutputs)?e.streamOutputs.map(t=>StreamOutput.fromJSON(t)):[],segmentOutputs:globalThis.Array.isArray(e==null?void 0:e.segmentOutputs)?e.segmentOutputs.map(t=>SegmentedFileOutput.fromJSON(t)):[],imageOutputs:globalThis.Array.isArray(e==null?void 0:e.imageOutputs)?e.imageOutputs.map(t=>ImageOutput.fromJSON(t)):[]}},toJSON(e){var t,i,n,r;const o={};return e.roomName!==void 0&&e.roomName!==""&&(o.roomName=e.roomName),e.layout!==void 0&&e.layout!==""&&(o.layout=e.layout),e.audioOnly===!0&&(o.audioOnly=e.audioOnly),e.videoOnly===!0&&(o.videoOnly=e.videoOnly),e.customBaseUrl!==void 0&&e.customBaseUrl!==""&&(o.customBaseUrl=e.customBaseUrl),e.file!==void 0&&(o.file=EncodedFileOutput.toJSON(e.file)),e.stream!==void 0&&(o.stream=StreamOutput.toJSON(e.stream)),e.segments!==void 0&&(o.segments=SegmentedFileOutput.toJSON(e.segments)),e.preset!==void 0&&(o.preset=encodingOptionsPresetToJSON(e.preset)),e.advanced!==void 0&&(o.advanced=EncodingOptions.toJSON(e.advanced)),!((t=e.fileOutputs)===null||t===void 0)&&t.length&&(o.fileOutputs=e.fileOutputs.map(a=>EncodedFileOutput.toJSON(a))),!((i=e.streamOutputs)===null||i===void 0)&&i.length&&(o.streamOutputs=e.streamOutputs.map(a=>StreamOutput.toJSON(a))),!((n=e.segmentOutputs)===null||n===void 0)&&n.length&&(o.segmentOutputs=e.segmentOutputs.map(a=>SegmentedFileOutput.toJSON(a))),!((r=e.imageOutputs)===null||r===void 0)&&r.length&&(o.imageOutputs=e.imageOutputs.map(a=>ImageOutput.toJSON(a))),o},create(e){return RoomCompositeEgressRequest.fromPartial(e??{})},fromPartial(e){var t,i,n,r,o,a,s,u,l,c;const d=createBaseRoomCompositeEgressRequest();return d.roomName=(t=e.roomName)!==null&&t!==void 0?t:"",d.layout=(i=e.layout)!==null&&i!==void 0?i:"",d.audioOnly=(n=e.audioOnly)!==null&&n!==void 0?n:!1,d.videoOnly=(r=e.videoOnly)!==null&&r!==void 0?r:!1,d.customBaseUrl=(o=e.customBaseUrl)!==null&&o!==void 0?o:"",d.file=e.file!==void 0&&e.file!==null?EncodedFileOutput.fromPartial(e.file):void 0,d.stream=e.stream!==void 0&&e.stream!==null?StreamOutput.fromPartial(e.stream):void 0,d.segments=e.segments!==void 0&&e.segments!==null?SegmentedFileOutput.fromPartial(e.segments):void 0,d.preset=(a=e.preset)!==null&&a!==void 0?a:void 0,d.advanced=e.advanced!==void 0&&e.advanced!==null?EncodingOptions.fromPartial(e.advanced):void 0,d.fileOutputs=((s=e.fileOutputs)===null||s===void 0?void 0:s.map(m=>EncodedFileOutput.fromPartial(m)))||[],d.streamOutputs=((u=e.streamOutputs)===null||u===void 0?void 0:u.map(m=>StreamOutput.fromPartial(m)))||[],d.segmentOutputs=((l=e.segmentOutputs)===null||l===void 0?void 0:l.map(m=>SegmentedFileOutput.fromPartial(m)))||[],d.imageOutputs=((c=e.imageOutputs)===null||c===void 0?void 0:c.map(m=>ImageOutput.fromPartial(m)))||[],d}};function createBaseWebEgressRequest(){return{url:"",audioOnly:!1,videoOnly:!1,awaitStartSignal:!1,file:void 0,stream:void 0,segments:void 0,preset:void 0,advanced:void 0,fileOutputs:[],streamOutputs:[],segmentOutputs:[],imageOutputs:[]}}const WebEgressRequest={encode(e,t=_m0.Writer.create()){if(e.url!==void 0&&e.url!==""&&t.uint32(10).string(e.url),e.audioOnly===!0&&t.uint32(16).bool(e.audioOnly),e.videoOnly===!0&&t.uint32(24).bool(e.videoOnly),e.awaitStartSignal===!0&&t.uint32(96).bool(e.awaitStartSignal),e.file!==void 0&&EncodedFileOutput.encode(e.file,t.uint32(34).fork()).ldelim(),e.stream!==void 0&&StreamOutput.encode(e.stream,t.uint32(42).fork()).ldelim(),e.segments!==void 0&&SegmentedFileOutput.encode(e.segments,t.uint32(50).fork()).ldelim(),e.preset!==void 0&&t.uint32(56).int32(e.preset),e.advanced!==void 0&&EncodingOptions.encode(e.advanced,t.uint32(66).fork()).ldelim(),e.fileOutputs!==void 0&&e.fileOutputs.length!==0)for(const i of e.fileOutputs)EncodedFileOutput.encode(i,t.uint32(74).fork()).ldelim();if(e.streamOutputs!==void 0&&e.streamOutputs.length!==0)for(const i of e.streamOutputs)StreamOutput.encode(i,t.uint32(82).fork()).ldelim();if(e.segmentOutputs!==void 0&&e.segmentOutputs.length!==0)for(const i of e.segmentOutputs)SegmentedFileOutput.encode(i,t.uint32(90).fork()).ldelim();if(e.imageOutputs!==void 0&&e.imageOutputs.length!==0)for(const i of e.imageOutputs)ImageOutput.encode(i,t.uint32(106).fork()).ldelim();return t},decode(e,t){const i=e instanceof _m0.Reader?e:_m0.Reader.create(e);let n=t===void 0?i.len:i.pos+t;const r=createBaseWebEgressRequest();for(;i.pos<n;){const o=i.uint32();switch(o>>>3){case 1:if(o!==10)break;r.url=i.string();continue;case 2:if(o!==16)break;r.audioOnly=i.bool();continue;case 3:if(o!==24)break;r.videoOnly=i.bool();continue;case 12:if(o!==96)break;r.awaitStartSignal=i.bool();continue;case 4:if(o!==34)break;r.file=EncodedFileOutput.decode(i,i.uint32());continue;case 5:if(o!==42)break;r.stream=StreamOutput.decode(i,i.uint32());continue;case 6:if(o!==50)break;r.segments=SegmentedFileOutput.decode(i,i.uint32());continue;case 7:if(o!==56)break;r.preset=i.int32();continue;case 8:if(o!==66)break;r.advanced=EncodingOptions.decode(i,i.uint32());continue;case 9:if(o!==74)break;r.fileOutputs.push(EncodedFileOutput.decode(i,i.uint32()));continue;case 10:if(o!==82)break;r.streamOutputs.push(StreamOutput.decode(i,i.uint32()));continue;case 11:if(o!==90)break;r.segmentOutputs.push(SegmentedFileOutput.decode(i,i.uint32()));continue;case 13:if(o!==106)break;r.imageOutputs.push(ImageOutput.decode(i,i.uint32()));continue}if((o&7)===4||o===0)break;i.skipType(o&7)}return r},fromJSON(e){return{url:isSet$1(e.url)?globalThis.String(e.url):"",audioOnly:isSet$1(e.audioOnly)?globalThis.Boolean(e.audioOnly):!1,videoOnly:isSet$1(e.videoOnly)?globalThis.Boolean(e.videoOnly):!1,awaitStartSignal:isSet$1(e.awaitStartSignal)?globalThis.Boolean(e.awaitStartSignal):!1,file:isSet$1(e.file)?EncodedFileOutput.fromJSON(e.file):void 0,stream:isSet$1(e.stream)?StreamOutput.fromJSON(e.stream):void 0,segments:isSet$1(e.segments)?SegmentedFileOutput.fromJSON(e.segments):void 0,preset:isSet$1(e.preset)?encodingOptionsPresetFromJSON(e.preset):void 0,advanced:isSet$1(e.advanced)?EncodingOptions.fromJSON(e.advanced):void 0,fileOutputs:globalThis.Array.isArray(e==null?void 0:e.fileOutputs)?e.fileOutputs.map(t=>EncodedFileOutput.fromJSON(t)):[],streamOutputs:globalThis.Array.isArray(e==null?void 0:e.streamOutputs)?e.streamOutputs.map(t=>StreamOutput.fromJSON(t)):[],segmentOutputs:globalThis.Array.isArray(e==null?void 0:e.segmentOutputs)?e.segmentOutputs.map(t=>SegmentedFileOutput.fromJSON(t)):[],imageOutputs:globalThis.Array.isArray(e==null?void 0:e.imageOutputs)?e.imageOutputs.map(t=>ImageOutput.fromJSON(t)):[]}},toJSON(e){var t,i,n,r;const o={};return e.url!==void 0&&e.url!==""&&(o.url=e.url),e.audioOnly===!0&&(o.audioOnly=e.audioOnly),e.videoOnly===!0&&(o.videoOnly=e.videoOnly),e.awaitStartSignal===!0&&(o.awaitStartSignal=e.awaitStartSignal),e.file!==void 0&&(o.file=EncodedFileOutput.toJSON(e.file)),e.stream!==void 0&&(o.stream=StreamOutput.toJSON(e.stream)),e.segments!==void 0&&(o.segments=SegmentedFileOutput.toJSON(e.segments)),e.preset!==void 0&&(o.preset=encodingOptionsPresetToJSON(e.preset)),e.advanced!==void 0&&(o.advanced=EncodingOptions.toJSON(e.advanced)),!((t=e.fileOutputs)===null||t===void 0)&&t.length&&(o.fileOutputs=e.fileOutputs.map(a=>EncodedFileOutput.toJSON(a))),!((i=e.streamOutputs)===null||i===void 0)&&i.length&&(o.streamOutputs=e.streamOutputs.map(a=>StreamOutput.toJSON(a))),!((n=e.segmentOutputs)===null||n===void 0)&&n.length&&(o.segmentOutputs=e.segmentOutputs.map(a=>SegmentedFileOutput.toJSON(a))),!((r=e.imageOutputs)===null||r===void 0)&&r.length&&(o.imageOutputs=e.imageOutputs.map(a=>ImageOutput.toJSON(a))),o},create(e){return WebEgressRequest.fromPartial(e??{})},fromPartial(e){var t,i,n,r,o,a,s,u,l;const c=createBaseWebEgressRequest();return c.url=(t=e.url)!==null&&t!==void 0?t:"",c.audioOnly=(i=e.audioOnly)!==null&&i!==void 0?i:!1,c.videoOnly=(n=e.videoOnly)!==null&&n!==void 0?n:!1,c.awaitStartSignal=(r=e.awaitStartSignal)!==null&&r!==void 0?r:!1,c.file=e.file!==void 0&&e.file!==null?EncodedFileOutput.fromPartial(e.file):void 0,c.stream=e.stream!==void 0&&e.stream!==null?StreamOutput.fromPartial(e.stream):void 0,c.segments=e.segments!==void 0&&e.segments!==null?SegmentedFileOutput.fromPartial(e.segments):void 0,c.preset=(o=e.preset)!==null&&o!==void 0?o:void 0,c.advanced=e.advanced!==void 0&&e.advanced!==null?EncodingOptions.fromPartial(e.advanced):void 0,c.fileOutputs=((a=e.fileOutputs)===null||a===void 0?void 0:a.map(d=>EncodedFileOutput.fromPartial(d)))||[],c.streamOutputs=((s=e.streamOutputs)===null||s===void 0?void 0:s.map(d=>StreamOutput.fromPartial(d)))||[],c.segmentOutputs=((u=e.segmentOutputs)===null||u===void 0?void 0:u.map(d=>SegmentedFileOutput.fromPartial(d)))||[],c.imageOutputs=((l=e.imageOutputs)===null||l===void 0?void 0:l.map(d=>ImageOutput.fromPartial(d)))||[],c}};function createBaseParticipantEgressRequest(){return{roomName:"",identity:"",screenShare:!1,preset:void 0,advanced:void 0,fileOutputs:[],streamOutputs:[],segmentOutputs:[],imageOutputs:[]}}const ParticipantEgressRequest={encode(e,t=_m0.Writer.create()){if(e.roomName!==void 0&&e.roomName!==""&&t.uint32(10).string(e.roomName),e.identity!==void 0&&e.identity!==""&&t.uint32(18).string(e.identity),e.screenShare===!0&&t.uint32(24).bool(e.screenShare),e.preset!==void 0&&t.uint32(32).int32(e.preset),e.advanced!==void 0&&EncodingOptions.encode(e.advanced,t.uint32(42).fork()).ldelim(),e.fileOutputs!==void 0&&e.fileOutputs.length!==0)for(const i of e.fileOutputs)EncodedFileOutput.encode(i,t.uint32(50).fork()).ldelim();if(e.streamOutputs!==void 0&&e.streamOutputs.length!==0)for(const i of e.streamOutputs)StreamOutput.encode(i,t.uint32(58).fork()).ldelim();if(e.segmentOutputs!==void 0&&e.segmentOutputs.length!==0)for(const i of e.segmentOutputs)SegmentedFileOutput.encode(i,t.uint32(66).fork()).ldelim();if(e.imageOutputs!==void 0&&e.imageOutputs.length!==0)for(const i of e.imageOutputs)ImageOutput.encode(i,t.uint32(74).fork()).ldelim();return t},decode(e,t){const i=e instanceof _m0.Reader?e:_m0.Reader.create(e);let n=t===void 0?i.len:i.pos+t;const r=createBaseParticipantEgressRequest();for(;i.pos<n;){const o=i.uint32();switch(o>>>3){case 1:if(o!==10)break;r.roomName=i.string();continue;case 2:if(o!==18)break;r.identity=i.string();continue;case 3:if(o!==24)break;r.screenShare=i.bool();continue;case 4:if(o!==32)break;r.preset=i.int32();continue;case 5:if(o!==42)break;r.advanced=EncodingOptions.decode(i,i.uint32());continue;case 6:if(o!==50)break;r.fileOutputs.push(EncodedFileOutput.decode(i,i.uint32()));continue;case 7:if(o!==58)break;r.streamOutputs.push(StreamOutput.decode(i,i.uint32()));continue;case 8:if(o!==66)break;r.segmentOutputs.push(SegmentedFileOutput.decode(i,i.uint32()));continue;case 9:if(o!==74)break;r.imageOutputs.push(ImageOutput.decode(i,i.uint32()));continue}if((o&7)===4||o===0)break;i.skipType(o&7)}return r},fromJSON(e){return{roomName:isSet$1(e.roomName)?globalThis.String(e.roomName):"",identity:isSet$1(e.identity)?globalThis.String(e.identity):"",screenShare:isSet$1(e.screenShare)?globalThis.Boolean(e.screenShare):!1,preset:isSet$1(e.preset)?encodingOptionsPresetFromJSON(e.preset):void 0,advanced:isSet$1(e.advanced)?EncodingOptions.fromJSON(e.advanced):void 0,fileOutputs:globalThis.Array.isArray(e==null?void 0:e.fileOutputs)?e.fileOutputs.map(t=>EncodedFileOutput.fromJSON(t)):[],streamOutputs:globalThis.Array.isArray(e==null?void 0:e.streamOutputs)?e.streamOutputs.map(t=>StreamOutput.fromJSON(t)):[],segmentOutputs:globalThis.Array.isArray(e==null?void 0:e.segmentOutputs)?e.segmentOutputs.map(t=>SegmentedFileOutput.fromJSON(t)):[],imageOutputs:globalThis.Array.isArray(e==null?void 0:e.imageOutputs)?e.imageOutputs.map(t=>ImageOutput.fromJSON(t)):[]}},toJSON(e){var t,i,n,r;const o={};return e.roomName!==void 0&&e.roomName!==""&&(o.roomName=e.roomName),e.identity!==void 0&&e.identity!==""&&(o.identity=e.identity),e.screenShare===!0&&(o.screenShare=e.screenShare),e.preset!==void 0&&(o.preset=encodingOptionsPresetToJSON(e.preset)),e.advanced!==void 0&&(o.advanced=EncodingOptions.toJSON(e.advanced)),!((t=e.fileOutputs)===null||t===void 0)&&t.length&&(o.fileOutputs=e.fileOutputs.map(a=>EncodedFileOutput.toJSON(a))),!((i=e.streamOutputs)===null||i===void 0)&&i.length&&(o.streamOutputs=e.streamOutputs.map(a=>StreamOutput.toJSON(a))),!((n=e.segmentOutputs)===null||n===void 0)&&n.length&&(o.segmentOutputs=e.segmentOutputs.map(a=>SegmentedFileOutput.toJSON(a))),!((r=e.imageOutputs)===null||r===void 0)&&r.length&&(o.imageOutputs=e.imageOutputs.map(a=>ImageOutput.toJSON(a))),o},create(e){return ParticipantEgressRequest.fromPartial(e??{})},fromPartial(e){var t,i,n,r,o,a,s,u;const l=createBaseParticipantEgressRequest();return l.roomName=(t=e.roomName)!==null&&t!==void 0?t:"",l.identity=(i=e.identity)!==null&&i!==void 0?i:"",l.screenShare=(n=e.screenShare)!==null&&n!==void 0?n:!1,l.preset=(r=e.preset)!==null&&r!==void 0?r:void 0,l.advanced=e.advanced!==void 0&&e.advanced!==null?EncodingOptions.fromPartial(e.advanced):void 0,l.fileOutputs=((o=e.fileOutputs)===null||o===void 0?void 0:o.map(c=>EncodedFileOutput.fromPartial(c)))||[],l.streamOutputs=((a=e.streamOutputs)===null||a===void 0?void 0:a.map(c=>StreamOutput.fromPartial(c)))||[],l.segmentOutputs=((s=e.segmentOutputs)===null||s===void 0?void 0:s.map(c=>SegmentedFileOutput.fromPartial(c)))||[],l.imageOutputs=((u=e.imageOutputs)===null||u===void 0?void 0:u.map(c=>ImageOutput.fromPartial(c)))||[],l}};function createBaseTrackCompositeEgressRequest(){return{roomName:"",audioTrackId:"",videoTrackId:"",file:void 0,stream:void 0,segments:void 0,preset:void 0,advanced:void 0,fileOutputs:[],streamOutputs:[],segmentOutputs:[],imageOutputs:[]}}const TrackCompositeEgressRequest={encode(e,t=_m0.Writer.create()){if(e.roomName!==void 0&&e.roomName!==""&&t.uint32(10).string(e.roomName),e.audioTrackId!==void 0&&e.audioTrackId!==""&&t.uint32(18).string(e.audioTrackId),e.videoTrackId!==void 0&&e.videoTrackId!==""&&t.uint32(26).string(e.videoTrackId),e.file!==void 0&&EncodedFileOutput.encode(e.file,t.uint32(34).fork()).ldelim(),e.stream!==void 0&&StreamOutput.encode(e.stream,t.uint32(42).fork()).ldelim(),e.segments!==void 0&&SegmentedFileOutput.encode(e.segments,t.uint32(66).fork()).ldelim(),e.preset!==void 0&&t.uint32(48).int32(e.preset),e.advanced!==void 0&&EncodingOptions.encode(e.advanced,t.uint32(58).fork()).ldelim(),e.fileOutputs!==void 0&&e.fileOutputs.length!==0)for(const i of e.fileOutputs)EncodedFileOutput.encode(i,t.uint32(90).fork()).ldelim();if(e.streamOutputs!==void 0&&e.streamOutputs.length!==0)for(const i of e.streamOutputs)StreamOutput.encode(i,t.uint32(98).fork()).ldelim();if(e.segmentOutputs!==void 0&&e.segmentOutputs.length!==0)for(const i of e.segmentOutputs)SegmentedFileOutput.encode(i,t.uint32(106).fork()).ldelim();if(e.imageOutputs!==void 0&&e.imageOutputs.length!==0)for(const i of e.imageOutputs)ImageOutput.encode(i,t.uint32(114).fork()).ldelim();return t},decode(e,t){const i=e instanceof _m0.Reader?e:_m0.Reader.create(e);let n=t===void 0?i.len:i.pos+t;const r=createBaseTrackCompositeEgressRequest();for(;i.pos<n;){const o=i.uint32();switch(o>>>3){case 1:if(o!==10)break;r.roomName=i.string();continue;case 2:if(o!==18)break;r.audioTrackId=i.string();continue;case 3:if(o!==26)break;r.videoTrackId=i.string();continue;case 4:if(o!==34)break;r.file=EncodedFileOutput.decode(i,i.uint32());continue;case 5:if(o!==42)break;r.stream=StreamOutput.decode(i,i.uint32());continue;case 8:if(o!==66)break;r.segments=SegmentedFileOutput.decode(i,i.uint32());continue;case 6:if(o!==48)break;r.preset=i.int32();continue;case 7:if(o!==58)break;r.advanced=EncodingOptions.decode(i,i.uint32());continue;case 11:if(o!==90)break;r.fileOutputs.push(EncodedFileOutput.decode(i,i.uint32()));continue;case 12:if(o!==98)break;r.streamOutputs.push(StreamOutput.decode(i,i.uint32()));continue;case 13:if(o!==106)break;r.segmentOutputs.push(SegmentedFileOutput.decode(i,i.uint32()));continue;case 14:if(o!==114)break;r.imageOutputs.push(ImageOutput.decode(i,i.uint32()));continue}if((o&7)===4||o===0)break;i.skipType(o&7)}return r},fromJSON(e){return{roomName:isSet$1(e.roomName)?globalThis.String(e.roomName):"",audioTrackId:isSet$1(e.audioTrackId)?globalThis.String(e.audioTrackId):"",videoTrackId:isSet$1(e.videoTrackId)?globalThis.String(e.videoTrackId):"",file:isSet$1(e.file)?EncodedFileOutput.fromJSON(e.file):void 0,stream:isSet$1(e.stream)?StreamOutput.fromJSON(e.stream):void 0,segments:isSet$1(e.segments)?SegmentedFileOutput.fromJSON(e.segments):void 0,preset:isSet$1(e.preset)?encodingOptionsPresetFromJSON(e.preset):void 0,advanced:isSet$1(e.advanced)?EncodingOptions.fromJSON(e.advanced):void 0,fileOutputs:globalThis.Array.isArray(e==null?void 0:e.fileOutputs)?e.fileOutputs.map(t=>EncodedFileOutput.fromJSON(t)):[],streamOutputs:globalThis.Array.isArray(e==null?void 0:e.streamOutputs)?e.streamOutputs.map(t=>StreamOutput.fromJSON(t)):[],segmentOutputs:globalThis.Array.isArray(e==null?void 0:e.segmentOutputs)?e.segmentOutputs.map(t=>SegmentedFileOutput.fromJSON(t)):[],imageOutputs:globalThis.Array.isArray(e==null?void 0:e.imageOutputs)?e.imageOutputs.map(t=>ImageOutput.fromJSON(t)):[]}},toJSON(e){var t,i,n,r;const o={};return e.roomName!==void 0&&e.roomName!==""&&(o.roomName=e.roomName),e.audioTrackId!==void 0&&e.audioTrackId!==""&&(o.audioTrackId=e.audioTrackId),e.videoTrackId!==void 0&&e.videoTrackId!==""&&(o.videoTrackId=e.videoTrackId),e.file!==void 0&&(o.file=EncodedFileOutput.toJSON(e.file)),e.stream!==void 0&&(o.stream=StreamOutput.toJSON(e.stream)),e.segments!==void 0&&(o.segments=SegmentedFileOutput.toJSON(e.segments)),e.preset!==void 0&&(o.preset=encodingOptionsPresetToJSON(e.preset)),e.advanced!==void 0&&(o.advanced=EncodingOptions.toJSON(e.advanced)),!((t=e.fileOutputs)===null||t===void 0)&&t.length&&(o.fileOutputs=e.fileOutputs.map(a=>EncodedFileOutput.toJSON(a))),!((i=e.streamOutputs)===null||i===void 0)&&i.length&&(o.streamOutputs=e.streamOutputs.map(a=>StreamOutput.toJSON(a))),!((n=e.segmentOutputs)===null||n===void 0)&&n.length&&(o.segmentOutputs=e.segmentOutputs.map(a=>SegmentedFileOutput.toJSON(a))),!((r=e.imageOutputs)===null||r===void 0)&&r.length&&(o.imageOutputs=e.imageOutputs.map(a=>ImageOutput.toJSON(a))),o},create(e){return TrackCompositeEgressRequest.fromPartial(e??{})},fromPartial(e){var t,i,n,r,o,a,s,u;const l=createBaseTrackCompositeEgressRequest();return l.roomName=(t=e.roomName)!==null&&t!==void 0?t:"",l.audioTrackId=(i=e.audioTrackId)!==null&&i!==void 0?i:"",l.videoTrackId=(n=e.videoTrackId)!==null&&n!==void 0?n:"",l.file=e.file!==void 0&&e.file!==null?EncodedFileOutput.fromPartial(e.file):void 0,l.stream=e.stream!==void 0&&e.stream!==null?StreamOutput.fromPartial(e.stream):void 0,l.segments=e.segments!==void 0&&e.segments!==null?SegmentedFileOutput.fromPartial(e.segments):void 0,l.preset=(r=e.preset)!==null&&r!==void 0?r:void 0,l.advanced=e.advanced!==void 0&&e.advanced!==null?EncodingOptions.fromPartial(e.advanced):void 0,l.fileOutputs=((o=e.fileOutputs)===null||o===void 0?void 0:o.map(c=>EncodedFileOutput.fromPartial(c)))||[],l.streamOutputs=((a=e.streamOutputs)===null||a===void 0?void 0:a.map(c=>StreamOutput.fromPartial(c)))||[],l.segmentOutputs=((s=e.segmentOutputs)===null||s===void 0?void 0:s.map(c=>SegmentedFileOutput.fromPartial(c)))||[],l.imageOutputs=((u=e.imageOutputs)===null||u===void 0?void 0:u.map(c=>ImageOutput.fromPartial(c)))||[],l}};function createBaseTrackEgressRequest(){return{roomName:"",trackId:"",file:void 0,websocketUrl:void 0}}const TrackEgressRequest={encode(e,t=_m0.Writer.create()){return e.roomName!==void 0&&e.roomName!==""&&t.uint32(10).string(e.roomName),e.trackId!==void 0&&e.trackId!==""&&t.uint32(18).string(e.trackId),e.file!==void 0&&DirectFileOutput.encode(e.file,t.uint32(26).fork()).ldelim(),e.websocketUrl!==void 0&&t.uint32(34).string(e.websocketUrl),t},decode(e,t){const i=e instanceof _m0.Reader?e:_m0.Reader.create(e);let n=t===void 0?i.len:i.pos+t;const r=createBaseTrackEgressRequest();for(;i.pos<n;){const o=i.uint32();switch(o>>>3){case 1:if(o!==10)break;r.roomName=i.string();continue;case 2:if(o!==18)break;r.trackId=i.string();continue;case 3:if(o!==26)break;r.file=DirectFileOutput.decode(i,i.uint32());continue;case 4:if(o!==34)break;r.websocketUrl=i.string();continue}if((o&7)===4||o===0)break;i.skipType(o&7)}return r},fromJSON(e){return{roomName:isSet$1(e.roomName)?globalThis.String(e.roomName):"",trackId:isSet$1(e.trackId)?globalThis.String(e.trackId):"",file:isSet$1(e.file)?DirectFileOutput.fromJSON(e.file):void 0,websocketUrl:isSet$1(e.websocketUrl)?globalThis.String(e.websocketUrl):void 0}},toJSON(e){const t={};return e.roomName!==void 0&&e.roomName!==""&&(t.roomName=e.roomName),e.trackId!==void 0&&e.trackId!==""&&(t.trackId=e.trackId),e.file!==void 0&&(t.file=DirectFileOutput.toJSON(e.file)),e.websocketUrl!==void 0&&(t.websocketUrl=e.websocketUrl),t},create(e){return TrackEgressRequest.fromPartial(e??{})},fromPartial(e){var t,i,n;const r=createBaseTrackEgressRequest();return r.roomName=(t=e.roomName)!==null&&t!==void 0?t:"",r.trackId=(i=e.trackId)!==null&&i!==void 0?i:"",r.file=e.file!==void 0&&e.file!==null?DirectFileOutput.fromPartial(e.file):void 0,r.websocketUrl=(n=e.websocketUrl)!==null&&n!==void 0?n:void 0,r}};function createBaseEncodedFileOutput(){return{fileType:0,filepath:"",disableManifest:!1,s3:void 0,gcp:void 0,azure:void 0,aliOSS:void 0}}const EncodedFileOutput={encode(e,t=_m0.Writer.create()){return e.fileType!==void 0&&e.fileType!==0&&t.uint32(8).int32(e.fileType),e.filepath!==void 0&&e.filepath!==""&&t.uint32(18).string(e.filepath),e.disableManifest===!0&&t.uint32(48).bool(e.disableManifest),e.s3!==void 0&&S3Upload.encode(e.s3,t.uint32(26).fork()).ldelim(),e.gcp!==void 0&&GCPUpload.encode(e.gcp,t.uint32(34).fork()).ldelim(),e.azure!==void 0&&AzureBlobUpload.encode(e.azure,t.uint32(42).fork()).ldelim(),e.aliOSS!==void 0&&AliOSSUpload.encode(e.aliOSS,t.uint32(58).fork()).ldelim(),t},decode(e,t){const i=e instanceof _m0.Reader?e:_m0.Reader.create(e);let n=t===void 0?i.len:i.pos+t;const r=createBaseEncodedFileOutput();for(;i.pos<n;){const o=i.uint32();switch(o>>>3){case 1:if(o!==8)break;r.fileType=i.int32();continue;case 2:if(o!==18)break;r.filepath=i.string();continue;case 6:if(o!==48)break;r.disableManifest=i.bool();continue;case 3:if(o!==26)break;r.s3=S3Upload.decode(i,i.uint32());continue;case 4:if(o!==34)break;r.gcp=GCPUpload.decode(i,i.uint32());continue;case 5:if(o!==42)break;r.azure=AzureBlobUpload.decode(i,i.uint32());continue;case 7:if(o!==58)break;r.aliOSS=AliOSSUpload.decode(i,i.uint32());continue}if((o&7)===4||o===0)break;i.skipType(o&7)}return r},fromJSON(e){return{fileType:isSet$1(e.fileType)?encodedFileTypeFromJSON(e.fileType):0,filepath:isSet$1(e.filepath)?globalThis.String(e.filepath):"",disableManifest:isSet$1(e.disableManifest)?globalThis.Boolean(e.disableManifest):!1,s3:isSet$1(e.s3)?S3Upload.fromJSON(e.s3):void 0,gcp:isSet$1(e.gcp)?GCPUpload.fromJSON(e.gcp):void 0,azure:isSet$1(e.azure)?AzureBlobUpload.fromJSON(e.azure):void 0,aliOSS:isSet$1(e.aliOSS)?AliOSSUpload.fromJSON(e.aliOSS):void 0}},toJSON(e){const t={};return e.fileType!==void 0&&e.fileType!==0&&(t.fileType=encodedFileTypeToJSON(e.fileType)),e.filepath!==void 0&&e.filepath!==""&&(t.filepath=e.filepath),e.disableManifest===!0&&(t.disableManifest=e.disableManifest),e.s3!==void 0&&(t.s3=S3Upload.toJSON(e.s3)),e.gcp!==void 0&&(t.gcp=GCPUpload.toJSON(e.gcp)),e.azure!==void 0&&(t.azure=AzureBlobUpload.toJSON(e.azure)),e.aliOSS!==void 0&&(t.aliOSS=AliOSSUpload.toJSON(e.aliOSS)),t},create(e){return EncodedFileOutput.fromPartial(e??{})},fromPartial(e){var t,i,n;const r=createBaseEncodedFileOutput();return r.fileType=(t=e.fileType)!==null&&t!==void 0?t:0,r.filepath=(i=e.filepath)!==null&&i!==void 0?i:"",r.disableManifest=(n=e.disableManifest)!==null&&n!==void 0?n:!1,r.s3=e.s3!==void 0&&e.s3!==null?S3Upload.fromPartial(e.s3):void 0,r.gcp=e.gcp!==void 0&&e.gcp!==null?GCPUpload.fromPartial(e.gcp):void 0,r.azure=e.azure!==void 0&&e.azure!==null?AzureBlobUpload.fromPartial(e.azure):void 0,r.aliOSS=e.aliOSS!==void 0&&e.aliOSS!==null?AliOSSUpload.fromPartial(e.aliOSS):void 0,r}};function createBaseSegmentedFileOutput(){return{protocol:0,filenamePrefix:"",playlistName:"",livePlaylistName:"",segmentDuration:0,filenameSuffix:0,disableManifest:!1,s3:void 0,gcp:void 0,azure:void 0,aliOSS:void 0}}const SegmentedFileOutput={encode(e,t=_m0.Writer.create()){return e.protocol!==void 0&&e.protocol!==0&&t.uint32(8).int32(e.protocol),e.filenamePrefix!==void 0&&e.filenamePrefix!==""&&t.uint32(18).string(e.filenamePrefix),e.playlistName!==void 0&&e.playlistName!==""&&t.uint32(26).string(e.playlistName),e.livePlaylistName!==void 0&&e.livePlaylistName!==""&&t.uint32(90).string(e.livePlaylistName),e.segmentDuration!==void 0&&e.segmentDuration!==0&&t.uint32(32).uint32(e.segmentDuration),e.filenameSuffix!==void 0&&e.filenameSuffix!==0&&t.uint32(80).int32(e.filenameSuffix),e.disableManifest===!0&&t.uint32(64).bool(e.disableManifest),e.s3!==void 0&&S3Upload.encode(e.s3,t.uint32(42).fork()).ldelim(),e.gcp!==void 0&&GCPUpload.encode(e.gcp,t.uint32(50).fork()).ldelim(),e.azure!==void 0&&AzureBlobUpload.encode(e.azure,t.uint32(58).fork()).ldelim(),e.aliOSS!==void 0&&AliOSSUpload.encode(e.aliOSS,t.uint32(74).fork()).ldelim(),t},decode(e,t){const i=e instanceof _m0.Reader?e:_m0.Reader.create(e);let n=t===void 0?i.len:i.pos+t;const r=createBaseSegmentedFileOutput();for(;i.pos<n;){const o=i.uint32();switch(o>>>3){case 1:if(o!==8)break;r.protocol=i.int32();continue;case 2:if(o!==18)break;r.filenamePrefix=i.string();continue;case 3:if(o!==26)break;r.playlistName=i.string();continue;case 11:if(o!==90)break;r.livePlaylistName=i.string();continue;case 4:if(o!==32)break;r.segmentDuration=i.uint32();continue;case 10:if(o!==80)break;r.filenameSuffix=i.int32();continue;case 8:if(o!==64)break;r.disableManifest=i.bool();continue;case 5:if(o!==42)break;r.s3=S3Upload.decode(i,i.uint32());continue;case 6:if(o!==50)break;r.gcp=GCPUpload.decode(i,i.uint32());continue;case 7:if(o!==58)break;r.azure=AzureBlobUpload.decode(i,i.uint32());continue;case 9:if(o!==74)break;r.aliOSS=AliOSSUpload.decode(i,i.uint32());continue}if((o&7)===4||o===0)break;i.skipType(o&7)}return r},fromJSON(e){return{protocol:isSet$1(e.protocol)?segmentedFileProtocolFromJSON(e.protocol):0,filenamePrefix:isSet$1(e.filenamePrefix)?globalThis.String(e.filenamePrefix):"",playlistName:isSet$1(e.playlistName)?globalThis.String(e.playlistName):"",livePlaylistName:isSet$1(e.livePlaylistName)?globalThis.String(e.livePlaylistName):"",segmentDuration:isSet$1(e.segmentDuration)?globalThis.Number(e.segmentDuration):0,filenameSuffix:isSet$1(e.filenameSuffix)?segmentedFileSuffixFromJSON(e.filenameSuffix):0,disableManifest:isSet$1(e.disableManifest)?globalThis.Boolean(e.disableManifest):!1,s3:isSet$1(e.s3)?S3Upload.fromJSON(e.s3):void 0,gcp:isSet$1(e.gcp)?GCPUpload.fromJSON(e.gcp):void 0,azure:isSet$1(e.azure)?AzureBlobUpload.fromJSON(e.azure):void 0,aliOSS:isSet$1(e.aliOSS)?AliOSSUpload.fromJSON(e.aliOSS):void 0}},toJSON(e){const t={};return e.protocol!==void 0&&e.protocol!==0&&(t.protocol=segmentedFileProtocolToJSON(e.protocol)),e.filenamePrefix!==void 0&&e.filenamePrefix!==""&&(t.filenamePrefix=e.filenamePrefix),e.playlistName!==void 0&&e.playlistName!==""&&(t.playlistName=e.playlistName),e.livePlaylistName!==void 0&&e.livePlaylistName!==""&&(t.livePlaylistName=e.livePlaylistName),e.segmentDuration!==void 0&&e.segmentDuration!==0&&(t.segmentDuration=Math.round(e.segmentDuration)),e.filenameSuffix!==void 0&&e.filenameSuffix!==0&&(t.filenameSuffix=segmentedFileSuffixToJSON(e.filenameSuffix)),e.disableManifest===!0&&(t.disableManifest=e.disableManifest),e.s3!==void 0&&(t.s3=S3Upload.toJSON(e.s3)),e.gcp!==void 0&&(t.gcp=GCPUpload.toJSON(e.gcp)),e.azure!==void 0&&(t.azure=AzureBlobUpload.toJSON(e.azure)),e.aliOSS!==void 0&&(t.aliOSS=AliOSSUpload.toJSON(e.aliOSS)),t},create(e){return SegmentedFileOutput.fromPartial(e??{})},fromPartial(e){var t,i,n,r,o,a,s;const u=createBaseSegmentedFileOutput();return u.protocol=(t=e.protocol)!==null&&t!==void 0?t:0,u.filenamePrefix=(i=e.filenamePrefix)!==null&&i!==void 0?i:"",u.playlistName=(n=e.playlistName)!==null&&n!==void 0?n:"",u.livePlaylistName=(r=e.livePlaylistName)!==null&&r!==void 0?r:"",u.segmentDuration=(o=e.segmentDuration)!==null&&o!==void 0?o:0,u.filenameSuffix=(a=e.filenameSuffix)!==null&&a!==void 0?a:0,u.disableManifest=(s=e.disableManifest)!==null&&s!==void 0?s:!1,u.s3=e.s3!==void 0&&e.s3!==null?S3Upload.fromPartial(e.s3):void 0,u.gcp=e.gcp!==void 0&&e.gcp!==null?GCPUpload.fromPartial(e.gcp):void 0,u.azure=e.azure!==void 0&&e.azure!==null?AzureBlobUpload.fromPartial(e.azure):void 0,u.aliOSS=e.aliOSS!==void 0&&e.aliOSS!==null?AliOSSUpload.fromPartial(e.aliOSS):void 0,u}};function createBaseDirectFileOutput(){return{filepath:"",disableManifest:!1,s3:void 0,gcp:void 0,azure:void 0,aliOSS:void 0}}const DirectFileOutput={encode(e,t=_m0.Writer.create()){return e.filepath!==void 0&&e.filepath!==""&&t.uint32(10).string(e.filepath),e.disableManifest===!0&&t.uint32(40).bool(e.disableManifest),e.s3!==void 0&&S3Upload.encode(e.s3,t.uint32(18).fork()).ldelim(),e.gcp!==void 0&&GCPUpload.encode(e.gcp,t.uint32(26).fork()).ldelim(),e.azure!==void 0&&AzureBlobUpload.encode(e.azure,t.uint32(34).fork()).ldelim(),e.aliOSS!==void 0&&AliOSSUpload.encode(e.aliOSS,t.uint32(50).fork()).ldelim(),t},decode(e,t){const i=e instanceof _m0.Reader?e:_m0.Reader.create(e);let n=t===void 0?i.len:i.pos+t;const r=createBaseDirectFileOutput();for(;i.pos<n;){const o=i.uint32();switch(o>>>3){case 1:if(o!==10)break;r.filepath=i.string();continue;case 5:if(o!==40)break;r.disableManifest=i.bool();continue;case 2:if(o!==18)break;r.s3=S3Upload.decode(i,i.uint32());continue;case 3:if(o!==26)break;r.gcp=GCPUpload.decode(i,i.uint32());continue;case 4:if(o!==34)break;r.azure=AzureBlobUpload.decode(i,i.uint32());continue;case 6:if(o!==50)break;r.aliOSS=AliOSSUpload.decode(i,i.uint32());continue}if((o&7)===4||o===0)break;i.skipType(o&7)}return r},fromJSON(e){return{filepath:isSet$1(e.filepath)?globalThis.String(e.filepath):"",disableManifest:isSet$1(e.disableManifest)?globalThis.Boolean(e.disableManifest):!1,s3:isSet$1(e.s3)?S3Upload.fromJSON(e.s3):void 0,gcp:isSet$1(e.gcp)?GCPUpload.fromJSON(e.gcp):void 0,azure:isSet$1(e.azure)?AzureBlobUpload.fromJSON(e.azure):void 0,aliOSS:isSet$1(e.aliOSS)?AliOSSUpload.fromJSON(e.aliOSS):void 0}},toJSON(e){const t={};return e.filepath!==void 0&&e.filepath!==""&&(t.filepath=e.filepath),e.disableManifest===!0&&(t.disableManifest=e.disableManifest),e.s3!==void 0&&(t.s3=S3Upload.toJSON(e.s3)),e.gcp!==void 0&&(t.gcp=GCPUpload.toJSON(e.gcp)),e.azure!==void 0&&(t.azure=AzureBlobUpload.toJSON(e.azure)),e.aliOSS!==void 0&&(t.aliOSS=AliOSSUpload.toJSON(e.aliOSS)),t},create(e){return DirectFileOutput.fromPartial(e??{})},fromPartial(e){var t,i;const n=createBaseDirectFileOutput();return n.filepath=(t=e.filepath)!==null&&t!==void 0?t:"",n.disableManifest=(i=e.disableManifest)!==null&&i!==void 0?i:!1,n.s3=e.s3!==void 0&&e.s3!==null?S3Upload.fromPartial(e.s3):void 0,n.gcp=e.gcp!==void 0&&e.gcp!==null?GCPUpload.fromPartial(e.gcp):void 0,n.azure=e.azure!==void 0&&e.azure!==null?AzureBlobUpload.fromPartial(e.azure):void 0,n.aliOSS=e.aliOSS!==void 0&&e.aliOSS!==null?AliOSSUpload.fromPartial(e.aliOSS):void 0,n}};function createBaseImageOutput(){return{captureInterval:0,width:0,height:0,filenamePrefix:"",filenameSuffix:0,imageCodec:0,disableManifest:!1,s3:void 0,gcp:void 0,azure:void 0,aliOSS:void 0}}const ImageOutput={encode(e,t=_m0.Writer.create()){return e.captureInterval!==void 0&&e.captureInterval!==0&&t.uint32(8).uint32(e.captureInterval),e.width!==void 0&&e.width!==0&&t.uint32(16).int32(e.width),e.height!==void 0&&e.height!==0&&t.uint32(24).int32(e.height),e.filenamePrefix!==void 0&&e.filenamePrefix!==""&&t.uint32(34).string(e.filenamePrefix),e.filenameSuffix!==void 0&&e.filenameSuffix!==0&&t.uint32(40).int32(e.filenameSuffix),e.imageCodec!==void 0&&e.imageCodec!==0&&t.uint32(48).int32(e.imageCodec),e.disableManifest===!0&&t.uint32(56).bool(e.disableManifest),e.s3!==void 0&&S3Upload.encode(e.s3,t.uint32(66).fork()).ldelim(),e.gcp!==void 0&&GCPUpload.encode(e.gcp,t.uint32(74).fork()).ldelim(),e.azure!==void 0&&AzureBlobUpload.encode(e.azure,t.uint32(82).fork()).ldelim(),e.aliOSS!==void 0&&AliOSSUpload.encode(e.aliOSS,t.uint32(90).fork()).ldelim(),t},decode(e,t){const i=e instanceof _m0.Reader?e:_m0.Reader.create(e);let n=t===void 0?i.len:i.pos+t;const r=createBaseImageOutput();for(;i.pos<n;){const o=i.uint32();switch(o>>>3){case 1:if(o!==8)break;r.captureInterval=i.uint32();continue;case 2:if(o!==16)break;r.width=i.int32();continue;case 3:if(o!==24)break;r.height=i.int32();continue;case 4:if(o!==34)break;r.filenamePrefix=i.string();continue;case 5:if(o!==40)break;r.filenameSuffix=i.int32();continue;case 6:if(o!==48)break;r.imageCodec=i.int32();continue;case 7:if(o!==56)break;r.disableManifest=i.bool();continue;case 8:if(o!==66)break;r.s3=S3Upload.decode(i,i.uint32());continue;case 9:if(o!==74)break;r.gcp=GCPUpload.decode(i,i.uint32());continue;case 10:if(o!==82)break;r.azure=AzureBlobUpload.decode(i,i.uint32());continue;case 11:if(o!==90)break;r.aliOSS=AliOSSUpload.decode(i,i.uint32());continue}if((o&7)===4||o===0)break;i.skipType(o&7)}return r},fromJSON(e){return{captureInterval:isSet$1(e.captureInterval)?globalThis.Number(e.captureInterval):0,width:isSet$1(e.width)?globalThis.Number(e.width):0,height:isSet$1(e.height)?globalThis.Number(e.height):0,filenamePrefix:isSet$1(e.filenamePrefix)?globalThis.String(e.filenamePrefix):"",filenameSuffix:isSet$1(e.filenameSuffix)?imageFileSuffixFromJSON(e.filenameSuffix):0,imageCodec:isSet$1(e.imageCodec)?imageCodecFromJSON(e.imageCodec):0,disableManifest:isSet$1(e.disableManifest)?globalThis.Boolean(e.disableManifest):!1,s3:isSet$1(e.s3)?S3Upload.fromJSON(e.s3):void 0,gcp:isSet$1(e.gcp)?GCPUpload.fromJSON(e.gcp):void 0,azure:isSet$1(e.azure)?AzureBlobUpload.fromJSON(e.azure):void 0,aliOSS:isSet$1(e.aliOSS)?AliOSSUpload.fromJSON(e.aliOSS):void 0}},toJSON(e){const t={};return e.captureInterval!==void 0&&e.captureInterval!==0&&(t.captureInterval=Math.round(e.captureInterval)),e.width!==void 0&&e.width!==0&&(t.width=Math.round(e.width)),e.height!==void 0&&e.height!==0&&(t.height=Math.round(e.height)),e.filenamePrefix!==void 0&&e.filenamePrefix!==""&&(t.filenamePrefix=e.filenamePrefix),e.filenameSuffix!==void 0&&e.filenameSuffix!==0&&(t.filenameSuffix=imageFileSuffixToJSON(e.filenameSuffix)),e.imageCodec!==void 0&&e.imageCodec!==0&&(t.imageCodec=imageCodecToJSON(e.imageCodec)),e.disableManifest===!0&&(t.disableManifest=e.disableManifest),e.s3!==void 0&&(t.s3=S3Upload.toJSON(e.s3)),e.gcp!==void 0&&(t.gcp=GCPUpload.toJSON(e.gcp)),e.azure!==void 0&&(t.azure=AzureBlobUpload.toJSON(e.azure)),e.aliOSS!==void 0&&(t.aliOSS=AliOSSUpload.toJSON(e.aliOSS)),t},create(e){return ImageOutput.fromPartial(e??{})},fromPartial(e){var t,i,n,r,o,a,s;const u=createBaseImageOutput();return u.captureInterval=(t=e.captureInterval)!==null&&t!==void 0?t:0,u.width=(i=e.width)!==null&&i!==void 0?i:0,u.height=(n=e.height)!==null&&n!==void 0?n:0,u.filenamePrefix=(r=e.filenamePrefix)!==null&&r!==void 0?r:"",u.filenameSuffix=(o=e.filenameSuffix)!==null&&o!==void 0?o:0,u.imageCodec=(a=e.imageCodec)!==null&&a!==void 0?a:0,u.disableManifest=(s=e.disableManifest)!==null&&s!==void 0?s:!1,u.s3=e.s3!==void 0&&e.s3!==null?S3Upload.fromPartial(e.s3):void 0,u.gcp=e.gcp!==void 0&&e.gcp!==null?GCPUpload.fromPartial(e.gcp):void 0,u.azure=e.azure!==void 0&&e.azure!==null?AzureBlobUpload.fromPartial(e.azure):void 0,u.aliOSS=e.aliOSS!==void 0&&e.aliOSS!==null?AliOSSUpload.fromPartial(e.aliOSS):void 0,u}};function createBaseS3Upload(){return{accessKey:"",secret:"",region:"",endpoint:"",bucket:"",forcePathStyle:!1,metadata:{},tagging:""}}const S3Upload={encode(e,t=_m0.Writer.create()){return e.accessKey!==void 0&&e.accessKey!==""&&t.uint32(10).string(e.accessKey),e.secret!==void 0&&e.secret!==""&&t.uint32(18).string(e.secret),e.region!==void 0&&e.region!==""&&t.uint32(26).string(e.region),e.endpoint!==void 0&&e.endpoint!==""&&t.uint32(34).string(e.endpoint),e.bucket!==void 0&&e.bucket!==""&&t.uint32(42).string(e.bucket),e.forcePathStyle===!0&&t.uint32(48).bool(e.forcePathStyle),Object.entries(e.metadata||{}).forEach(([i,n])=>{S3Upload_MetadataEntry.encode({key:i,value:n},t.uint32(58).fork()).ldelim()}),e.tagging!==void 0&&e.tagging!==""&&t.uint32(66).string(e.tagging),t},decode(e,t){const i=e instanceof _m0.Reader?e:_m0.Reader.create(e);let n=t===void 0?i.len:i.pos+t;const r=createBaseS3Upload();for(;i.pos<n;){const o=i.uint32();switch(o>>>3){case 1:if(o!==10)break;r.accessKey=i.string();continue;case 2:if(o!==18)break;r.secret=i.string();continue;case 3:if(o!==26)break;r.region=i.string();continue;case 4:if(o!==34)break;r.endpoint=i.string();continue;case 5:if(o!==42)break;r.bucket=i.string();continue;case 6:if(o!==48)break;r.forcePathStyle=i.bool();continue;case 7:if(o!==58)break;const a=S3Upload_MetadataEntry.decode(i,i.uint32());a.value!==void 0&&(r.metadata[a.key]=a.value);continue;case 8:if(o!==66)break;r.tagging=i.string();continue}if((o&7)===4||o===0)break;i.skipType(o&7)}return r},fromJSON(e){return{accessKey:isSet$1(e.accessKey)?globalThis.String(e.accessKey):"",secret:isSet$1(e.secret)?globalThis.String(e.secret):"",region:isSet$1(e.region)?globalThis.String(e.region):"",endpoint:isSet$1(e.endpoint)?globalThis.String(e.endpoint):"",bucket:isSet$1(e.bucket)?globalThis.String(e.bucket):"",forcePathStyle:isSet$1(e.forcePathStyle)?globalThis.Boolean(e.forcePathStyle):!1,metadata:isObject$3(e.metadata)?Object.entries(e.metadata).reduce((t,[i,n])=>(t[i]=String(n),t),{}):{},tagging:isSet$1(e.tagging)?globalThis.String(e.tagging):""}},toJSON(e){const t={};if(e.accessKey!==void 0&&e.accessKey!==""&&(t.accessKey=e.accessKey),e.secret!==void 0&&e.secret!==""&&(t.secret=e.secret),e.region!==void 0&&e.region!==""&&(t.region=e.region),e.endpoint!==void 0&&e.endpoint!==""&&(t.endpoint=e.endpoint),e.bucket!==void 0&&e.bucket!==""&&(t.bucket=e.bucket),e.forcePathStyle===!0&&(t.forcePathStyle=e.forcePathStyle),e.metadata){const i=Object.entries(e.metadata);i.length>0&&(t.metadata={},i.forEach(([n,r])=>{t.metadata[n]=r}))}return e.tagging!==void 0&&e.tagging!==""&&(t.tagging=e.tagging),t},create(e){return S3Upload.fromPartial(e??{})},fromPartial(e){var t,i,n,r,o,a,s,u;const l=createBaseS3Upload();return l.accessKey=(t=e.accessKey)!==null&&t!==void 0?t:"",l.secret=(i=e.secret)!==null&&i!==void 0?i:"",l.region=(n=e.region)!==null&&n!==void 0?n:"",l.endpoint=(r=e.endpoint)!==null&&r!==void 0?r:"",l.bucket=(o=e.bucket)!==null&&o!==void 0?o:"",l.forcePathStyle=(a=e.forcePathStyle)!==null&&a!==void 0?a:!1,l.metadata=Object.entries((s=e.metadata)!==null&&s!==void 0?s:{}).reduce((c,[d,m])=>(m!==void 0&&(c[d]=globalThis.String(m)),c),{}),l.tagging=(u=e.tagging)!==null&&u!==void 0?u:"",l}};function createBaseS3Upload_MetadataEntry(){return{key:"",value:""}}const S3Upload_MetadataEntry={encode(e,t=_m0.Writer.create()){return e.key!==""&&t.uint32(10).string(e.key),e.value!==""&&t.uint32(18).string(e.value),t},decode(e,t){const i=e instanceof _m0.Reader?e:_m0.Reader.create(e);let n=t===void 0?i.len:i.pos+t;const r=createBaseS3Upload_MetadataEntry();for(;i.pos<n;){const o=i.uint32();switch(o>>>3){case 1:if(o!==10)break;r.key=i.string();continue;case 2:if(o!==18)break;r.value=i.string();continue}if((o&7)===4||o===0)break;i.skipType(o&7)}return r},fromJSON(e){return{key:isSet$1(e.key)?globalThis.String(e.key):"",value:isSet$1(e.value)?globalThis.String(e.value):""}},toJSON(e){const t={};return e.key!==""&&(t.key=e.key),e.value!==""&&(t.value=e.value),t},create(e){return S3Upload_MetadataEntry.fromPartial(e??{})},fromPartial(e){var t,i;const n=createBaseS3Upload_MetadataEntry();return n.key=(t=e.key)!==null&&t!==void 0?t:"",n.value=(i=e.value)!==null&&i!==void 0?i:"",n}};function createBaseGCPUpload(){return{credentials:"",bucket:""}}const GCPUpload={encode(e,t=_m0.Writer.create()){return e.credentials!==void 0&&e.credentials!==""&&t.uint32(10).string(e.credentials),e.bucket!==void 0&&e.bucket!==""&&t.uint32(18).string(e.bucket),t},decode(e,t){const i=e instanceof _m0.Reader?e:_m0.Reader.create(e);let n=t===void 0?i.len:i.pos+t;const r=createBaseGCPUpload();for(;i.pos<n;){const o=i.uint32();switch(o>>>3){case 1:if(o!==10)break;r.credentials=i.string();continue;case 2:if(o!==18)break;r.bucket=i.string();continue}if((o&7)===4||o===0)break;i.skipType(o&7)}return r},fromJSON(e){return{credentials:isSet$1(e.credentials)?globalThis.String(e.credentials):"",bucket:isSet$1(e.bucket)?globalThis.String(e.bucket):""}},toJSON(e){const t={};return e.credentials!==void 0&&e.credentials!==""&&(t.credentials=e.credentials),e.bucket!==void 0&&e.bucket!==""&&(t.bucket=e.bucket),t},create(e){return GCPUpload.fromPartial(e??{})},fromPartial(e){var t,i;const n=createBaseGCPUpload();return n.credentials=(t=e.credentials)!==null&&t!==void 0?t:"",n.bucket=(i=e.bucket)!==null&&i!==void 0?i:"",n}};function createBaseAzureBlobUpload(){return{accountName:"",accountKey:"",containerName:""}}const AzureBlobUpload={encode(e,t=_m0.Writer.create()){return e.accountName!==void 0&&e.accountName!==""&&t.uint32(10).string(e.accountName),e.accountKey!==void 0&&e.accountKey!==""&&t.uint32(18).string(e.accountKey),e.containerName!==void 0&&e.containerName!==""&&t.uint32(26).string(e.containerName),t},decode(e,t){const i=e instanceof _m0.Reader?e:_m0.Reader.create(e);let n=t===void 0?i.len:i.pos+t;const r=createBaseAzureBlobUpload();for(;i.pos<n;){const o=i.uint32();switch(o>>>3){case 1:if(o!==10)break;r.accountName=i.string();continue;case 2:if(o!==18)break;r.accountKey=i.string();continue;case 3:if(o!==26)break;r.containerName=i.string();continue}if((o&7)===4||o===0)break;i.skipType(o&7)}return r},fromJSON(e){return{accountName:isSet$1(e.accountName)?globalThis.String(e.accountName):"",accountKey:isSet$1(e.accountKey)?globalThis.String(e.accountKey):"",containerName:isSet$1(e.containerName)?globalThis.String(e.containerName):""}},toJSON(e){const t={};return e.accountName!==void 0&&e.accountName!==""&&(t.accountName=e.accountName),e.accountKey!==void 0&&e.accountKey!==""&&(t.accountKey=e.accountKey),e.containerName!==void 0&&e.containerName!==""&&(t.containerName=e.containerName),t},create(e){return AzureBlobUpload.fromPartial(e??{})},fromPartial(e){var t,i,n;const r=createBaseAzureBlobUpload();return r.accountName=(t=e.accountName)!==null&&t!==void 0?t:"",r.accountKey=(i=e.accountKey)!==null&&i!==void 0?i:"",r.containerName=(n=e.containerName)!==null&&n!==void 0?n:"",r}};function createBaseAliOSSUpload(){return{accessKey:"",secret:"",region:"",endpoint:"",bucket:""}}const AliOSSUpload={encode(e,t=_m0.Writer.create()){return e.accessKey!==void 0&&e.accessKey!==""&&t.uint32(10).string(e.accessKey),e.secret!==void 0&&e.secret!==""&&t.uint32(18).string(e.secret),e.region!==void 0&&e.region!==""&&t.uint32(26).string(e.region),e.endpoint!==void 0&&e.endpoint!==""&&t.uint32(34).string(e.endpoint),e.bucket!==void 0&&e.bucket!==""&&t.uint32(42).string(e.bucket),t},decode(e,t){const i=e instanceof _m0.Reader?e:_m0.Reader.create(e);let n=t===void 0?i.len:i.pos+t;const r=createBaseAliOSSUpload();for(;i.pos<n;){const o=i.uint32();switch(o>>>3){case 1:if(o!==10)break;r.accessKey=i.string();continue;case 2:if(o!==18)break;r.secret=i.string();continue;case 3:if(o!==26)break;r.region=i.string();continue;case 4:if(o!==34)break;r.endpoint=i.string();continue;case 5:if(o!==42)break;r.bucket=i.string();continue}if((o&7)===4||o===0)break;i.skipType(o&7)}return r},fromJSON(e){return{accessKey:isSet$1(e.accessKey)?globalThis.String(e.accessKey):"",secret:isSet$1(e.secret)?globalThis.String(e.secret):"",region:isSet$1(e.region)?globalThis.String(e.region):"",endpoint:isSet$1(e.endpoint)?globalThis.String(e.endpoint):"",bucket:isSet$1(e.bucket)?globalThis.String(e.bucket):""}},toJSON(e){const t={};return e.accessKey!==void 0&&e.accessKey!==""&&(t.accessKey=e.accessKey),e.secret!==void 0&&e.secret!==""&&(t.secret=e.secret),e.region!==void 0&&e.region!==""&&(t.region=e.region),e.endpoint!==void 0&&e.endpoint!==""&&(t.endpoint=e.endpoint),e.bucket!==void 0&&e.bucket!==""&&(t.bucket=e.bucket),t},create(e){return AliOSSUpload.fromPartial(e??{})},fromPartial(e){var t,i,n,r,o;const a=createBaseAliOSSUpload();return a.accessKey=(t=e.accessKey)!==null&&t!==void 0?t:"",a.secret=(i=e.secret)!==null&&i!==void 0?i:"",a.region=(n=e.region)!==null&&n!==void 0?n:"",a.endpoint=(r=e.endpoint)!==null&&r!==void 0?r:"",a.bucket=(o=e.bucket)!==null&&o!==void 0?o:"",a}};function createBaseStreamOutput(){return{protocol:0,urls:[]}}const StreamOutput={encode(e,t=_m0.Writer.create()){if(e.protocol!==void 0&&e.protocol!==0&&t.uint32(8).int32(e.protocol),e.urls!==void 0&&e.urls.length!==0)for(const i of e.urls)t.uint32(18).string(i);return t},decode(e,t){const i=e instanceof _m0.Reader?e:_m0.Reader.create(e);let n=t===void 0?i.len:i.pos+t;const r=createBaseStreamOutput();for(;i.pos<n;){const o=i.uint32();switch(o>>>3){case 1:if(o!==8)break;r.protocol=i.int32();continue;case 2:if(o!==18)break;r.urls.push(i.string());continue}if((o&7)===4||o===0)break;i.skipType(o&7)}return r},fromJSON(e){return{protocol:isSet$1(e.protocol)?streamProtocolFromJSON(e.protocol):0,urls:globalThis.Array.isArray(e==null?void 0:e.urls)?e.urls.map(t=>globalThis.String(t)):[]}},toJSON(e){var t;const i={};return e.protocol!==void 0&&e.protocol!==0&&(i.protocol=streamProtocolToJSON(e.protocol)),!((t=e.urls)===null||t===void 0)&&t.length&&(i.urls=e.urls),i},create(e){return StreamOutput.fromPartial(e??{})},fromPartial(e){var t,i;const n=createBaseStreamOutput();return n.protocol=(t=e.protocol)!==null&&t!==void 0?t:0,n.urls=((i=e.urls)===null||i===void 0?void 0:i.map(r=>r))||[],n}};function createBaseEncodingOptions(){return{width:0,height:0,depth:0,framerate:0,audioCodec:0,audioBitrate:0,audioFrequency:0,videoCodec:0,videoBitrate:0,keyFrameInterval:0}}const EncodingOptions={encode(e,t=_m0.Writer.create()){return e.width!==void 0&&e.width!==0&&t.uint32(8).int32(e.width),e.height!==void 0&&e.height!==0&&t.uint32(16).int32(e.height),e.depth!==void 0&&e.depth!==0&&t.uint32(24).int32(e.depth),e.framerate!==void 0&&e.framerate!==0&&t.uint32(32).int32(e.framerate),e.audioCodec!==void 0&&e.audioCodec!==0&&t.uint32(40).int32(e.audioCodec),e.audioBitrate!==void 0&&e.audioBitrate!==0&&t.uint32(48).int32(e.audioBitrate),e.audioFrequency!==void 0&&e.audioFrequency!==0&&t.uint32(56).int32(e.audioFrequency),e.videoCodec!==void 0&&e.videoCodec!==0&&t.uint32(64).int32(e.videoCodec),e.videoBitrate!==void 0&&e.videoBitrate!==0&&t.uint32(72).int32(e.videoBitrate),e.keyFrameInterval!==void 0&&e.keyFrameInterval!==0&&t.uint32(81).double(e.keyFrameInterval),t},decode(e,t){const i=e instanceof _m0.Reader?e:_m0.Reader.create(e);let n=t===void 0?i.len:i.pos+t;const r=createBaseEncodingOptions();for(;i.pos<n;){const o=i.uint32();switch(o>>>3){case 1:if(o!==8)break;r.width=i.int32();continue;case 2:if(o!==16)break;r.height=i.int32();continue;case 3:if(o!==24)break;r.depth=i.int32();continue;case 4:if(o!==32)break;r.framerate=i.int32();continue;case 5:if(o!==40)break;r.audioCodec=i.int32();continue;case 6:if(o!==48)break;r.audioBitrate=i.int32();continue;case 7:if(o!==56)break;r.audioFrequency=i.int32();continue;case 8:if(o!==64)break;r.videoCodec=i.int32();continue;case 9:if(o!==72)break;r.videoBitrate=i.int32();continue;case 10:if(o!==81)break;r.keyFrameInterval=i.double();continue}if((o&7)===4||o===0)break;i.skipType(o&7)}return r},fromJSON(e){return{width:isSet$1(e.width)?globalThis.Number(e.width):0,height:isSet$1(e.height)?globalThis.Number(e.height):0,depth:isSet$1(e.depth)?globalThis.Number(e.depth):0,framerate:isSet$1(e.framerate)?globalThis.Number(e.framerate):0,audioCodec:isSet$1(e.audioCodec)?audioCodecFromJSON(e.audioCodec):0,audioBitrate:isSet$1(e.audioBitrate)?globalThis.Number(e.audioBitrate):0,audioFrequency:isSet$1(e.audioFrequency)?globalThis.Number(e.audioFrequency):0,videoCodec:isSet$1(e.videoCodec)?videoCodecFromJSON(e.videoCodec):0,videoBitrate:isSet$1(e.videoBitrate)?globalThis.Number(e.videoBitrate):0,keyFrameInterval:isSet$1(e.keyFrameInterval)?globalThis.Number(e.keyFrameInterval):0}},toJSON(e){const t={};return e.width!==void 0&&e.width!==0&&(t.width=Math.round(e.width)),e.height!==void 0&&e.height!==0&&(t.height=Math.round(e.height)),e.depth!==void 0&&e.depth!==0&&(t.depth=Math.round(e.depth)),e.framerate!==void 0&&e.framerate!==0&&(t.framerate=Math.round(e.framerate)),e.audioCodec!==void 0&&e.audioCodec!==0&&(t.audioCodec=audioCodecToJSON(e.audioCodec)),e.audioBitrate!==void 0&&e.audioBitrate!==0&&(t.audioBitrate=Math.round(e.audioBitrate)),e.audioFrequency!==void 0&&e.audioFrequency!==0&&(t.audioFrequency=Math.round(e.audioFrequency)),e.videoCodec!==void 0&&e.videoCodec!==0&&(t.videoCodec=videoCodecToJSON(e.videoCodec)),e.videoBitrate!==void 0&&e.videoBitrate!==0&&(t.videoBitrate=Math.round(e.videoBitrate)),e.keyFrameInterval!==void 0&&e.keyFrameInterval!==0&&(t.keyFrameInterval=e.keyFrameInterval),t},create(e){return EncodingOptions.fromPartial(e??{})},fromPartial(e){var t,i,n,r,o,a,s,u,l,c;const d=createBaseEncodingOptions();return d.width=(t=e.width)!==null&&t!==void 0?t:0,d.height=(i=e.height)!==null&&i!==void 0?i:0,d.depth=(n=e.depth)!==null&&n!==void 0?n:0,d.framerate=(r=e.framerate)!==null&&r!==void 0?r:0,d.audioCodec=(o=e.audioCodec)!==null&&o!==void 0?o:0,d.audioBitrate=(a=e.audioBitrate)!==null&&a!==void 0?a:0,d.audioFrequency=(s=e.audioFrequency)!==null&&s!==void 0?s:0,d.videoCodec=(u=e.videoCodec)!==null&&u!==void 0?u:0,d.videoBitrate=(l=e.videoBitrate)!==null&&l!==void 0?l:0,d.keyFrameInterval=(c=e.keyFrameInterval)!==null&&c!==void 0?c:0,d}};function createBaseUpdateLayoutRequest(){return{egressId:"",layout:""}}const UpdateLayoutRequest={encode(e,t=_m0.Writer.create()){return e.egressId!==void 0&&e.egressId!==""&&t.uint32(10).string(e.egressId),e.layout!==void 0&&e.layout!==""&&t.uint32(18).string(e.layout),t},decode(e,t){const i=e instanceof _m0.Reader?e:_m0.Reader.create(e);let n=t===void 0?i.len:i.pos+t;const r=createBaseUpdateLayoutRequest();for(;i.pos<n;){const o=i.uint32();switch(o>>>3){case 1:if(o!==10)break;r.egressId=i.string();continue;case 2:if(o!==18)break;r.layout=i.string();continue}if((o&7)===4||o===0)break;i.skipType(o&7)}return r},fromJSON(e){return{egressId:isSet$1(e.egressId)?globalThis.String(e.egressId):"",layout:isSet$1(e.layout)?globalThis.String(e.layout):""}},toJSON(e){const t={};return e.egressId!==void 0&&e.egressId!==""&&(t.egressId=e.egressId),e.layout!==void 0&&e.layout!==""&&(t.layout=e.layout),t},create(e){return UpdateLayoutRequest.fromPartial(e??{})},fromPartial(e){var t,i;const n=createBaseUpdateLayoutRequest();return n.egressId=(t=e.egressId)!==null&&t!==void 0?t:"",n.layout=(i=e.layout)!==null&&i!==void 0?i:"",n}};function createBaseUpdateStreamRequest(){return{egressId:"",addOutputUrls:[],removeOutputUrls:[]}}const UpdateStreamRequest={encode(e,t=_m0.Writer.create()){if(e.egressId!==void 0&&e.egressId!==""&&t.uint32(10).string(e.egressId),e.addOutputUrls!==void 0&&e.addOutputUrls.length!==0)for(const i of e.addOutputUrls)t.uint32(18).string(i);if(e.removeOutputUrls!==void 0&&e.removeOutputUrls.length!==0)for(const i of e.removeOutputUrls)t.uint32(26).string(i);return t},decode(e,t){const i=e instanceof _m0.Reader?e:_m0.Reader.create(e);let n=t===void 0?i.len:i.pos+t;const r=createBaseUpdateStreamRequest();for(;i.pos<n;){const o=i.uint32();switch(o>>>3){case 1:if(o!==10)break;r.egressId=i.string();continue;case 2:if(o!==18)break;r.addOutputUrls.push(i.string());continue;case 3:if(o!==26)break;r.removeOutputUrls.push(i.string());continue}if((o&7)===4||o===0)break;i.skipType(o&7)}return r},fromJSON(e){return{egressId:isSet$1(e.egressId)?globalThis.String(e.egressId):"",addOutputUrls:globalThis.Array.isArray(e==null?void 0:e.addOutputUrls)?e.addOutputUrls.map(t=>globalThis.String(t)):[],removeOutputUrls:globalThis.Array.isArray(e==null?void 0:e.removeOutputUrls)?e.removeOutputUrls.map(t=>globalThis.String(t)):[]}},toJSON(e){var t,i;const n={};return e.egressId!==void 0&&e.egressId!==""&&(n.egressId=e.egressId),!((t=e.addOutputUrls)===null||t===void 0)&&t.length&&(n.addOutputUrls=e.addOutputUrls),!((i=e.removeOutputUrls)===null||i===void 0)&&i.length&&(n.removeOutputUrls=e.removeOutputUrls),n},create(e){return UpdateStreamRequest.fromPartial(e??{})},fromPartial(e){var t,i,n;const r=createBaseUpdateStreamRequest();return r.egressId=(t=e.egressId)!==null&&t!==void 0?t:"",r.addOutputUrls=((i=e.addOutputUrls)===null||i===void 0?void 0:i.map(o=>o))||[],r.removeOutputUrls=((n=e.removeOutputUrls)===null||n===void 0?void 0:n.map(o=>o))||[],r}};function createBaseListEgressRequest(){return{roomName:"",egressId:"",active:!1}}const ListEgressRequest={encode(e,t=_m0.Writer.create()){return e.roomName!==void 0&&e.roomName!==""&&t.uint32(10).string(e.roomName),e.egressId!==void 0&&e.egressId!==""&&t.uint32(18).string(e.egressId),e.active===!0&&t.uint32(24).bool(e.active),t},decode(e,t){const i=e instanceof _m0.Reader?e:_m0.Reader.create(e);let n=t===void 0?i.len:i.pos+t;const r=createBaseListEgressRequest();for(;i.pos<n;){const o=i.uint32();switch(o>>>3){case 1:if(o!==10)break;r.roomName=i.string();continue;case 2:if(o!==18)break;r.egressId=i.string();continue;case 3:if(o!==24)break;r.active=i.bool();continue}if((o&7)===4||o===0)break;i.skipType(o&7)}return r},fromJSON(e){return{roomName:isSet$1(e.roomName)?globalThis.String(e.roomName):"",egressId:isSet$1(e.egressId)?globalThis.String(e.egressId):"",active:isSet$1(e.active)?globalThis.Boolean(e.active):!1}},toJSON(e){const t={};return e.roomName!==void 0&&e.roomName!==""&&(t.roomName=e.roomName),e.egressId!==void 0&&e.egressId!==""&&(t.egressId=e.egressId),e.active===!0&&(t.active=e.active),t},create(e){return ListEgressRequest.fromPartial(e??{})},fromPartial(e){var t,i,n;const r=createBaseListEgressRequest();return r.roomName=(t=e.roomName)!==null&&t!==void 0?t:"",r.egressId=(i=e.egressId)!==null&&i!==void 0?i:"",r.active=(n=e.active)!==null&&n!==void 0?n:!1,r}};function createBaseListEgressResponse(){return{items:[]}}const ListEgressResponse={encode(e,t=_m0.Writer.create()){if(e.items!==void 0&&e.items.length!==0)for(const i of e.items)EgressInfo.encode(i,t.uint32(10).fork()).ldelim();return t},decode(e,t){const i=e instanceof _m0.Reader?e:_m0.Reader.create(e);let n=t===void 0?i.len:i.pos+t;const r=createBaseListEgressResponse();for(;i.pos<n;){const o=i.uint32();switch(o>>>3){case 1:if(o!==10)break;r.items.push(EgressInfo.decode(i,i.uint32()));continue}if((o&7)===4||o===0)break;i.skipType(o&7)}return r},fromJSON(e){return{items:globalThis.Array.isArray(e==null?void 0:e.items)?e.items.map(t=>EgressInfo.fromJSON(t)):[]}},toJSON(e){var t;const i={};return!((t=e.items)===null||t===void 0)&&t.length&&(i.items=e.items.map(n=>EgressInfo.toJSON(n))),i},create(e){return ListEgressResponse.fromPartial(e??{})},fromPartial(e){var t;const i=createBaseListEgressResponse();return i.items=((t=e.items)===null||t===void 0?void 0:t.map(n=>EgressInfo.fromPartial(n)))||[],i}};function createBaseStopEgressRequest(){return{egressId:""}}const StopEgressRequest={encode(e,t=_m0.Writer.create()){return e.egressId!==void 0&&e.egressId!==""&&t.uint32(10).string(e.egressId),t},decode(e,t){const i=e instanceof _m0.Reader?e:_m0.Reader.create(e);let n=t===void 0?i.len:i.pos+t;const r=createBaseStopEgressRequest();for(;i.pos<n;){const o=i.uint32();switch(o>>>3){case 1:if(o!==10)break;r.egressId=i.string();continue}if((o&7)===4||o===0)break;i.skipType(o&7)}return r},fromJSON(e){return{egressId:isSet$1(e.egressId)?globalThis.String(e.egressId):""}},toJSON(e){const t={};return e.egressId!==void 0&&e.egressId!==""&&(t.egressId=e.egressId),t},create(e){return StopEgressRequest.fromPartial(e??{})},fromPartial(e){var t;const i=createBaseStopEgressRequest();return i.egressId=(t=e.egressId)!==null&&t!==void 0?t:"",i}};function createBaseEgressInfo(){return{egressId:"",roomId:"",roomName:"",status:0,startedAt:0,endedAt:0,updatedAt:0,error:"",roomComposite:void 0,web:void 0,participant:void 0,trackComposite:void 0,track:void 0,stream:void 0,file:void 0,segments:void 0,streamResults:[],fileResults:[],segmentResults:[],imageResults:[]}}const EgressInfo={encode(e,t=_m0.Writer.create()){if(e.egressId!==void 0&&e.egressId!==""&&t.uint32(10).string(e.egressId),e.roomId!==void 0&&e.roomId!==""&&t.uint32(18).string(e.roomId),e.roomName!==void 0&&e.roomName!==""&&t.uint32(106).string(e.roomName),e.status!==void 0&&e.status!==0&&t.uint32(24).int32(e.status),e.startedAt!==void 0&&e.startedAt!==0&&t.uint32(80).int64(e.startedAt),e.endedAt!==void 0&&e.endedAt!==0&&t.uint32(88).int64(e.endedAt),e.updatedAt!==void 0&&e.updatedAt!==0&&t.uint32(144).int64(e.updatedAt),e.error!==void 0&&e.error!==""&&t.uint32(74).string(e.error),e.roomComposite!==void 0&&RoomCompositeEgressRequest.encode(e.roomComposite,t.uint32(34).fork()).ldelim(),e.web!==void 0&&WebEgressRequest.encode(e.web,t.uint32(114).fork()).ldelim(),e.participant!==void 0&&ParticipantEgressRequest.encode(e.participant,t.uint32(154).fork()).ldelim(),e.trackComposite!==void 0&&TrackCompositeEgressRequest.encode(e.trackComposite,t.uint32(42).fork()).ldelim(),e.track!==void 0&&TrackEgressRequest.encode(e.track,t.uint32(50).fork()).ldelim(),e.stream!==void 0&&StreamInfoList.encode(e.stream,t.uint32(58).fork()).ldelim(),e.file!==void 0&&FileInfo.encode(e.file,t.uint32(66).fork()).ldelim(),e.segments!==void 0&&SegmentsInfo.encode(e.segments,t.uint32(98).fork()).ldelim(),e.streamResults!==void 0&&e.streamResults.length!==0)for(const i of e.streamResults)StreamInfo.encode(i,t.uint32(122).fork()).ldelim();if(e.fileResults!==void 0&&e.fileResults.length!==0)for(const i of e.fileResults)FileInfo.encode(i,t.uint32(130).fork()).ldelim();if(e.segmentResults!==void 0&&e.segmentResults.length!==0)for(const i of e.segmentResults)SegmentsInfo.encode(i,t.uint32(138).fork()).ldelim();if(e.imageResults!==void 0&&e.imageResults.length!==0)for(const i of e.imageResults)ImagesInfo.encode(i,t.uint32(162).fork()).ldelim();return t},decode(e,t){const i=e instanceof _m0.Reader?e:_m0.Reader.create(e);let n=t===void 0?i.len:i.pos+t;const r=createBaseEgressInfo();for(;i.pos<n;){const o=i.uint32();switch(o>>>3){case 1:if(o!==10)break;r.egressId=i.string();continue;case 2:if(o!==18)break;r.roomId=i.string();continue;case 13:if(o!==106)break;r.roomName=i.string();continue;case 3:if(o!==24)break;r.status=i.int32();continue;case 10:if(o!==80)break;r.startedAt=longToNumber(i.int64());continue;case 11:if(o!==88)break;r.endedAt=longToNumber(i.int64());continue;case 18:if(o!==144)break;r.updatedAt=longToNumber(i.int64());continue;case 9:if(o!==74)break;r.error=i.string();continue;case 4:if(o!==34)break;r.roomComposite=RoomCompositeEgressRequest.decode(i,i.uint32());continue;case 14:if(o!==114)break;r.web=WebEgressRequest.decode(i,i.uint32());continue;case 19:if(o!==154)break;r.participant=ParticipantEgressRequest.decode(i,i.uint32());continue;case 5:if(o!==42)break;r.trackComposite=TrackCompositeEgressRequest.decode(i,i.uint32());continue;case 6:if(o!==50)break;r.track=TrackEgressRequest.decode(i,i.uint32());continue;case 7:if(o!==58)break;r.stream=StreamInfoList.decode(i,i.uint32());continue;case 8:if(o!==66)break;r.file=FileInfo.decode(i,i.uint32());continue;case 12:if(o!==98)break;r.segments=SegmentsInfo.decode(i,i.uint32());continue;case 15:if(o!==122)break;r.streamResults.push(StreamInfo.decode(i,i.uint32()));continue;case 16:if(o!==130)break;r.fileResults.push(FileInfo.decode(i,i.uint32()));continue;case 17:if(o!==138)break;r.segmentResults.push(SegmentsInfo.decode(i,i.uint32()));continue;case 20:if(o!==162)break;r.imageResults.push(ImagesInfo.decode(i,i.uint32()));continue}if((o&7)===4||o===0)break;i.skipType(o&7)}return r},fromJSON(e){return{egressId:isSet$1(e.egressId)?globalThis.String(e.egressId):"",roomId:isSet$1(e.roomId)?globalThis.String(e.roomId):"",roomName:isSet$1(e.roomName)?globalThis.String(e.roomName):"",status:isSet$1(e.status)?egressStatusFromJSON(e.status):0,startedAt:isSet$1(e.startedAt)?globalThis.Number(e.startedAt):0,endedAt:isSet$1(e.endedAt)?globalThis.Number(e.endedAt):0,updatedAt:isSet$1(e.updatedAt)?globalThis.Number(e.updatedAt):0,error:isSet$1(e.error)?globalThis.String(e.error):"",roomComposite:isSet$1(e.roomComposite)?RoomCompositeEgressRequest.fromJSON(e.roomComposite):void 0,web:isSet$1(e.web)?WebEgressRequest.fromJSON(e.web):void 0,participant:isSet$1(e.participant)?ParticipantEgressRequest.fromJSON(e.participant):void 0,trackComposite:isSet$1(e.trackComposite)?TrackCompositeEgressRequest.fromJSON(e.trackComposite):void 0,track:isSet$1(e.track)?TrackEgressRequest.fromJSON(e.track):void 0,stream:isSet$1(e.stream)?StreamInfoList.fromJSON(e.stream):void 0,file:isSet$1(e.file)?FileInfo.fromJSON(e.file):void 0,segments:isSet$1(e.segments)?SegmentsInfo.fromJSON(e.segments):void 0,streamResults:globalThis.Array.isArray(e==null?void 0:e.streamResults)?e.streamResults.map(t=>StreamInfo.fromJSON(t)):[],fileResults:globalThis.Array.isArray(e==null?void 0:e.fileResults)?e.fileResults.map(t=>FileInfo.fromJSON(t)):[],segmentResults:globalThis.Array.isArray(e==null?void 0:e.segmentResults)?e.segmentResults.map(t=>SegmentsInfo.fromJSON(t)):[],imageResults:globalThis.Array.isArray(e==null?void 0:e.imageResults)?e.imageResults.map(t=>ImagesInfo.fromJSON(t)):[]}},toJSON(e){var t,i,n,r;const o={};return e.egressId!==void 0&&e.egressId!==""&&(o.egressId=e.egressId),e.roomId!==void 0&&e.roomId!==""&&(o.roomId=e.roomId),e.roomName!==void 0&&e.roomName!==""&&(o.roomName=e.roomName),e.status!==void 0&&e.status!==0&&(o.status=egressStatusToJSON(e.status)),e.startedAt!==void 0&&e.startedAt!==0&&(o.startedAt=Math.round(e.startedAt)),e.endedAt!==void 0&&e.endedAt!==0&&(o.endedAt=Math.round(e.endedAt)),e.updatedAt!==void 0&&e.updatedAt!==0&&(o.updatedAt=Math.round(e.updatedAt)),e.error!==void 0&&e.error!==""&&(o.error=e.error),e.roomComposite!==void 0&&(o.roomComposite=RoomCompositeEgressRequest.toJSON(e.roomComposite)),e.web!==void 0&&(o.web=WebEgressRequest.toJSON(e.web)),e.participant!==void 0&&(o.participant=ParticipantEgressRequest.toJSON(e.participant)),e.trackComposite!==void 0&&(o.trackComposite=TrackCompositeEgressRequest.toJSON(e.trackComposite)),e.track!==void 0&&(o.track=TrackEgressRequest.toJSON(e.track)),e.stream!==void 0&&(o.stream=StreamInfoList.toJSON(e.stream)),e.file!==void 0&&(o.file=FileInfo.toJSON(e.file)),e.segments!==void 0&&(o.segments=SegmentsInfo.toJSON(e.segments)),!((t=e.streamResults)===null||t===void 0)&&t.length&&(o.streamResults=e.streamResults.map(a=>StreamInfo.toJSON(a))),!((i=e.fileResults)===null||i===void 0)&&i.length&&(o.fileResults=e.fileResults.map(a=>FileInfo.toJSON(a))),!((n=e.segmentResults)===null||n===void 0)&&n.length&&(o.segmentResults=e.segmentResults.map(a=>SegmentsInfo.toJSON(a))),!((r=e.imageResults)===null||r===void 0)&&r.length&&(o.imageResults=e.imageResults.map(a=>ImagesInfo.toJSON(a))),o},create(e){return EgressInfo.fromPartial(e??{})},fromPartial(e){var t,i,n,r,o,a,s,u,l,c,d,m;const E=createBaseEgressInfo();return E.egressId=(t=e.egressId)!==null&&t!==void 0?t:"",E.roomId=(i=e.roomId)!==null&&i!==void 0?i:"",E.roomName=(n=e.roomName)!==null&&n!==void 0?n:"",E.status=(r=e.status)!==null&&r!==void 0?r:0,E.startedAt=(o=e.startedAt)!==null&&o!==void 0?o:0,E.endedAt=(a=e.endedAt)!==null&&a!==void 0?a:0,E.updatedAt=(s=e.updatedAt)!==null&&s!==void 0?s:0,E.error=(u=e.error)!==null&&u!==void 0?u:"",E.roomComposite=e.roomComposite!==void 0&&e.roomComposite!==null?RoomCompositeEgressRequest.fromPartial(e.roomComposite):void 0,E.web=e.web!==void 0&&e.web!==null?WebEgressRequest.fromPartial(e.web):void 0,E.participant=e.participant!==void 0&&e.participant!==null?ParticipantEgressRequest.fromPartial(e.participant):void 0,E.trackComposite=e.trackComposite!==void 0&&e.trackComposite!==null?TrackCompositeEgressRequest.fromPartial(e.trackComposite):void 0,E.track=e.track!==void 0&&e.track!==null?TrackEgressRequest.fromPartial(e.track):void 0,E.stream=e.stream!==void 0&&e.stream!==null?StreamInfoList.fromPartial(e.stream):void 0,E.file=e.file!==void 0&&e.file!==null?FileInfo.fromPartial(e.file):void 0,E.segments=e.segments!==void 0&&e.segments!==null?SegmentsInfo.fromPartial(e.segments):void 0,E.streamResults=((l=e.streamResults)===null||l===void 0?void 0:l.map(y=>StreamInfo.fromPartial(y)))||[],E.fileResults=((c=e.fileResults)===null||c===void 0?void 0:c.map(y=>FileInfo.fromPartial(y)))||[],E.segmentResults=((d=e.segmentResults)===null||d===void 0?void 0:d.map(y=>SegmentsInfo.fromPartial(y)))||[],E.imageResults=((m=e.imageResults)===null||m===void 0?void 0:m.map(y=>ImagesInfo.fromPartial(y)))||[],E}};function createBaseStreamInfoList(){return{info:[]}}const StreamInfoList={encode(e,t=_m0.Writer.create()){if(e.info!==void 0&&e.info.length!==0)for(const i of e.info)StreamInfo.encode(i,t.uint32(10).fork()).ldelim();return t},decode(e,t){const i=e instanceof _m0.Reader?e:_m0.Reader.create(e);let n=t===void 0?i.len:i.pos+t;const r=createBaseStreamInfoList();for(;i.pos<n;){const o=i.uint32();switch(o>>>3){case 1:if(o!==10)break;r.info.push(StreamInfo.decode(i,i.uint32()));continue}if((o&7)===4||o===0)break;i.skipType(o&7)}return r},fromJSON(e){return{info:globalThis.Array.isArray(e==null?void 0:e.info)?e.info.map(t=>StreamInfo.fromJSON(t)):[]}},toJSON(e){var t;const i={};return!((t=e.info)===null||t===void 0)&&t.length&&(i.info=e.info.map(n=>StreamInfo.toJSON(n))),i},create(e){return StreamInfoList.fromPartial(e??{})},fromPartial(e){var t;const i=createBaseStreamInfoList();return i.info=((t=e.info)===null||t===void 0?void 0:t.map(n=>StreamInfo.fromPartial(n)))||[],i}};function createBaseStreamInfo(){return{url:"",startedAt:0,endedAt:0,duration:0,status:0,error:""}}const StreamInfo={encode(e,t=_m0.Writer.create()){return e.url!==void 0&&e.url!==""&&t.uint32(10).string(e.url),e.startedAt!==void 0&&e.startedAt!==0&&t.uint32(16).int64(e.startedAt),e.endedAt!==void 0&&e.endedAt!==0&&t.uint32(24).int64(e.endedAt),e.duration!==void 0&&e.duration!==0&&t.uint32(32).int64(e.duration),e.status!==void 0&&e.status!==0&&t.uint32(40).int32(e.status),e.error!==void 0&&e.error!==""&&t.uint32(50).string(e.error),t},decode(e,t){const i=e instanceof _m0.Reader?e:_m0.Reader.create(e);let n=t===void 0?i.len:i.pos+t;const r=createBaseStreamInfo();for(;i.pos<n;){const o=i.uint32();switch(o>>>3){case 1:if(o!==10)break;r.url=i.string();continue;case 2:if(o!==16)break;r.startedAt=longToNumber(i.int64());continue;case 3:if(o!==24)break;r.endedAt=longToNumber(i.int64());continue;case 4:if(o!==32)break;r.duration=longToNumber(i.int64());continue;case 5:if(o!==40)break;r.status=i.int32();continue;case 6:if(o!==50)break;r.error=i.string();continue}if((o&7)===4||o===0)break;i.skipType(o&7)}return r},fromJSON(e){return{url:isSet$1(e.url)?globalThis.String(e.url):"",startedAt:isSet$1(e.startedAt)?globalThis.Number(e.startedAt):0,endedAt:isSet$1(e.endedAt)?globalThis.Number(e.endedAt):0,duration:isSet$1(e.duration)?globalThis.Number(e.duration):0,status:isSet$1(e.status)?streamInfo_StatusFromJSON(e.status):0,error:isSet$1(e.error)?globalThis.String(e.error):""}},toJSON(e){const t={};return e.url!==void 0&&e.url!==""&&(t.url=e.url),e.startedAt!==void 0&&e.startedAt!==0&&(t.startedAt=Math.round(e.startedAt)),e.endedAt!==void 0&&e.endedAt!==0&&(t.endedAt=Math.round(e.endedAt)),e.duration!==void 0&&e.duration!==0&&(t.duration=Math.round(e.duration)),e.status!==void 0&&e.status!==0&&(t.status=streamInfo_StatusToJSON(e.status)),e.error!==void 0&&e.error!==""&&(t.error=e.error),t},create(e){return StreamInfo.fromPartial(e??{})},fromPartial(e){var t,i,n,r,o,a;const s=createBaseStreamInfo();return s.url=(t=e.url)!==null&&t!==void 0?t:"",s.startedAt=(i=e.startedAt)!==null&&i!==void 0?i:0,s.endedAt=(n=e.endedAt)!==null&&n!==void 0?n:0,s.duration=(r=e.duration)!==null&&r!==void 0?r:0,s.status=(o=e.status)!==null&&o!==void 0?o:0,s.error=(a=e.error)!==null&&a!==void 0?a:"",s}};function createBaseFileInfo(){return{filename:"",startedAt:0,endedAt:0,duration:0,size:0,location:""}}const FileInfo={encode(e,t=_m0.Writer.create()){return e.filename!==void 0&&e.filename!==""&&t.uint32(10).string(e.filename),e.startedAt!==void 0&&e.startedAt!==0&&t.uint32(16).int64(e.startedAt),e.endedAt!==void 0&&e.endedAt!==0&&t.uint32(24).int64(e.endedAt),e.duration!==void 0&&e.duration!==0&&t.uint32(48).int64(e.duration),e.size!==void 0&&e.size!==0&&t.uint32(32).int64(e.size),e.location!==void 0&&e.location!==""&&t.uint32(42).string(e.location),t},decode(e,t){const i=e instanceof _m0.Reader?e:_m0.Reader.create(e);let n=t===void 0?i.len:i.pos+t;const r=createBaseFileInfo();for(;i.pos<n;){const o=i.uint32();switch(o>>>3){case 1:if(o!==10)break;r.filename=i.string();continue;case 2:if(o!==16)break;r.startedAt=longToNumber(i.int64());continue;case 3:if(o!==24)break;r.endedAt=longToNumber(i.int64());continue;case 6:if(o!==48)break;r.duration=longToNumber(i.int64());continue;case 4:if(o!==32)break;r.size=longToNumber(i.int64());continue;case 5:if(o!==42)break;r.location=i.string();continue}if((o&7)===4||o===0)break;i.skipType(o&7)}return r},fromJSON(e){return{filename:isSet$1(e.filename)?globalThis.String(e.filename):"",startedAt:isSet$1(e.startedAt)?globalThis.Number(e.startedAt):0,endedAt:isSet$1(e.endedAt)?globalThis.Number(e.endedAt):0,duration:isSet$1(e.duration)?globalThis.Number(e.duration):0,size:isSet$1(e.size)?globalThis.Number(e.size):0,location:isSet$1(e.location)?globalThis.String(e.location):""}},toJSON(e){const t={};return e.filename!==void 0&&e.filename!==""&&(t.filename=e.filename),e.startedAt!==void 0&&e.startedAt!==0&&(t.startedAt=Math.round(e.startedAt)),e.endedAt!==void 0&&e.endedAt!==0&&(t.endedAt=Math.round(e.endedAt)),e.duration!==void 0&&e.duration!==0&&(t.duration=Math.round(e.duration)),e.size!==void 0&&e.size!==0&&(t.size=Math.round(e.size)),e.location!==void 0&&e.location!==""&&(t.location=e.location),t},create(e){return FileInfo.fromPartial(e??{})},fromPartial(e){var t,i,n,r,o,a;const s=createBaseFileInfo();return s.filename=(t=e.filename)!==null&&t!==void 0?t:"",s.startedAt=(i=e.startedAt)!==null&&i!==void 0?i:0,s.endedAt=(n=e.endedAt)!==null&&n!==void 0?n:0,s.duration=(r=e.duration)!==null&&r!==void 0?r:0,s.size=(o=e.size)!==null&&o!==void 0?o:0,s.location=(a=e.location)!==null&&a!==void 0?a:"",s}};function createBaseSegmentsInfo(){return{playlistName:"",livePlaylistName:"",duration:0,size:0,playlistLocation:"",livePlaylistLocation:"",segmentCount:0,startedAt:0,endedAt:0}}const SegmentsInfo={encode(e,t=_m0.Writer.create()){return e.playlistName!==void 0&&e.playlistName!==""&&t.uint32(10).string(e.playlistName),e.livePlaylistName!==void 0&&e.livePlaylistName!==""&&t.uint32(66).string(e.livePlaylistName),e.duration!==void 0&&e.duration!==0&&t.uint32(16).int64(e.duration),e.size!==void 0&&e.size!==0&&t.uint32(24).int64(e.size),e.playlistLocation!==void 0&&e.playlistLocation!==""&&t.uint32(34).string(e.playlistLocation),e.livePlaylistLocation!==void 0&&e.livePlaylistLocation!==""&&t.uint32(74).string(e.livePlaylistLocation),e.segmentCount!==void 0&&e.segmentCount!==0&&t.uint32(40).int64(e.segmentCount),e.startedAt!==void 0&&e.startedAt!==0&&t.uint32(48).int64(e.startedAt),e.endedAt!==void 0&&e.endedAt!==0&&t.uint32(56).int64(e.endedAt),t},decode(e,t){const i=e instanceof _m0.Reader?e:_m0.Reader.create(e);let n=t===void 0?i.len:i.pos+t;const r=createBaseSegmentsInfo();for(;i.pos<n;){const o=i.uint32();switch(o>>>3){case 1:if(o!==10)break;r.playlistName=i.string();continue;case 8:if(o!==66)break;r.livePlaylistName=i.string();continue;case 2:if(o!==16)break;r.duration=longToNumber(i.int64());continue;case 3:if(o!==24)break;r.size=longToNumber(i.int64());continue;case 4:if(o!==34)break;r.playlistLocation=i.string();continue;case 9:if(o!==74)break;r.livePlaylistLocation=i.string();continue;case 5:if(o!==40)break;r.segmentCount=longToNumber(i.int64());continue;case 6:if(o!==48)break;r.startedAt=longToNumber(i.int64());continue;case 7:if(o!==56)break;r.endedAt=longToNumber(i.int64());continue}if((o&7)===4||o===0)break;i.skipType(o&7)}return r},fromJSON(e){return{playlistName:isSet$1(e.playlistName)?globalThis.String(e.playlistName):"",livePlaylistName:isSet$1(e.livePlaylistName)?globalThis.String(e.livePlaylistName):"",duration:isSet$1(e.duration)?globalThis.Number(e.duration):0,size:isSet$1(e.size)?globalThis.Number(e.size):0,playlistLocation:isSet$1(e.playlistLocation)?globalThis.String(e.playlistLocation):"",livePlaylistLocation:isSet$1(e.livePlaylistLocation)?globalThis.String(e.livePlaylistLocation):"",segmentCount:isSet$1(e.segmentCount)?globalThis.Number(e.segmentCount):0,startedAt:isSet$1(e.startedAt)?globalThis.Number(e.startedAt):0,endedAt:isSet$1(e.endedAt)?globalThis.Number(e.endedAt):0}},toJSON(e){const t={};return e.playlistName!==void 0&&e.playlistName!==""&&(t.playlistName=e.playlistName),e.livePlaylistName!==void 0&&e.livePlaylistName!==""&&(t.livePlaylistName=e.livePlaylistName),e.duration!==void 0&&e.duration!==0&&(t.duration=Math.round(e.duration)),e.size!==void 0&&e.size!==0&&(t.size=Math.round(e.size)),e.playlistLocation!==void 0&&e.playlistLocation!==""&&(t.playlistLocation=e.playlistLocation),e.livePlaylistLocation!==void 0&&e.livePlaylistLocation!==""&&(t.livePlaylistLocation=e.livePlaylistLocation),e.segmentCount!==void 0&&e.segmentCount!==0&&(t.segmentCount=Math.round(e.segmentCount)),e.startedAt!==void 0&&e.startedAt!==0&&(t.startedAt=Math.round(e.startedAt)),e.endedAt!==void 0&&e.endedAt!==0&&(t.endedAt=Math.round(e.endedAt)),t},create(e){return SegmentsInfo.fromPartial(e??{})},fromPartial(e){var t,i,n,r,o,a,s,u,l;const c=createBaseSegmentsInfo();return c.playlistName=(t=e.playlistName)!==null&&t!==void 0?t:"",c.livePlaylistName=(i=e.livePlaylistName)!==null&&i!==void 0?i:"",c.duration=(n=e.duration)!==null&&n!==void 0?n:0,c.size=(r=e.size)!==null&&r!==void 0?r:0,c.playlistLocation=(o=e.playlistLocation)!==null&&o!==void 0?o:"",c.livePlaylistLocation=(a=e.livePlaylistLocation)!==null&&a!==void 0?a:"",c.segmentCount=(s=e.segmentCount)!==null&&s!==void 0?s:0,c.startedAt=(u=e.startedAt)!==null&&u!==void 0?u:0,c.endedAt=(l=e.endedAt)!==null&&l!==void 0?l:0,c}};function createBaseImagesInfo(){return{imageCount:0,startedAt:0,endedAt:0}}const ImagesInfo={encode(e,t=_m0.Writer.create()){return e.imageCount!==void 0&&e.imageCount!==0&&t.uint32(8).int64(e.imageCount),e.startedAt!==void 0&&e.startedAt!==0&&t.uint32(16).int64(e.startedAt),e.endedAt!==void 0&&e.endedAt!==0&&t.uint32(24).int64(e.endedAt),t},decode(e,t){const i=e instanceof _m0.Reader?e:_m0.Reader.create(e);let n=t===void 0?i.len:i.pos+t;const r=createBaseImagesInfo();for(;i.pos<n;){const o=i.uint32();switch(o>>>3){case 1:if(o!==8)break;r.imageCount=longToNumber(i.int64());continue;case 2:if(o!==16)break;r.startedAt=longToNumber(i.int64());continue;case 3:if(o!==24)break;r.endedAt=longToNumber(i.int64());continue}if((o&7)===4||o===0)break;i.skipType(o&7)}return r},fromJSON(e){return{imageCount:isSet$1(e.imageCount)?globalThis.Number(e.imageCount):0,startedAt:isSet$1(e.startedAt)?globalThis.Number(e.startedAt):0,endedAt:isSet$1(e.endedAt)?globalThis.Number(e.endedAt):0}},toJSON(e){const t={};return e.imageCount!==void 0&&e.imageCount!==0&&(t.imageCount=Math.round(e.imageCount)),e.startedAt!==void 0&&e.startedAt!==0&&(t.startedAt=Math.round(e.startedAt)),e.endedAt!==void 0&&e.endedAt!==0&&(t.endedAt=Math.round(e.endedAt)),t},create(e){return ImagesInfo.fromPartial(e??{})},fromPartial(e){var t,i,n;const r=createBaseImagesInfo();return r.imageCount=(t=e.imageCount)!==null&&t!==void 0?t:0,r.startedAt=(i=e.startedAt)!==null&&i!==void 0?i:0,r.endedAt=(n=e.endedAt)!==null&&n!==void 0?n:0,r}};function createBaseAutoParticipantEgress(){return{preset:void 0,advanced:void 0,fileOutputs:[],segmentOutputs:[]}}const AutoParticipantEgress={encode(e,t=_m0.Writer.create()){if(e.preset!==void 0&&t.uint32(8).int32(e.preset),e.advanced!==void 0&&EncodingOptions.encode(e.advanced,t.uint32(18).fork()).ldelim(),e.fileOutputs!==void 0&&e.fileOutputs.length!==0)for(const i of e.fileOutputs)EncodedFileOutput.encode(i,t.uint32(26).fork()).ldelim();if(e.segmentOutputs!==void 0&&e.segmentOutputs.length!==0)for(const i of e.segmentOutputs)SegmentedFileOutput.encode(i,t.uint32(34).fork()).ldelim();return t},decode(e,t){const i=e instanceof _m0.Reader?e:_m0.Reader.create(e);let n=t===void 0?i.len:i.pos+t;const r=createBaseAutoParticipantEgress();for(;i.pos<n;){const o=i.uint32();switch(o>>>3){case 1:if(o!==8)break;r.preset=i.int32();continue;case 2:if(o!==18)break;r.advanced=EncodingOptions.decode(i,i.uint32());continue;case 3:if(o!==26)break;r.fileOutputs.push(EncodedFileOutput.decode(i,i.uint32()));continue;case 4:if(o!==34)break;r.segmentOutputs.push(SegmentedFileOutput.decode(i,i.uint32()));continue}if((o&7)===4||o===0)break;i.skipType(o&7)}return r},fromJSON(e){return{preset:isSet$1(e.preset)?encodingOptionsPresetFromJSON(e.preset):void 0,advanced:isSet$1(e.advanced)?EncodingOptions.fromJSON(e.advanced):void 0,fileOutputs:globalThis.Array.isArray(e==null?void 0:e.fileOutputs)?e.fileOutputs.map(t=>EncodedFileOutput.fromJSON(t)):[],segmentOutputs:globalThis.Array.isArray(e==null?void 0:e.segmentOutputs)?e.segmentOutputs.map(t=>SegmentedFileOutput.fromJSON(t)):[]}},toJSON(e){var t,i;const n={};return e.preset!==void 0&&(n.preset=encodingOptionsPresetToJSON(e.preset)),e.advanced!==void 0&&(n.advanced=EncodingOptions.toJSON(e.advanced)),!((t=e.fileOutputs)===null||t===void 0)&&t.length&&(n.fileOutputs=e.fileOutputs.map(r=>EncodedFileOutput.toJSON(r))),!((i=e.segmentOutputs)===null||i===void 0)&&i.length&&(n.segmentOutputs=e.segmentOutputs.map(r=>SegmentedFileOutput.toJSON(r))),n},create(e){return AutoParticipantEgress.fromPartial(e??{})},fromPartial(e){var t,i,n;const r=createBaseAutoParticipantEgress();return r.preset=(t=e.preset)!==null&&t!==void 0?t:void 0,r.advanced=e.advanced!==void 0&&e.advanced!==null?EncodingOptions.fromPartial(e.advanced):void 0,r.fileOutputs=((i=e.fileOutputs)===null||i===void 0?void 0:i.map(o=>EncodedFileOutput.fromPartial(o)))||[],r.segmentOutputs=((n=e.segmentOutputs)===null||n===void 0?void 0:n.map(o=>SegmentedFileOutput.fromPartial(o)))||[],r}};function createBaseAutoTrackEgress(){return{filepath:"",disableManifest:!1,s3:void 0,gcp:void 0,azure:void 0}}const AutoTrackEgress={encode(e,t=_m0.Writer.create()){return e.filepath!==void 0&&e.filepath!==""&&t.uint32(10).string(e.filepath),e.disableManifest===!0&&t.uint32(40).bool(e.disableManifest),e.s3!==void 0&&S3Upload.encode(e.s3,t.uint32(18).fork()).ldelim(),e.gcp!==void 0&&GCPUpload.encode(e.gcp,t.uint32(26).fork()).ldelim(),e.azure!==void 0&&AzureBlobUpload.encode(e.azure,t.uint32(34).fork()).ldelim(),t},decode(e,t){const i=e instanceof _m0.Reader?e:_m0.Reader.create(e);let n=t===void 0?i.len:i.pos+t;const r=createBaseAutoTrackEgress();for(;i.pos<n;){const o=i.uint32();switch(o>>>3){case 1:if(o!==10)break;r.filepath=i.string();continue;case 5:if(o!==40)break;r.disableManifest=i.bool();continue;case 2:if(o!==18)break;r.s3=S3Upload.decode(i,i.uint32());continue;case 3:if(o!==26)break;r.gcp=GCPUpload.decode(i,i.uint32());continue;case 4:if(o!==34)break;r.azure=AzureBlobUpload.decode(i,i.uint32());continue}if((o&7)===4||o===0)break;i.skipType(o&7)}return r},fromJSON(e){return{filepath:isSet$1(e.filepath)?globalThis.String(e.filepath):"",disableManifest:isSet$1(e.disableManifest)?globalThis.Boolean(e.disableManifest):!1,s3:isSet$1(e.s3)?S3Upload.fromJSON(e.s3):void 0,gcp:isSet$1(e.gcp)?GCPUpload.fromJSON(e.gcp):void 0,azure:isSet$1(e.azure)?AzureBlobUpload.fromJSON(e.azure):void 0}},toJSON(e){const t={};return e.filepath!==void 0&&e.filepath!==""&&(t.filepath=e.filepath),e.disableManifest===!0&&(t.disableManifest=e.disableManifest),e.s3!==void 0&&(t.s3=S3Upload.toJSON(e.s3)),e.gcp!==void 0&&(t.gcp=GCPUpload.toJSON(e.gcp)),e.azure!==void 0&&(t.azure=AzureBlobUpload.toJSON(e.azure)),t},create(e){return AutoTrackEgress.fromPartial(e??{})},fromPartial(e){var t,i;const n=createBaseAutoTrackEgress();return n.filepath=(t=e.filepath)!==null&&t!==void 0?t:"",n.disableManifest=(i=e.disableManifest)!==null&&i!==void 0?i:!1,n.s3=e.s3!==void 0&&e.s3!==null?S3Upload.fromPartial(e.s3):void 0,n.gcp=e.gcp!==void 0&&e.gcp!==null?GCPUpload.fromPartial(e.gcp):void 0,n.azure=e.azure!==void 0&&e.azure!==null?AzureBlobUpload.fromPartial(e.azure):void 0,n}};function longToNumber(e){if(e.gt(globalThis.Number.MAX_SAFE_INTEGER))throw new globalThis.Error("Value is larger than Number.MAX_SAFE_INTEGER");return e.toNumber()}_m0.util.Long!==Long&&(_m0.util.Long=Long,_m0.configure());function isObject$3(e){return typeof e=="object"&&e!==null}function isSet$1(e){return e!=null}class ServiceBase{constructor(t,i,n){this.apiKey=t,this.secret=i,this.ttl=n||"10m"}async authHeader(t){const i=new AccessToken(this.apiKey,this.secret,{ttl:this.ttl});return i.addGrant(t),{Authorization:`Bearer ${await i.toJwt()}`}}}function bind(e,t){return function(){return e.apply(t,arguments)}}const{toString}=Object.prototype,{getPrototypeOf}=Object,kindOf=(e=>t=>{const i=toString.call(t);return e[i]||(e[i]=i.slice(8,-1).toLowerCase())})(Object.create(null)),kindOfTest=e=>(e=e.toLowerCase(),t=>kindOf(t)===e),typeOfTest=e=>t=>typeof t===e,{isArray}=Array,isUndefined=typeOfTest("undefined");function isBuffer(e){return e!==null&&!isUndefined(e)&&e.constructor!==null&&!isUndefined(e.constructor)&&isFunction(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const isArrayBuffer=kindOfTest("ArrayBuffer");function isArrayBufferView(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&isArrayBuffer(e.buffer),t}const isString=typeOfTest("string"),isFunction=typeOfTest("function"),isNumber=typeOfTest("number"),isObject$2=e=>e!==null&&typeof e=="object",isBoolean=e=>e===!0||e===!1,isPlainObject=e=>{if(kindOf(e)!=="object")return!1;const t=getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},isDate=kindOfTest("Date"),isFile=kindOfTest("File"),isBlob=kindOfTest("Blob"),isFileList=kindOfTest("FileList"),isStream=e=>isObject$2(e)&&isFunction(e.pipe),isFormData=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||isFunction(e.append)&&((t=kindOf(e))==="formdata"||t==="object"&&isFunction(e.toString)&&e.toString()==="[object FormData]"))},isURLSearchParams=kindOfTest("URLSearchParams"),trim=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function forEach(e,t,{allOwnKeys:i=!1}={}){if(e===null||typeof e>"u")return;let n,r;if(typeof e!="object"&&(e=[e]),isArray(e))for(n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else{const o=i?Object.getOwnPropertyNames(e):Object.keys(e),a=o.length;let s;for(n=0;n<a;n++)s=o[n],t.call(null,e[s],s,e)}}function findKey(e,t){t=t.toLowerCase();const i=Object.keys(e);let n=i.length,r;for(;n-- >0;)if(r=i[n],t===r.toLowerCase())return r;return null}const _global=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:dist.global)(),isContextDefined=e=>!isUndefined(e)&&e!==_global;function merge(){const{caseless:e}=isContextDefined(this)&&this||{},t={},i=(n,r)=>{const o=e&&findKey(t,r)||r;isPlainObject(t[o])&&isPlainObject(n)?t[o]=merge(t[o],n):isPlainObject(n)?t[o]=merge({},n):isArray(n)?t[o]=n.slice():t[o]=n};for(let n=0,r=arguments.length;n<r;n++)arguments[n]&&forEach(arguments[n],i);return t}const extend=(e,t,i,{allOwnKeys:n}={})=>(forEach(t,(r,o)=>{i&&isFunction(r)?e[o]=bind(r,i):e[o]=r},{allOwnKeys:n}),e),stripBOM=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),inherits=(e,t,i,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),i&&Object.assign(e.prototype,i)},toFlatObject=(e,t,i,n)=>{let r,o,a;const s={};if(t=t||{},e==null)return t;do{for(r=Object.getOwnPropertyNames(e),o=r.length;o-- >0;)a=r[o],(!n||n(a,e,t))&&!s[a]&&(t[a]=e[a],s[a]=!0);e=i!==!1&&getPrototypeOf(e)}while(e&&(!i||i(e,t))&&e!==Object.prototype);return t},endsWith$1=(e,t,i)=>{e=String(e),(i===void 0||i>e.length)&&(i=e.length),i-=t.length;const n=e.indexOf(t,i);return n!==-1&&n===i},toArray=e=>{if(!e)return null;if(isArray(e))return e;let t=e.length;if(!isNumber(t))return null;const i=new Array(t);for(;t-- >0;)i[t]=e[t];return i},isTypedArray=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&getPrototypeOf(Uint8Array)),forEachEntry=(e,t)=>{const n=(e&&e[Symbol.iterator]).call(e);let r;for(;(r=n.next())&&!r.done;){const o=r.value;t.call(e,o[0],o[1])}},matchAll=(e,t)=>{let i;const n=[];for(;(i=e.exec(t))!==null;)n.push(i);return n},isHTMLForm=kindOfTest("HTMLFormElement"),toCamelCase=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(i,n,r){return n.toUpperCase()+r}),hasOwnProperty=(({hasOwnProperty:e})=>(t,i)=>e.call(t,i))(Object.prototype),isRegExp=kindOfTest("RegExp"),reduceDescriptors=(e,t)=>{const i=Object.getOwnPropertyDescriptors(e),n={};forEach(i,(r,o)=>{let a;(a=t(r,o,e))!==!1&&(n[o]=a||r)}),Object.defineProperties(e,n)},freezeMethods=e=>{reduceDescriptors(e,(t,i)=>{if(isFunction(e)&&["arguments","caller","callee"].indexOf(i)!==-1)return!1;const n=e[i];if(isFunction(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+i+"'")})}})},toObjectSet=(e,t)=>{const i={},n=r=>{r.forEach(o=>{i[o]=!0})};return isArray(e)?n(e):n(String(e).split(t)),i},noop$2=()=>{},toFiniteNumber=(e,t)=>(e=+e,Number.isFinite(e)?e:t),ALPHA="abcdefghijklmnopqrstuvwxyz",DIGIT="0123456789",ALPHABET={DIGIT,ALPHA,ALPHA_DIGIT:ALPHA+ALPHA.toUpperCase()+DIGIT},generateString=(e=16,t=ALPHABET.ALPHA_DIGIT)=>{let i="";const{length:n}=t;for(;e--;)i+=t[Math.random()*n|0];return i};function isSpecCompliantForm(e){return!!(e&&isFunction(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const toJSONObject=e=>{const t=new Array(10),i=(n,r)=>{if(isObject$2(n)){if(t.indexOf(n)>=0)return;if(!("toJSON"in n)){t[r]=n;const o=isArray(n)?[]:{};return forEach(n,(a,s)=>{const u=i(a,r+1);!isUndefined(u)&&(o[s]=u)}),t[r]=void 0,o}}return n};return i(e,0)},isAsyncFn=kindOfTest("AsyncFunction"),isThenable=e=>e&&(isObject$2(e)||isFunction(e))&&isFunction(e.then)&&isFunction(e.catch),utils$1={isArray,isArrayBuffer,isBuffer,isFormData,isArrayBufferView,isString,isNumber,isBoolean,isObject:isObject$2,isPlainObject,isUndefined,isDate,isFile,isBlob,isRegExp,isFunction,isStream,isURLSearchParams,isTypedArray,isFileList,forEach,merge,extend,trim,stripBOM,inherits,toFlatObject,kindOf,kindOfTest,endsWith:endsWith$1,toArray,forEachEntry,matchAll,isHTMLForm,hasOwnProperty,hasOwnProp:hasOwnProperty,reduceDescriptors,freezeMethods,toObjectSet,toCamelCase,noop:noop$2,toFiniteNumber,findKey,global:_global,isContextDefined,ALPHABET,generateString,isSpecCompliantForm,toJSONObject,isAsyncFn,isThenable};function AxiosError(e,t,i,n,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),i&&(this.config=i),n&&(this.request=n),r&&(this.response=r)}utils$1.inherits(AxiosError,Error,{toJSON:function e(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:utils$1.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const prototype$1=AxiosError.prototype,descriptors={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{descriptors[e]={value:e}});Object.defineProperties(AxiosError,descriptors);Object.defineProperty(prototype$1,"isAxiosError",{value:!0});AxiosError.from=(e,t,i,n,r,o)=>{const a=Object.create(prototype$1);return utils$1.toFlatObject(e,a,function(u){return u!==Error.prototype},s=>s!=="isAxiosError"),AxiosError.call(a,e.message,t,i,n,r),a.cause=e,a.name=e.name,o&&Object.assign(a,o),a};const httpAdapter=null;function isVisitable(e){return utils$1.isPlainObject(e)||utils$1.isArray(e)}function removeBrackets(e){return utils$1.endsWith(e,"[]")?e.slice(0,-2):e}function renderKey(e,t,i){return e?e.concat(t).map(function(r,o){return r=removeBrackets(r),!i&&o?"["+r+"]":r}).join(i?".":""):t}function isFlatArray(e){return utils$1.isArray(e)&&!e.some(isVisitable)}const predicates=utils$1.toFlatObject(utils$1,{},null,function e(t){return/^is[A-Z]/.test(t)});function toFormData(e,t,i){if(!utils$1.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,i=utils$1.toFlatObject(i,{metaTokens:!0,dots:!1,indexes:!1},!1,function(O,g){return!utils$1.isUndefined(g[O])});const n=i.metaTokens,r=i.visitor||c,o=i.dots,a=i.indexes,u=(i.Blob||typeof Blob<"u"&&Blob)&&utils$1.isSpecCompliantForm(t);if(!utils$1.isFunction(r))throw new TypeError("visitor must be a function");function l(y){if(y===null)return"";if(utils$1.isDate(y))return y.toISOString();if(!u&&utils$1.isBlob(y))throw new AxiosError("Blob is not supported. Use a Buffer instead.");return utils$1.isArrayBuffer(y)||utils$1.isTypedArray(y)?u&&typeof Blob=="function"?new Blob([y]):dist.Buffer.from(y):y}function c(y,O,g){let h=y;if(y&&!g&&typeof y=="object"){if(utils$1.endsWith(O,"{}"))O=n?O:O.slice(0,-2),y=JSON.stringify(y);else if(utils$1.isArray(y)&&isFlatArray(y)||(utils$1.isFileList(y)||utils$1.endsWith(O,"[]"))&&(h=utils$1.toArray(y)))return O=removeBrackets(O),h.forEach(function(T,w){!(utils$1.isUndefined(T)||T===null)&&t.append(a===!0?renderKey([O],w,o):a===null?O:O+"[]",l(T))}),!1}return isVisitable(y)?!0:(t.append(renderKey(g,O,o),l(y)),!1)}const d=[],m=Object.assign(predicates,{defaultVisitor:c,convertValue:l,isVisitable});function E(y,O){if(!utils$1.isUndefined(y)){if(d.indexOf(y)!==-1)throw Error("Circular reference detected in "+O.join("."));d.push(y),utils$1.forEach(y,function(h,v){(!(utils$1.isUndefined(h)||h===null)&&r.call(t,h,utils$1.isString(v)?v.trim():v,O,m))===!0&&E(h,O?O.concat(v):[v])}),d.pop()}}if(!utils$1.isObject(e))throw new TypeError("data must be an object");return E(e),t}function encode$1(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function AxiosURLSearchParams(e,t){this._pairs=[],e&&toFormData(e,this,t)}const prototype=AxiosURLSearchParams.prototype;prototype.append=function e(t,i){this._pairs.push([t,i])};prototype.toString=function e(t){const i=t?function(n){return t.call(this,n,encode$1)}:encode$1;return this._pairs.map(function(r){return i(r[0])+"="+i(r[1])},"").join("&")};function encode(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function buildURL(e,t,i){if(!t)return e;const n=i&&i.encode||encode,r=i&&i.serialize;let o;if(r?o=r(t,i):o=utils$1.isURLSearchParams(t)?t.toString():new AxiosURLSearchParams(t,i).toString(n),o){const a=e.indexOf("#");a!==-1&&(e=e.slice(0,a)),e+=(e.indexOf("?")===-1?"?":"&")+o}return e}class InterceptorManager{constructor(){this.handlers=[]}use(t,i,n){return this.handlers.push({fulfilled:t,rejected:i,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){utils$1.forEach(this.handlers,function(n){n!==null&&t(n)})}}const InterceptorManager$1=InterceptorManager,transitionalDefaults={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},URLSearchParams$1=typeof URLSearchParams<"u"?URLSearchParams:AxiosURLSearchParams,FormData$1=typeof FormData<"u"?FormData:null,Blob$1=typeof Blob<"u"?Blob:null,platform$1={isBrowser:!0,classes:{URLSearchParams:URLSearchParams$1,FormData:FormData$1,Blob:Blob$1},protocols:["http","https","file","blob","url","data"]},hasBrowserEnv=typeof window<"u"&&typeof document<"u",hasStandardBrowserEnv=(e=>hasBrowserEnv&&["ReactNative","NativeScript","NS"].indexOf(e)<0)(typeof navigator<"u"&&navigator.product),hasStandardBrowserWebWorkerEnv=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),utils=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv,hasStandardBrowserEnv,hasStandardBrowserWebWorkerEnv},Symbol.toStringTag,{value:"Module"})),platform={...utils,...platform$1};function toURLEncodedForm(e,t){return toFormData(e,new platform.classes.URLSearchParams,Object.assign({visitor:function(i,n,r,o){return platform.isNode&&utils$1.isBuffer(i)?(this.append(n,i.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},t))}function parsePropPath(e){return utils$1.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function arrayToObject(e){const t={},i=Object.keys(e);let n;const r=i.length;let o;for(n=0;n<r;n++)o=i[n],t[o]=e[o];return t}function formDataToJSON(e){function t(i,n,r,o){let a=i[o++];const s=Number.isFinite(+a),u=o>=i.length;return a=!a&&utils$1.isArray(r)?r.length:a,u?(utils$1.hasOwnProp(r,a)?r[a]=[r[a],n]:r[a]=n,!s):((!r[a]||!utils$1.isObject(r[a]))&&(r[a]=[]),t(i,n,r[a],o)&&utils$1.isArray(r[a])&&(r[a]=arrayToObject(r[a])),!s)}if(utils$1.isFormData(e)&&utils$1.isFunction(e.entries)){const i={};return utils$1.forEachEntry(e,(n,r)=>{t(parsePropPath(n),r,i,0)}),i}return null}function stringifySafely(e,t,i){if(utils$1.isString(e))try{return(t||JSON.parse)(e),utils$1.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(i||JSON.stringify)(e)}const defaults={transitional:transitionalDefaults,adapter:["xhr","http"],transformRequest:[function e(t,i){const n=i.getContentType()||"",r=n.indexOf("application/json")>-1,o=utils$1.isObject(t);if(o&&utils$1.isHTMLForm(t)&&(t=new FormData(t)),utils$1.isFormData(t))return r&&r?JSON.stringify(formDataToJSON(t)):t;if(utils$1.isArrayBuffer(t)||utils$1.isBuffer(t)||utils$1.isStream(t)||utils$1.isFile(t)||utils$1.isBlob(t))return t;if(utils$1.isArrayBufferView(t))return t.buffer;if(utils$1.isURLSearchParams(t))return i.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let s;if(o){if(n.indexOf("application/x-www-form-urlencoded")>-1)return toURLEncodedForm(t,this.formSerializer).toString();if((s=utils$1.isFileList(t))||n.indexOf("multipart/form-data")>-1){const u=this.env&&this.env.FormData;return toFormData(s?{"files[]":t}:t,u&&new u,this.formSerializer)}}return o||r?(i.setContentType("application/json",!1),stringifySafely(t)):t}],transformResponse:[function e(t){const i=this.transitional||defaults.transitional,n=i&&i.forcedJSONParsing,r=this.responseType==="json";if(t&&utils$1.isString(t)&&(n&&!this.responseType||r)){const a=!(i&&i.silentJSONParsing)&&r;try{return JSON.parse(t)}catch(s){if(a)throw s.name==="SyntaxError"?AxiosError.from(s,AxiosError.ERR_BAD_RESPONSE,this,null,this.response):s}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:platform.classes.FormData,Blob:platform.classes.Blob},validateStatus:function e(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};utils$1.forEach(["delete","get","head","post","put","patch"],e=>{defaults.headers[e]={}});const defaults$1=defaults,ignoreDuplicateOf=utils$1.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),parseHeaders=e=>{const t={};let i,n,r;return e&&e.split(`
`).forEach(function(a){r=a.indexOf(":"),i=a.substring(0,r).trim().toLowerCase(),n=a.substring(r+1).trim(),!(!i||t[i]&&ignoreDuplicateOf[i])&&(i==="set-cookie"?t[i]?t[i].push(n):t[i]=[n]:t[i]=t[i]?t[i]+", "+n:n)}),t},$internals=Symbol("internals");function normalizeHeader(e){return e&&String(e).trim().toLowerCase()}function normalizeValue(e){return e===!1||e==null?e:utils$1.isArray(e)?e.map(normalizeValue):String(e)}function parseTokens(e){const t=Object.create(null),i=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=i.exec(e);)t[n[1]]=n[2];return t}const isValidHeaderName=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function matchHeaderValue(e,t,i,n,r){if(utils$1.isFunction(n))return n.call(this,t,i);if(r&&(t=i),!!utils$1.isString(t)){if(utils$1.isString(n))return t.indexOf(n)!==-1;if(utils$1.isRegExp(n))return n.test(t)}}function formatHeader(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,i,n)=>i.toUpperCase()+n)}function buildAccessors(e,t){const i=utils$1.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+i,{value:function(r,o,a){return this[n].call(this,t,r,o,a)},configurable:!0})})}class AxiosHeaders{constructor(t){t&&this.set(t)}set(t,i,n){const r=this;function o(s,u,l){const c=normalizeHeader(u);if(!c)throw new Error("header name must be a non-empty string");const d=utils$1.findKey(r,c);(!d||r[d]===void 0||l===!0||l===void 0&&r[d]!==!1)&&(r[d||u]=normalizeValue(s))}const a=(s,u)=>utils$1.forEach(s,(l,c)=>o(l,c,u));return utils$1.isPlainObject(t)||t instanceof this.constructor?a(t,i):utils$1.isString(t)&&(t=t.trim())&&!isValidHeaderName(t)?a(parseHeaders(t),i):t!=null&&o(i,t,n),this}get(t,i){if(t=normalizeHeader(t),t){const n=utils$1.findKey(this,t);if(n){const r=this[n];if(!i)return r;if(i===!0)return parseTokens(r);if(utils$1.isFunction(i))return i.call(this,r,n);if(utils$1.isRegExp(i))return i.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,i){if(t=normalizeHeader(t),t){const n=utils$1.findKey(this,t);return!!(n&&this[n]!==void 0&&(!i||matchHeaderValue(this,this[n],n,i)))}return!1}delete(t,i){const n=this;let r=!1;function o(a){if(a=normalizeHeader(a),a){const s=utils$1.findKey(n,a);s&&(!i||matchHeaderValue(n,n[s],s,i))&&(delete n[s],r=!0)}}return utils$1.isArray(t)?t.forEach(o):o(t),r}clear(t){const i=Object.keys(this);let n=i.length,r=!1;for(;n--;){const o=i[n];(!t||matchHeaderValue(this,this[o],o,t,!0))&&(delete this[o],r=!0)}return r}normalize(t){const i=this,n={};return utils$1.forEach(this,(r,o)=>{const a=utils$1.findKey(n,o);if(a){i[a]=normalizeValue(r),delete i[o];return}const s=t?formatHeader(o):String(o).trim();s!==o&&delete i[o],i[s]=normalizeValue(r),n[s]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const i=Object.create(null);return utils$1.forEach(this,(n,r)=>{n!=null&&n!==!1&&(i[r]=t&&utils$1.isArray(n)?n.join(", "):n)}),i}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,i])=>t+": "+i).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...i){const n=new this(t);return i.forEach(r=>n.set(r)),n}static accessor(t){const n=(this[$internals]=this[$internals]={accessors:{}}).accessors,r=this.prototype;function o(a){const s=normalizeHeader(a);n[s]||(buildAccessors(r,a),n[s]=!0)}return utils$1.isArray(t)?t.forEach(o):o(t),this}}AxiosHeaders.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);utils$1.reduceDescriptors(AxiosHeaders.prototype,({value:e},t)=>{let i=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[i]=n}}});utils$1.freezeMethods(AxiosHeaders);const AxiosHeaders$1=AxiosHeaders;function transformData(e,t){const i=this||defaults$1,n=t||i,r=AxiosHeaders$1.from(n.headers);let o=n.data;return utils$1.forEach(e,function(s){o=s.call(i,o,r.normalize(),t?t.status:void 0)}),r.normalize(),o}function isCancel(e){return!!(e&&e.__CANCEL__)}function CanceledError(e,t,i){AxiosError.call(this,e??"canceled",AxiosError.ERR_CANCELED,t,i),this.name="CanceledError"}utils$1.inherits(CanceledError,AxiosError,{__CANCEL__:!0});function settle(e,t,i){const n=i.config.validateStatus;!i.status||!n||n(i.status)?e(i):t(new AxiosError("Request failed with status code "+i.status,[AxiosError.ERR_BAD_REQUEST,AxiosError.ERR_BAD_RESPONSE][Math.floor(i.status/100)-4],i.config,i.request,i))}const cookies=platform.hasStandardBrowserEnv?{write(e,t,i,n,r,o){const a=[e+"="+encodeURIComponent(t)];utils$1.isNumber(i)&&a.push("expires="+new Date(i).toGMTString()),utils$1.isString(n)&&a.push("path="+n),utils$1.isString(r)&&a.push("domain="+r),o===!0&&a.push("secure"),document.cookie=a.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function isAbsoluteURL(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function combineURLs(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}function buildFullPath(e,t){return e&&!isAbsoluteURL(t)?combineURLs(e,t):t}const isURLSameOrigin=platform.hasStandardBrowserEnv?function e(){const t=/(msie|trident)/i.test(navigator.userAgent),i=document.createElement("a");let n;function r(o){let a=o;return t&&(i.setAttribute("href",a),a=i.href),i.setAttribute("href",a),{href:i.href,protocol:i.protocol?i.protocol.replace(/:$/,""):"",host:i.host,search:i.search?i.search.replace(/^\?/,""):"",hash:i.hash?i.hash.replace(/^#/,""):"",hostname:i.hostname,port:i.port,pathname:i.pathname.charAt(0)==="/"?i.pathname:"/"+i.pathname}}return n=r(window.location.href),function(a){const s=utils$1.isString(a)?r(a):a;return s.protocol===n.protocol&&s.host===n.host}}():function e(){return function(){return!0}}();function parseProtocol(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function speedometer(e,t){e=e||10;const i=new Array(e),n=new Array(e);let r=0,o=0,a;return t=t!==void 0?t:1e3,function(u){const l=Date.now(),c=n[o];a||(a=l),i[r]=u,n[r]=l;let d=o,m=0;for(;d!==r;)m+=i[d++],d=d%e;if(r=(r+1)%e,r===o&&(o=(o+1)%e),l-a<t)return;const E=c&&l-c;return E?Math.round(m*1e3/E):void 0}}function progressEventReducer(e,t){let i=0;const n=speedometer(50,250);return r=>{const o=r.loaded,a=r.lengthComputable?r.total:void 0,s=o-i,u=n(s),l=o<=a;i=o;const c={loaded:o,total:a,progress:a?o/a:void 0,bytes:s,rate:u||void 0,estimated:u&&a&&l?(a-o)/u:void 0,event:r};c[t?"download":"upload"]=!0,e(c)}}const isXHRAdapterSupported=typeof XMLHttpRequest<"u",xhrAdapter=isXHRAdapterSupported&&function(e){return new Promise(function(i,n){let r=e.data;const o=AxiosHeaders$1.from(e.headers).normalize();let{responseType:a,withXSRFToken:s}=e,u;function l(){e.cancelToken&&e.cancelToken.unsubscribe(u),e.signal&&e.signal.removeEventListener("abort",u)}let c;if(utils$1.isFormData(r)){if(platform.hasStandardBrowserEnv||platform.hasStandardBrowserWebWorkerEnv)o.setContentType(!1);else if((c=o.getContentType())!==!1){const[O,...g]=c?c.split(";").map(h=>h.trim()).filter(Boolean):[];o.setContentType([O||"multipart/form-data",...g].join("; "))}}let d=new XMLHttpRequest;if(e.auth){const O=e.auth.username||"",g=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";o.set("Authorization","Basic "+btoa(O+":"+g))}const m=buildFullPath(e.baseURL,e.url);d.open(e.method.toUpperCase(),buildURL(m,e.params,e.paramsSerializer),!0),d.timeout=e.timeout;function E(){if(!d)return;const O=AxiosHeaders$1.from("getAllResponseHeaders"in d&&d.getAllResponseHeaders()),h={data:!a||a==="text"||a==="json"?d.responseText:d.response,status:d.status,statusText:d.statusText,headers:O,config:e,request:d};settle(function(T){i(T),l()},function(T){n(T),l()},h),d=null}if("onloadend"in d?d.onloadend=E:d.onreadystatechange=function(){!d||d.readyState!==4||d.status===0&&!(d.responseURL&&d.responseURL.indexOf("file:")===0)||setTimeout(E)},d.onabort=function(){d&&(n(new AxiosError("Request aborted",AxiosError.ECONNABORTED,e,d)),d=null)},d.onerror=function(){n(new AxiosError("Network Error",AxiosError.ERR_NETWORK,e,d)),d=null},d.ontimeout=function(){let g=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded";const h=e.transitional||transitionalDefaults;e.timeoutErrorMessage&&(g=e.timeoutErrorMessage),n(new AxiosError(g,h.clarifyTimeoutError?AxiosError.ETIMEDOUT:AxiosError.ECONNABORTED,e,d)),d=null},platform.hasStandardBrowserEnv&&(s&&utils$1.isFunction(s)&&(s=s(e)),s||s!==!1&&isURLSameOrigin(m))){const O=e.xsrfHeaderName&&e.xsrfCookieName&&cookies.read(e.xsrfCookieName);O&&o.set(e.xsrfHeaderName,O)}r===void 0&&o.setContentType(null),"setRequestHeader"in d&&utils$1.forEach(o.toJSON(),function(g,h){d.setRequestHeader(h,g)}),utils$1.isUndefined(e.withCredentials)||(d.withCredentials=!!e.withCredentials),a&&a!=="json"&&(d.responseType=e.responseType),typeof e.onDownloadProgress=="function"&&d.addEventListener("progress",progressEventReducer(e.onDownloadProgress,!0)),typeof e.onUploadProgress=="function"&&d.upload&&d.upload.addEventListener("progress",progressEventReducer(e.onUploadProgress)),(e.cancelToken||e.signal)&&(u=O=>{d&&(n(!O||O.type?new CanceledError(null,e,d):O),d.abort(),d=null)},e.cancelToken&&e.cancelToken.subscribe(u),e.signal&&(e.signal.aborted?u():e.signal.addEventListener("abort",u)));const y=parseProtocol(m);if(y&&platform.protocols.indexOf(y)===-1){n(new AxiosError("Unsupported protocol "+y+":",AxiosError.ERR_BAD_REQUEST,e));return}d.send(r||null)})},knownAdapters={http:httpAdapter,xhr:xhrAdapter};utils$1.forEach(knownAdapters,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const renderReason=e=>`- ${e}`,isResolvedHandle=e=>utils$1.isFunction(e)||e===null||e===!1,adapters={getAdapter:e=>{e=utils$1.isArray(e)?e:[e];const{length:t}=e;let i,n;const r={};for(let o=0;o<t;o++){i=e[o];let a;if(n=i,!isResolvedHandle(i)&&(n=knownAdapters[(a=String(i)).toLowerCase()],n===void 0))throw new AxiosError(`Unknown adapter '${a}'`);if(n)break;r[a||"#"+o]=n}if(!n){const o=Object.entries(r).map(([s,u])=>`adapter ${s} `+(u===!1?"is not supported by the environment":"is not available in the build"));let a=t?o.length>1?`since :
`+o.map(renderReason).join(`
`):" "+renderReason(o[0]):"as no adapter specified";throw new AxiosError("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return n},adapters:knownAdapters};function throwIfCancellationRequested(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new CanceledError(null,e)}function dispatchRequest(e){return throwIfCancellationRequested(e),e.headers=AxiosHeaders$1.from(e.headers),e.data=transformData.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),adapters.getAdapter(e.adapter||defaults$1.adapter)(e).then(function(n){return throwIfCancellationRequested(e),n.data=transformData.call(e,e.transformResponse,n),n.headers=AxiosHeaders$1.from(n.headers),n},function(n){return isCancel(n)||(throwIfCancellationRequested(e),n&&n.response&&(n.response.data=transformData.call(e,e.transformResponse,n.response),n.response.headers=AxiosHeaders$1.from(n.response.headers))),Promise.reject(n)})}const headersToObject=e=>e instanceof AxiosHeaders$1?e.toJSON():e;function mergeConfig(e,t){t=t||{};const i={};function n(l,c,d){return utils$1.isPlainObject(l)&&utils$1.isPlainObject(c)?utils$1.merge.call({caseless:d},l,c):utils$1.isPlainObject(c)?utils$1.merge({},c):utils$1.isArray(c)?c.slice():c}function r(l,c,d){if(utils$1.isUndefined(c)){if(!utils$1.isUndefined(l))return n(void 0,l,d)}else return n(l,c,d)}function o(l,c){if(!utils$1.isUndefined(c))return n(void 0,c)}function a(l,c){if(utils$1.isUndefined(c)){if(!utils$1.isUndefined(l))return n(void 0,l)}else return n(void 0,c)}function s(l,c,d){if(d in t)return n(l,c);if(d in e)return n(void 0,l)}const u={url:o,method:o,data:o,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:s,headers:(l,c)=>r(headersToObject(l),headersToObject(c),!0)};return utils$1.forEach(Object.keys(Object.assign({},e,t)),function(c){const d=u[c]||r,m=d(e[c],t[c],c);utils$1.isUndefined(m)&&d!==s||(i[c]=m)}),i}const VERSION="1.6.2",validators$1={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{validators$1[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const deprecatedWarnings={};validators$1.transitional=function e(t,i,n){function r(o,a){return"[Axios v"+VERSION+"] Transitional option '"+o+"'"+a+(n?". "+n:"")}return(o,a,s)=>{if(t===!1)throw new AxiosError(r(a," has been removed"+(i?" in "+i:"")),AxiosError.ERR_DEPRECATED);return i&&!deprecatedWarnings[a]&&(deprecatedWarnings[a]=!0,console.warn(r(a," has been deprecated since v"+i+" and will be removed in the near future"))),t?t(o,a,s):!0}};function assertOptions(e,t,i){if(typeof e!="object")throw new AxiosError("options must be an object",AxiosError.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let r=n.length;for(;r-- >0;){const o=n[r],a=t[o];if(a){const s=e[o],u=s===void 0||a(s,o,e);if(u!==!0)throw new AxiosError("option "+o+" must be "+u,AxiosError.ERR_BAD_OPTION_VALUE);continue}if(i!==!0)throw new AxiosError("Unknown option "+o,AxiosError.ERR_BAD_OPTION)}}const validator={assertOptions,validators:validators$1},validators=validator.validators;class Axios{constructor(t){this.defaults=t,this.interceptors={request:new InterceptorManager$1,response:new InterceptorManager$1}}request(t,i){typeof t=="string"?(i=i||{},i.url=t):i=t||{},i=mergeConfig(this.defaults,i);const{transitional:n,paramsSerializer:r,headers:o}=i;n!==void 0&&validator.assertOptions(n,{silentJSONParsing:validators.transitional(validators.boolean),forcedJSONParsing:validators.transitional(validators.boolean),clarifyTimeoutError:validators.transitional(validators.boolean)},!1),r!=null&&(utils$1.isFunction(r)?i.paramsSerializer={serialize:r}:validator.assertOptions(r,{encode:validators.function,serialize:validators.function},!0)),i.method=(i.method||this.defaults.method||"get").toLowerCase();let a=o&&utils$1.merge(o.common,o[i.method]);o&&utils$1.forEach(["delete","get","head","post","put","patch","common"],y=>{delete o[y]}),i.headers=AxiosHeaders$1.concat(a,o);const s=[];let u=!0;this.interceptors.request.forEach(function(O){typeof O.runWhen=="function"&&O.runWhen(i)===!1||(u=u&&O.synchronous,s.unshift(O.fulfilled,O.rejected))});const l=[];this.interceptors.response.forEach(function(O){l.push(O.fulfilled,O.rejected)});let c,d=0,m;if(!u){const y=[dispatchRequest.bind(this),void 0];for(y.unshift.apply(y,s),y.push.apply(y,l),m=y.length,c=Promise.resolve(i);d<m;)c=c.then(y[d++],y[d++]);return c}m=s.length;let E=i;for(d=0;d<m;){const y=s[d++],O=s[d++];try{E=y(E)}catch(g){O.call(this,g);break}}try{c=dispatchRequest.call(this,E)}catch(y){return Promise.reject(y)}for(d=0,m=l.length;d<m;)c=c.then(l[d++],l[d++]);return c}getUri(t){t=mergeConfig(this.defaults,t);const i=buildFullPath(t.baseURL,t.url);return buildURL(i,t.params,t.paramsSerializer)}}utils$1.forEach(["delete","get","head","options"],function e(t){Axios.prototype[t]=function(i,n){return this.request(mergeConfig(n||{},{method:t,url:i,data:(n||{}).data}))}});utils$1.forEach(["post","put","patch"],function e(t){function i(n){return function(o,a,s){return this.request(mergeConfig(s||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:o,data:a}))}}Axios.prototype[t]=i(),Axios.prototype[t+"Form"]=i(!0)});const Axios$1=Axios;class CancelToken{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let i;this.promise=new Promise(function(o){i=o});const n=this;this.promise.then(r=>{if(!n._listeners)return;let o=n._listeners.length;for(;o-- >0;)n._listeners[o](r);n._listeners=null}),this.promise.then=r=>{let o;const a=new Promise(s=>{n.subscribe(s),o=s}).then(r);return a.cancel=function(){n.unsubscribe(o)},a},t(function(o,a,s){n.reason||(n.reason=new CanceledError(o,a,s),i(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const i=this._listeners.indexOf(t);i!==-1&&this._listeners.splice(i,1)}static source(){let t;return{token:new CancelToken(function(r){t=r}),cancel:t}}}const CancelToken$1=CancelToken;function spread(e){return function(i){return e.apply(null,i)}}function isAxiosError(e){return utils$1.isObject(e)&&e.isAxiosError===!0}const HttpStatusCode={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(HttpStatusCode).forEach(([e,t])=>{HttpStatusCode[t]=e});const HttpStatusCode$1=HttpStatusCode;function createInstance(e){const t=new Axios$1(e),i=bind(Axios$1.prototype.request,t);return utils$1.extend(i,Axios$1.prototype,t,{allOwnKeys:!0}),utils$1.extend(i,t,null,{allOwnKeys:!0}),i.create=function(r){return createInstance(mergeConfig(e,r))},i}const axios=createInstance(defaults$1);axios.Axios=Axios$1;axios.CanceledError=CanceledError;axios.CancelToken=CancelToken$1;axios.isCancel=isCancel;axios.VERSION=VERSION;axios.toFormData=toFormData;axios.AxiosError=AxiosError;axios.Cancel=axios.CanceledError;axios.all=function e(t){return Promise.all(t)};axios.spread=spread;axios.isAxiosError=isAxiosError;axios.mergeConfig=mergeConfig;axios.AxiosHeaders=AxiosHeaders$1;axios.formToJSON=e=>formDataToJSON(utils$1.isHTMLForm(e)?new FormData(e):e);axios.getAdapter=adapters.getAdapter;axios.HttpStatusCode=HttpStatusCode$1;axios.default=axios;const axios$1=axios;var mapObj$1={exports:{}};const isObject$1=e=>typeof e=="object"&&e!==null,mapObjectSkip=Symbol("skip"),isObjectCustom=e=>isObject$1(e)&&!(e instanceof RegExp)&&!(e instanceof Error)&&!(e instanceof Date),mapObject=(e,t,i,n=new WeakMap)=>{if(i={deep:!1,target:{},...i},n.has(e))return n.get(e);n.set(e,i.target);const{target:r}=i;delete i.target;const o=a=>a.map(s=>isObjectCustom(s)?mapObject(s,t,i,n):s);if(Array.isArray(e))return o(e);for(const[a,s]of Object.entries(e)){const u=t(a,s,e);if(u===mapObjectSkip)continue;let[l,c,{shouldRecurse:d=!0}={}]=u;l!=="__proto__"&&(i.deep&&d&&isObjectCustom(c)&&(c=Array.isArray(c)?o(c):mapObject(c,t,i,n)),r[l]=c)}return r};mapObj$1.exports=(e,t,i)=>{if(!isObject$1(e))throw new TypeError(`Expected an object, got \`${e}\` (${typeof e})`);return mapObject(e,t,i)};mapObj$1.exports.mapObjectSkip=mapObjectSkip;var mapObjExports=mapObj$1.exports,camelcase={exports:{}};const UPPERCASE=/[\p{Lu}]/u,LOWERCASE=/[\p{Ll}]/u,LEADING_CAPITAL=/^[\p{Lu}](?![\p{Lu}])/gu,IDENTIFIER=/([\p{Alpha}\p{N}_]|$)/u,SEPARATORS=/[_.\- ]+/,LEADING_SEPARATORS=new RegExp("^"+SEPARATORS.source),SEPARATORS_AND_IDENTIFIER=new RegExp(SEPARATORS.source+IDENTIFIER.source,"gu"),NUMBERS_AND_IDENTIFIER=new RegExp("\\d+"+IDENTIFIER.source,"gu"),preserveCamelCase=(e,t,i)=>{let n=!1,r=!1,o=!1;for(let a=0;a<e.length;a++){const s=e[a];n&&UPPERCASE.test(s)?(e=e.slice(0,a)+"-"+e.slice(a),n=!1,o=r,r=!0,a++):r&&o&&LOWERCASE.test(s)?(e=e.slice(0,a-1)+"-"+e.slice(a-1),o=r,r=!1,n=!0):(n=t(s)===s&&i(s)!==s,o=r,r=i(s)===s&&t(s)!==s)}return e},preserveConsecutiveUppercase=(e,t)=>(LEADING_CAPITAL.lastIndex=0,e.replace(LEADING_CAPITAL,i=>t(i))),postProcess=(e,t)=>(SEPARATORS_AND_IDENTIFIER.lastIndex=0,NUMBERS_AND_IDENTIFIER.lastIndex=0,e.replace(SEPARATORS_AND_IDENTIFIER,(i,n)=>t(n)).replace(NUMBERS_AND_IDENTIFIER,i=>t(i))),camelCase$1=(e,t)=>{if(!(typeof e=="string"||Array.isArray(e)))throw new TypeError("Expected the input to be `string | string[]`");if(t={pascalCase:!1,preserveConsecutiveUppercase:!1,...t},Array.isArray(e)?e=e.map(o=>o.trim()).filter(o=>o.length).join("-"):e=e.trim(),e.length===0)return"";const i=t.locale===!1?o=>o.toLowerCase():o=>o.toLocaleLowerCase(t.locale),n=t.locale===!1?o=>o.toUpperCase():o=>o.toLocaleUpperCase(t.locale);return e.length===1?t.pascalCase?n(e):i(e):(e!==i(e)&&(e=preserveCamelCase(e,i,n)),e=e.replace(LEADING_SEPARATORS,""),t.preserveConsecutiveUppercase?e=preserveConsecutiveUppercase(e,i):e=i(e),t.pascalCase&&(e=n(e.charAt(0))+e.slice(1)),postProcess(e,n))};camelcase.exports=camelCase$1;camelcase.exports.default=camelCase$1;var camelcaseExports=camelcase.exports;class QuickLRU{constructor(t={}){if(!(t.maxSize&&t.maxSize>0))throw new TypeError("`maxSize` must be a number greater than 0");this.maxSize=t.maxSize,this.onEviction=t.onEviction,this.cache=new Map,this.oldCache=new Map,this._size=0}_set(t,i){if(this.cache.set(t,i),this._size++,this._size>=this.maxSize){if(this._size=0,typeof this.onEviction=="function")for(const[n,r]of this.oldCache.entries())this.onEviction(n,r);this.oldCache=this.cache,this.cache=new Map}}get(t){if(this.cache.has(t))return this.cache.get(t);if(this.oldCache.has(t)){const i=this.oldCache.get(t);return this.oldCache.delete(t),this._set(t,i),i}}set(t,i){return this.cache.has(t)?this.cache.set(t,i):this._set(t,i),this}has(t){return this.cache.has(t)||this.oldCache.has(t)}peek(t){if(this.cache.has(t))return this.cache.get(t);if(this.oldCache.has(t))return this.oldCache.get(t)}delete(t){const i=this.cache.delete(t);return i&&this._size--,this.oldCache.delete(t)||i}clear(){this.cache.clear(),this.oldCache.clear(),this._size=0}*keys(){for(const[t]of this)yield t}*values(){for(const[,t]of this)yield t}*[Symbol.iterator](){for(const t of this.cache)yield t;for(const t of this.oldCache){const[i]=t;this.cache.has(i)||(yield t)}}get size(){let t=0;for(const i of this.oldCache.keys())this.cache.has(i)||t++;return Math.min(this._size+t,this.maxSize)}}var quickLru=QuickLRU;const mapObj=mapObjExports,camelCase=camelcaseExports,QuickLru=quickLru,has=(e,t)=>e.some(i=>typeof i=="string"?i===t:(i.lastIndex=0,i.test(t))),cache=new QuickLru({maxSize:1e5}),isObject=e=>typeof e=="object"&&e!==null&&!(e instanceof RegExp)&&!(e instanceof Error)&&!(e instanceof Date),camelCaseConvert=(e,t)=>{if(!isObject(e))return e;t={deep:!1,pascalCase:!1,...t};const{exclude:i,pascalCase:n,stopPaths:r,deep:o}=t,a=new Set(r),s=u=>(l,c)=>{if(o&&isObject(c)){const d=u===void 0?l:`${u}.${l}`;a.has(d)||(c=mapObj(c,s(d)))}if(!(i&&has(i,l))){const d=n?`${l}_`:l;if(cache.has(d))l=cache.get(d);else{const m=camelCase(l,{pascalCase:n,locale:!1});l.length<100&&cache.set(d,m),l=m}}return[l,c]};return mapObj(e,s(void 0))};var camelcaseKeys=(e,t)=>Array.isArray(e)?Object.keys(e).map(i=>camelCaseConvert(e[i],t)):camelCaseConvert(e,t);const camelcaseKeys$1=getDefaultExportFromCjs(camelcaseKeys),defaultPrefix="/twirp",livekitPackage="livekit";class TwirpRpc{constructor(t,i,n){t.startsWith("ws")&&(t=t.replace("ws","http")),this.host=t,this.pkg=i,this.prefix=n||defaultPrefix,this.instance=axios$1.create({baseURL:t})}request(t,i,n,r){return new Promise((o,a)=>{const s=`${this.prefix}/${this.pkg}.${t}/${i}`;Promise.resolve(r).then(u=>{this.instance.post(s,n,{headers:u}).then(l=>{o(camelcaseKeys$1(l.data,{deep:!0}))}).catch(a)})})}}const svc$1="Egress";class EgressClient extends ServiceBase{constructor(t,i,n){super(i,n),this.rpc=new TwirpRpc(t,livekitPackage)}async startRoomCompositeEgress(t,i,n,r,o,a,s){let u;if(n!==void 0)if(typeof n=="string")u=n;else{const T=n;u=T.layout,r=T.encodingOptions,o=T.audioOnly,a=T.videoOnly,s=T.customBaseUrl}u??(u=""),o??(o=!1),a??(a=!1),s??(s="");const{file:l,stream:c,segments:d,preset:m,advanced:E,fileOutputs:y,streamOutputs:O,segmentOutputs:g}=this.getOutputParams(i,r),h=RoomCompositeEgressRequest.toJSON({roomName:t,layout:u,audioOnly:o,videoOnly:a,customBaseUrl:s,file:l,stream:c,segments:d,preset:m,advanced:E,fileOutputs:y,streamOutputs:O,segmentOutputs:g}),v=await this.rpc.request(svc$1,"StartRoomCompositeEgress",h,this.authHeader({roomRecord:!0}));return EgressInfo.fromJSON(v)}async startWebEgress(t,i,n){const r=(n==null?void 0:n.audioOnly)||!1,o=(n==null?void 0:n.videoOnly)||!1,a=(n==null?void 0:n.awaitStartSignal)||!1,{file:s,stream:u,segments:l,preset:c,advanced:d,fileOutputs:m,streamOutputs:E,segmentOutputs:y}=this.getOutputParams(i,n==null?void 0:n.encodingOptions),O=WebEgressRequest.toJSON({url:t,audioOnly:r,videoOnly:o,awaitStartSignal:a,file:s,stream:u,segments:l,preset:c,advanced:d,fileOutputs:m,streamOutputs:E,segmentOutputs:y}),g=await this.rpc.request(svc$1,"StartWebEgress",O,this.authHeader({roomRecord:!0}));return EgressInfo.fromJSON(g)}async startParticipantEgress(t,i,n,r){const{preset:o,advanced:a,fileOutputs:s,streamOutputs:u,segmentOutputs:l}=this.getOutputParams(n,r==null?void 0:r.encodingOptions),c=ParticipantEgressRequest.toJSON({roomName:t,identity:i,preset:o,advanced:a,fileOutputs:s,streamOutputs:u,segmentOutputs:l}),d=await this.rpc.request(svc$1,"StartParticipantEgress",c,this.authHeader({roomRecord:!0}));return EgressInfo.fromJSON(d)}async startTrackCompositeEgress(t,i,n,r,o){let a;if(n!==void 0)if(typeof n=="string")a=n;else{const h=n;a=h.audioTrackId,r=h.videoTrackId,o=h.encodingOptions}a??(a=""),r??(r="");const{file:s,stream:u,segments:l,preset:c,advanced:d,fileOutputs:m,streamOutputs:E,segmentOutputs:y}=this.getOutputParams(i,o),O=TrackCompositeEgressRequest.toJSON({roomName:t,audioTrackId:a,videoTrackId:r,file:s,stream:u,segments:l,preset:c,advanced:d,fileOutputs:m,streamOutputs:E,segmentOutputs:y}),g=await this.rpc.request(svc$1,"StartTrackCompositeEgress",O,this.authHeader({roomRecord:!0}));return EgressInfo.fromJSON(g)}isEncodedOutputs(t){return t.file!==void 0||t.stream!==void 0||t.segments!==void 0}isEncodedFileOutput(t){return t.filepath!==void 0||t.fileType!==void 0}isSegmentedFileOutput(t){return t.filenamePrefix!==void 0||t.playlistName!==void 0||t.filenameSuffix!==void 0}isStreamOutput(t){return t.protocol!==void 0||t.urls!==void 0}getOutputParams(t,i){let n,r,o,a,s,u,l,c;return this.isEncodedOutputs(t)?(t.file!==void 0&&(r=[t.file]),t.stream!==void 0&&(a=[t.stream]),t.segments!==void 0&&(u=[t.segments])):this.isEncodedFileOutput(t)?(n=t,r=[n]):this.isSegmentedFileOutput(t)?(s=t,u=[s]):this.isStreamOutput(t)&&(o=t,a=[o]),i&&(typeof i=="number"?l=i:c=i),{file:n,stream:o,segments:s,preset:l,advanced:c,fileOutputs:r,streamOutputs:a,segmentOutputs:u}}async startTrackEgress(t,i,n){let r,o;typeof i=="string"?o=i:r=i;const a=TrackEgressRequest.toJSON({roomName:t,trackId:n,file:r,websocketUrl:o}),s=await this.rpc.request(svc$1,"StartTrackEgress",a,this.authHeader({roomRecord:!0}));return EgressInfo.fromJSON(s)}async updateLayout(t,i){const n=await this.rpc.request(svc$1,"UpdateLayout",UpdateLayoutRequest.toJSON({egressId:t,layout:i}),this.authHeader({roomRecord:!0}));return EgressInfo.fromJSON(n)}async updateStream(t,i,n){i??(i=[]),n??(n=[]);const r=await this.rpc.request(svc$1,"UpdateStream",UpdateStreamRequest.toJSON({egressId:t,addOutputUrls:i,removeOutputUrls:n}),this.authHeader({roomRecord:!0}));return EgressInfo.fromJSON(r)}async listEgress(t){var i;let n={};typeof t=="string"?n.roomName=t:t!==void 0&&(n=t);const r=await this.rpc.request(svc$1,"ListEgress",ListEgressRequest.toJSON(n),this.authHeader({roomRecord:!0}));return(i=ListEgressResponse.fromJSON(r).items)!==null&&i!==void 0?i:[]}async stopEgress(t){const i=await this.rpc.request(svc$1,"StopEgress",StopEgressRequest.toJSON({egressId:t}),this.authHeader({roomRecord:!0}));return EgressInfo.fromJSON(i)}}var IngressInput;(function(e){e[e.RTMP_INPUT=0]="RTMP_INPUT",e[e.WHIP_INPUT=1]="WHIP_INPUT",e[e.URL_INPUT=2]="URL_INPUT",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"})(IngressInput||(IngressInput={}));var IngressAudioEncodingPreset;(function(e){e[e.OPUS_STEREO_96KBPS=0]="OPUS_STEREO_96KBPS",e[e.OPUS_MONO_64KBS=1]="OPUS_MONO_64KBS",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"})(IngressAudioEncodingPreset||(IngressAudioEncodingPreset={}));var IngressVideoEncodingPreset;(function(e){e[e.H264_720P_30FPS_3_LAYERS=0]="H264_720P_30FPS_3_LAYERS",e[e.H264_1080P_30FPS_3_LAYERS=1]="H264_1080P_30FPS_3_LAYERS",e[e.H264_540P_25FPS_2_LAYERS=2]="H264_540P_25FPS_2_LAYERS",e[e.H264_720P_30FPS_1_LAYER=3]="H264_720P_30FPS_1_LAYER",e[e.H264_1080P_30FPS_1_LAYER=4]="H264_1080P_30FPS_1_LAYER",e[e.H264_720P_30FPS_3_LAYERS_HIGH_MOTION=5]="H264_720P_30FPS_3_LAYERS_HIGH_MOTION",e[e.H264_1080P_30FPS_3_LAYERS_HIGH_MOTION=6]="H264_1080P_30FPS_3_LAYERS_HIGH_MOTION",e[e.H264_540P_25FPS_2_LAYERS_HIGH_MOTION=7]="H264_540P_25FPS_2_LAYERS_HIGH_MOTION",e[e.H264_720P_30FPS_1_LAYER_HIGH_MOTION=8]="H264_720P_30FPS_1_LAYER_HIGH_MOTION",e[e.H264_1080P_30FPS_1_LAYER_HIGH_MOTION=9]="H264_1080P_30FPS_1_LAYER_HIGH_MOTION",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"})(IngressVideoEncodingPreset||(IngressVideoEncodingPreset={}));var IngressState_Status;(function(e){e[e.ENDPOINT_INACTIVE=0]="ENDPOINT_INACTIVE",e[e.ENDPOINT_BUFFERING=1]="ENDPOINT_BUFFERING",e[e.ENDPOINT_PUBLISHING=2]="ENDPOINT_PUBLISHING",e[e.ENDPOINT_ERROR=3]="ENDPOINT_ERROR",e[e.ENDPOINT_COMPLETE=4]="ENDPOINT_COMPLETE",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"})(IngressState_Status||(IngressState_Status={}));_m0.util.Long!==Long&&(_m0.util.Long=Long,_m0.configure());function createBaseCreateRoomRequest(){return{name:"",emptyTimeout:0,maxParticipants:0,nodeId:"",metadata:"",egress:void 0,minPlayoutDelay:0,maxPlayoutDelay:0,syncStreams:!1}}const CreateRoomRequest={encode(e,t=_m0.Writer.create()){return e.name!==void 0&&e.name!==""&&t.uint32(10).string(e.name),e.emptyTimeout!==void 0&&e.emptyTimeout!==0&&t.uint32(16).uint32(e.emptyTimeout),e.maxParticipants!==void 0&&e.maxParticipants!==0&&t.uint32(24).uint32(e.maxParticipants),e.nodeId!==void 0&&e.nodeId!==""&&t.uint32(34).string(e.nodeId),e.metadata!==void 0&&e.metadata!==""&&t.uint32(42).string(e.metadata),e.egress!==void 0&&RoomEgress.encode(e.egress,t.uint32(50).fork()).ldelim(),e.minPlayoutDelay!==void 0&&e.minPlayoutDelay!==0&&t.uint32(56).uint32(e.minPlayoutDelay),e.maxPlayoutDelay!==void 0&&e.maxPlayoutDelay!==0&&t.uint32(64).uint32(e.maxPlayoutDelay),e.syncStreams===!0&&t.uint32(72).bool(e.syncStreams),t},decode(e,t){const i=e instanceof _m0.Reader?e:_m0.Reader.create(e);let n=t===void 0?i.len:i.pos+t;const r=createBaseCreateRoomRequest();for(;i.pos<n;){const o=i.uint32();switch(o>>>3){case 1:if(o!==10)break;r.name=i.string();continue;case 2:if(o!==16)break;r.emptyTimeout=i.uint32();continue;case 3:if(o!==24)break;r.maxParticipants=i.uint32();continue;case 4:if(o!==34)break;r.nodeId=i.string();continue;case 5:if(o!==42)break;r.metadata=i.string();continue;case 6:if(o!==50)break;r.egress=RoomEgress.decode(i,i.uint32());continue;case 7:if(o!==56)break;r.minPlayoutDelay=i.uint32();continue;case 8:if(o!==64)break;r.maxPlayoutDelay=i.uint32();continue;case 9:if(o!==72)break;r.syncStreams=i.bool();continue}if((o&7)===4||o===0)break;i.skipType(o&7)}return r},fromJSON(e){return{name:isSet(e.name)?globalThis.String(e.name):"",emptyTimeout:isSet(e.emptyTimeout)?globalThis.Number(e.emptyTimeout):0,maxParticipants:isSet(e.maxParticipants)?globalThis.Number(e.maxParticipants):0,nodeId:isSet(e.nodeId)?globalThis.String(e.nodeId):"",metadata:isSet(e.metadata)?globalThis.String(e.metadata):"",egress:isSet(e.egress)?RoomEgress.fromJSON(e.egress):void 0,minPlayoutDelay:isSet(e.minPlayoutDelay)?globalThis.Number(e.minPlayoutDelay):0,maxPlayoutDelay:isSet(e.maxPlayoutDelay)?globalThis.Number(e.maxPlayoutDelay):0,syncStreams:isSet(e.syncStreams)?globalThis.Boolean(e.syncStreams):!1}},toJSON(e){const t={};return e.name!==void 0&&e.name!==""&&(t.name=e.name),e.emptyTimeout!==void 0&&e.emptyTimeout!==0&&(t.emptyTimeout=Math.round(e.emptyTimeout)),e.maxParticipants!==void 0&&e.maxParticipants!==0&&(t.maxParticipants=Math.round(e.maxParticipants)),e.nodeId!==void 0&&e.nodeId!==""&&(t.nodeId=e.nodeId),e.metadata!==void 0&&e.metadata!==""&&(t.metadata=e.metadata),e.egress!==void 0&&(t.egress=RoomEgress.toJSON(e.egress)),e.minPlayoutDelay!==void 0&&e.minPlayoutDelay!==0&&(t.minPlayoutDelay=Math.round(e.minPlayoutDelay)),e.maxPlayoutDelay!==void 0&&e.maxPlayoutDelay!==0&&(t.maxPlayoutDelay=Math.round(e.maxPlayoutDelay)),e.syncStreams===!0&&(t.syncStreams=e.syncStreams),t},create(e){return CreateRoomRequest.fromPartial(e??{})},fromPartial(e){var t,i,n,r,o,a,s,u;const l=createBaseCreateRoomRequest();return l.name=(t=e.name)!==null&&t!==void 0?t:"",l.emptyTimeout=(i=e.emptyTimeout)!==null&&i!==void 0?i:0,l.maxParticipants=(n=e.maxParticipants)!==null&&n!==void 0?n:0,l.nodeId=(r=e.nodeId)!==null&&r!==void 0?r:"",l.metadata=(o=e.metadata)!==null&&o!==void 0?o:"",l.egress=e.egress!==void 0&&e.egress!==null?RoomEgress.fromPartial(e.egress):void 0,l.minPlayoutDelay=(a=e.minPlayoutDelay)!==null&&a!==void 0?a:0,l.maxPlayoutDelay=(s=e.maxPlayoutDelay)!==null&&s!==void 0?s:0,l.syncStreams=(u=e.syncStreams)!==null&&u!==void 0?u:!1,l}};function createBaseRoomEgress(){return{room:void 0,participant:void 0,tracks:void 0}}const RoomEgress={encode(e,t=_m0.Writer.create()){return e.room!==void 0&&RoomCompositeEgressRequest.encode(e.room,t.uint32(10).fork()).ldelim(),e.participant!==void 0&&AutoParticipantEgress.encode(e.participant,t.uint32(26).fork()).ldelim(),e.tracks!==void 0&&AutoTrackEgress.encode(e.tracks,t.uint32(18).fork()).ldelim(),t},decode(e,t){const i=e instanceof _m0.Reader?e:_m0.Reader.create(e);let n=t===void 0?i.len:i.pos+t;const r=createBaseRoomEgress();for(;i.pos<n;){const o=i.uint32();switch(o>>>3){case 1:if(o!==10)break;r.room=RoomCompositeEgressRequest.decode(i,i.uint32());continue;case 3:if(o!==26)break;r.participant=AutoParticipantEgress.decode(i,i.uint32());continue;case 2:if(o!==18)break;r.tracks=AutoTrackEgress.decode(i,i.uint32());continue}if((o&7)===4||o===0)break;i.skipType(o&7)}return r},fromJSON(e){return{room:isSet(e.room)?RoomCompositeEgressRequest.fromJSON(e.room):void 0,participant:isSet(e.participant)?AutoParticipantEgress.fromJSON(e.participant):void 0,tracks:isSet(e.tracks)?AutoTrackEgress.fromJSON(e.tracks):void 0}},toJSON(e){const t={};return e.room!==void 0&&(t.room=RoomCompositeEgressRequest.toJSON(e.room)),e.participant!==void 0&&(t.participant=AutoParticipantEgress.toJSON(e.participant)),e.tracks!==void 0&&(t.tracks=AutoTrackEgress.toJSON(e.tracks)),t},create(e){return RoomEgress.fromPartial(e??{})},fromPartial(e){const t=createBaseRoomEgress();return t.room=e.room!==void 0&&e.room!==null?RoomCompositeEgressRequest.fromPartial(e.room):void 0,t.participant=e.participant!==void 0&&e.participant!==null?AutoParticipantEgress.fromPartial(e.participant):void 0,t.tracks=e.tracks!==void 0&&e.tracks!==null?AutoTrackEgress.fromPartial(e.tracks):void 0,t}};function createBaseListRoomsRequest(){return{names:[]}}const ListRoomsRequest={encode(e,t=_m0.Writer.create()){if(e.names!==void 0&&e.names.length!==0)for(const i of e.names)t.uint32(10).string(i);return t},decode(e,t){const i=e instanceof _m0.Reader?e:_m0.Reader.create(e);let n=t===void 0?i.len:i.pos+t;const r=createBaseListRoomsRequest();for(;i.pos<n;){const o=i.uint32();switch(o>>>3){case 1:if(o!==10)break;r.names.push(i.string());continue}if((o&7)===4||o===0)break;i.skipType(o&7)}return r},fromJSON(e){return{names:globalThis.Array.isArray(e==null?void 0:e.names)?e.names.map(t=>globalThis.String(t)):[]}},toJSON(e){var t;const i={};return!((t=e.names)===null||t===void 0)&&t.length&&(i.names=e.names),i},create(e){return ListRoomsRequest.fromPartial(e??{})},fromPartial(e){var t;const i=createBaseListRoomsRequest();return i.names=((t=e.names)===null||t===void 0?void 0:t.map(n=>n))||[],i}};function createBaseListRoomsResponse(){return{rooms:[]}}const ListRoomsResponse={encode(e,t=_m0.Writer.create()){if(e.rooms!==void 0&&e.rooms.length!==0)for(const i of e.rooms)Room.encode(i,t.uint32(10).fork()).ldelim();return t},decode(e,t){const i=e instanceof _m0.Reader?e:_m0.Reader.create(e);let n=t===void 0?i.len:i.pos+t;const r=createBaseListRoomsResponse();for(;i.pos<n;){const o=i.uint32();switch(o>>>3){case 1:if(o!==10)break;r.rooms.push(Room.decode(i,i.uint32()));continue}if((o&7)===4||o===0)break;i.skipType(o&7)}return r},fromJSON(e){return{rooms:globalThis.Array.isArray(e==null?void 0:e.rooms)?e.rooms.map(t=>Room.fromJSON(t)):[]}},toJSON(e){var t;const i={};return!((t=e.rooms)===null||t===void 0)&&t.length&&(i.rooms=e.rooms.map(n=>Room.toJSON(n))),i},create(e){return ListRoomsResponse.fromPartial(e??{})},fromPartial(e){var t;const i=createBaseListRoomsResponse();return i.rooms=((t=e.rooms)===null||t===void 0?void 0:t.map(n=>Room.fromPartial(n)))||[],i}};function createBaseDeleteRoomRequest(){return{room:""}}const DeleteRoomRequest={encode(e,t=_m0.Writer.create()){return e.room!==void 0&&e.room!==""&&t.uint32(10).string(e.room),t},decode(e,t){const i=e instanceof _m0.Reader?e:_m0.Reader.create(e);let n=t===void 0?i.len:i.pos+t;const r=createBaseDeleteRoomRequest();for(;i.pos<n;){const o=i.uint32();switch(o>>>3){case 1:if(o!==10)break;r.room=i.string();continue}if((o&7)===4||o===0)break;i.skipType(o&7)}return r},fromJSON(e){return{room:isSet(e.room)?globalThis.String(e.room):""}},toJSON(e){const t={};return e.room!==void 0&&e.room!==""&&(t.room=e.room),t},create(e){return DeleteRoomRequest.fromPartial(e??{})},fromPartial(e){var t;const i=createBaseDeleteRoomRequest();return i.room=(t=e.room)!==null&&t!==void 0?t:"",i}};function createBaseListParticipantsRequest(){return{room:""}}const ListParticipantsRequest={encode(e,t=_m0.Writer.create()){return e.room!==void 0&&e.room!==""&&t.uint32(10).string(e.room),t},decode(e,t){const i=e instanceof _m0.Reader?e:_m0.Reader.create(e);let n=t===void 0?i.len:i.pos+t;const r=createBaseListParticipantsRequest();for(;i.pos<n;){const o=i.uint32();switch(o>>>3){case 1:if(o!==10)break;r.room=i.string();continue}if((o&7)===4||o===0)break;i.skipType(o&7)}return r},fromJSON(e){return{room:isSet(e.room)?globalThis.String(e.room):""}},toJSON(e){const t={};return e.room!==void 0&&e.room!==""&&(t.room=e.room),t},create(e){return ListParticipantsRequest.fromPartial(e??{})},fromPartial(e){var t;const i=createBaseListParticipantsRequest();return i.room=(t=e.room)!==null&&t!==void 0?t:"",i}};function createBaseListParticipantsResponse(){return{participants:[]}}const ListParticipantsResponse={encode(e,t=_m0.Writer.create()){if(e.participants!==void 0&&e.participants.length!==0)for(const i of e.participants)ParticipantInfo.encode(i,t.uint32(10).fork()).ldelim();return t},decode(e,t){const i=e instanceof _m0.Reader?e:_m0.Reader.create(e);let n=t===void 0?i.len:i.pos+t;const r=createBaseListParticipantsResponse();for(;i.pos<n;){const o=i.uint32();switch(o>>>3){case 1:if(o!==10)break;r.participants.push(ParticipantInfo.decode(i,i.uint32()));continue}if((o&7)===4||o===0)break;i.skipType(o&7)}return r},fromJSON(e){return{participants:globalThis.Array.isArray(e==null?void 0:e.participants)?e.participants.map(t=>ParticipantInfo.fromJSON(t)):[]}},toJSON(e){var t;const i={};return!((t=e.participants)===null||t===void 0)&&t.length&&(i.participants=e.participants.map(n=>ParticipantInfo.toJSON(n))),i},create(e){return ListParticipantsResponse.fromPartial(e??{})},fromPartial(e){var t;const i=createBaseListParticipantsResponse();return i.participants=((t=e.participants)===null||t===void 0?void 0:t.map(n=>ParticipantInfo.fromPartial(n)))||[],i}};function createBaseRoomParticipantIdentity(){return{room:"",identity:""}}const RoomParticipantIdentity={encode(e,t=_m0.Writer.create()){return e.room!==void 0&&e.room!==""&&t.uint32(10).string(e.room),e.identity!==void 0&&e.identity!==""&&t.uint32(18).string(e.identity),t},decode(e,t){const i=e instanceof _m0.Reader?e:_m0.Reader.create(e);let n=t===void 0?i.len:i.pos+t;const r=createBaseRoomParticipantIdentity();for(;i.pos<n;){const o=i.uint32();switch(o>>>3){case 1:if(o!==10)break;r.room=i.string();continue;case 2:if(o!==18)break;r.identity=i.string();continue}if((o&7)===4||o===0)break;i.skipType(o&7)}return r},fromJSON(e){return{room:isSet(e.room)?globalThis.String(e.room):"",identity:isSet(e.identity)?globalThis.String(e.identity):""}},toJSON(e){const t={};return e.room!==void 0&&e.room!==""&&(t.room=e.room),e.identity!==void 0&&e.identity!==""&&(t.identity=e.identity),t},create(e){return RoomParticipantIdentity.fromPartial(e??{})},fromPartial(e){var t,i;const n=createBaseRoomParticipantIdentity();return n.room=(t=e.room)!==null&&t!==void 0?t:"",n.identity=(i=e.identity)!==null&&i!==void 0?i:"",n}};function createBaseMuteRoomTrackRequest(){return{room:"",identity:"",trackSid:"",muted:!1}}const MuteRoomTrackRequest={encode(e,t=_m0.Writer.create()){return e.room!==void 0&&e.room!==""&&t.uint32(10).string(e.room),e.identity!==void 0&&e.identity!==""&&t.uint32(18).string(e.identity),e.trackSid!==void 0&&e.trackSid!==""&&t.uint32(26).string(e.trackSid),e.muted===!0&&t.uint32(32).bool(e.muted),t},decode(e,t){const i=e instanceof _m0.Reader?e:_m0.Reader.create(e);let n=t===void 0?i.len:i.pos+t;const r=createBaseMuteRoomTrackRequest();for(;i.pos<n;){const o=i.uint32();switch(o>>>3){case 1:if(o!==10)break;r.room=i.string();continue;case 2:if(o!==18)break;r.identity=i.string();continue;case 3:if(o!==26)break;r.trackSid=i.string();continue;case 4:if(o!==32)break;r.muted=i.bool();continue}if((o&7)===4||o===0)break;i.skipType(o&7)}return r},fromJSON(e){return{room:isSet(e.room)?globalThis.String(e.room):"",identity:isSet(e.identity)?globalThis.String(e.identity):"",trackSid:isSet(e.trackSid)?globalThis.String(e.trackSid):"",muted:isSet(e.muted)?globalThis.Boolean(e.muted):!1}},toJSON(e){const t={};return e.room!==void 0&&e.room!==""&&(t.room=e.room),e.identity!==void 0&&e.identity!==""&&(t.identity=e.identity),e.trackSid!==void 0&&e.trackSid!==""&&(t.trackSid=e.trackSid),e.muted===!0&&(t.muted=e.muted),t},create(e){return MuteRoomTrackRequest.fromPartial(e??{})},fromPartial(e){var t,i,n,r;const o=createBaseMuteRoomTrackRequest();return o.room=(t=e.room)!==null&&t!==void 0?t:"",o.identity=(i=e.identity)!==null&&i!==void 0?i:"",o.trackSid=(n=e.trackSid)!==null&&n!==void 0?n:"",o.muted=(r=e.muted)!==null&&r!==void 0?r:!1,o}};function createBaseMuteRoomTrackResponse(){return{track:void 0}}const MuteRoomTrackResponse={encode(e,t=_m0.Writer.create()){return e.track!==void 0&&TrackInfo.encode(e.track,t.uint32(10).fork()).ldelim(),t},decode(e,t){const i=e instanceof _m0.Reader?e:_m0.Reader.create(e);let n=t===void 0?i.len:i.pos+t;const r=createBaseMuteRoomTrackResponse();for(;i.pos<n;){const o=i.uint32();switch(o>>>3){case 1:if(o!==10)break;r.track=TrackInfo.decode(i,i.uint32());continue}if((o&7)===4||o===0)break;i.skipType(o&7)}return r},fromJSON(e){return{track:isSet(e.track)?TrackInfo.fromJSON(e.track):void 0}},toJSON(e){const t={};return e.track!==void 0&&(t.track=TrackInfo.toJSON(e.track)),t},create(e){return MuteRoomTrackResponse.fromPartial(e??{})},fromPartial(e){const t=createBaseMuteRoomTrackResponse();return t.track=e.track!==void 0&&e.track!==null?TrackInfo.fromPartial(e.track):void 0,t}};function createBaseUpdateParticipantRequest(){return{room:"",identity:"",metadata:"",permission:void 0,name:""}}const UpdateParticipantRequest={encode(e,t=_m0.Writer.create()){return e.room!==void 0&&e.room!==""&&t.uint32(10).string(e.room),e.identity!==void 0&&e.identity!==""&&t.uint32(18).string(e.identity),e.metadata!==void 0&&e.metadata!==""&&t.uint32(26).string(e.metadata),e.permission!==void 0&&ParticipantPermission.encode(e.permission,t.uint32(34).fork()).ldelim(),e.name!==void 0&&e.name!==""&&t.uint32(42).string(e.name),t},decode(e,t){const i=e instanceof _m0.Reader?e:_m0.Reader.create(e);let n=t===void 0?i.len:i.pos+t;const r=createBaseUpdateParticipantRequest();for(;i.pos<n;){const o=i.uint32();switch(o>>>3){case 1:if(o!==10)break;r.room=i.string();continue;case 2:if(o!==18)break;r.identity=i.string();continue;case 3:if(o!==26)break;r.metadata=i.string();continue;case 4:if(o!==34)break;r.permission=ParticipantPermission.decode(i,i.uint32());continue;case 5:if(o!==42)break;r.name=i.string();continue}if((o&7)===4||o===0)break;i.skipType(o&7)}return r},fromJSON(e){return{room:isSet(e.room)?globalThis.String(e.room):"",identity:isSet(e.identity)?globalThis.String(e.identity):"",metadata:isSet(e.metadata)?globalThis.String(e.metadata):"",permission:isSet(e.permission)?ParticipantPermission.fromJSON(e.permission):void 0,name:isSet(e.name)?globalThis.String(e.name):""}},toJSON(e){const t={};return e.room!==void 0&&e.room!==""&&(t.room=e.room),e.identity!==void 0&&e.identity!==""&&(t.identity=e.identity),e.metadata!==void 0&&e.metadata!==""&&(t.metadata=e.metadata),e.permission!==void 0&&(t.permission=ParticipantPermission.toJSON(e.permission)),e.name!==void 0&&e.name!==""&&(t.name=e.name),t},create(e){return UpdateParticipantRequest.fromPartial(e??{})},fromPartial(e){var t,i,n,r;const o=createBaseUpdateParticipantRequest();return o.room=(t=e.room)!==null&&t!==void 0?t:"",o.identity=(i=e.identity)!==null&&i!==void 0?i:"",o.metadata=(n=e.metadata)!==null&&n!==void 0?n:"",o.permission=e.permission!==void 0&&e.permission!==null?ParticipantPermission.fromPartial(e.permission):void 0,o.name=(r=e.name)!==null&&r!==void 0?r:"",o}};function createBaseUpdateSubscriptionsRequest(){return{room:"",identity:"",trackSids:[],subscribe:!1,participantTracks:[]}}const UpdateSubscriptionsRequest={encode(e,t=_m0.Writer.create()){if(e.room!==void 0&&e.room!==""&&t.uint32(10).string(e.room),e.identity!==void 0&&e.identity!==""&&t.uint32(18).string(e.identity),e.trackSids!==void 0&&e.trackSids.length!==0)for(const i of e.trackSids)t.uint32(26).string(i);if(e.subscribe===!0&&t.uint32(32).bool(e.subscribe),e.participantTracks!==void 0&&e.participantTracks.length!==0)for(const i of e.participantTracks)ParticipantTracks.encode(i,t.uint32(42).fork()).ldelim();return t},decode(e,t){const i=e instanceof _m0.Reader?e:_m0.Reader.create(e);let n=t===void 0?i.len:i.pos+t;const r=createBaseUpdateSubscriptionsRequest();for(;i.pos<n;){const o=i.uint32();switch(o>>>3){case 1:if(o!==10)break;r.room=i.string();continue;case 2:if(o!==18)break;r.identity=i.string();continue;case 3:if(o!==26)break;r.trackSids.push(i.string());continue;case 4:if(o!==32)break;r.subscribe=i.bool();continue;case 5:if(o!==42)break;r.participantTracks.push(ParticipantTracks.decode(i,i.uint32()));continue}if((o&7)===4||o===0)break;i.skipType(o&7)}return r},fromJSON(e){return{room:isSet(e.room)?globalThis.String(e.room):"",identity:isSet(e.identity)?globalThis.String(e.identity):"",trackSids:globalThis.Array.isArray(e==null?void 0:e.trackSids)?e.trackSids.map(t=>globalThis.String(t)):[],subscribe:isSet(e.subscribe)?globalThis.Boolean(e.subscribe):!1,participantTracks:globalThis.Array.isArray(e==null?void 0:e.participantTracks)?e.participantTracks.map(t=>ParticipantTracks.fromJSON(t)):[]}},toJSON(e){var t,i;const n={};return e.room!==void 0&&e.room!==""&&(n.room=e.room),e.identity!==void 0&&e.identity!==""&&(n.identity=e.identity),!((t=e.trackSids)===null||t===void 0)&&t.length&&(n.trackSids=e.trackSids),e.subscribe===!0&&(n.subscribe=e.subscribe),!((i=e.participantTracks)===null||i===void 0)&&i.length&&(n.participantTracks=e.participantTracks.map(r=>ParticipantTracks.toJSON(r))),n},create(e){return UpdateSubscriptionsRequest.fromPartial(e??{})},fromPartial(e){var t,i,n,r,o;const a=createBaseUpdateSubscriptionsRequest();return a.room=(t=e.room)!==null&&t!==void 0?t:"",a.identity=(i=e.identity)!==null&&i!==void 0?i:"",a.trackSids=((n=e.trackSids)===null||n===void 0?void 0:n.map(s=>s))||[],a.subscribe=(r=e.subscribe)!==null&&r!==void 0?r:!1,a.participantTracks=((o=e.participantTracks)===null||o===void 0?void 0:o.map(s=>ParticipantTracks.fromPartial(s)))||[],a}};function createBaseSendDataRequest(){return{room:"",data:new Uint8Array(0),kind:0,destinationSids:[],destinationIdentities:[],topic:void 0}}const SendDataRequest={encode(e,t=_m0.Writer.create()){if(e.room!==void 0&&e.room!==""&&t.uint32(10).string(e.room),e.data!==void 0&&e.data.length!==0&&t.uint32(18).bytes(e.data),e.kind!==void 0&&e.kind!==0&&t.uint32(24).int32(e.kind),e.destinationSids!==void 0&&e.destinationSids.length!==0)for(const i of e.destinationSids)t.uint32(34).string(i);if(e.destinationIdentities!==void 0&&e.destinationIdentities.length!==0)for(const i of e.destinationIdentities)t.uint32(50).string(i);return e.topic!==void 0&&t.uint32(42).string(e.topic),t},decode(e,t){const i=e instanceof _m0.Reader?e:_m0.Reader.create(e);let n=t===void 0?i.len:i.pos+t;const r=createBaseSendDataRequest();for(;i.pos<n;){const o=i.uint32();switch(o>>>3){case 1:if(o!==10)break;r.room=i.string();continue;case 2:if(o!==18)break;r.data=i.bytes();continue;case 3:if(o!==24)break;r.kind=i.int32();continue;case 4:if(o!==34)break;r.destinationSids.push(i.string());continue;case 6:if(o!==50)break;r.destinationIdentities.push(i.string());continue;case 5:if(o!==42)break;r.topic=i.string();continue}if((o&7)===4||o===0)break;i.skipType(o&7)}return r},fromJSON(e){return{room:isSet(e.room)?globalThis.String(e.room):"",data:isSet(e.data)?bytesFromBase64(e.data):new Uint8Array(0),kind:isSet(e.kind)?dataPacket_KindFromJSON(e.kind):0,destinationSids:globalThis.Array.isArray(e==null?void 0:e.destinationSids)?e.destinationSids.map(t=>globalThis.String(t)):[],destinationIdentities:globalThis.Array.isArray(e==null?void 0:e.destinationIdentities)?e.destinationIdentities.map(t=>globalThis.String(t)):[],topic:isSet(e.topic)?globalThis.String(e.topic):void 0}},toJSON(e){var t,i;const n={};return e.room!==void 0&&e.room!==""&&(n.room=e.room),e.data!==void 0&&e.data.length!==0&&(n.data=base64FromBytes(e.data)),e.kind!==void 0&&e.kind!==0&&(n.kind=dataPacket_KindToJSON(e.kind)),!((t=e.destinationSids)===null||t===void 0)&&t.length&&(n.destinationSids=e.destinationSids),!((i=e.destinationIdentities)===null||i===void 0)&&i.length&&(n.destinationIdentities=e.destinationIdentities),e.topic!==void 0&&(n.topic=e.topic),n},create(e){return SendDataRequest.fromPartial(e??{})},fromPartial(e){var t,i,n,r,o,a;const s=createBaseSendDataRequest();return s.room=(t=e.room)!==null&&t!==void 0?t:"",s.data=(i=e.data)!==null&&i!==void 0?i:new Uint8Array(0),s.kind=(n=e.kind)!==null&&n!==void 0?n:0,s.destinationSids=((r=e.destinationSids)===null||r===void 0?void 0:r.map(u=>u))||[],s.destinationIdentities=((o=e.destinationIdentities)===null||o===void 0?void 0:o.map(u=>u))||[],s.topic=(a=e.topic)!==null&&a!==void 0?a:void 0,s}};function createBaseUpdateRoomMetadataRequest(){return{room:"",metadata:""}}const UpdateRoomMetadataRequest={encode(e,t=_m0.Writer.create()){return e.room!==void 0&&e.room!==""&&t.uint32(10).string(e.room),e.metadata!==void 0&&e.metadata!==""&&t.uint32(18).string(e.metadata),t},decode(e,t){const i=e instanceof _m0.Reader?e:_m0.Reader.create(e);let n=t===void 0?i.len:i.pos+t;const r=createBaseUpdateRoomMetadataRequest();for(;i.pos<n;){const o=i.uint32();switch(o>>>3){case 1:if(o!==10)break;r.room=i.string();continue;case 2:if(o!==18)break;r.metadata=i.string();continue}if((o&7)===4||o===0)break;i.skipType(o&7)}return r},fromJSON(e){return{room:isSet(e.room)?globalThis.String(e.room):"",metadata:isSet(e.metadata)?globalThis.String(e.metadata):""}},toJSON(e){const t={};return e.room!==void 0&&e.room!==""&&(t.room=e.room),e.metadata!==void 0&&e.metadata!==""&&(t.metadata=e.metadata),t},create(e){return UpdateRoomMetadataRequest.fromPartial(e??{})},fromPartial(e){var t,i;const n=createBaseUpdateRoomMetadataRequest();return n.room=(t=e.room)!==null&&t!==void 0?t:"",n.metadata=(i=e.metadata)!==null&&i!==void 0?i:"",n}};function bytesFromBase64(e){const t=globalThis.atob(e),i=new Uint8Array(t.length);for(let n=0;n<t.length;++n)i[n]=t.charCodeAt(n);return i}function base64FromBytes(e){const t=[];return e.forEach(i=>{t.push(globalThis.String.fromCharCode(i))}),globalThis.btoa(t.join(""))}function isSet(e){return e!=null}const svc="RoomService";class RoomServiceClient extends ServiceBase{constructor(t,i,n){super(i,n),this.rpc=new TwirpRpc(t,livekitPackage)}async createRoom(t){const i=await this.rpc.request(svc,"CreateRoom",CreateRoomRequest.toJSON(CreateRoomRequest.fromPartial(t)),this.authHeader({roomCreate:!0}));return Room.fromJSON(i)}async listRooms(t){var i;const n=await this.rpc.request(svc,"ListRooms",ListRoomsRequest.toJSON({names:t??[]}),this.authHeader({roomList:!0}));return(i=ListRoomsResponse.fromJSON(n).rooms)!==null&&i!==void 0?i:[]}async deleteRoom(t){await this.rpc.request(svc,"DeleteRoom",DeleteRoomRequest.toJSON({room:t}),this.authHeader({roomCreate:!0}))}async updateRoomMetadata(t,i){const n=await this.rpc.request(svc,"UpdateRoomMetadata",UpdateRoomMetadataRequest.toJSON({room:t,metadata:i}),this.authHeader({roomAdmin:!0,room:t}));return Room.fromJSON(n)}async listParticipants(t){var i;const n=await this.rpc.request(svc,"ListParticipants",ListParticipantsRequest.toJSON({room:t}),this.authHeader({roomAdmin:!0,room:t}));return(i=ListParticipantsResponse.fromJSON(n).participants)!==null&&i!==void 0?i:[]}async getParticipant(t,i){const n=await this.rpc.request(svc,"GetParticipant",RoomParticipantIdentity.toJSON({room:t,identity:i}),this.authHeader({roomAdmin:!0,room:t}));return ParticipantInfo.fromJSON(n)}async removeParticipant(t,i){await this.rpc.request(svc,"RemoveParticipant",RoomParticipantIdentity.toJSON({room:t,identity:i}),this.authHeader({roomAdmin:!0,room:t}))}async mutePublishedTrack(t,i,n,r){const o=MuteRoomTrackRequest.toJSON({room:t,identity:i,trackSid:n,muted:r}),a=await this.rpc.request(svc,"MutePublishedTrack",o,this.authHeader({roomAdmin:!0,room:t}));return MuteRoomTrackResponse.fromJSON(a).track}async updateParticipant(t,i,n,r,o){const a={room:t,identity:i,metadata:n||"",name:o||""};r&&(a.permission=ParticipantPermission.fromPartial(r));const s=await this.rpc.request(svc,"UpdateParticipant",UpdateParticipantRequest.toJSON(a),this.authHeader({roomAdmin:!0,room:t}));return ParticipantInfo.fromJSON(s)}async updateSubscriptions(t,i,n,r){const o=UpdateSubscriptionsRequest.toJSON({room:t,identity:i,trackSids:n,subscribe:r,participantTracks:[]});await this.rpc.request(svc,"UpdateSubscriptions",o,this.authHeader({roomAdmin:!0,room:t}))}async sendData(t,i,n,r={}){const o=Array.isArray(r)?r:r.destinationSids,a=Array.isArray(r)?void 0:r.topic,s={room:t,data:i,kind:n,destinationSids:o??[],topic:a};!Array.isArray(r)&&r.destinationIdentities&&(s.destinationIdentities=r.destinationIdentities),await this.rpc.request(svc,"SendData",SendDataRequest.toJSON(s),this.authHeader({roomAdmin:!0,room:t}))}}_m0.util.Long!==Long&&(_m0.util.Long=Long,_m0.configure());var TrackSource;(function(e){e.CAMERA="camera",e.MICROPHONE="microphone",e.SCREEN_SHARE="screen_share",e.SCREEN_SHARE_AUDIO="screen_share_audio"})(TrackSource||(TrackSource={}));async function getPublisherAccessToken(e,t,i){const n=new AccessToken(e,t,{identity:i,ttl:86400});return n.addGrant({room:i,roomJoin:!0,roomCreate:!0,roomAdmin:!0,roomList:!0,canPublish:!0,canSubscribe:!1,canPublishData:!0,canUpdateOwnMetadata:!0}),await n.toJwt()}function getFrontendAccessToken(e,t,i,n){const r=new AccessToken(e,t,{identity:n,name:n,ttl:21600});return r.addGrant({room:i,roomList:!0,roomJoin:!0,canPublish:!1,canSubscribe:!0,canPublishData:!0,canUpdateOwnMetadata:!1}),r.toJwt()}async function getLongTermStarterAccessToken(e,t){const i=new AccessToken(e,t,{identity:"lt",ttl:94608e5});return i.addGrant({roomList:!0,roomJoin:!1,canPublish:!1,canSubscribe:!1,canPublishData:!1,canUpdateOwnMetadata:!1}),await i.toJwt()}async function createLivekitRoom(e,t,i=""){return await e.createRoom({name:t,maxParticipants:12,emptyTimeout:30,metadata:i})}async function updateLivekitRoomMetadata(e,t,i){return await e.updateRoomMetadata(t,i)}async function generateLivekitRoomTokens(e,t,i,n){const o=[];for(let a=0;a<40;a++){let s=getHumanReadableId(getUniqueNumber());for(;n.includes(s);)s=getHumanReadableId(getUniqueNumber());n.push(s);const u=await getFrontendAccessToken(e,t,i,s);o.push(u)}return o}async function refreshMetadata(e,t,i,n,r){await updateLivekitRoomMetadata(e,n,JSON.stringify({accessTokens:await generateLivekitRoomTokens(t,i,n,r)}))}function newLivekitAdminSDKRoomServiceClient(e,t,i){return new RoomServiceClient(e,t,i)}const appendLog=console.log;class LivekitGenericConnection{constructor(){$(this,"config");$(this,"lastMsgRecivedTimestamp");$(this,"connectionState");$(this,"latestRecivedDataMessage");$(this,"participantConnectionEvents");$(this,"_rovRoomName");$(this,"_accessToken");$(this,"_reconnectAttemptCount",0);$(this,"_shouldReconnect");$(this,"_videoElem");$(this,"_roomConn");this.config={},this._shouldReconnect=!0,this.connectionState=nStore(ConnectionStates.init),this.latestRecivedDataMessage=nStore(null),this.participantConnectionEvents=nStore(null)}async init(t){this.config=t,this._shouldReconnect=!0,this._roomConn=new Room$1(t.roomConfig),this._roomConn.on(RoomEvent.DCBufferStatusChanged,i=>{appendLog("DCBufferStatusChanged",i)}).on(RoomEvent.SignalConnected,async()=>{appendLog("signal connection established")}).on(RoomEvent.Connected,async()=>{appendLog(`Connected to room: ${this._roomConn.name}`),this.connectionState.set(ConnectionStates.connected)}).on(RoomEvent.Disconnected,i=>{this.connectionState.set(ConnectionStates.disconnectedOk);let n=this._shouldReconnect&&!!this._roomConn;i===DisconnectReason$1.DUPLICATE_IDENTITY?(console.warn("duplicate identity, disconnected"),n=!1):i===DisconnectReason$1.CLIENT_INITIATED?(console.log("disconnected from room, client initiated"),n=!1):i===DisconnectReason$1.SERVER_SHUTDOWN?(console.log("disconnected from room, server shutdown"),n=!1):i===DisconnectReason$1.PARTICIPANT_REMOVED?(console.log("disconnected from room, participant removed"),n=!1):i===DisconnectReason$1.ROOM_DELETED?(console.log("disconnected from room, room deleted"),n=!1):i===DisconnectReason$1.STATE_MISMATCH?(console.log("disconnected from room, state mismatch"),n=!1):i===DisconnectReason$1.JOIN_FAILURE?console.log("disconnected from room, join failure"):i===DisconnectReason$1.UNKNOWN_REASON?console.log("disconnected from room, unknown reason"):i===DisconnectReason$1.UNRECOGNIZED&&console.log("disconnected from room, unrecognized"),n?this._reconnect():this.close()}).on(RoomEvent.Reconnecting,()=>{appendLog("Reconnecting to room"),this.connectionState.set(ConnectionStates.reconnecting)}).on(RoomEvent.Reconnected,async()=>{appendLog("Successfully reconnected. server",await this._roomConn.engine.getConnectedServerAddress()),this.connectionState.set(ConnectionStates.connected)}).on(RoomEvent.ParticipantMetadataChanged,i=>{appendLog("ParticipantMetadataChanged",i)}).on(RoomEvent.ParticipantConnected,async i=>{appendLog(`participant ${i.identity} (${i.sid}) connected`,i.metadata),this.participantConnectionEvents.set({id:i.identity,joined:!0}),i.on(ParticipantEvent.ConnectionQualityChanged,()=>{appendLog("ParticipantEvent.ConnectionQualityChanged",i.connectionQuality)})}).on(RoomEvent.ParticipantDisconnected,i=>{appendLog(`participant ${i.identity} (${i.sid}) disconnected`),this.participantConnectionEvents.set({id:i.identity,joined:!1})}).on(RoomEvent.MediaDevicesError,i=>{const n=MediaDeviceFailure.getFailure(i);appendLog("media device failure",n)}).on(RoomEvent.ConnectionQualityChanged,(i,n)=>{appendLog(`connection quality for ${n?n.identity:"[no identity]"} changed to ${i}`)}).on(RoomEvent.RoomMetadataChanged,i=>{appendLog("new metadata for room",i)}).on(RoomEvent.MediaDevicesChanged,()=>{appendLog("MediaDevicesChanged")}).on(RoomEvent.LocalTrackUnpublished,(i,n)=>{appendLog("LocalTrackUnpublished!?????????????",i,n)}).on(RoomEvent.LocalTrackPublished,(i,n)=>{appendLog("LocalVideoTrackPublished ",i,n)}).on(RoomEvent.MediaDevicesError,i=>{const n=MediaDeviceFailure.getFailure(i);appendLog("media device failure",n)}).on(RoomEvent.AudioPlaybackStatusChanged,()=>{appendLog("AudioPlaybackStatusChanged. canPlaybackAudio =",this._roomConn.canPlaybackAudio)})}async start(t,i){this._rovRoomName=t,this._accessToken=i,this._shouldReconnect=!0;const n=Date.now();appendLog(`Starting conn with ${t} via ${this.config.hostUrl} token = ${i}`);try{const r=setTimeout(()=>{console.log(`livekit connect timeout for ${this.config.hostUrl}`),this._reconnect()},16e3);await this._connect(),clearTimeout(r),appendLog(`Connected in ${Date.now()-n}ms ${this.config.hostUrl}`)}catch(r){appendLog(`Error connecting to ${this.config.hostUrl}`,r),this._reconnect()}}async sendMessage(t,i=!0,n=[]){const r=n.map(o=>{const a=this.getParticipantSid(o);return a||console.warn("no participant found for livekit identity: ",o),a});await this._roomConn.localParticipant.publishData(t,i?DataPacket_Kind$1.RELIABLE:DataPacket_Kind$1.LOSSY,{destination:r})}getParticipantSid(t){const i=[...this._roomConn.participants.values()].find(n=>n.identity===t);return i?i.sid:null}getLivekitIdentitiy(){return this._roomConn?this._roomConn.localParticipant.identity:null}getRoomName(){return this._roomConn?this._roomConn.name:this._rovRoomName}async close(){this._shouldReconnect=!1,this._roomConn&&(console.info("Closing Livekit Connection: ",this._rovRoomName,this.config.hostUrl),await this._roomConn.disconnect(!0))}async _connect(){await this._roomConn.connect(getWebsocketURL(this.config.hostUrl),this._accessToken,this.config.roomConnectionConfig),console.info("connected to room",this._roomConn.name,this._roomConn)}async _reconnect(){try{await this._roomConn.disconnect(!0)}catch(t){console.error("Livekit error disconnecting from room",t)}if(this._shouldReconnect!=!1)if(this._reconnectAttemptCount<this.config.reconnectAttempts){const t=this._reconnectAttemptCount*800;this._reconnectAttemptCount++,await waitfor(t);try{await this._connect()}catch(i){throw console.error("Livekit error reconnecting to room",i),i}}else console.error("Livekit failed to reconnect after ",this._reconnectAttemptCount,"/",this.config.reconnectAttempts,"attempts"),this._fail()}_fail(){this._shouldReconnect=!1,this.connectionState.set(ConnectionStates.failed)}}class LivekitPublisherConnection extends LivekitGenericConnection{constructor(){super();$(this,"_livekitApiKey");$(this,"_livekitSecretKey");$(this,"camTrack");$(this,"_livekitAdmin")}async init(i){await super.init(i),this._roomConn.on(RoomEvent.SignalConnected,async()=>{for(;!this.camTrack;)this.camTrack=await this._roomConn.localParticipant.setCameraEnabled(!0)}).on(RoomEvent.DataReceived,async(n,r)=>{if(!r)return console.warn("Ignoring received webrtc message with no participant. This can happen when the message is sent before connection completes or if the message comes from the server: ",n);const o=r.identity,a=r.sid;appendLog(`Got dataReceived from ${o} (${a}) via ${this.config.hostUrl}|${this._roomConn.name}`),this.lastMsgRecivedTimestamp=Date.now(),this.latestRecivedDataMessage.set({senderId:o,msg:n})}).on(RoomEvent.TrackSubscribed,(n,r,o)=>{appendLog("subscribed to track _THIS SHOULDN'T HAPPEN on BACKEND??_",r.trackSid,o.identity,n.source)}).on(RoomEvent.TrackUnsubscribed,(n,r,o)=>{appendLog("unsubscribed from track _THIS SHOULDN'T HAPPEN on BACKEND??_",r.trackSid)}).on(RoomEvent.ParticipantConnected,()=>{this.updateMetadataTokens()})}updateMetadataTokens(){if(!this._livekitAdmin)return console.warn("Can't update metadata tokens, livekit admin client not initialized");const i=[...this._roomConn.participants.values()].map(n=>n.identity);refreshMetadata(this._livekitAdmin,this._livekitApiKey,this._livekitSecretKey,this._rovRoomName,i)}async startRoom(i,n,r){this._rovRoomName=i,this._livekitApiKey=n,this._livekitSecretKey=r,this._livekitAdmin=newLivekitAdminSDKRoomServiceClient(this.config.hostUrl,n,r),await createLivekitRoom(this._livekitAdmin,i);const o=await getPublisherAccessToken(n,r,i);await this.updateMetadataTokens(),await super.start(i,o)}}const $Reader=minimal.Reader,$Writer=minimal.Writer,$util=minimal.util,$root=minimal.roots.default||(minimal.roots.default={}),rov_actions_proto=$root.rov_actions_proto=(()=>{const e={};return e.SensorMeasurmentTypes=function(){const t={},i=Object.create(t);return i[t[0]="depth_meters"]=0,i[t[1]="water_temp_celsius"]=1,i[t[2]="pressure_mbar"]=2,i[t[3]="yaw_degrees"]=3,i[t[4]="pitch_degrees"]=4,i[t[5]="roll_degrees"]=5,i[t[6]="x_acceleration_m_s2"]=6,i[t[7]="y_acceleration_m_s2"]=7,i[t[8]="z_acceleration_m_s2"]=8,i[t[9]="battery_voltage"]=9,i[t[10]="battery_current_amps"]=10,i[t[11]="internal_temp_celsius"]=11,i}(),e.Measurement=function(){function t(i){if(i)for(let n=Object.keys(i),r=0;r<n.length;++r)i[n[r]]!=null&&(this[n[r]]=i[n[r]])}return t.prototype.MeasurementType=0,t.prototype.Value=0,t.create=function(n){return new t(n)},t.encode=function(n,r){return r||(r=$Writer.create()),n.MeasurementType!=null&&Object.hasOwnProperty.call(n,"MeasurementType")&&r.uint32(8).int32(n.MeasurementType),n.Value!=null&&Object.hasOwnProperty.call(n,"Value")&&r.uint32(21).float(n.Value),r},t.encodeDelimited=function(n,r){return this.encode(n,r).ldelim()},t.decode=function(n,r){n instanceof $Reader||(n=$Reader.create(n));let o=r===void 0?n.len:n.pos+r,a=new $root.rov_actions_proto.Measurement;for(;n.pos<o;){let s=n.uint32();switch(s>>>3){case 1:{a.MeasurementType=n.int32();break}case 2:{a.Value=n.float();break}default:n.skipType(s&7);break}}return a},t.decodeDelimited=function(n){return n instanceof $Reader||(n=new $Reader(n)),this.decode(n,n.uint32())},t.verify=function(n){if(typeof n!="object"||n===null)return"object expected";if(n.MeasurementType!=null&&n.hasOwnProperty("MeasurementType"))switch(n.MeasurementType){default:return"MeasurementType: enum value expected";case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:break}return n.Value!=null&&n.hasOwnProperty("Value")&&typeof n.Value!="number"?"Value: number expected":null},t.fromObject=function(n){if(n instanceof $root.rov_actions_proto.Measurement)return n;let r=new $root.rov_actions_proto.Measurement;switch(n.MeasurementType){default:if(typeof n.MeasurementType=="number"){r.MeasurementType=n.MeasurementType;break}break;case"depth_meters":case 0:r.MeasurementType=0;break;case"water_temp_celsius":case 1:r.MeasurementType=1;break;case"pressure_mbar":case 2:r.MeasurementType=2;break;case"yaw_degrees":case 3:r.MeasurementType=3;break;case"pitch_degrees":case 4:r.MeasurementType=4;break;case"roll_degrees":case 5:r.MeasurementType=5;break;case"x_acceleration_m_s2":case 6:r.MeasurementType=6;break;case"y_acceleration_m_s2":case 7:r.MeasurementType=7;break;case"z_acceleration_m_s2":case 8:r.MeasurementType=8;break;case"battery_voltage":case 9:r.MeasurementType=9;break;case"battery_current_amps":case 10:r.MeasurementType=10;break;case"internal_temp_celsius":case 11:r.MeasurementType=11;break}return n.Value!=null&&(r.Value=Number(n.Value)),r},t.toObject=function(n,r){r||(r={});let o={};return r.defaults&&(o.MeasurementType=r.enums===String?"depth_meters":0,o.Value=0),n.MeasurementType!=null&&n.hasOwnProperty("MeasurementType")&&(o.MeasurementType=r.enums===String?$root.rov_actions_proto.SensorMeasurmentTypes[n.MeasurementType]===void 0?n.MeasurementType:$root.rov_actions_proto.SensorMeasurmentTypes[n.MeasurementType]:n.MeasurementType),n.Value!=null&&n.hasOwnProperty("Value")&&(o.Value=r.json&&!isFinite(n.Value)?String(n.Value):n.Value),o},t.prototype.toJSON=function(){return this.constructor.toObject(this,minimal.util.toJSONOptions)},t.getTypeUrl=function(n){return n===void 0&&(n="type.googleapis.com"),n+"/rov_actions_proto.Measurement"},t}(),e.DataTransportMethod=function(){const t={},i=Object.create(t);return i[t[0]="LivekitReliable"]=0,i[t[1]="LivekitUnreliable"]=1,i[t[3]="DirectUnreliable"]=3,i}(),e.InternalWebpageEvent=function(){const t={},i=Object.create(t);return i[t[0]="Nothing"]=0,i[t[1]="RovConnected"]=1,i[t[2]="RovDisconnected"]=2,i[t[3]="UserConnected"]=3,i[t[4]="UserDisconnected"]=4,i}(),e.PingAction=function(){function t(i){if(i)for(let n=Object.keys(i),r=0;r<n.length;++r)i[n[r]]!=null&&(this[n[r]]=i[n[r]])}return t.prototype.Time=$util.Long?$util.Long.fromBits(0,0,!1):0,t.create=function(n){return new t(n)},t.encode=function(n,r){return r||(r=$Writer.create()),n.Time!=null&&Object.hasOwnProperty.call(n,"Time")&&r.uint32(8).int64(n.Time),r},t.encodeDelimited=function(n,r){return this.encode(n,r).ldelim()},t.decode=function(n,r){n instanceof $Reader||(n=$Reader.create(n));let o=r===void 0?n.len:n.pos+r,a=new $root.rov_actions_proto.PingAction;for(;n.pos<o;){let s=n.uint32();switch(s>>>3){case 1:{a.Time=n.int64();break}default:n.skipType(s&7);break}}return a},t.decodeDelimited=function(n){return n instanceof $Reader||(n=new $Reader(n)),this.decode(n,n.uint32())},t.verify=function(n){return typeof n!="object"||n===null?"object expected":n.Time!=null&&n.hasOwnProperty("Time")&&!$util.isInteger(n.Time)&&!(n.Time&&$util.isInteger(n.Time.low)&&$util.isInteger(n.Time.high))?"Time: integer|Long expected":null},t.fromObject=function(n){if(n instanceof $root.rov_actions_proto.PingAction)return n;let r=new $root.rov_actions_proto.PingAction;return n.Time!=null&&($util.Long?(r.Time=$util.Long.fromValue(n.Time)).unsigned=!1:typeof n.Time=="string"?r.Time=parseInt(n.Time,10):typeof n.Time=="number"?r.Time=n.Time:typeof n.Time=="object"&&(r.Time=new $util.LongBits(n.Time.low>>>0,n.Time.high>>>0).toNumber())),r},t.toObject=function(n,r){r||(r={});let o={};if(r.defaults)if($util.Long){let a=new $util.Long(0,0,!1);o.Time=r.longs===String?a.toString():r.longs===Number?a.toNumber():a}else o.Time=r.longs===String?"0":0;return n.Time!=null&&n.hasOwnProperty("Time")&&(typeof n.Time=="number"?o.Time=r.longs===String?String(n.Time):n.Time:o.Time=r.longs===String?$util.Long.prototype.toString.call(n.Time):r.longs===Number?new $util.LongBits(n.Time.low>>>0,n.Time.high>>>0).toNumber():n.Time),o},t.prototype.toJSON=function(){return this.constructor.toObject(this,minimal.util.toJSONOptions)},t.getTypeUrl=function(n){return n===void 0&&(n="type.googleapis.com"),n+"/rov_actions_proto.PingAction"},t}(),e.PasswordAttemptAction=function(){function t(i){if(i)for(let n=Object.keys(i),r=0;r<n.length;++r)i[n[r]]!=null&&(this[n[r]]=i[n[r]])}return t.prototype.Password="",t.create=function(n){return new t(n)},t.encode=function(n,r){return r||(r=$Writer.create()),n.Password!=null&&Object.hasOwnProperty.call(n,"Password")&&r.uint32(10).string(n.Password),r},t.encodeDelimited=function(n,r){return this.encode(n,r).ldelim()},t.decode=function(n,r){n instanceof $Reader||(n=$Reader.create(n));let o=r===void 0?n.len:n.pos+r,a=new $root.rov_actions_proto.PasswordAttemptAction;for(;n.pos<o;){let s=n.uint32();switch(s>>>3){case 1:{a.Password=n.string();break}default:n.skipType(s&7);break}}return a},t.decodeDelimited=function(n){return n instanceof $Reader||(n=new $Reader(n)),this.decode(n,n.uint32())},t.verify=function(n){return typeof n!="object"||n===null?"object expected":n.Password!=null&&n.hasOwnProperty("Password")&&!$util.isString(n.Password)?"Password: string expected":null},t.fromObject=function(n){if(n instanceof $root.rov_actions_proto.PasswordAttemptAction)return n;let r=new $root.rov_actions_proto.PasswordAttemptAction;return n.Password!=null&&(r.Password=String(n.Password)),r},t.toObject=function(n,r){r||(r={});let o={};return r.defaults&&(o.Password=""),n.Password!=null&&n.hasOwnProperty("Password")&&(o.Password=n.Password),o},t.prototype.toJSON=function(){return this.constructor.toObject(this,minimal.util.toJSONOptions)},t.getTypeUrl=function(n){return n===void 0&&(n="type.googleapis.com"),n+"/rov_actions_proto.PasswordAttemptAction"},t}(),e.AuthTokenAttemptAction=function(){function t(i){if(i)for(let n=Object.keys(i),r=0;r<n.length;++r)i[n[r]]!=null&&(this[n[r]]=i[n[r]])}return t.prototype.Token="",t.create=function(n){return new t(n)},t.encode=function(n,r){return r||(r=$Writer.create()),n.Token!=null&&Object.hasOwnProperty.call(n,"Token")&&r.uint32(10).string(n.Token),r},t.encodeDelimited=function(n,r){return this.encode(n,r).ldelim()},t.decode=function(n,r){n instanceof $Reader||(n=$Reader.create(n));let o=r===void 0?n.len:n.pos+r,a=new $root.rov_actions_proto.AuthTokenAttemptAction;for(;n.pos<o;){let s=n.uint32();switch(s>>>3){case 1:{a.Token=n.string();break}default:n.skipType(s&7);break}}return a},t.decodeDelimited=function(n){return n instanceof $Reader||(n=new $Reader(n)),this.decode(n,n.uint32())},t.verify=function(n){return typeof n!="object"||n===null?"object expected":n.Token!=null&&n.hasOwnProperty("Token")&&!$util.isString(n.Token)?"Token: string expected":null},t.fromObject=function(n){if(n instanceof $root.rov_actions_proto.AuthTokenAttemptAction)return n;let r=new $root.rov_actions_proto.AuthTokenAttemptAction;return n.Token!=null&&(r.Token=String(n.Token)),r},t.toObject=function(n,r){r||(r={});let o={};return r.defaults&&(o.Token=""),n.Token!=null&&n.hasOwnProperty("Token")&&(o.Token=n.Token),o},t.prototype.toJSON=function(){return this.constructor.toObject(this,minimal.util.toJSONOptions)},t.getTypeUrl=function(n){return n===void 0&&(n="type.googleapis.com"),n+"/rov_actions_proto.AuthTokenAttemptAction"},t}(),e.TakeControlAction=function(){function t(i){if(i)for(let n=Object.keys(i),r=0;r<n.length;++r)i[n[r]]!=null&&(this[n[r]]=i[n[r]])}return t.create=function(n){return new t(n)},t.encode=function(n,r){return r||(r=$Writer.create()),r},t.encodeDelimited=function(n,r){return this.encode(n,r).ldelim()},t.decode=function(n,r){n instanceof $Reader||(n=$Reader.create(n));let o=r===void 0?n.len:n.pos+r,a=new $root.rov_actions_proto.TakeControlAction;for(;n.pos<o;){let s=n.uint32();switch(s>>>3){default:n.skipType(s&7);break}}return a},t.decodeDelimited=function(n){return n instanceof $Reader||(n=new $Reader(n)),this.decode(n,n.uint32())},t.verify=function(n){return typeof n!="object"||n===null?"object expected":null},t.fromObject=function(n){return n instanceof $root.rov_actions_proto.TakeControlAction?n:new $root.rov_actions_proto.TakeControlAction},t.toObject=function(){return{}},t.prototype.toJSON=function(){return this.constructor.toObject(this,minimal.util.toJSONOptions)},t.getTypeUrl=function(n){return n===void 0&&(n="type.googleapis.com"),n+"/rov_actions_proto.TakeControlAction"},t}(),e.MoveAction=function(){function t(i){if(i)for(let n=Object.keys(i),r=0;r<n.length;++r)i[n[r]]!=null&&(this[n[r]]=i[n[r]])}return t.prototype.VelocityX=0,t.prototype.VelocityY=0,t.prototype.VelocityZ=0,t.prototype.AngularVelocityYaw=0,t.create=function(n){return new t(n)},t.encode=function(n,r){return r||(r=$Writer.create()),n.VelocityX!=null&&Object.hasOwnProperty.call(n,"VelocityX")&&r.uint32(13).float(n.VelocityX),n.VelocityY!=null&&Object.hasOwnProperty.call(n,"VelocityY")&&r.uint32(21).float(n.VelocityY),n.VelocityZ!=null&&Object.hasOwnProperty.call(n,"VelocityZ")&&r.uint32(29).float(n.VelocityZ),n.AngularVelocityYaw!=null&&Object.hasOwnProperty.call(n,"AngularVelocityYaw")&&r.uint32(37).float(n.AngularVelocityYaw),r},t.encodeDelimited=function(n,r){return this.encode(n,r).ldelim()},t.decode=function(n,r){n instanceof $Reader||(n=$Reader.create(n));let o=r===void 0?n.len:n.pos+r,a=new $root.rov_actions_proto.MoveAction;for(;n.pos<o;){let s=n.uint32();switch(s>>>3){case 1:{a.VelocityX=n.float();break}case 2:{a.VelocityY=n.float();break}case 3:{a.VelocityZ=n.float();break}case 4:{a.AngularVelocityYaw=n.float();break}default:n.skipType(s&7);break}}return a},t.decodeDelimited=function(n){return n instanceof $Reader||(n=new $Reader(n)),this.decode(n,n.uint32())},t.verify=function(n){return typeof n!="object"||n===null?"object expected":n.VelocityX!=null&&n.hasOwnProperty("VelocityX")&&typeof n.VelocityX!="number"?"VelocityX: number expected":n.VelocityY!=null&&n.hasOwnProperty("VelocityY")&&typeof n.VelocityY!="number"?"VelocityY: number expected":n.VelocityZ!=null&&n.hasOwnProperty("VelocityZ")&&typeof n.VelocityZ!="number"?"VelocityZ: number expected":n.AngularVelocityYaw!=null&&n.hasOwnProperty("AngularVelocityYaw")&&typeof n.AngularVelocityYaw!="number"?"AngularVelocityYaw: number expected":null},t.fromObject=function(n){if(n instanceof $root.rov_actions_proto.MoveAction)return n;let r=new $root.rov_actions_proto.MoveAction;return n.VelocityX!=null&&(r.VelocityX=Number(n.VelocityX)),n.VelocityY!=null&&(r.VelocityY=Number(n.VelocityY)),n.VelocityZ!=null&&(r.VelocityZ=Number(n.VelocityZ)),n.AngularVelocityYaw!=null&&(r.AngularVelocityYaw=Number(n.AngularVelocityYaw)),r},t.toObject=function(n,r){r||(r={});let o={};return r.defaults&&(o.VelocityX=0,o.VelocityY=0,o.VelocityZ=0,o.AngularVelocityYaw=0),n.VelocityX!=null&&n.hasOwnProperty("VelocityX")&&(o.VelocityX=r.json&&!isFinite(n.VelocityX)?String(n.VelocityX):n.VelocityX),n.VelocityY!=null&&n.hasOwnProperty("VelocityY")&&(o.VelocityY=r.json&&!isFinite(n.VelocityY)?String(n.VelocityY):n.VelocityY),n.VelocityZ!=null&&n.hasOwnProperty("VelocityZ")&&(o.VelocityZ=r.json&&!isFinite(n.VelocityZ)?String(n.VelocityZ):n.VelocityZ),n.AngularVelocityYaw!=null&&n.hasOwnProperty("AngularVelocityYaw")&&(o.AngularVelocityYaw=r.json&&!isFinite(n.AngularVelocityYaw)?String(n.AngularVelocityYaw):n.AngularVelocityYaw),o},t.prototype.toJSON=function(){return this.constructor.toObject(this,minimal.util.toJSONOptions)},t.getTypeUrl=function(n){return n===void 0&&(n="type.googleapis.com"),n+"/rov_actions_proto.MoveAction"},t}(),e.BeginVideoStreamAction=function(){function t(i){if(i)for(let n=Object.keys(i),r=0;r<n.length;++r)i[n[r]]!=null&&(this[n[r]]=i[n[r]])}return t.create=function(n){return new t(n)},t.encode=function(n,r){return r||(r=$Writer.create()),r},t.encodeDelimited=function(n,r){return this.encode(n,r).ldelim()},t.decode=function(n,r){n instanceof $Reader||(n=$Reader.create(n));let o=r===void 0?n.len:n.pos+r,a=new $root.rov_actions_proto.BeginVideoStreamAction;for(;n.pos<o;){let s=n.uint32();switch(s>>>3){default:n.skipType(s&7);break}}return a},t.decodeDelimited=function(n){return n instanceof $Reader||(n=new $Reader(n)),this.decode(n,n.uint32())},t.verify=function(n){return typeof n!="object"||n===null?"object expected":null},t.fromObject=function(n){return n instanceof $root.rov_actions_proto.BeginVideoStreamAction?n:new $root.rov_actions_proto.BeginVideoStreamAction},t.toObject=function(){return{}},t.prototype.toJSON=function(){return this.constructor.toObject(this,minimal.util.toJSONOptions)},t.getTypeUrl=function(n){return n===void 0&&(n="type.googleapis.com"),n+"/rov_actions_proto.BeginVideoStreamAction"},t}(),e.TakePhotoAction=function(){function t(i){if(i)for(let n=Object.keys(i),r=0;r<n.length;++r)i[n[r]]!=null&&(this[n[r]]=i[n[r]])}return t.create=function(n){return new t(n)},t.encode=function(n,r){return r||(r=$Writer.create()),r},t.encodeDelimited=function(n,r){return this.encode(n,r).ldelim()},t.decode=function(n,r){n instanceof $Reader||(n=$Reader.create(n));let o=r===void 0?n.len:n.pos+r,a=new $root.rov_actions_proto.TakePhotoAction;for(;n.pos<o;){let s=n.uint32();switch(s>>>3){default:n.skipType(s&7);break}}return a},t.decodeDelimited=function(n){return n instanceof $Reader||(n=new $Reader(n)),this.decode(n,n.uint32())},t.verify=function(n){return typeof n!="object"||n===null?"object expected":null},t.fromObject=function(n){return n instanceof $root.rov_actions_proto.TakePhotoAction?n:new $root.rov_actions_proto.TakePhotoAction},t.toObject=function(){return{}},t.prototype.toJSON=function(){return this.constructor.toObject(this,minimal.util.toJSONOptions)},t.getTypeUrl=function(n){return n===void 0&&(n="type.googleapis.com"),n+"/rov_actions_proto.TakePhotoAction"},t}(),e.StartVideoRecAction=function(){function t(i){if(i)for(let n=Object.keys(i),r=0;r<n.length;++r)i[n[r]]!=null&&(this[n[r]]=i[n[r]])}return t.create=function(n){return new t(n)},t.encode=function(n,r){return r||(r=$Writer.create()),r},t.encodeDelimited=function(n,r){return this.encode(n,r).ldelim()},t.decode=function(n,r){n instanceof $Reader||(n=$Reader.create(n));let o=r===void 0?n.len:n.pos+r,a=new $root.rov_actions_proto.StartVideoRecAction;for(;n.pos<o;){let s=n.uint32();switch(s>>>3){default:n.skipType(s&7);break}}return a},t.decodeDelimited=function(n){return n instanceof $Reader||(n=new $Reader(n)),this.decode(n,n.uint32())},t.verify=function(n){return typeof n!="object"||n===null?"object expected":null},t.fromObject=function(n){return n instanceof $root.rov_actions_proto.StartVideoRecAction?n:new $root.rov_actions_proto.StartVideoRecAction},t.toObject=function(){return{}},t.prototype.toJSON=function(){return this.constructor.toObject(this,minimal.util.toJSONOptions)},t.getTypeUrl=function(n){return n===void 0&&(n="type.googleapis.com"),n+"/rov_actions_proto.StartVideoRecAction"},t}(),e.StopVideoRecAction=function(){function t(i){if(i)for(let n=Object.keys(i),r=0;r<n.length;++r)i[n[r]]!=null&&(this[n[r]]=i[n[r]])}return t.create=function(n){return new t(n)},t.encode=function(n,r){return r||(r=$Writer.create()),r},t.encodeDelimited=function(n,r){return this.encode(n,r).ldelim()},t.decode=function(n,r){n instanceof $Reader||(n=$Reader.create(n));let o=r===void 0?n.len:n.pos+r,a=new $root.rov_actions_proto.StopVideoRecAction;for(;n.pos<o;){let s=n.uint32();switch(s>>>3){default:n.skipType(s&7);break}}return a},t.decodeDelimited=function(n){return n instanceof $Reader||(n=new $Reader(n)),this.decode(n,n.uint32())},t.verify=function(n){return typeof n!="object"||n===null?"object expected":null},t.fromObject=function(n){return n instanceof $root.rov_actions_proto.StopVideoRecAction?n:new $root.rov_actions_proto.StopVideoRecAction},t.toObject=function(){return{}},t.prototype.toJSON=function(){return this.constructor.toObject(this,minimal.util.toJSONOptions)},t.getTypeUrl=function(n){return n===void 0&&(n="type.googleapis.com"),n+"/rov_actions_proto.StopVideoRecAction"},t}(),e.ToogleLightsAction=function(){function t(i){if(i)for(let n=Object.keys(i),r=0;r<n.length;++r)i[n[r]]!=null&&(this[n[r]]=i[n[r]])}return t.create=function(n){return new t(n)},t.encode=function(n,r){return r||(r=$Writer.create()),r},t.encodeDelimited=function(n,r){return this.encode(n,r).ldelim()},t.decode=function(n,r){n instanceof $Reader||(n=$Reader.create(n));let o=r===void 0?n.len:n.pos+r,a=new $root.rov_actions_proto.ToogleLightsAction;for(;n.pos<o;){let s=n.uint32();switch(s>>>3){default:n.skipType(s&7);break}}return a},t.decodeDelimited=function(n){return n instanceof $Reader||(n=new $Reader(n)),this.decode(n,n.uint32())},t.verify=function(n){return typeof n!="object"||n===null?"object expected":null},t.fromObject=function(n){return n instanceof $root.rov_actions_proto.ToogleLightsAction?n:new $root.rov_actions_proto.ToogleLightsAction},t.toObject=function(){return{}},t.prototype.toJSON=function(){return this.constructor.toObject(this,minimal.util.toJSONOptions)},t.getTypeUrl=function(n){return n===void 0&&(n="type.googleapis.com"),n+"/rov_actions_proto.ToogleLightsAction"},t}(),e.ShutdownRovAction=function(){function t(i){if(i)for(let n=Object.keys(i),r=0;r<n.length;++r)i[n[r]]!=null&&(this[n[r]]=i[n[r]])}return t.create=function(n){return new t(n)},t.encode=function(n,r){return r||(r=$Writer.create()),r},t.encodeDelimited=function(n,r){return this.encode(n,r).ldelim()},t.decode=function(n,r){n instanceof $Reader||(n=$Reader.create(n));let o=r===void 0?n.len:n.pos+r,a=new $root.rov_actions_proto.ShutdownRovAction;for(;n.pos<o;){let s=n.uint32();switch(s>>>3){default:n.skipType(s&7);break}}return a},t.decodeDelimited=function(n){return n instanceof $Reader||(n=new $Reader(n)),this.decode(n,n.uint32())},t.verify=function(n){return typeof n!="object"||n===null?"object expected":null},t.fromObject=function(n){return n instanceof $root.rov_actions_proto.ShutdownRovAction?n:new $root.rov_actions_proto.ShutdownRovAction},t.toObject=function(){return{}},t.prototype.toJSON=function(){return this.constructor.toObject(this,minimal.util.toJSONOptions)},t.getTypeUrl=function(n){return n===void 0&&(n="type.googleapis.com"),n+"/rov_actions_proto.ShutdownRovAction"},t}(),e.RebootRovAction=function(){function t(i){if(i)for(let n=Object.keys(i),r=0;r<n.length;++r)i[n[r]]!=null&&(this[n[r]]=i[n[r]])}return t.create=function(n){return new t(n)},t.encode=function(n,r){return r||(r=$Writer.create()),r},t.encodeDelimited=function(n,r){return this.encode(n,r).ldelim()},t.decode=function(n,r){n instanceof $Reader||(n=$Reader.create(n));let o=r===void 0?n.len:n.pos+r,a=new $root.rov_actions_proto.RebootRovAction;for(;n.pos<o;){let s=n.uint32();switch(s>>>3){default:n.skipType(s&7);break}}return a},t.decodeDelimited=function(n){return n instanceof $Reader||(n=new $Reader(n)),this.decode(n,n.uint32())},t.verify=function(n){return typeof n!="object"||n===null?"object expected":null},t.fromObject=function(n){return n instanceof $root.rov_actions_proto.RebootRovAction?n:new $root.rov_actions_proto.RebootRovAction},t.toObject=function(){return{}},t.prototype.toJSON=function(){return this.constructor.toObject(this,minimal.util.toJSONOptions)},t.getTypeUrl=function(n){return n===void 0&&(n="type.googleapis.com"),n+"/rov_actions_proto.RebootRovAction"},t}(),e.EnableWifiAction=function(){function t(i){if(i)for(let n=Object.keys(i),r=0;r<n.length;++r)i[n[r]]!=null&&(this[n[r]]=i[n[r]])}return t.create=function(n){return new t(n)},t.encode=function(n,r){return r||(r=$Writer.create()),r},t.encodeDelimited=function(n,r){return this.encode(n,r).ldelim()},t.decode=function(n,r){n instanceof $Reader||(n=$Reader.create(n));let o=r===void 0?n.len:n.pos+r,a=new $root.rov_actions_proto.EnableWifiAction;for(;n.pos<o;){let s=n.uint32();switch(s>>>3){default:n.skipType(s&7);break}}return a},t.decodeDelimited=function(n){return n instanceof $Reader||(n=new $Reader(n)),this.decode(n,n.uint32())},t.verify=function(n){return typeof n!="object"||n===null?"object expected":null},t.fromObject=function(n){return n instanceof $root.rov_actions_proto.EnableWifiAction?n:new $root.rov_actions_proto.EnableWifiAction},t.toObject=function(){return{}},t.prototype.toJSON=function(){return this.constructor.toObject(this,minimal.util.toJSONOptions)},t.getTypeUrl=function(n){return n===void 0&&(n="type.googleapis.com"),n+"/rov_actions_proto.EnableWifiAction"},t}(),e.DisableWifiAction=function(){function t(i){if(i)for(let n=Object.keys(i),r=0;r<n.length;++r)i[n[r]]!=null&&(this[n[r]]=i[n[r]])}return t.create=function(n){return new t(n)},t.encode=function(n,r){return r||(r=$Writer.create()),r},t.encodeDelimited=function(n,r){return this.encode(n,r).ldelim()},t.decode=function(n,r){n instanceof $Reader||(n=$Reader.create(n));let o=r===void 0?n.len:n.pos+r,a=new $root.rov_actions_proto.DisableWifiAction;for(;n.pos<o;){let s=n.uint32();switch(s>>>3){default:n.skipType(s&7);break}}return a},t.decodeDelimited=function(n){return n instanceof $Reader||(n=new $Reader(n)),this.decode(n,n.uint32())},t.verify=function(n){return typeof n!="object"||n===null?"object expected":null},t.fromObject=function(n){return n instanceof $root.rov_actions_proto.DisableWifiAction?n:new $root.rov_actions_proto.DisableWifiAction},t.toObject=function(){return{}},t.prototype.toJSON=function(){return this.constructor.toObject(this,minimal.util.toJSONOptions)},t.getTypeUrl=function(n){return n===void 0&&(n="type.googleapis.com"),n+"/rov_actions_proto.DisableWifiAction"},t}(),e.RovStatusReportAction=function(){function t(i){if(i)for(let n=Object.keys(i),r=0;r<n.length;++r)i[n[r]]!=null&&(this[n[r]]=i[n[r]])}return t.create=function(n){return new t(n)},t.encode=function(n,r){return r||(r=$Writer.create()),r},t.encodeDelimited=function(n,r){return this.encode(n,r).ldelim()},t.decode=function(n,r){n instanceof $Reader||(n=$Reader.create(n));let o=r===void 0?n.len:n.pos+r,a=new $root.rov_actions_proto.RovStatusReportAction;for(;n.pos<o;){let s=n.uint32();switch(s>>>3){default:n.skipType(s&7);break}}return a},t.decodeDelimited=function(n){return n instanceof $Reader||(n=new $Reader(n)),this.decode(n,n.uint32())},t.verify=function(n){return typeof n!="object"||n===null?"object expected":null},t.fromObject=function(n){return n instanceof $root.rov_actions_proto.RovStatusReportAction?n:new $root.rov_actions_proto.RovStatusReportAction},t.toObject=function(){return{}},t.prototype.toJSON=function(){return this.constructor.toObject(this,minimal.util.toJSONOptions)},t.getTypeUrl=function(n){return n===void 0&&(n="type.googleapis.com"),n+"/rov_actions_proto.RovStatusReportAction"},t}(),e.RestartRovServicesAction=function(){function t(i){if(i)for(let n=Object.keys(i),r=0;r<n.length;++r)i[n[r]]!=null&&(this[n[r]]=i[n[r]])}return t.create=function(n){return new t(n)},t.encode=function(n,r){return r||(r=$Writer.create()),r},t.encodeDelimited=function(n,r){return this.encode(n,r).ldelim()},t.decode=function(n,r){n instanceof $Reader||(n=$Reader.create(n));let o=r===void 0?n.len:n.pos+r,a=new $root.rov_actions_proto.RestartRovServicesAction;for(;n.pos<o;){let s=n.uint32();switch(s>>>3){default:n.skipType(s&7);break}}return a},t.decodeDelimited=function(n){return n instanceof $Reader||(n=new $Reader(n)),this.decode(n,n.uint32())},t.verify=function(n){return typeof n!="object"||n===null?"object expected":null},t.fromObject=function(n){return n instanceof $root.rov_actions_proto.RestartRovServicesAction?n:new $root.rov_actions_proto.RestartRovServicesAction},t.toObject=function(){return{}},t.prototype.toJSON=function(){return this.constructor.toObject(this,minimal.util.toJSONOptions)},t.getTypeUrl=function(n){return n===void 0&&(n="type.googleapis.com"),n+"/rov_actions_proto.RestartRovServicesAction"},t}(),e.RovLogsAction=function(){function t(i){if(i)for(let n=Object.keys(i),r=0;r<n.length;++r)i[n[r]]!=null&&(this[n[r]]=i[n[r]])}return t.create=function(n){return new t(n)},t.encode=function(n,r){return r||(r=$Writer.create()),r},t.encodeDelimited=function(n,r){return this.encode(n,r).ldelim()},t.decode=function(n,r){n instanceof $Reader||(n=$Reader.create(n));let o=r===void 0?n.len:n.pos+r,a=new $root.rov_actions_proto.RovLogsAction;for(;n.pos<o;){let s=n.uint32();switch(s>>>3){default:n.skipType(s&7);break}}return a},t.decodeDelimited=function(n){return n instanceof $Reader||(n=new $Reader(n)),this.decode(n,n.uint32())},t.verify=function(n){return typeof n!="object"||n===null?"object expected":null},t.fromObject=function(n){return n instanceof $root.rov_actions_proto.RovLogsAction?n:new $root.rov_actions_proto.RovLogsAction},t.toObject=function(){return{}},t.prototype.toJSON=function(){return this.constructor.toObject(this,minimal.util.toJSONOptions)},t.getTypeUrl=function(n){return n===void 0&&(n="type.googleapis.com"),n+"/rov_actions_proto.RovLogsAction"},t}(),e.RefreshAllSensorsAction=function(){function t(i){if(i)for(let n=Object.keys(i),r=0;r<n.length;++r)i[n[r]]!=null&&(this[n[r]]=i[n[r]])}return t.create=function(n){return new t(n)},t.encode=function(n,r){return r||(r=$Writer.create()),r},t.encodeDelimited=function(n,r){return this.encode(n,r).ldelim()},t.decode=function(n,r){n instanceof $Reader||(n=$Reader.create(n));let o=r===void 0?n.len:n.pos+r,a=new $root.rov_actions_proto.RefreshAllSensorsAction;for(;n.pos<o;){let s=n.uint32();switch(s>>>3){default:n.skipType(s&7);break}}return a},t.decodeDelimited=function(n){return n instanceof $Reader||(n=new $Reader(n)),this.decode(n,n.uint32())},t.verify=function(n){return typeof n!="object"||n===null?"object expected":null},t.fromObject=function(n){return n instanceof $root.rov_actions_proto.RefreshAllSensorsAction?n:new $root.rov_actions_proto.RefreshAllSensorsAction},t.toObject=function(){return{}},t.prototype.toJSON=function(){return this.constructor.toObject(this,minimal.util.toJSONOptions)},t.getTypeUrl=function(n){return n===void 0&&(n="type.googleapis.com"),n+"/rov_actions_proto.RefreshAllSensorsAction"},t}(),e.MavlinkAction=function(){function t(i){if(i)for(let n=Object.keys(i),r=0;r<n.length;++r)i[n[r]]!=null&&(this[n[r]]=i[n[r]])}return t.prototype.Message=$util.newBuffer([]),t.create=function(n){return new t(n)},t.encode=function(n,r){return r||(r=$Writer.create()),n.Message!=null&&Object.hasOwnProperty.call(n,"Message")&&r.uint32(10).bytes(n.Message),r},t.encodeDelimited=function(n,r){return this.encode(n,r).ldelim()},t.decode=function(n,r){n instanceof $Reader||(n=$Reader.create(n));let o=r===void 0?n.len:n.pos+r,a=new $root.rov_actions_proto.MavlinkAction;for(;n.pos<o;){let s=n.uint32();switch(s>>>3){case 1:{a.Message=n.bytes();break}default:n.skipType(s&7);break}}return a},t.decodeDelimited=function(n){return n instanceof $Reader||(n=new $Reader(n)),this.decode(n,n.uint32())},t.verify=function(n){return typeof n!="object"||n===null?"object expected":n.Message!=null&&n.hasOwnProperty("Message")&&!(n.Message&&typeof n.Message.length=="number"||$util.isString(n.Message))?"Message: buffer expected":null},t.fromObject=function(n){if(n instanceof $root.rov_actions_proto.MavlinkAction)return n;let r=new $root.rov_actions_proto.MavlinkAction;return n.Message!=null&&(typeof n.Message=="string"?$util.base64.decode(n.Message,r.Message=$util.newBuffer($util.base64.length(n.Message)),0):n.Message.length>=0&&(r.Message=n.Message)),r},t.toObject=function(n,r){r||(r={});let o={};return r.defaults&&(r.bytes===String?o.Message="":(o.Message=[],r.bytes!==Array&&(o.Message=$util.newBuffer(o.Message)))),n.Message!=null&&n.hasOwnProperty("Message")&&(o.Message=r.bytes===String?$util.base64.encode(n.Message,0,n.Message.length):r.bytes===Array?Array.prototype.slice.call(n.Message):n.Message),o},t.prototype.toJSON=function(){return this.constructor.toObject(this,minimal.util.toJSONOptions)},t.getTypeUrl=function(n){return n===void 0&&(n="type.googleapis.com"),n+"/rov_actions_proto.MavlinkAction"},t}(),e.SimplepeerSignalAction=function(){function t(i){if(i)for(let n=Object.keys(i),r=0;r<n.length;++r)i[n[r]]!=null&&(this[n[r]]=i[n[r]])}return t.prototype.Message="",t.create=function(n){return new t(n)},t.encode=function(n,r){return r||(r=$Writer.create()),n.Message!=null&&Object.hasOwnProperty.call(n,"Message")&&r.uint32(10).string(n.Message),r},t.encodeDelimited=function(n,r){return this.encode(n,r).ldelim()},t.decode=function(n,r){n instanceof $Reader||(n=$Reader.create(n));let o=r===void 0?n.len:n.pos+r,a=new $root.rov_actions_proto.SimplepeerSignalAction;for(;n.pos<o;){let s=n.uint32();switch(s>>>3){case 1:{a.Message=n.string();break}default:n.skipType(s&7);break}}return a},t.decodeDelimited=function(n){return n instanceof $Reader||(n=new $Reader(n)),this.decode(n,n.uint32())},t.verify=function(n){return typeof n!="object"||n===null?"object expected":n.Message!=null&&n.hasOwnProperty("Message")&&!$util.isString(n.Message)?"Message: string expected":null},t.fromObject=function(n){if(n instanceof $root.rov_actions_proto.SimplepeerSignalAction)return n;let r=new $root.rov_actions_proto.SimplepeerSignalAction;return n.Message!=null&&(r.Message=String(n.Message)),r},t.toObject=function(n,r){r||(r={});let o={};return r.defaults&&(o.Message=""),n.Message!=null&&n.hasOwnProperty("Message")&&(o.Message=n.Message),o},t.prototype.toJSON=function(){return this.constructor.toObject(this,minimal.util.toJSONOptions)},t.getTypeUrl=function(n){return n===void 0&&(n="type.googleapis.com"),n+"/rov_actions_proto.SimplepeerSignalAction"},t}(),e.DisarmAction=function(){function t(i){if(i)for(let n=Object.keys(i),r=0;r<n.length;++r)i[n[r]]!=null&&(this[n[r]]=i[n[r]])}return t.create=function(n){return new t(n)},t.encode=function(n,r){return r||(r=$Writer.create()),r},t.encodeDelimited=function(n,r){return this.encode(n,r).ldelim()},t.decode=function(n,r){n instanceof $Reader||(n=$Reader.create(n));let o=r===void 0?n.len:n.pos+r,a=new $root.rov_actions_proto.DisarmAction;for(;n.pos<o;){let s=n.uint32();switch(s>>>3){default:n.skipType(s&7);break}}return a},t.decodeDelimited=function(n){return n instanceof $Reader||(n=new $Reader(n)),this.decode(n,n.uint32())},t.verify=function(n){return typeof n!="object"||n===null?"object expected":null},t.fromObject=function(n){return n instanceof $root.rov_actions_proto.DisarmAction?n:new $root.rov_actions_proto.DisarmAction},t.toObject=function(){return{}},t.prototype.toJSON=function(){return this.constructor.toObject(this,minimal.util.toJSONOptions)},t.getTypeUrl=function(n){return n===void 0&&(n="type.googleapis.com"),n+"/rov_actions_proto.DisarmAction"},t}(),e.SetAutopilotModeAction=function(){function t(i){if(i)for(let n=Object.keys(i),r=0;r<n.length;++r)i[n[r]]!=null&&(this[n[r]]=i[n[r]])}return t.prototype.mode=0,t.create=function(n){return new t(n)},t.encode=function(n,r){return r||(r=$Writer.create()),n.mode!=null&&Object.hasOwnProperty.call(n,"mode")&&r.uint32(8).int32(n.mode),r},t.encodeDelimited=function(n,r){return this.encode(n,r).ldelim()},t.decode=function(n,r){n instanceof $Reader||(n=$Reader.create(n));let o=r===void 0?n.len:n.pos+r,a=new $root.rov_actions_proto.SetAutopilotModeAction;for(;n.pos<o;){let s=n.uint32();switch(s>>>3){case 1:{a.mode=n.int32();break}default:n.skipType(s&7);break}}return a},t.decodeDelimited=function(n){return n instanceof $Reader||(n=new $Reader(n)),this.decode(n,n.uint32())},t.verify=function(n){return typeof n!="object"||n===null?"object expected":n.mode!=null&&n.hasOwnProperty("mode")&&!$util.isInteger(n.mode)?"mode: integer expected":null},t.fromObject=function(n){if(n instanceof $root.rov_actions_proto.SetAutopilotModeAction)return n;let r=new $root.rov_actions_proto.SetAutopilotModeAction;return n.mode!=null&&(r.mode=n.mode|0),r},t.toObject=function(n,r){r||(r={});let o={};return r.defaults&&(o.mode=0),n.mode!=null&&n.hasOwnProperty("mode")&&(o.mode=n.mode),o},t.prototype.toJSON=function(){return this.constructor.toObject(this,minimal.util.toJSONOptions)},t.getTypeUrl=function(n){return n===void 0&&(n="type.googleapis.com"),n+"/rov_actions_proto.SetAutopilotModeAction"},t}(),e.ActionBackendMetadata=function(){function t(i){if(i)for(let n=Object.keys(i),r=0;r<n.length;++r)i[n[r]]!=null&&(this[n[r]]=i[n[r]])}return t.prototype.FromUserId="",t.prototype.InternalWebpageEvt=0,t.create=function(n){return new t(n)},t.encode=function(n,r){return r||(r=$Writer.create()),n.FromUserId!=null&&Object.hasOwnProperty.call(n,"FromUserId")&&r.uint32(10).string(n.FromUserId),n.InternalWebpageEvt!=null&&Object.hasOwnProperty.call(n,"InternalWebpageEvt")&&r.uint32(16).int32(n.InternalWebpageEvt),r},t.encodeDelimited=function(n,r){return this.encode(n,r).ldelim()},t.decode=function(n,r){n instanceof $Reader||(n=$Reader.create(n));let o=r===void 0?n.len:n.pos+r,a=new $root.rov_actions_proto.ActionBackendMetadata;for(;n.pos<o;){let s=n.uint32();switch(s>>>3){case 1:{a.FromUserId=n.string();break}case 2:{a.InternalWebpageEvt=n.int32();break}default:n.skipType(s&7);break}}return a},t.decodeDelimited=function(n){return n instanceof $Reader||(n=new $Reader(n)),this.decode(n,n.uint32())},t.verify=function(n){if(typeof n!="object"||n===null)return"object expected";if(n.FromUserId!=null&&n.hasOwnProperty("FromUserId")&&!$util.isString(n.FromUserId))return"FromUserId: string expected";if(n.InternalWebpageEvt!=null&&n.hasOwnProperty("InternalWebpageEvt"))switch(n.InternalWebpageEvt){default:return"InternalWebpageEvt: enum value expected";case 0:case 1:case 2:case 3:case 4:break}return null},t.fromObject=function(n){if(n instanceof $root.rov_actions_proto.ActionBackendMetadata)return n;let r=new $root.rov_actions_proto.ActionBackendMetadata;switch(n.FromUserId!=null&&(r.FromUserId=String(n.FromUserId)),n.InternalWebpageEvt){default:if(typeof n.InternalWebpageEvt=="number"){r.InternalWebpageEvt=n.InternalWebpageEvt;break}break;case"Nothing":case 0:r.InternalWebpageEvt=0;break;case"RovConnected":case 1:r.InternalWebpageEvt=1;break;case"RovDisconnected":case 2:r.InternalWebpageEvt=2;break;case"UserConnected":case 3:r.InternalWebpageEvt=3;break;case"UserDisconnected":case 4:r.InternalWebpageEvt=4;break}return r},t.toObject=function(n,r){r||(r={});let o={};return r.defaults&&(o.FromUserId="",o.InternalWebpageEvt=r.enums===String?"Nothing":0),n.FromUserId!=null&&n.hasOwnProperty("FromUserId")&&(o.FromUserId=n.FromUserId),n.InternalWebpageEvt!=null&&n.hasOwnProperty("InternalWebpageEvt")&&(o.InternalWebpageEvt=r.enums===String?$root.rov_actions_proto.InternalWebpageEvent[n.InternalWebpageEvt]===void 0?n.InternalWebpageEvt:$root.rov_actions_proto.InternalWebpageEvent[n.InternalWebpageEvt]:n.InternalWebpageEvt),o},t.prototype.toJSON=function(){return this.constructor.toObject(this,minimal.util.toJSONOptions)},t.getTypeUrl=function(n){return n===void 0&&(n="type.googleapis.com"),n+"/rov_actions_proto.ActionBackendMetadata"},t}(),e.RovAction=function(){function t(n){if(n)for(let r=Object.keys(n),o=0;o<r.length;++o)n[r[o]]!=null&&(this[r[o]]=n[r[o]])}t.prototype.BackendMetadata=null,t.prototype.ExchangeId=0,t.prototype.Ping=null,t.prototype.PasswordAttempt=null,t.prototype.AuthTokenAttempt=null,t.prototype.TakeControl=null,t.prototype.Move=null,t.prototype.BeginVideoStream=null,t.prototype.TakePhoto=null,t.prototype.StartVideoRec=null,t.prototype.StopVideoRec=null,t.prototype.ToogleLights=null,t.prototype.ShutdownRov=null,t.prototype.RebootRov=null,t.prototype.EnableWifi=null,t.prototype.DisableWifi=null,t.prototype.RovStatusReport=null,t.prototype.RestartRovServices=null,t.prototype.RovLogs=null,t.prototype.RefreshAllSensors=null,t.prototype.Mavlink=null,t.prototype.SimplepeerSignal=null,t.prototype.Disarm=null,t.prototype.SetAutopilotMode=null;let i;return Object.defineProperty(t.prototype,"Body",{get:$util.oneOfGetter(i=["Ping","PasswordAttempt","AuthTokenAttempt","TakeControl","Move","BeginVideoStream","TakePhoto","StartVideoRec","StopVideoRec","ToogleLights","ShutdownRov","RebootRov","EnableWifi","DisableWifi","RovStatusReport","RestartRovServices","RovLogs","RefreshAllSensors","Mavlink","SimplepeerSignal","Disarm","SetAutopilotMode"]),set:$util.oneOfSetter(i)}),t.create=function(r){return new t(r)},t.encode=function(r,o){return o||(o=$Writer.create()),r.BackendMetadata!=null&&Object.hasOwnProperty.call(r,"BackendMetadata")&&$root.rov_actions_proto.ActionBackendMetadata.encode(r.BackendMetadata,o.uint32(10).fork()).ldelim(),r.ExchangeId!=null&&Object.hasOwnProperty.call(r,"ExchangeId")&&o.uint32(16).int32(r.ExchangeId),r.Ping!=null&&Object.hasOwnProperty.call(r,"Ping")&&$root.rov_actions_proto.PingAction.encode(r.Ping,o.uint32(26).fork()).ldelim(),r.PasswordAttempt!=null&&Object.hasOwnProperty.call(r,"PasswordAttempt")&&$root.rov_actions_proto.PasswordAttemptAction.encode(r.PasswordAttempt,o.uint32(34).fork()).ldelim(),r.AuthTokenAttempt!=null&&Object.hasOwnProperty.call(r,"AuthTokenAttempt")&&$root.rov_actions_proto.AuthTokenAttemptAction.encode(r.AuthTokenAttempt,o.uint32(42).fork()).ldelim(),r.TakeControl!=null&&Object.hasOwnProperty.call(r,"TakeControl")&&$root.rov_actions_proto.TakeControlAction.encode(r.TakeControl,o.uint32(50).fork()).ldelim(),r.Move!=null&&Object.hasOwnProperty.call(r,"Move")&&$root.rov_actions_proto.MoveAction.encode(r.Move,o.uint32(58).fork()).ldelim(),r.BeginVideoStream!=null&&Object.hasOwnProperty.call(r,"BeginVideoStream")&&$root.rov_actions_proto.BeginVideoStreamAction.encode(r.BeginVideoStream,o.uint32(66).fork()).ldelim(),r.TakePhoto!=null&&Object.hasOwnProperty.call(r,"TakePhoto")&&$root.rov_actions_proto.TakePhotoAction.encode(r.TakePhoto,o.uint32(74).fork()).ldelim(),r.StartVideoRec!=null&&Object.hasOwnProperty.call(r,"StartVideoRec")&&$root.rov_actions_proto.StartVideoRecAction.encode(r.StartVideoRec,o.uint32(82).fork()).ldelim(),r.StopVideoRec!=null&&Object.hasOwnProperty.call(r,"StopVideoRec")&&$root.rov_actions_proto.StopVideoRecAction.encode(r.StopVideoRec,o.uint32(90).fork()).ldelim(),r.ToogleLights!=null&&Object.hasOwnProperty.call(r,"ToogleLights")&&$root.rov_actions_proto.ToogleLightsAction.encode(r.ToogleLights,o.uint32(98).fork()).ldelim(),r.ShutdownRov!=null&&Object.hasOwnProperty.call(r,"ShutdownRov")&&$root.rov_actions_proto.ShutdownRovAction.encode(r.ShutdownRov,o.uint32(106).fork()).ldelim(),r.RebootRov!=null&&Object.hasOwnProperty.call(r,"RebootRov")&&$root.rov_actions_proto.RebootRovAction.encode(r.RebootRov,o.uint32(114).fork()).ldelim(),r.EnableWifi!=null&&Object.hasOwnProperty.call(r,"EnableWifi")&&$root.rov_actions_proto.EnableWifiAction.encode(r.EnableWifi,o.uint32(122).fork()).ldelim(),r.DisableWifi!=null&&Object.hasOwnProperty.call(r,"DisableWifi")&&$root.rov_actions_proto.DisableWifiAction.encode(r.DisableWifi,o.uint32(130).fork()).ldelim(),r.RovStatusReport!=null&&Object.hasOwnProperty.call(r,"RovStatusReport")&&$root.rov_actions_proto.RovStatusReportAction.encode(r.RovStatusReport,o.uint32(138).fork()).ldelim(),r.RestartRovServices!=null&&Object.hasOwnProperty.call(r,"RestartRovServices")&&$root.rov_actions_proto.RestartRovServicesAction.encode(r.RestartRovServices,o.uint32(146).fork()).ldelim(),r.RovLogs!=null&&Object.hasOwnProperty.call(r,"RovLogs")&&$root.rov_actions_proto.RovLogsAction.encode(r.RovLogs,o.uint32(154).fork()).ldelim(),r.RefreshAllSensors!=null&&Object.hasOwnProperty.call(r,"RefreshAllSensors")&&$root.rov_actions_proto.RefreshAllSensorsAction.encode(r.RefreshAllSensors,o.uint32(162).fork()).ldelim(),r.Mavlink!=null&&Object.hasOwnProperty.call(r,"Mavlink")&&$root.rov_actions_proto.MavlinkAction.encode(r.Mavlink,o.uint32(170).fork()).ldelim(),r.SimplepeerSignal!=null&&Object.hasOwnProperty.call(r,"SimplepeerSignal")&&$root.rov_actions_proto.SimplepeerSignalAction.encode(r.SimplepeerSignal,o.uint32(178).fork()).ldelim(),r.Disarm!=null&&Object.hasOwnProperty.call(r,"Disarm")&&$root.rov_actions_proto.DisarmAction.encode(r.Disarm,o.uint32(186).fork()).ldelim(),r.SetAutopilotMode!=null&&Object.hasOwnProperty.call(r,"SetAutopilotMode")&&$root.rov_actions_proto.SetAutopilotModeAction.encode(r.SetAutopilotMode,o.uint32(194).fork()).ldelim(),o},t.encodeDelimited=function(r,o){return this.encode(r,o).ldelim()},t.decode=function(r,o){r instanceof $Reader||(r=$Reader.create(r));let a=o===void 0?r.len:r.pos+o,s=new $root.rov_actions_proto.RovAction;for(;r.pos<a;){let u=r.uint32();switch(u>>>3){case 1:{s.BackendMetadata=$root.rov_actions_proto.ActionBackendMetadata.decode(r,r.uint32());break}case 2:{s.ExchangeId=r.int32();break}case 3:{s.Ping=$root.rov_actions_proto.PingAction.decode(r,r.uint32());break}case 4:{s.PasswordAttempt=$root.rov_actions_proto.PasswordAttemptAction.decode(r,r.uint32());break}case 5:{s.AuthTokenAttempt=$root.rov_actions_proto.AuthTokenAttemptAction.decode(r,r.uint32());break}case 6:{s.TakeControl=$root.rov_actions_proto.TakeControlAction.decode(r,r.uint32());break}case 7:{s.Move=$root.rov_actions_proto.MoveAction.decode(r,r.uint32());break}case 8:{s.BeginVideoStream=$root.rov_actions_proto.BeginVideoStreamAction.decode(r,r.uint32());break}case 9:{s.TakePhoto=$root.rov_actions_proto.TakePhotoAction.decode(r,r.uint32());break}case 10:{s.StartVideoRec=$root.rov_actions_proto.StartVideoRecAction.decode(r,r.uint32());break}case 11:{s.StopVideoRec=$root.rov_actions_proto.StopVideoRecAction.decode(r,r.uint32());break}case 12:{s.ToogleLights=$root.rov_actions_proto.ToogleLightsAction.decode(r,r.uint32());break}case 13:{s.ShutdownRov=$root.rov_actions_proto.ShutdownRovAction.decode(r,r.uint32());break}case 14:{s.RebootRov=$root.rov_actions_proto.RebootRovAction.decode(r,r.uint32());break}case 15:{s.EnableWifi=$root.rov_actions_proto.EnableWifiAction.decode(r,r.uint32());break}case 16:{s.DisableWifi=$root.rov_actions_proto.DisableWifiAction.decode(r,r.uint32());break}case 17:{s.RovStatusReport=$root.rov_actions_proto.RovStatusReportAction.decode(r,r.uint32());break}case 18:{s.RestartRovServices=$root.rov_actions_proto.RestartRovServicesAction.decode(r,r.uint32());break}case 19:{s.RovLogs=$root.rov_actions_proto.RovLogsAction.decode(r,r.uint32());break}case 20:{s.RefreshAllSensors=$root.rov_actions_proto.RefreshAllSensorsAction.decode(r,r.uint32());break}case 21:{s.Mavlink=$root.rov_actions_proto.MavlinkAction.decode(r,r.uint32());break}case 22:{s.SimplepeerSignal=$root.rov_actions_proto.SimplepeerSignalAction.decode(r,r.uint32());break}case 23:{s.Disarm=$root.rov_actions_proto.DisarmAction.decode(r,r.uint32());break}case 24:{s.SetAutopilotMode=$root.rov_actions_proto.SetAutopilotModeAction.decode(r,r.uint32());break}default:r.skipType(u&7);break}}return s},t.decodeDelimited=function(r){return r instanceof $Reader||(r=new $Reader(r)),this.decode(r,r.uint32())},t.verify=function(r){if(typeof r!="object"||r===null)return"object expected";let o={};if(r.BackendMetadata!=null&&r.hasOwnProperty("BackendMetadata")){let a=$root.rov_actions_proto.ActionBackendMetadata.verify(r.BackendMetadata);if(a)return"BackendMetadata."+a}if(r.ExchangeId!=null&&r.hasOwnProperty("ExchangeId")&&!$util.isInteger(r.ExchangeId))return"ExchangeId: integer expected";if(r.Ping!=null&&r.hasOwnProperty("Ping")){o.Body=1;{let a=$root.rov_actions_proto.PingAction.verify(r.Ping);if(a)return"Ping."+a}}if(r.PasswordAttempt!=null&&r.hasOwnProperty("PasswordAttempt")){if(o.Body===1)return"Body: multiple values";o.Body=1;{let a=$root.rov_actions_proto.PasswordAttemptAction.verify(r.PasswordAttempt);if(a)return"PasswordAttempt."+a}}if(r.AuthTokenAttempt!=null&&r.hasOwnProperty("AuthTokenAttempt")){if(o.Body===1)return"Body: multiple values";o.Body=1;{let a=$root.rov_actions_proto.AuthTokenAttemptAction.verify(r.AuthTokenAttempt);if(a)return"AuthTokenAttempt."+a}}if(r.TakeControl!=null&&r.hasOwnProperty("TakeControl")){if(o.Body===1)return"Body: multiple values";o.Body=1;{let a=$root.rov_actions_proto.TakeControlAction.verify(r.TakeControl);if(a)return"TakeControl."+a}}if(r.Move!=null&&r.hasOwnProperty("Move")){if(o.Body===1)return"Body: multiple values";o.Body=1;{let a=$root.rov_actions_proto.MoveAction.verify(r.Move);if(a)return"Move."+a}}if(r.BeginVideoStream!=null&&r.hasOwnProperty("BeginVideoStream")){if(o.Body===1)return"Body: multiple values";o.Body=1;{let a=$root.rov_actions_proto.BeginVideoStreamAction.verify(r.BeginVideoStream);if(a)return"BeginVideoStream."+a}}if(r.TakePhoto!=null&&r.hasOwnProperty("TakePhoto")){if(o.Body===1)return"Body: multiple values";o.Body=1;{let a=$root.rov_actions_proto.TakePhotoAction.verify(r.TakePhoto);if(a)return"TakePhoto."+a}}if(r.StartVideoRec!=null&&r.hasOwnProperty("StartVideoRec")){if(o.Body===1)return"Body: multiple values";o.Body=1;{let a=$root.rov_actions_proto.StartVideoRecAction.verify(r.StartVideoRec);if(a)return"StartVideoRec."+a}}if(r.StopVideoRec!=null&&r.hasOwnProperty("StopVideoRec")){if(o.Body===1)return"Body: multiple values";o.Body=1;{let a=$root.rov_actions_proto.StopVideoRecAction.verify(r.StopVideoRec);if(a)return"StopVideoRec."+a}}if(r.ToogleLights!=null&&r.hasOwnProperty("ToogleLights")){if(o.Body===1)return"Body: multiple values";o.Body=1;{let a=$root.rov_actions_proto.ToogleLightsAction.verify(r.ToogleLights);if(a)return"ToogleLights."+a}}if(r.ShutdownRov!=null&&r.hasOwnProperty("ShutdownRov")){if(o.Body===1)return"Body: multiple values";o.Body=1;{let a=$root.rov_actions_proto.ShutdownRovAction.verify(r.ShutdownRov);if(a)return"ShutdownRov."+a}}if(r.RebootRov!=null&&r.hasOwnProperty("RebootRov")){if(o.Body===1)return"Body: multiple values";o.Body=1;{let a=$root.rov_actions_proto.RebootRovAction.verify(r.RebootRov);if(a)return"RebootRov."+a}}if(r.EnableWifi!=null&&r.hasOwnProperty("EnableWifi")){if(o.Body===1)return"Body: multiple values";o.Body=1;{let a=$root.rov_actions_proto.EnableWifiAction.verify(r.EnableWifi);if(a)return"EnableWifi."+a}}if(r.DisableWifi!=null&&r.hasOwnProperty("DisableWifi")){if(o.Body===1)return"Body: multiple values";o.Body=1;{let a=$root.rov_actions_proto.DisableWifiAction.verify(r.DisableWifi);if(a)return"DisableWifi."+a}}if(r.RovStatusReport!=null&&r.hasOwnProperty("RovStatusReport")){if(o.Body===1)return"Body: multiple values";o.Body=1;{let a=$root.rov_actions_proto.RovStatusReportAction.verify(r.RovStatusReport);if(a)return"RovStatusReport."+a}}if(r.RestartRovServices!=null&&r.hasOwnProperty("RestartRovServices")){if(o.Body===1)return"Body: multiple values";o.Body=1;{let a=$root.rov_actions_proto.RestartRovServicesAction.verify(r.RestartRovServices);if(a)return"RestartRovServices."+a}}if(r.RovLogs!=null&&r.hasOwnProperty("RovLogs")){if(o.Body===1)return"Body: multiple values";o.Body=1;{let a=$root.rov_actions_proto.RovLogsAction.verify(r.RovLogs);if(a)return"RovLogs."+a}}if(r.RefreshAllSensors!=null&&r.hasOwnProperty("RefreshAllSensors")){if(o.Body===1)return"Body: multiple values";o.Body=1;{let a=$root.rov_actions_proto.RefreshAllSensorsAction.verify(r.RefreshAllSensors);if(a)return"RefreshAllSensors."+a}}if(r.Mavlink!=null&&r.hasOwnProperty("Mavlink")){if(o.Body===1)return"Body: multiple values";o.Body=1;{let a=$root.rov_actions_proto.MavlinkAction.verify(r.Mavlink);if(a)return"Mavlink."+a}}if(r.SimplepeerSignal!=null&&r.hasOwnProperty("SimplepeerSignal")){if(o.Body===1)return"Body: multiple values";o.Body=1;{let a=$root.rov_actions_proto.SimplepeerSignalAction.verify(r.SimplepeerSignal);if(a)return"SimplepeerSignal."+a}}if(r.Disarm!=null&&r.hasOwnProperty("Disarm")){if(o.Body===1)return"Body: multiple values";o.Body=1;{let a=$root.rov_actions_proto.DisarmAction.verify(r.Disarm);if(a)return"Disarm."+a}}if(r.SetAutopilotMode!=null&&r.hasOwnProperty("SetAutopilotMode")){if(o.Body===1)return"Body: multiple values";o.Body=1;{let a=$root.rov_actions_proto.SetAutopilotModeAction.verify(r.SetAutopilotMode);if(a)return"SetAutopilotMode."+a}}return null},t.fromObject=function(r){if(r instanceof $root.rov_actions_proto.RovAction)return r;let o=new $root.rov_actions_proto.RovAction;if(r.BackendMetadata!=null){if(typeof r.BackendMetadata!="object")throw TypeError(".rov_actions_proto.RovAction.BackendMetadata: object expected");o.BackendMetadata=$root.rov_actions_proto.ActionBackendMetadata.fromObject(r.BackendMetadata)}if(r.ExchangeId!=null&&(o.ExchangeId=r.ExchangeId|0),r.Ping!=null){if(typeof r.Ping!="object")throw TypeError(".rov_actions_proto.RovAction.Ping: object expected");o.Ping=$root.rov_actions_proto.PingAction.fromObject(r.Ping)}if(r.PasswordAttempt!=null){if(typeof r.PasswordAttempt!="object")throw TypeError(".rov_actions_proto.RovAction.PasswordAttempt: object expected");o.PasswordAttempt=$root.rov_actions_proto.PasswordAttemptAction.fromObject(r.PasswordAttempt)}if(r.AuthTokenAttempt!=null){if(typeof r.AuthTokenAttempt!="object")throw TypeError(".rov_actions_proto.RovAction.AuthTokenAttempt: object expected");o.AuthTokenAttempt=$root.rov_actions_proto.AuthTokenAttemptAction.fromObject(r.AuthTokenAttempt)}if(r.TakeControl!=null){if(typeof r.TakeControl!="object")throw TypeError(".rov_actions_proto.RovAction.TakeControl: object expected");o.TakeControl=$root.rov_actions_proto.TakeControlAction.fromObject(r.TakeControl)}if(r.Move!=null){if(typeof r.Move!="object")throw TypeError(".rov_actions_proto.RovAction.Move: object expected");o.Move=$root.rov_actions_proto.MoveAction.fromObject(r.Move)}if(r.BeginVideoStream!=null){if(typeof r.BeginVideoStream!="object")throw TypeError(".rov_actions_proto.RovAction.BeginVideoStream: object expected");o.BeginVideoStream=$root.rov_actions_proto.BeginVideoStreamAction.fromObject(r.BeginVideoStream)}if(r.TakePhoto!=null){if(typeof r.TakePhoto!="object")throw TypeError(".rov_actions_proto.RovAction.TakePhoto: object expected");o.TakePhoto=$root.rov_actions_proto.TakePhotoAction.fromObject(r.TakePhoto)}if(r.StartVideoRec!=null){if(typeof r.StartVideoRec!="object")throw TypeError(".rov_actions_proto.RovAction.StartVideoRec: object expected");o.StartVideoRec=$root.rov_actions_proto.StartVideoRecAction.fromObject(r.StartVideoRec)}if(r.StopVideoRec!=null){if(typeof r.StopVideoRec!="object")throw TypeError(".rov_actions_proto.RovAction.StopVideoRec: object expected");o.StopVideoRec=$root.rov_actions_proto.StopVideoRecAction.fromObject(r.StopVideoRec)}if(r.ToogleLights!=null){if(typeof r.ToogleLights!="object")throw TypeError(".rov_actions_proto.RovAction.ToogleLights: object expected");o.ToogleLights=$root.rov_actions_proto.ToogleLightsAction.fromObject(r.ToogleLights)}if(r.ShutdownRov!=null){if(typeof r.ShutdownRov!="object")throw TypeError(".rov_actions_proto.RovAction.ShutdownRov: object expected");o.ShutdownRov=$root.rov_actions_proto.ShutdownRovAction.fromObject(r.ShutdownRov)}if(r.RebootRov!=null){if(typeof r.RebootRov!="object")throw TypeError(".rov_actions_proto.RovAction.RebootRov: object expected");o.RebootRov=$root.rov_actions_proto.RebootRovAction.fromObject(r.RebootRov)}if(r.EnableWifi!=null){if(typeof r.EnableWifi!="object")throw TypeError(".rov_actions_proto.RovAction.EnableWifi: object expected");o.EnableWifi=$root.rov_actions_proto.EnableWifiAction.fromObject(r.EnableWifi)}if(r.DisableWifi!=null){if(typeof r.DisableWifi!="object")throw TypeError(".rov_actions_proto.RovAction.DisableWifi: object expected");o.DisableWifi=$root.rov_actions_proto.DisableWifiAction.fromObject(r.DisableWifi)}if(r.RovStatusReport!=null){if(typeof r.RovStatusReport!="object")throw TypeError(".rov_actions_proto.RovAction.RovStatusReport: object expected");o.RovStatusReport=$root.rov_actions_proto.RovStatusReportAction.fromObject(r.RovStatusReport)}if(r.RestartRovServices!=null){if(typeof r.RestartRovServices!="object")throw TypeError(".rov_actions_proto.RovAction.RestartRovServices: object expected");o.RestartRovServices=$root.rov_actions_proto.RestartRovServicesAction.fromObject(r.RestartRovServices)}if(r.RovLogs!=null){if(typeof r.RovLogs!="object")throw TypeError(".rov_actions_proto.RovAction.RovLogs: object expected");o.RovLogs=$root.rov_actions_proto.RovLogsAction.fromObject(r.RovLogs)}if(r.RefreshAllSensors!=null){if(typeof r.RefreshAllSensors!="object")throw TypeError(".rov_actions_proto.RovAction.RefreshAllSensors: object expected");o.RefreshAllSensors=$root.rov_actions_proto.RefreshAllSensorsAction.fromObject(r.RefreshAllSensors)}if(r.Mavlink!=null){if(typeof r.Mavlink!="object")throw TypeError(".rov_actions_proto.RovAction.Mavlink: object expected");o.Mavlink=$root.rov_actions_proto.MavlinkAction.fromObject(r.Mavlink)}if(r.SimplepeerSignal!=null){if(typeof r.SimplepeerSignal!="object")throw TypeError(".rov_actions_proto.RovAction.SimplepeerSignal: object expected");o.SimplepeerSignal=$root.rov_actions_proto.SimplepeerSignalAction.fromObject(r.SimplepeerSignal)}if(r.Disarm!=null){if(typeof r.Disarm!="object")throw TypeError(".rov_actions_proto.RovAction.Disarm: object expected");o.Disarm=$root.rov_actions_proto.DisarmAction.fromObject(r.Disarm)}if(r.SetAutopilotMode!=null){if(typeof r.SetAutopilotMode!="object")throw TypeError(".rov_actions_proto.RovAction.SetAutopilotMode: object expected");o.SetAutopilotMode=$root.rov_actions_proto.SetAutopilotModeAction.fromObject(r.SetAutopilotMode)}return o},t.toObject=function(r,o){o||(o={});let a={};return o.defaults&&(a.BackendMetadata=null,a.ExchangeId=0),r.BackendMetadata!=null&&r.hasOwnProperty("BackendMetadata")&&(a.BackendMetadata=$root.rov_actions_proto.ActionBackendMetadata.toObject(r.BackendMetadata,o)),r.ExchangeId!=null&&r.hasOwnProperty("ExchangeId")&&(a.ExchangeId=r.ExchangeId),r.Ping!=null&&r.hasOwnProperty("Ping")&&(a.Ping=$root.rov_actions_proto.PingAction.toObject(r.Ping,o),o.oneofs&&(a.Body="Ping")),r.PasswordAttempt!=null&&r.hasOwnProperty("PasswordAttempt")&&(a.PasswordAttempt=$root.rov_actions_proto.PasswordAttemptAction.toObject(r.PasswordAttempt,o),o.oneofs&&(a.Body="PasswordAttempt")),r.AuthTokenAttempt!=null&&r.hasOwnProperty("AuthTokenAttempt")&&(a.AuthTokenAttempt=$root.rov_actions_proto.AuthTokenAttemptAction.toObject(r.AuthTokenAttempt,o),o.oneofs&&(a.Body="AuthTokenAttempt")),r.TakeControl!=null&&r.hasOwnProperty("TakeControl")&&(a.TakeControl=$root.rov_actions_proto.TakeControlAction.toObject(r.TakeControl,o),o.oneofs&&(a.Body="TakeControl")),r.Move!=null&&r.hasOwnProperty("Move")&&(a.Move=$root.rov_actions_proto.MoveAction.toObject(r.Move,o),o.oneofs&&(a.Body="Move")),r.BeginVideoStream!=null&&r.hasOwnProperty("BeginVideoStream")&&(a.BeginVideoStream=$root.rov_actions_proto.BeginVideoStreamAction.toObject(r.BeginVideoStream,o),o.oneofs&&(a.Body="BeginVideoStream")),r.TakePhoto!=null&&r.hasOwnProperty("TakePhoto")&&(a.TakePhoto=$root.rov_actions_proto.TakePhotoAction.toObject(r.TakePhoto,o),o.oneofs&&(a.Body="TakePhoto")),r.StartVideoRec!=null&&r.hasOwnProperty("StartVideoRec")&&(a.StartVideoRec=$root.rov_actions_proto.StartVideoRecAction.toObject(r.StartVideoRec,o),o.oneofs&&(a.Body="StartVideoRec")),r.StopVideoRec!=null&&r.hasOwnProperty("StopVideoRec")&&(a.StopVideoRec=$root.rov_actions_proto.StopVideoRecAction.toObject(r.StopVideoRec,o),o.oneofs&&(a.Body="StopVideoRec")),r.ToogleLights!=null&&r.hasOwnProperty("ToogleLights")&&(a.ToogleLights=$root.rov_actions_proto.ToogleLightsAction.toObject(r.ToogleLights,o),o.oneofs&&(a.Body="ToogleLights")),r.ShutdownRov!=null&&r.hasOwnProperty("ShutdownRov")&&(a.ShutdownRov=$root.rov_actions_proto.ShutdownRovAction.toObject(r.ShutdownRov,o),o.oneofs&&(a.Body="ShutdownRov")),r.RebootRov!=null&&r.hasOwnProperty("RebootRov")&&(a.RebootRov=$root.rov_actions_proto.RebootRovAction.toObject(r.RebootRov,o),o.oneofs&&(a.Body="RebootRov")),r.EnableWifi!=null&&r.hasOwnProperty("EnableWifi")&&(a.EnableWifi=$root.rov_actions_proto.EnableWifiAction.toObject(r.EnableWifi,o),o.oneofs&&(a.Body="EnableWifi")),r.DisableWifi!=null&&r.hasOwnProperty("DisableWifi")&&(a.DisableWifi=$root.rov_actions_proto.DisableWifiAction.toObject(r.DisableWifi,o),o.oneofs&&(a.Body="DisableWifi")),r.RovStatusReport!=null&&r.hasOwnProperty("RovStatusReport")&&(a.RovStatusReport=$root.rov_actions_proto.RovStatusReportAction.toObject(r.RovStatusReport,o),o.oneofs&&(a.Body="RovStatusReport")),r.RestartRovServices!=null&&r.hasOwnProperty("RestartRovServices")&&(a.RestartRovServices=$root.rov_actions_proto.RestartRovServicesAction.toObject(r.RestartRovServices,o),o.oneofs&&(a.Body="RestartRovServices")),r.RovLogs!=null&&r.hasOwnProperty("RovLogs")&&(a.RovLogs=$root.rov_actions_proto.RovLogsAction.toObject(r.RovLogs,o),o.oneofs&&(a.Body="RovLogs")),r.RefreshAllSensors!=null&&r.hasOwnProperty("RefreshAllSensors")&&(a.RefreshAllSensors=$root.rov_actions_proto.RefreshAllSensorsAction.toObject(r.RefreshAllSensors,o),o.oneofs&&(a.Body="RefreshAllSensors")),r.Mavlink!=null&&r.hasOwnProperty("Mavlink")&&(a.Mavlink=$root.rov_actions_proto.MavlinkAction.toObject(r.Mavlink,o),o.oneofs&&(a.Body="Mavlink")),r.SimplepeerSignal!=null&&r.hasOwnProperty("SimplepeerSignal")&&(a.SimplepeerSignal=$root.rov_actions_proto.SimplepeerSignalAction.toObject(r.SimplepeerSignal,o),o.oneofs&&(a.Body="SimplepeerSignal")),r.Disarm!=null&&r.hasOwnProperty("Disarm")&&(a.Disarm=$root.rov_actions_proto.DisarmAction.toObject(r.Disarm,o),o.oneofs&&(a.Body="Disarm")),r.SetAutopilotMode!=null&&r.hasOwnProperty("SetAutopilotMode")&&(a.SetAutopilotMode=$root.rov_actions_proto.SetAutopilotModeAction.toObject(r.SetAutopilotMode,o),o.oneofs&&(a.Body="SetAutopilotMode")),a},t.prototype.toJSON=function(){return this.constructor.toObject(this,minimal.util.toJSONOptions)},t.getTypeUrl=function(r){return r===void 0&&(r="type.googleapis.com"),r+"/rov_actions_proto.RovAction"},t}(),e.DoneResponse=function(){function t(i){if(i)for(let n=Object.keys(i),r=0;r<n.length;++r)i[n[r]]!=null&&(this[n[r]]=i[n[r]])}return t.prototype.Message="",t.create=function(n){return new t(n)},t.encode=function(n,r){return r||(r=$Writer.create()),n.Message!=null&&Object.hasOwnProperty.call(n,"Message")&&r.uint32(10).string(n.Message),r},t.encodeDelimited=function(n,r){return this.encode(n,r).ldelim()},t.decode=function(n,r){n instanceof $Reader||(n=$Reader.create(n));let o=r===void 0?n.len:n.pos+r,a=new $root.rov_actions_proto.DoneResponse;for(;n.pos<o;){let s=n.uint32();switch(s>>>3){case 1:{a.Message=n.string();break}default:n.skipType(s&7);break}}return a},t.decodeDelimited=function(n){return n instanceof $Reader||(n=new $Reader(n)),this.decode(n,n.uint32())},t.verify=function(n){return typeof n!="object"||n===null?"object expected":n.Message!=null&&n.hasOwnProperty("Message")&&!$util.isString(n.Message)?"Message: string expected":null},t.fromObject=function(n){if(n instanceof $root.rov_actions_proto.DoneResponse)return n;let r=new $root.rov_actions_proto.DoneResponse;return n.Message!=null&&(r.Message=String(n.Message)),r},t.toObject=function(n,r){r||(r={});let o={};return r.defaults&&(o.Message=""),n.Message!=null&&n.hasOwnProperty("Message")&&(o.Message=n.Message),o},t.prototype.toJSON=function(){return this.constructor.toObject(this,minimal.util.toJSONOptions)},t.getTypeUrl=function(n){return n===void 0&&(n="type.googleapis.com"),n+"/rov_actions_proto.DoneResponse"},t}(),e.ErrorResponse=function(){function t(i){if(i)for(let n=Object.keys(i),r=0;r<n.length;++r)i[n[r]]!=null&&(this[n[r]]=i[n[r]])}return t.prototype.Message="",t.create=function(n){return new t(n)},t.encode=function(n,r){return r||(r=$Writer.create()),n.Message!=null&&Object.hasOwnProperty.call(n,"Message")&&r.uint32(10).string(n.Message),r},t.encodeDelimited=function(n,r){return this.encode(n,r).ldelim()},t.decode=function(n,r){n instanceof $Reader||(n=$Reader.create(n));let o=r===void 0?n.len:n.pos+r,a=new $root.rov_actions_proto.ErrorResponse;for(;n.pos<o;){let s=n.uint32();switch(s>>>3){case 1:{a.Message=n.string();break}default:n.skipType(s&7);break}}return a},t.decodeDelimited=function(n){return n instanceof $Reader||(n=new $Reader(n)),this.decode(n,n.uint32())},t.verify=function(n){return typeof n!="object"||n===null?"object expected":n.Message!=null&&n.hasOwnProperty("Message")&&!$util.isString(n.Message)?"Message: string expected":null},t.fromObject=function(n){if(n instanceof $root.rov_actions_proto.ErrorResponse)return n;let r=new $root.rov_actions_proto.ErrorResponse;return n.Message!=null&&(r.Message=String(n.Message)),r},t.toObject=function(n,r){r||(r={});let o={};return r.defaults&&(o.Message=""),n.Message!=null&&n.hasOwnProperty("Message")&&(o.Message=n.Message),o},t.prototype.toJSON=function(){return this.constructor.toObject(this,minimal.util.toJSONOptions)},t.getTypeUrl=function(n){return n===void 0&&(n="type.googleapis.com"),n+"/rov_actions_proto.ErrorResponse"},t}(),e.PongResponse=function(){function t(i){if(i)for(let n=Object.keys(i),r=0;r<n.length;++r)i[n[r]]!=null&&(this[n[r]]=i[n[r]])}return t.prototype.Time=$util.Long?$util.Long.fromBits(0,0,!1):0,t.create=function(n){return new t(n)},t.encode=function(n,r){return r||(r=$Writer.create()),n.Time!=null&&Object.hasOwnProperty.call(n,"Time")&&r.uint32(8).int64(n.Time),r},t.encodeDelimited=function(n,r){return this.encode(n,r).ldelim()},t.decode=function(n,r){n instanceof $Reader||(n=$Reader.create(n));let o=r===void 0?n.len:n.pos+r,a=new $root.rov_actions_proto.PongResponse;for(;n.pos<o;){let s=n.uint32();switch(s>>>3){case 1:{a.Time=n.int64();break}default:n.skipType(s&7);break}}return a},t.decodeDelimited=function(n){return n instanceof $Reader||(n=new $Reader(n)),this.decode(n,n.uint32())},t.verify=function(n){return typeof n!="object"||n===null?"object expected":n.Time!=null&&n.hasOwnProperty("Time")&&!$util.isInteger(n.Time)&&!(n.Time&&$util.isInteger(n.Time.low)&&$util.isInteger(n.Time.high))?"Time: integer|Long expected":null},t.fromObject=function(n){if(n instanceof $root.rov_actions_proto.PongResponse)return n;let r=new $root.rov_actions_proto.PongResponse;return n.Time!=null&&($util.Long?(r.Time=$util.Long.fromValue(n.Time)).unsigned=!1:typeof n.Time=="string"?r.Time=parseInt(n.Time,10):typeof n.Time=="number"?r.Time=n.Time:typeof n.Time=="object"&&(r.Time=new $util.LongBits(n.Time.low>>>0,n.Time.high>>>0).toNumber())),r},t.toObject=function(n,r){r||(r={});let o={};if(r.defaults)if($util.Long){let a=new $util.Long(0,0,!1);o.Time=r.longs===String?a.toString():r.longs===Number?a.toNumber():a}else o.Time=r.longs===String?"0":0;return n.Time!=null&&n.hasOwnProperty("Time")&&(typeof n.Time=="number"?o.Time=r.longs===String?String(n.Time):n.Time:o.Time=r.longs===String?$util.Long.prototype.toString.call(n.Time):r.longs===Number?new $util.LongBits(n.Time.low>>>0,n.Time.high>>>0).toNumber():n.Time),o},t.prototype.toJSON=function(){return this.constructor.toObject(this,minimal.util.toJSONOptions)},t.getTypeUrl=function(n){return n===void 0&&(n="type.googleapis.com"),n+"/rov_actions_proto.PongResponse"},t}(),e.SensorUpdatesResponse=function(){function t(i){if(this.MeasurementUpdates=[],i)for(let n=Object.keys(i),r=0;r<n.length;++r)i[n[r]]!=null&&(this[n[r]]=i[n[r]])}return t.prototype.MeasurementUpdates=$util.emptyArray,t.create=function(n){return new t(n)},t.encode=function(n,r){if(r||(r=$Writer.create()),n.MeasurementUpdates!=null&&n.MeasurementUpdates.length)for(let o=0;o<n.MeasurementUpdates.length;++o)$root.rov_actions_proto.Measurement.encode(n.MeasurementUpdates[o],r.uint32(10).fork()).ldelim();return r},t.encodeDelimited=function(n,r){return this.encode(n,r).ldelim()},t.decode=function(n,r){n instanceof $Reader||(n=$Reader.create(n));let o=r===void 0?n.len:n.pos+r,a=new $root.rov_actions_proto.SensorUpdatesResponse;for(;n.pos<o;){let s=n.uint32();switch(s>>>3){case 1:{a.MeasurementUpdates&&a.MeasurementUpdates.length||(a.MeasurementUpdates=[]),a.MeasurementUpdates.push($root.rov_actions_proto.Measurement.decode(n,n.uint32()));break}default:n.skipType(s&7);break}}return a},t.decodeDelimited=function(n){return n instanceof $Reader||(n=new $Reader(n)),this.decode(n,n.uint32())},t.verify=function(n){if(typeof n!="object"||n===null)return"object expected";if(n.MeasurementUpdates!=null&&n.hasOwnProperty("MeasurementUpdates")){if(!Array.isArray(n.MeasurementUpdates))return"MeasurementUpdates: array expected";for(let r=0;r<n.MeasurementUpdates.length;++r){let o=$root.rov_actions_proto.Measurement.verify(n.MeasurementUpdates[r]);if(o)return"MeasurementUpdates."+o}}return null},t.fromObject=function(n){if(n instanceof $root.rov_actions_proto.SensorUpdatesResponse)return n;let r=new $root.rov_actions_proto.SensorUpdatesResponse;if(n.MeasurementUpdates){if(!Array.isArray(n.MeasurementUpdates))throw TypeError(".rov_actions_proto.SensorUpdatesResponse.MeasurementUpdates: array expected");r.MeasurementUpdates=[];for(let o=0;o<n.MeasurementUpdates.length;++o){if(typeof n.MeasurementUpdates[o]!="object")throw TypeError(".rov_actions_proto.SensorUpdatesResponse.MeasurementUpdates: object expected");r.MeasurementUpdates[o]=$root.rov_actions_proto.Measurement.fromObject(n.MeasurementUpdates[o])}}return r},t.toObject=function(n,r){r||(r={});let o={};if((r.arrays||r.defaults)&&(o.MeasurementUpdates=[]),n.MeasurementUpdates&&n.MeasurementUpdates.length){o.MeasurementUpdates=[];for(let a=0;a<n.MeasurementUpdates.length;++a)o.MeasurementUpdates[a]=$root.rov_actions_proto.Measurement.toObject(n.MeasurementUpdates[a],r)}return o},t.prototype.toJSON=function(){return this.constructor.toObject(this,minimal.util.toJSONOptions)},t.getTypeUrl=function(n){return n===void 0&&(n="type.googleapis.com"),n+"/rov_actions_proto.SensorUpdatesResponse"},t}(),e.PasswordRequiredResponse=function(){function t(i){if(i)for(let n=Object.keys(i),r=0;r<n.length;++r)i[n[r]]!=null&&(this[n[r]]=i[n[r]])}return t.prototype.RovId="",t.create=function(n){return new t(n)},t.encode=function(n,r){return r||(r=$Writer.create()),n.RovId!=null&&Object.hasOwnProperty.call(n,"RovId")&&r.uint32(10).string(n.RovId),r},t.encodeDelimited=function(n,r){return this.encode(n,r).ldelim()},t.decode=function(n,r){n instanceof $Reader||(n=$Reader.create(n));let o=r===void 0?n.len:n.pos+r,a=new $root.rov_actions_proto.PasswordRequiredResponse;for(;n.pos<o;){let s=n.uint32();switch(s>>>3){case 1:{a.RovId=n.string();break}default:n.skipType(s&7);break}}return a},t.decodeDelimited=function(n){return n instanceof $Reader||(n=new $Reader(n)),this.decode(n,n.uint32())},t.verify=function(n){return typeof n!="object"||n===null?"object expected":n.RovId!=null&&n.hasOwnProperty("RovId")&&!$util.isString(n.RovId)?"RovId: string expected":null},t.fromObject=function(n){if(n instanceof $root.rov_actions_proto.PasswordRequiredResponse)return n;let r=new $root.rov_actions_proto.PasswordRequiredResponse;return n.RovId!=null&&(r.RovId=String(n.RovId)),r},t.toObject=function(n,r){r||(r={});let o={};return r.defaults&&(o.RovId=""),n.RovId!=null&&n.hasOwnProperty("RovId")&&(o.RovId=n.RovId),o},t.prototype.toJSON=function(){return this.constructor.toObject(this,minimal.util.toJSONOptions)},t.getTypeUrl=function(n){return n===void 0&&(n="type.googleapis.com"),n+"/rov_actions_proto.PasswordRequiredResponse"},t}(),e.PasswordAcceptedResponse=function(){function t(i){if(i)for(let n=Object.keys(i),r=0;r<n.length;++r)i[n[r]]!=null&&(this[n[r]]=i[n[r]])}return t.prototype.AuthToken="",t.create=function(n){return new t(n)},t.encode=function(n,r){return r||(r=$Writer.create()),n.AuthToken!=null&&Object.hasOwnProperty.call(n,"AuthToken")&&r.uint32(10).string(n.AuthToken),r},t.encodeDelimited=function(n,r){return this.encode(n,r).ldelim()},t.decode=function(n,r){n instanceof $Reader||(n=$Reader.create(n));let o=r===void 0?n.len:n.pos+r,a=new $root.rov_actions_proto.PasswordAcceptedResponse;for(;n.pos<o;){let s=n.uint32();switch(s>>>3){case 1:{a.AuthToken=n.string();break}default:n.skipType(s&7);break}}return a},t.decodeDelimited=function(n){return n instanceof $Reader||(n=new $Reader(n)),this.decode(n,n.uint32())},t.verify=function(n){return typeof n!="object"||n===null?"object expected":n.AuthToken!=null&&n.hasOwnProperty("AuthToken")&&!$util.isString(n.AuthToken)?"AuthToken: string expected":null},t.fromObject=function(n){if(n instanceof $root.rov_actions_proto.PasswordAcceptedResponse)return n;let r=new $root.rov_actions_proto.PasswordAcceptedResponse;return n.AuthToken!=null&&(r.AuthToken=String(n.AuthToken)),r},t.toObject=function(n,r){r||(r={});let o={};return r.defaults&&(o.AuthToken=""),n.AuthToken!=null&&n.hasOwnProperty("AuthToken")&&(o.AuthToken=n.AuthToken),o},t.prototype.toJSON=function(){return this.constructor.toObject(this,minimal.util.toJSONOptions)},t.getTypeUrl=function(n){return n===void 0&&(n="type.googleapis.com"),n+"/rov_actions_proto.PasswordAcceptedResponse"},t}(),e.PasswordInvalidResponse=function(){function t(i){if(i)for(let n=Object.keys(i),r=0;r<n.length;++r)i[n[r]]!=null&&(this[n[r]]=i[n[r]])}return t.create=function(n){return new t(n)},t.encode=function(n,r){return r||(r=$Writer.create()),r},t.encodeDelimited=function(n,r){return this.encode(n,r).ldelim()},t.decode=function(n,r){n instanceof $Reader||(n=$Reader.create(n));let o=r===void 0?n.len:n.pos+r,a=new $root.rov_actions_proto.PasswordInvalidResponse;for(;n.pos<o;){let s=n.uint32();switch(s>>>3){default:n.skipType(s&7);break}}return a},t.decodeDelimited=function(n){return n instanceof $Reader||(n=new $Reader(n)),this.decode(n,n.uint32())},t.verify=function(n){return typeof n!="object"||n===null?"object expected":null},t.fromObject=function(n){return n instanceof $root.rov_actions_proto.PasswordInvalidResponse?n:new $root.rov_actions_proto.PasswordInvalidResponse},t.toObject=function(){return{}},t.prototype.toJSON=function(){return this.constructor.toObject(this,minimal.util.toJSONOptions)},t.getTypeUrl=function(n){return n===void 0&&(n="type.googleapis.com"),n+"/rov_actions_proto.PasswordInvalidResponse"},t}(),e.DriverChangedResponse=function(){function t(i){if(i)for(let n=Object.keys(i),r=0;r<n.length;++r)i[n[r]]!=null&&(this[n[r]]=i[n[r]])}return t.prototype.DriverPeerId="",t.create=function(n){return new t(n)},t.encode=function(n,r){return r||(r=$Writer.create()),n.DriverPeerId!=null&&Object.hasOwnProperty.call(n,"DriverPeerId")&&r.uint32(10).string(n.DriverPeerId),r},t.encodeDelimited=function(n,r){return this.encode(n,r).ldelim()},t.decode=function(n,r){n instanceof $Reader||(n=$Reader.create(n));let o=r===void 0?n.len:n.pos+r,a=new $root.rov_actions_proto.DriverChangedResponse;for(;n.pos<o;){let s=n.uint32();switch(s>>>3){case 1:{a.DriverPeerId=n.string();break}default:n.skipType(s&7);break}}return a},t.decodeDelimited=function(n){return n instanceof $Reader||(n=new $Reader(n)),this.decode(n,n.uint32())},t.verify=function(n){return typeof n!="object"||n===null?"object expected":n.DriverPeerId!=null&&n.hasOwnProperty("DriverPeerId")&&!$util.isString(n.DriverPeerId)?"DriverPeerId: string expected":null},t.fromObject=function(n){if(n instanceof $root.rov_actions_proto.DriverChangedResponse)return n;let r=new $root.rov_actions_proto.DriverChangedResponse;return n.DriverPeerId!=null&&(r.DriverPeerId=String(n.DriverPeerId)),r},t.toObject=function(n,r){r||(r={});let o={};return r.defaults&&(o.DriverPeerId=""),n.DriverPeerId!=null&&n.hasOwnProperty("DriverPeerId")&&(o.DriverPeerId=n.DriverPeerId),o},t.prototype.toJSON=function(){return this.constructor.toObject(this,minimal.util.toJSONOptions)},t.getTypeUrl=function(n){return n===void 0&&(n="type.googleapis.com"),n+"/rov_actions_proto.DriverChangedResponse"},t}(),e.ClientConnectedResponse=function(){function t(i){if(i)for(let n=Object.keys(i),r=0;r<n.length;++r)i[n[r]]!=null&&(this[n[r]]=i[n[r]])}return t.prototype.ClientPeerId="",t.create=function(n){return new t(n)},t.encode=function(n,r){return r||(r=$Writer.create()),n.ClientPeerId!=null&&Object.hasOwnProperty.call(n,"ClientPeerId")&&r.uint32(10).string(n.ClientPeerId),r},t.encodeDelimited=function(n,r){return this.encode(n,r).ldelim()},t.decode=function(n,r){n instanceof $Reader||(n=$Reader.create(n));let o=r===void 0?n.len:n.pos+r,a=new $root.rov_actions_proto.ClientConnectedResponse;for(;n.pos<o;){let s=n.uint32();switch(s>>>3){case 1:{a.ClientPeerId=n.string();break}default:n.skipType(s&7);break}}return a},t.decodeDelimited=function(n){return n instanceof $Reader||(n=new $Reader(n)),this.decode(n,n.uint32())},t.verify=function(n){return typeof n!="object"||n===null?"object expected":n.ClientPeerId!=null&&n.hasOwnProperty("ClientPeerId")&&!$util.isString(n.ClientPeerId)?"ClientPeerId: string expected":null},t.fromObject=function(n){if(n instanceof $root.rov_actions_proto.ClientConnectedResponse)return n;let r=new $root.rov_actions_proto.ClientConnectedResponse;return n.ClientPeerId!=null&&(r.ClientPeerId=String(n.ClientPeerId)),r},t.toObject=function(n,r){r||(r={});let o={};return r.defaults&&(o.ClientPeerId=""),n.ClientPeerId!=null&&n.hasOwnProperty("ClientPeerId")&&(o.ClientPeerId=n.ClientPeerId),o},t.prototype.toJSON=function(){return this.constructor.toObject(this,minimal.util.toJSONOptions)},t.getTypeUrl=function(n){return n===void 0&&(n="type.googleapis.com"),n+"/rov_actions_proto.ClientConnectedResponse"},t}(),e.ClientDisconnectedResponse=function(){function t(i){if(i)for(let n=Object.keys(i),r=0;r<n.length;++r)i[n[r]]!=null&&(this[n[r]]=i[n[r]])}return t.prototype.ClientPeerId="",t.create=function(n){return new t(n)},t.encode=function(n,r){return r||(r=$Writer.create()),n.ClientPeerId!=null&&Object.hasOwnProperty.call(n,"ClientPeerId")&&r.uint32(10).string(n.ClientPeerId),r},t.encodeDelimited=function(n,r){return this.encode(n,r).ldelim()},t.decode=function(n,r){n instanceof $Reader||(n=$Reader.create(n));let o=r===void 0?n.len:n.pos+r,a=new $root.rov_actions_proto.ClientDisconnectedResponse;for(;n.pos<o;){let s=n.uint32();switch(s>>>3){case 1:{a.ClientPeerId=n.string();break}default:n.skipType(s&7);break}}return a},t.decodeDelimited=function(n){return n instanceof $Reader||(n=new $Reader(n)),this.decode(n,n.uint32())},t.verify=function(n){return typeof n!="object"||n===null?"object expected":n.ClientPeerId!=null&&n.hasOwnProperty("ClientPeerId")&&!$util.isString(n.ClientPeerId)?"ClientPeerId: string expected":null},t.fromObject=function(n){if(n instanceof $root.rov_actions_proto.ClientDisconnectedResponse)return n;let r=new $root.rov_actions_proto.ClientDisconnectedResponse;return n.ClientPeerId!=null&&(r.ClientPeerId=String(n.ClientPeerId)),r},t.toObject=function(n,r){r||(r={});let o={};return r.defaults&&(o.ClientPeerId=""),n.ClientPeerId!=null&&n.hasOwnProperty("ClientPeerId")&&(o.ClientPeerId=n.ClientPeerId),o},t.prototype.toJSON=function(){return this.constructor.toObject(this,minimal.util.toJSONOptions)},t.getTypeUrl=function(n){return n===void 0&&(n="type.googleapis.com"),n+"/rov_actions_proto.ClientDisconnectedResponse"},t}(),e.HeartbeatResponse=function(){function t(i){if(i)for(let n=Object.keys(i),r=0;r<n.length;++r)i[n[r]]!=null&&(this[n[r]]=i[n[r]])}return t.prototype.Time=$util.Long?$util.Long.fromBits(0,0,!1):0,t.create=function(n){return new t(n)},t.encode=function(n,r){return r||(r=$Writer.create()),n.Time!=null&&Object.hasOwnProperty.call(n,"Time")&&r.uint32(8).int64(n.Time),r},t.encodeDelimited=function(n,r){return this.encode(n,r).ldelim()},t.decode=function(n,r){n instanceof $Reader||(n=$Reader.create(n));let o=r===void 0?n.len:n.pos+r,a=new $root.rov_actions_proto.HeartbeatResponse;for(;n.pos<o;){let s=n.uint32();switch(s>>>3){case 1:{a.Time=n.int64();break}default:n.skipType(s&7);break}}return a},t.decodeDelimited=function(n){return n instanceof $Reader||(n=new $Reader(n)),this.decode(n,n.uint32())},t.verify=function(n){return typeof n!="object"||n===null?"object expected":n.Time!=null&&n.hasOwnProperty("Time")&&!$util.isInteger(n.Time)&&!(n.Time&&$util.isInteger(n.Time.low)&&$util.isInteger(n.Time.high))?"Time: integer|Long expected":null},t.fromObject=function(n){if(n instanceof $root.rov_actions_proto.HeartbeatResponse)return n;let r=new $root.rov_actions_proto.HeartbeatResponse;return n.Time!=null&&($util.Long?(r.Time=$util.Long.fromValue(n.Time)).unsigned=!1:typeof n.Time=="string"?r.Time=parseInt(n.Time,10):typeof n.Time=="number"?r.Time=n.Time:typeof n.Time=="object"&&(r.Time=new $util.LongBits(n.Time.low>>>0,n.Time.high>>>0).toNumber())),r},t.toObject=function(n,r){r||(r={});let o={};if(r.defaults)if($util.Long){let a=new $util.Long(0,0,!1);o.Time=r.longs===String?a.toString():r.longs===Number?a.toNumber():a}else o.Time=r.longs===String?"0":0;return n.Time!=null&&n.hasOwnProperty("Time")&&(typeof n.Time=="number"?o.Time=r.longs===String?String(n.Time):n.Time:o.Time=r.longs===String?$util.Long.prototype.toString.call(n.Time):r.longs===Number?new $util.LongBits(n.Time.low>>>0,n.Time.high>>>0).toNumber():n.Time),o},t.prototype.toJSON=function(){return this.constructor.toObject(this,minimal.util.toJSONOptions)},t.getTypeUrl=function(n){return n===void 0&&(n="type.googleapis.com"),n+"/rov_actions_proto.HeartbeatResponse"},t}(),e.ContinuedOutputResponse=function(){function t(i){if(i)for(let n=Object.keys(i),r=0;r<n.length;++r)i[n[r]]!=null&&(this[n[r]]=i[n[r]])}return t.prototype.Message="",t.create=function(n){return new t(n)},t.encode=function(n,r){return r||(r=$Writer.create()),n.Message!=null&&Object.hasOwnProperty.call(n,"Message")&&r.uint32(10).string(n.Message),r},t.encodeDelimited=function(n,r){return this.encode(n,r).ldelim()},t.decode=function(n,r){n instanceof $Reader||(n=$Reader.create(n));let o=r===void 0?n.len:n.pos+r,a=new $root.rov_actions_proto.ContinuedOutputResponse;for(;n.pos<o;){let s=n.uint32();switch(s>>>3){case 1:{a.Message=n.string();break}default:n.skipType(s&7);break}}return a},t.decodeDelimited=function(n){return n instanceof $Reader||(n=new $Reader(n)),this.decode(n,n.uint32())},t.verify=function(n){return typeof n!="object"||n===null?"object expected":n.Message!=null&&n.hasOwnProperty("Message")&&!$util.isString(n.Message)?"Message: string expected":null},t.fromObject=function(n){if(n instanceof $root.rov_actions_proto.ContinuedOutputResponse)return n;let r=new $root.rov_actions_proto.ContinuedOutputResponse;return n.Message!=null&&(r.Message=String(n.Message)),r},t.toObject=function(n,r){r||(r={});let o={};return r.defaults&&(o.Message=""),n.Message!=null&&n.hasOwnProperty("Message")&&(o.Message=n.Message),o},t.prototype.toJSON=function(){return this.constructor.toObject(this,minimal.util.toJSONOptions)},t.getTypeUrl=function(n){return n===void 0&&(n="type.googleapis.com"),n+"/rov_actions_proto.ContinuedOutputResponse"},t}(),e.MavlinkResponse=function(){function t(i){if(i)for(let n=Object.keys(i),r=0;r<n.length;++r)i[n[r]]!=null&&(this[n[r]]=i[n[r]])}return t.prototype.Message=$util.newBuffer([]),t.create=function(n){return new t(n)},t.encode=function(n,r){return r||(r=$Writer.create()),n.Message!=null&&Object.hasOwnProperty.call(n,"Message")&&r.uint32(10).bytes(n.Message),r},t.encodeDelimited=function(n,r){return this.encode(n,r).ldelim()},t.decode=function(n,r){n instanceof $Reader||(n=$Reader.create(n));let o=r===void 0?n.len:n.pos+r,a=new $root.rov_actions_proto.MavlinkResponse;for(;n.pos<o;){let s=n.uint32();switch(s>>>3){case 1:{a.Message=n.bytes();break}default:n.skipType(s&7);break}}return a},t.decodeDelimited=function(n){return n instanceof $Reader||(n=new $Reader(n)),this.decode(n,n.uint32())},t.verify=function(n){return typeof n!="object"||n===null?"object expected":n.Message!=null&&n.hasOwnProperty("Message")&&!(n.Message&&typeof n.Message.length=="number"||$util.isString(n.Message))?"Message: buffer expected":null},t.fromObject=function(n){if(n instanceof $root.rov_actions_proto.MavlinkResponse)return n;let r=new $root.rov_actions_proto.MavlinkResponse;return n.Message!=null&&(typeof n.Message=="string"?$util.base64.decode(n.Message,r.Message=$util.newBuffer($util.base64.length(n.Message)),0):n.Message.length>=0&&(r.Message=n.Message)),r},t.toObject=function(n,r){r||(r={});let o={};return r.defaults&&(r.bytes===String?o.Message="":(o.Message=[],r.bytes!==Array&&(o.Message=$util.newBuffer(o.Message)))),n.Message!=null&&n.hasOwnProperty("Message")&&(o.Message=r.bytes===String?$util.base64.encode(n.Message,0,n.Message.length):r.bytes===Array?Array.prototype.slice.call(n.Message):n.Message),o},t.prototype.toJSON=function(){return this.constructor.toObject(this,minimal.util.toJSONOptions)},t.getTypeUrl=function(n){return n===void 0&&(n="type.googleapis.com"),n+"/rov_actions_proto.MavlinkResponse"},t}(),e.SimplepeerSignalResponse=function(){function t(i){if(i)for(let n=Object.keys(i),r=0;r<n.length;++r)i[n[r]]!=null&&(this[n[r]]=i[n[r]])}return t.prototype.Message="",t.create=function(n){return new t(n)},t.encode=function(n,r){return r||(r=$Writer.create()),n.Message!=null&&Object.hasOwnProperty.call(n,"Message")&&r.uint32(10).string(n.Message),r},t.encodeDelimited=function(n,r){return this.encode(n,r).ldelim()},t.decode=function(n,r){n instanceof $Reader||(n=$Reader.create(n));let o=r===void 0?n.len:n.pos+r,a=new $root.rov_actions_proto.SimplepeerSignalResponse;for(;n.pos<o;){let s=n.uint32();switch(s>>>3){case 1:{a.Message=n.string();break}default:n.skipType(s&7);break}}return a},t.decodeDelimited=function(n){return n instanceof $Reader||(n=new $Reader(n)),this.decode(n,n.uint32())},t.verify=function(n){return typeof n!="object"||n===null?"object expected":n.Message!=null&&n.hasOwnProperty("Message")&&!$util.isString(n.Message)?"Message: string expected":null},t.fromObject=function(n){if(n instanceof $root.rov_actions_proto.SimplepeerSignalResponse)return n;let r=new $root.rov_actions_proto.SimplepeerSignalResponse;return n.Message!=null&&(r.Message=String(n.Message)),r},t.toObject=function(n,r){r||(r={});let o={};return r.defaults&&(o.Message=""),n.Message!=null&&n.hasOwnProperty("Message")&&(o.Message=n.Message),o},t.prototype.toJSON=function(){return this.constructor.toObject(this,minimal.util.toJSONOptions)},t.getTypeUrl=function(n){return n===void 0&&(n="type.googleapis.com"),n+"/rov_actions_proto.SimplepeerSignalResponse"},t}(),e.SystemMonitorResponse=function(){function t(i){if(this.Warnings=[],i)for(let n=Object.keys(i),r=0;r<n.length;++r)i[n[r]]!=null&&(this[n[r]]=i[n[r]])}return t.prototype.CpuTemp=0,t.prototype.CpuUsage=0,t.prototype.MemoryUsage=0,t.prototype.DiskUsage=0,t.prototype.Warnings=$util.emptyArray,t.create=function(n){return new t(n)},t.encode=function(n,r){if(r||(r=$Writer.create()),n.CpuTemp!=null&&Object.hasOwnProperty.call(n,"CpuTemp")&&r.uint32(13).float(n.CpuTemp),n.CpuUsage!=null&&Object.hasOwnProperty.call(n,"CpuUsage")&&r.uint32(21).float(n.CpuUsage),n.MemoryUsage!=null&&Object.hasOwnProperty.call(n,"MemoryUsage")&&r.uint32(29).float(n.MemoryUsage),n.DiskUsage!=null&&Object.hasOwnProperty.call(n,"DiskUsage")&&r.uint32(37).float(n.DiskUsage),n.Warnings!=null&&n.Warnings.length)for(let o=0;o<n.Warnings.length;++o)r.uint32(42).string(n.Warnings[o]);return r},t.encodeDelimited=function(n,r){return this.encode(n,r).ldelim()},t.decode=function(n,r){n instanceof $Reader||(n=$Reader.create(n));let o=r===void 0?n.len:n.pos+r,a=new $root.rov_actions_proto.SystemMonitorResponse;for(;n.pos<o;){let s=n.uint32();switch(s>>>3){case 1:{a.CpuTemp=n.float();break}case 2:{a.CpuUsage=n.float();break}case 3:{a.MemoryUsage=n.float();break}case 4:{a.DiskUsage=n.float();break}case 5:{a.Warnings&&a.Warnings.length||(a.Warnings=[]),a.Warnings.push(n.string());break}default:n.skipType(s&7);break}}return a},t.decodeDelimited=function(n){return n instanceof $Reader||(n=new $Reader(n)),this.decode(n,n.uint32())},t.verify=function(n){if(typeof n!="object"||n===null)return"object expected";if(n.CpuTemp!=null&&n.hasOwnProperty("CpuTemp")&&typeof n.CpuTemp!="number")return"CpuTemp: number expected";if(n.CpuUsage!=null&&n.hasOwnProperty("CpuUsage")&&typeof n.CpuUsage!="number")return"CpuUsage: number expected";if(n.MemoryUsage!=null&&n.hasOwnProperty("MemoryUsage")&&typeof n.MemoryUsage!="number")return"MemoryUsage: number expected";if(n.DiskUsage!=null&&n.hasOwnProperty("DiskUsage")&&typeof n.DiskUsage!="number")return"DiskUsage: number expected";if(n.Warnings!=null&&n.hasOwnProperty("Warnings")){if(!Array.isArray(n.Warnings))return"Warnings: array expected";for(let r=0;r<n.Warnings.length;++r)if(!$util.isString(n.Warnings[r]))return"Warnings: string[] expected"}return null},t.fromObject=function(n){if(n instanceof $root.rov_actions_proto.SystemMonitorResponse)return n;let r=new $root.rov_actions_proto.SystemMonitorResponse;if(n.CpuTemp!=null&&(r.CpuTemp=Number(n.CpuTemp)),n.CpuUsage!=null&&(r.CpuUsage=Number(n.CpuUsage)),n.MemoryUsage!=null&&(r.MemoryUsage=Number(n.MemoryUsage)),n.DiskUsage!=null&&(r.DiskUsage=Number(n.DiskUsage)),n.Warnings){if(!Array.isArray(n.Warnings))throw TypeError(".rov_actions_proto.SystemMonitorResponse.Warnings: array expected");r.Warnings=[];for(let o=0;o<n.Warnings.length;++o)r.Warnings[o]=String(n.Warnings[o])}return r},t.toObject=function(n,r){r||(r={});let o={};if((r.arrays||r.defaults)&&(o.Warnings=[]),r.defaults&&(o.CpuTemp=0,o.CpuUsage=0,o.MemoryUsage=0,o.DiskUsage=0),n.CpuTemp!=null&&n.hasOwnProperty("CpuTemp")&&(o.CpuTemp=r.json&&!isFinite(n.CpuTemp)?String(n.CpuTemp):n.CpuTemp),n.CpuUsage!=null&&n.hasOwnProperty("CpuUsage")&&(o.CpuUsage=r.json&&!isFinite(n.CpuUsage)?String(n.CpuUsage):n.CpuUsage),n.MemoryUsage!=null&&n.hasOwnProperty("MemoryUsage")&&(o.MemoryUsage=r.json&&!isFinite(n.MemoryUsage)?String(n.MemoryUsage):n.MemoryUsage),n.DiskUsage!=null&&n.hasOwnProperty("DiskUsage")&&(o.DiskUsage=r.json&&!isFinite(n.DiskUsage)?String(n.DiskUsage):n.DiskUsage),n.Warnings&&n.Warnings.length){o.Warnings=[];for(let a=0;a<n.Warnings.length;++a)o.Warnings[a]=n.Warnings[a]}return o},t.prototype.toJSON=function(){return this.constructor.toObject(this,minimal.util.toJSONOptions)},t.getTypeUrl=function(n){return n===void 0&&(n="type.googleapis.com"),n+"/rov_actions_proto.SystemMonitorResponse"},t}(),e.ResponseBackendMetadata=function(){function t(i){if(this.TargetUserIds=[],i)for(let n=Object.keys(i),r=0;r<n.length;++r)i[n[r]]!=null&&(this[n[r]]=i[n[r]])}return t.prototype.TargetUserIds=$util.emptyArray,t.prototype.TransportMethod=0,t.create=function(n){return new t(n)},t.encode=function(n,r){if(r||(r=$Writer.create()),n.TargetUserIds!=null&&n.TargetUserIds.length)for(let o=0;o<n.TargetUserIds.length;++o)r.uint32(10).string(n.TargetUserIds[o]);return n.TransportMethod!=null&&Object.hasOwnProperty.call(n,"TransportMethod")&&r.uint32(16).int32(n.TransportMethod),r},t.encodeDelimited=function(n,r){return this.encode(n,r).ldelim()},t.decode=function(n,r){n instanceof $Reader||(n=$Reader.create(n));let o=r===void 0?n.len:n.pos+r,a=new $root.rov_actions_proto.ResponseBackendMetadata;for(;n.pos<o;){let s=n.uint32();switch(s>>>3){case 1:{a.TargetUserIds&&a.TargetUserIds.length||(a.TargetUserIds=[]),a.TargetUserIds.push(n.string());break}case 2:{a.TransportMethod=n.int32();break}default:n.skipType(s&7);break}}return a},t.decodeDelimited=function(n){return n instanceof $Reader||(n=new $Reader(n)),this.decode(n,n.uint32())},t.verify=function(n){if(typeof n!="object"||n===null)return"object expected";if(n.TargetUserIds!=null&&n.hasOwnProperty("TargetUserIds")){if(!Array.isArray(n.TargetUserIds))return"TargetUserIds: array expected";for(let r=0;r<n.TargetUserIds.length;++r)if(!$util.isString(n.TargetUserIds[r]))return"TargetUserIds: string[] expected"}if(n.TransportMethod!=null&&n.hasOwnProperty("TransportMethod"))switch(n.TransportMethod){default:return"TransportMethod: enum value expected";case 0:case 1:case 3:break}return null},t.fromObject=function(n){if(n instanceof $root.rov_actions_proto.ResponseBackendMetadata)return n;let r=new $root.rov_actions_proto.ResponseBackendMetadata;if(n.TargetUserIds){if(!Array.isArray(n.TargetUserIds))throw TypeError(".rov_actions_proto.ResponseBackendMetadata.TargetUserIds: array expected");r.TargetUserIds=[];for(let o=0;o<n.TargetUserIds.length;++o)r.TargetUserIds[o]=String(n.TargetUserIds[o])}switch(n.TransportMethod){default:if(typeof n.TransportMethod=="number"){r.TransportMethod=n.TransportMethod;break}break;case"LivekitReliable":case 0:r.TransportMethod=0;break;case"LivekitUnreliable":case 1:r.TransportMethod=1;break;case"DirectUnreliable":case 3:r.TransportMethod=3;break}return r},t.toObject=function(n,r){r||(r={});let o={};if((r.arrays||r.defaults)&&(o.TargetUserIds=[]),r.defaults&&(o.TransportMethod=r.enums===String?"LivekitReliable":0),n.TargetUserIds&&n.TargetUserIds.length){o.TargetUserIds=[];for(let a=0;a<n.TargetUserIds.length;++a)o.TargetUserIds[a]=n.TargetUserIds[a]}return n.TransportMethod!=null&&n.hasOwnProperty("TransportMethod")&&(o.TransportMethod=r.enums===String?$root.rov_actions_proto.DataTransportMethod[n.TransportMethod]===void 0?n.TransportMethod:$root.rov_actions_proto.DataTransportMethod[n.TransportMethod]:n.TransportMethod),o},t.prototype.toJSON=function(){return this.constructor.toObject(this,minimal.util.toJSONOptions)},t.getTypeUrl=function(n){return n===void 0&&(n="type.googleapis.com"),n+"/rov_actions_proto.ResponseBackendMetadata"},t}(),e.RovResponse=function(){function t(n){if(n)for(let r=Object.keys(n),o=0;o<r.length;++o)n[r[o]]!=null&&(this[r[o]]=n[r[o]])}t.prototype.BackendMetadata=null,t.prototype.ExchangeId=0,t.prototype.Done=null,t.prototype.Error=null,t.prototype.Pong=null,t.prototype.ContinuedOutput=null,t.prototype.SensorUpdates=null,t.prototype.PasswordRequired=null,t.prototype.PasswordAccepted=null,t.prototype.PasswordInvalid=null,t.prototype.DriverChanged=null,t.prototype.ClientConnected=null,t.prototype.ClientDisconnected=null,t.prototype.Heartbeat=null,t.prototype.Mavlink=null,t.prototype.SimplepeerSignal=null,t.prototype.SystemMonitor=null;let i;return Object.defineProperty(t.prototype,"Body",{get:$util.oneOfGetter(i=["Done","Error","Pong","ContinuedOutput","SensorUpdates","PasswordRequired","PasswordAccepted","PasswordInvalid","DriverChanged","ClientConnected","ClientDisconnected","Heartbeat","Mavlink","SimplepeerSignal","SystemMonitor"]),set:$util.oneOfSetter(i)}),t.create=function(r){return new t(r)},t.encode=function(r,o){return o||(o=$Writer.create()),r.BackendMetadata!=null&&Object.hasOwnProperty.call(r,"BackendMetadata")&&$root.rov_actions_proto.ResponseBackendMetadata.encode(r.BackendMetadata,o.uint32(10).fork()).ldelim(),r.ExchangeId!=null&&Object.hasOwnProperty.call(r,"ExchangeId")&&o.uint32(16).int32(r.ExchangeId),r.Done!=null&&Object.hasOwnProperty.call(r,"Done")&&$root.rov_actions_proto.DoneResponse.encode(r.Done,o.uint32(26).fork()).ldelim(),r.Error!=null&&Object.hasOwnProperty.call(r,"Error")&&$root.rov_actions_proto.ErrorResponse.encode(r.Error,o.uint32(34).fork()).ldelim(),r.Pong!=null&&Object.hasOwnProperty.call(r,"Pong")&&$root.rov_actions_proto.PongResponse.encode(r.Pong,o.uint32(42).fork()).ldelim(),r.ContinuedOutput!=null&&Object.hasOwnProperty.call(r,"ContinuedOutput")&&$root.rov_actions_proto.ContinuedOutputResponse.encode(r.ContinuedOutput,o.uint32(50).fork()).ldelim(),r.SensorUpdates!=null&&Object.hasOwnProperty.call(r,"SensorUpdates")&&$root.rov_actions_proto.SensorUpdatesResponse.encode(r.SensorUpdates,o.uint32(58).fork()).ldelim(),r.PasswordRequired!=null&&Object.hasOwnProperty.call(r,"PasswordRequired")&&$root.rov_actions_proto.PasswordRequiredResponse.encode(r.PasswordRequired,o.uint32(66).fork()).ldelim(),r.PasswordAccepted!=null&&Object.hasOwnProperty.call(r,"PasswordAccepted")&&$root.rov_actions_proto.PasswordAcceptedResponse.encode(r.PasswordAccepted,o.uint32(74).fork()).ldelim(),r.PasswordInvalid!=null&&Object.hasOwnProperty.call(r,"PasswordInvalid")&&$root.rov_actions_proto.PasswordInvalidResponse.encode(r.PasswordInvalid,o.uint32(82).fork()).ldelim(),r.DriverChanged!=null&&Object.hasOwnProperty.call(r,"DriverChanged")&&$root.rov_actions_proto.DriverChangedResponse.encode(r.DriverChanged,o.uint32(106).fork()).ldelim(),r.ClientConnected!=null&&Object.hasOwnProperty.call(r,"ClientConnected")&&$root.rov_actions_proto.ClientConnectedResponse.encode(r.ClientConnected,o.uint32(114).fork()).ldelim(),r.ClientDisconnected!=null&&Object.hasOwnProperty.call(r,"ClientDisconnected")&&$root.rov_actions_proto.ClientDisconnectedResponse.encode(r.ClientDisconnected,o.uint32(122).fork()).ldelim(),r.Heartbeat!=null&&Object.hasOwnProperty.call(r,"Heartbeat")&&$root.rov_actions_proto.HeartbeatResponse.encode(r.Heartbeat,o.uint32(130).fork()).ldelim(),r.Mavlink!=null&&Object.hasOwnProperty.call(r,"Mavlink")&&$root.rov_actions_proto.MavlinkResponse.encode(r.Mavlink,o.uint32(138).fork()).ldelim(),r.SimplepeerSignal!=null&&Object.hasOwnProperty.call(r,"SimplepeerSignal")&&$root.rov_actions_proto.SimplepeerSignalResponse.encode(r.SimplepeerSignal,o.uint32(146).fork()).ldelim(),r.SystemMonitor!=null&&Object.hasOwnProperty.call(r,"SystemMonitor")&&$root.rov_actions_proto.SystemMonitorResponse.encode(r.SystemMonitor,o.uint32(154).fork()).ldelim(),o},t.encodeDelimited=function(r,o){return this.encode(r,o).ldelim()},t.decode=function(r,o){r instanceof $Reader||(r=$Reader.create(r));let a=o===void 0?r.len:r.pos+o,s=new $root.rov_actions_proto.RovResponse;for(;r.pos<a;){let u=r.uint32();switch(u>>>3){case 1:{s.BackendMetadata=$root.rov_actions_proto.ResponseBackendMetadata.decode(r,r.uint32());break}case 2:{s.ExchangeId=r.int32();break}case 3:{s.Done=$root.rov_actions_proto.DoneResponse.decode(r,r.uint32());break}case 4:{s.Error=$root.rov_actions_proto.ErrorResponse.decode(r,r.uint32());break}case 5:{s.Pong=$root.rov_actions_proto.PongResponse.decode(r,r.uint32());break}case 6:{s.ContinuedOutput=$root.rov_actions_proto.ContinuedOutputResponse.decode(r,r.uint32());break}case 7:{s.SensorUpdates=$root.rov_actions_proto.SensorUpdatesResponse.decode(r,r.uint32());break}case 8:{s.PasswordRequired=$root.rov_actions_proto.PasswordRequiredResponse.decode(r,r.uint32());break}case 9:{s.PasswordAccepted=$root.rov_actions_proto.PasswordAcceptedResponse.decode(r,r.uint32());break}case 10:{s.PasswordInvalid=$root.rov_actions_proto.PasswordInvalidResponse.decode(r,r.uint32());break}case 13:{s.DriverChanged=$root.rov_actions_proto.DriverChangedResponse.decode(r,r.uint32());break}case 14:{s.ClientConnected=$root.rov_actions_proto.ClientConnectedResponse.decode(r,r.uint32());break}case 15:{s.ClientDisconnected=$root.rov_actions_proto.ClientDisconnectedResponse.decode(r,r.uint32());break}case 16:{s.Heartbeat=$root.rov_actions_proto.HeartbeatResponse.decode(r,r.uint32());break}case 17:{s.Mavlink=$root.rov_actions_proto.MavlinkResponse.decode(r,r.uint32());break}case 18:{s.SimplepeerSignal=$root.rov_actions_proto.SimplepeerSignalResponse.decode(r,r.uint32());break}case 19:{s.SystemMonitor=$root.rov_actions_proto.SystemMonitorResponse.decode(r,r.uint32());break}default:r.skipType(u&7);break}}return s},t.decodeDelimited=function(r){return r instanceof $Reader||(r=new $Reader(r)),this.decode(r,r.uint32())},t.verify=function(r){if(typeof r!="object"||r===null)return"object expected";let o={};if(r.BackendMetadata!=null&&r.hasOwnProperty("BackendMetadata")){let a=$root.rov_actions_proto.ResponseBackendMetadata.verify(r.BackendMetadata);if(a)return"BackendMetadata."+a}if(r.ExchangeId!=null&&r.hasOwnProperty("ExchangeId")&&!$util.isInteger(r.ExchangeId))return"ExchangeId: integer expected";if(r.Done!=null&&r.hasOwnProperty("Done")){o.Body=1;{let a=$root.rov_actions_proto.DoneResponse.verify(r.Done);if(a)return"Done."+a}}if(r.Error!=null&&r.hasOwnProperty("Error")){if(o.Body===1)return"Body: multiple values";o.Body=1;{let a=$root.rov_actions_proto.ErrorResponse.verify(r.Error);if(a)return"Error."+a}}if(r.Pong!=null&&r.hasOwnProperty("Pong")){if(o.Body===1)return"Body: multiple values";o.Body=1;{let a=$root.rov_actions_proto.PongResponse.verify(r.Pong);if(a)return"Pong."+a}}if(r.ContinuedOutput!=null&&r.hasOwnProperty("ContinuedOutput")){if(o.Body===1)return"Body: multiple values";o.Body=1;{let a=$root.rov_actions_proto.ContinuedOutputResponse.verify(r.ContinuedOutput);if(a)return"ContinuedOutput."+a}}if(r.SensorUpdates!=null&&r.hasOwnProperty("SensorUpdates")){if(o.Body===1)return"Body: multiple values";o.Body=1;{let a=$root.rov_actions_proto.SensorUpdatesResponse.verify(r.SensorUpdates);if(a)return"SensorUpdates."+a}}if(r.PasswordRequired!=null&&r.hasOwnProperty("PasswordRequired")){if(o.Body===1)return"Body: multiple values";o.Body=1;{let a=$root.rov_actions_proto.PasswordRequiredResponse.verify(r.PasswordRequired);if(a)return"PasswordRequired."+a}}if(r.PasswordAccepted!=null&&r.hasOwnProperty("PasswordAccepted")){if(o.Body===1)return"Body: multiple values";o.Body=1;{let a=$root.rov_actions_proto.PasswordAcceptedResponse.verify(r.PasswordAccepted);if(a)return"PasswordAccepted."+a}}if(r.PasswordInvalid!=null&&r.hasOwnProperty("PasswordInvalid")){if(o.Body===1)return"Body: multiple values";o.Body=1;{let a=$root.rov_actions_proto.PasswordInvalidResponse.verify(r.PasswordInvalid);if(a)return"PasswordInvalid."+a}}if(r.DriverChanged!=null&&r.hasOwnProperty("DriverChanged")){if(o.Body===1)return"Body: multiple values";o.Body=1;{let a=$root.rov_actions_proto.DriverChangedResponse.verify(r.DriverChanged);if(a)return"DriverChanged."+a}}if(r.ClientConnected!=null&&r.hasOwnProperty("ClientConnected")){if(o.Body===1)return"Body: multiple values";o.Body=1;{let a=$root.rov_actions_proto.ClientConnectedResponse.verify(r.ClientConnected);if(a)return"ClientConnected."+a}}if(r.ClientDisconnected!=null&&r.hasOwnProperty("ClientDisconnected")){if(o.Body===1)return"Body: multiple values";o.Body=1;{let a=$root.rov_actions_proto.ClientDisconnectedResponse.verify(r.ClientDisconnected);if(a)return"ClientDisconnected."+a}}if(r.Heartbeat!=null&&r.hasOwnProperty("Heartbeat")){if(o.Body===1)return"Body: multiple values";o.Body=1;{let a=$root.rov_actions_proto.HeartbeatResponse.verify(r.Heartbeat);if(a)return"Heartbeat."+a}}if(r.Mavlink!=null&&r.hasOwnProperty("Mavlink")){if(o.Body===1)return"Body: multiple values";o.Body=1;{let a=$root.rov_actions_proto.MavlinkResponse.verify(r.Mavlink);if(a)return"Mavlink."+a}}if(r.SimplepeerSignal!=null&&r.hasOwnProperty("SimplepeerSignal")){if(o.Body===1)return"Body: multiple values";o.Body=1;{let a=$root.rov_actions_proto.SimplepeerSignalResponse.verify(r.SimplepeerSignal);if(a)return"SimplepeerSignal."+a}}if(r.SystemMonitor!=null&&r.hasOwnProperty("SystemMonitor")){if(o.Body===1)return"Body: multiple values";o.Body=1;{let a=$root.rov_actions_proto.SystemMonitorResponse.verify(r.SystemMonitor);if(a)return"SystemMonitor."+a}}return null},t.fromObject=function(r){if(r instanceof $root.rov_actions_proto.RovResponse)return r;let o=new $root.rov_actions_proto.RovResponse;if(r.BackendMetadata!=null){if(typeof r.BackendMetadata!="object")throw TypeError(".rov_actions_proto.RovResponse.BackendMetadata: object expected");o.BackendMetadata=$root.rov_actions_proto.ResponseBackendMetadata.fromObject(r.BackendMetadata)}if(r.ExchangeId!=null&&(o.ExchangeId=r.ExchangeId|0),r.Done!=null){if(typeof r.Done!="object")throw TypeError(".rov_actions_proto.RovResponse.Done: object expected");o.Done=$root.rov_actions_proto.DoneResponse.fromObject(r.Done)}if(r.Error!=null){if(typeof r.Error!="object")throw TypeError(".rov_actions_proto.RovResponse.Error: object expected");o.Error=$root.rov_actions_proto.ErrorResponse.fromObject(r.Error)}if(r.Pong!=null){if(typeof r.Pong!="object")throw TypeError(".rov_actions_proto.RovResponse.Pong: object expected");o.Pong=$root.rov_actions_proto.PongResponse.fromObject(r.Pong)}if(r.ContinuedOutput!=null){if(typeof r.ContinuedOutput!="object")throw TypeError(".rov_actions_proto.RovResponse.ContinuedOutput: object expected");o.ContinuedOutput=$root.rov_actions_proto.ContinuedOutputResponse.fromObject(r.ContinuedOutput)}if(r.SensorUpdates!=null){if(typeof r.SensorUpdates!="object")throw TypeError(".rov_actions_proto.RovResponse.SensorUpdates: object expected");o.SensorUpdates=$root.rov_actions_proto.SensorUpdatesResponse.fromObject(r.SensorUpdates)}if(r.PasswordRequired!=null){if(typeof r.PasswordRequired!="object")throw TypeError(".rov_actions_proto.RovResponse.PasswordRequired: object expected");o.PasswordRequired=$root.rov_actions_proto.PasswordRequiredResponse.fromObject(r.PasswordRequired)}if(r.PasswordAccepted!=null){if(typeof r.PasswordAccepted!="object")throw TypeError(".rov_actions_proto.RovResponse.PasswordAccepted: object expected");o.PasswordAccepted=$root.rov_actions_proto.PasswordAcceptedResponse.fromObject(r.PasswordAccepted)}if(r.PasswordInvalid!=null){if(typeof r.PasswordInvalid!="object")throw TypeError(".rov_actions_proto.RovResponse.PasswordInvalid: object expected");o.PasswordInvalid=$root.rov_actions_proto.PasswordInvalidResponse.fromObject(r.PasswordInvalid)}if(r.DriverChanged!=null){if(typeof r.DriverChanged!="object")throw TypeError(".rov_actions_proto.RovResponse.DriverChanged: object expected");o.DriverChanged=$root.rov_actions_proto.DriverChangedResponse.fromObject(r.DriverChanged)}if(r.ClientConnected!=null){if(typeof r.ClientConnected!="object")throw TypeError(".rov_actions_proto.RovResponse.ClientConnected: object expected");o.ClientConnected=$root.rov_actions_proto.ClientConnectedResponse.fromObject(r.ClientConnected)}if(r.ClientDisconnected!=null){if(typeof r.ClientDisconnected!="object")throw TypeError(".rov_actions_proto.RovResponse.ClientDisconnected: object expected");o.ClientDisconnected=$root.rov_actions_proto.ClientDisconnectedResponse.fromObject(r.ClientDisconnected)}if(r.Heartbeat!=null){if(typeof r.Heartbeat!="object")throw TypeError(".rov_actions_proto.RovResponse.Heartbeat: object expected");o.Heartbeat=$root.rov_actions_proto.HeartbeatResponse.fromObject(r.Heartbeat)}if(r.Mavlink!=null){if(typeof r.Mavlink!="object")throw TypeError(".rov_actions_proto.RovResponse.Mavlink: object expected");o.Mavlink=$root.rov_actions_proto.MavlinkResponse.fromObject(r.Mavlink)}if(r.SimplepeerSignal!=null){if(typeof r.SimplepeerSignal!="object")throw TypeError(".rov_actions_proto.RovResponse.SimplepeerSignal: object expected");o.SimplepeerSignal=$root.rov_actions_proto.SimplepeerSignalResponse.fromObject(r.SimplepeerSignal)}if(r.SystemMonitor!=null){if(typeof r.SystemMonitor!="object")throw TypeError(".rov_actions_proto.RovResponse.SystemMonitor: object expected");o.SystemMonitor=$root.rov_actions_proto.SystemMonitorResponse.fromObject(r.SystemMonitor)}return o},t.toObject=function(r,o){o||(o={});let a={};return o.defaults&&(a.BackendMetadata=null,a.ExchangeId=0),r.BackendMetadata!=null&&r.hasOwnProperty("BackendMetadata")&&(a.BackendMetadata=$root.rov_actions_proto.ResponseBackendMetadata.toObject(r.BackendMetadata,o)),r.ExchangeId!=null&&r.hasOwnProperty("ExchangeId")&&(a.ExchangeId=r.ExchangeId),r.Done!=null&&r.hasOwnProperty("Done")&&(a.Done=$root.rov_actions_proto.DoneResponse.toObject(r.Done,o),o.oneofs&&(a.Body="Done")),r.Error!=null&&r.hasOwnProperty("Error")&&(a.Error=$root.rov_actions_proto.ErrorResponse.toObject(r.Error,o),o.oneofs&&(a.Body="Error")),r.Pong!=null&&r.hasOwnProperty("Pong")&&(a.Pong=$root.rov_actions_proto.PongResponse.toObject(r.Pong,o),o.oneofs&&(a.Body="Pong")),r.ContinuedOutput!=null&&r.hasOwnProperty("ContinuedOutput")&&(a.ContinuedOutput=$root.rov_actions_proto.ContinuedOutputResponse.toObject(r.ContinuedOutput,o),o.oneofs&&(a.Body="ContinuedOutput")),r.SensorUpdates!=null&&r.hasOwnProperty("SensorUpdates")&&(a.SensorUpdates=$root.rov_actions_proto.SensorUpdatesResponse.toObject(r.SensorUpdates,o),o.oneofs&&(a.Body="SensorUpdates")),r.PasswordRequired!=null&&r.hasOwnProperty("PasswordRequired")&&(a.PasswordRequired=$root.rov_actions_proto.PasswordRequiredResponse.toObject(r.PasswordRequired,o),o.oneofs&&(a.Body="PasswordRequired")),r.PasswordAccepted!=null&&r.hasOwnProperty("PasswordAccepted")&&(a.PasswordAccepted=$root.rov_actions_proto.PasswordAcceptedResponse.toObject(r.PasswordAccepted,o),o.oneofs&&(a.Body="PasswordAccepted")),r.PasswordInvalid!=null&&r.hasOwnProperty("PasswordInvalid")&&(a.PasswordInvalid=$root.rov_actions_proto.PasswordInvalidResponse.toObject(r.PasswordInvalid,o),o.oneofs&&(a.Body="PasswordInvalid")),r.DriverChanged!=null&&r.hasOwnProperty("DriverChanged")&&(a.DriverChanged=$root.rov_actions_proto.DriverChangedResponse.toObject(r.DriverChanged,o),o.oneofs&&(a.Body="DriverChanged")),r.ClientConnected!=null&&r.hasOwnProperty("ClientConnected")&&(a.ClientConnected=$root.rov_actions_proto.ClientConnectedResponse.toObject(r.ClientConnected,o),o.oneofs&&(a.Body="ClientConnected")),r.ClientDisconnected!=null&&r.hasOwnProperty("ClientDisconnected")&&(a.ClientDisconnected=$root.rov_actions_proto.ClientDisconnectedResponse.toObject(r.ClientDisconnected,o),o.oneofs&&(a.Body="ClientDisconnected")),r.Heartbeat!=null&&r.hasOwnProperty("Heartbeat")&&(a.Heartbeat=$root.rov_actions_proto.HeartbeatResponse.toObject(r.Heartbeat,o),o.oneofs&&(a.Body="Heartbeat")),r.Mavlink!=null&&r.hasOwnProperty("Mavlink")&&(a.Mavlink=$root.rov_actions_proto.MavlinkResponse.toObject(r.Mavlink,o),o.oneofs&&(a.Body="Mavlink")),r.SimplepeerSignal!=null&&r.hasOwnProperty("SimplepeerSignal")&&(a.SimplepeerSignal=$root.rov_actions_proto.SimplepeerSignalResponse.toObject(r.SimplepeerSignal,o),o.oneofs&&(a.Body="SimplepeerSignal")),r.SystemMonitor!=null&&r.hasOwnProperty("SystemMonitor")&&(a.SystemMonitor=$root.rov_actions_proto.SystemMonitorResponse.toObject(r.SystemMonitor,o),o.oneofs&&(a.Body="SystemMonitor")),a},t.prototype.toJSON=function(){return this.constructor.toObject(this,minimal.util.toJSONOptions)},t.getTypeUrl=function(r){return r===void 0&&(r="type.googleapis.com"),r+"/rov_actions_proto.RovResponse"},t}(),e})();class WebSocketRelay{constructor(){$(this,"socket");$(this,"serverAddress");$(this,"msgReceivedFn");$(this,"isRunning");$(this,"isConnected");$(this,"connectionTimerId");this.isConnected=!1,this.isRunning=!1,this.connectionTimerId=0,this.serverAddress=""}start(t,i){this.serverAddress=t,this.msgReceivedFn=i,this.isRunning=!0,this.connect()}stop(){this.isRunning=!1,this.socket.close()}connect(){console.log("Attempting to connect to websocket: "+this.serverAddress),this.socket=new WebSocket(this.serverAddress),this.socket.binaryType="blob",this.isConnected=!0,this.socket.addEventListener("close",t=>{console.log("WebSocket connection closed with code: ",t.code),this.isConnected=!1,this.isRunning&&this.queueConnect()}),this.socket.addEventListener("error",t=>{console.error("WebSocket error:",t),this.isConnected=!1,this.isRunning&&this.queueConnect()}),this.socket.addEventListener("message",t=>{typeof t.data=="string"?this.msgReceivedFn(ENCODE_TXT(t.data)):t.data.arrayBuffer().then(i=>{this.msgReceivedFn(new Uint8Array(i))})})}queueConnect(){clearTimeout(this.connectionTimerId),this.connectionTimerId=setTimeout(this.connect.bind(this),2e3)}getIsConnected(){return this.isConnected}sendMessage(t){this.socket.send(t)}}const iRovWebSocketRelay=new WebSocketRelay;function handleInternalWebpageActions(e,t){return t.SimplepeerSignal&&t.SimplepeerSignal.Message?(internalConnManager.ingestSimplePeerSignallingMsg(e,t.SimplepeerSignal.Message),!0):!1}function backendHandleWebrtcMsgRcvd(e,t){let i=new Uint8Array(t);if(!i||i.length===0)return;const n=rov_actions_proto.RovAction.decode(i);if(console.debug("Rcvd Msg: ",n.toJSON()),handleInternalWebpageActions(e,n))return;n.BackendMetadata=n.BackendMetadata||new rov_actions_proto.ActionBackendMetadata,n.BackendMetadata.FromUserId=e;const r=rov_actions_proto.RovAction.encode(n).finish();iRovWebSocketRelay.isConnected&&iRovWebSocketRelay.sendMessage(r)}var browser$2={exports:{}},ms,hasRequiredMs;function requireMs(){if(hasRequiredMs)return ms;hasRequiredMs=1;var e=1e3,t=e*60,i=t*60,n=i*24,r=n*7,o=n*365.25;ms=function(c,d){d=d||{};var m=typeof c;if(m==="string"&&c.length>0)return a(c);if(m==="number"&&isFinite(c))return d.long?u(c):s(c);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(c))};function a(c){if(c=String(c),!(c.length>100)){var d=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(c);if(d){var m=parseFloat(d[1]),E=(d[2]||"ms").toLowerCase();switch(E){case"years":case"year":case"yrs":case"yr":case"y":return m*o;case"weeks":case"week":case"w":return m*r;case"days":case"day":case"d":return m*n;case"hours":case"hour":case"hrs":case"hr":case"h":return m*i;case"minutes":case"minute":case"mins":case"min":case"m":return m*t;case"seconds":case"second":case"secs":case"sec":case"s":return m*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return m;default:return}}}}function s(c){var d=Math.abs(c);return d>=n?Math.round(c/n)+"d":d>=i?Math.round(c/i)+"h":d>=t?Math.round(c/t)+"m":d>=e?Math.round(c/e)+"s":c+"ms"}function u(c){var d=Math.abs(c);return d>=n?l(c,d,n,"day"):d>=i?l(c,d,i,"hour"):d>=t?l(c,d,t,"minute"):d>=e?l(c,d,e,"second"):c+" ms"}function l(c,d,m,E){var y=d>=m*1.5;return Math.round(c/m)+" "+E+(y?"s":"")}return ms}function setup(e){i.debug=i,i.default=i,i.coerce=u,i.disable=o,i.enable=r,i.enabled=a,i.humanize=requireMs(),i.destroy=l,Object.keys(e).forEach(c=>{i[c]=e[c]}),i.names=[],i.skips=[],i.formatters={};function t(c){let d=0;for(let m=0;m<c.length;m++)d=(d<<5)-d+c.charCodeAt(m),d|=0;return i.colors[Math.abs(d)%i.colors.length]}i.selectColor=t;function i(c){let d,m=null,E,y;function O(...g){if(!O.enabled)return;const h=O,v=Number(new Date),T=v-(d||v);h.diff=T,h.prev=d,h.curr=v,d=v,g[0]=i.coerce(g[0]),typeof g[0]!="string"&&g.unshift("%O");let w=0;g[0]=g[0].replace(/%([a-zA-Z%])/g,(C,B)=>{if(C==="%%")return"%";w++;const M=i.formatters[B];if(typeof M=="function"){const I=g[w];C=M.call(h,I),g.splice(w,1),w--}return C}),i.formatArgs.call(h,g),(h.log||i.log).apply(h,g)}return O.namespace=c,O.useColors=i.useColors(),O.color=i.selectColor(c),O.extend=n,O.destroy=i.destroy,Object.defineProperty(O,"enabled",{enumerable:!0,configurable:!1,get:()=>m!==null?m:(E!==i.namespaces&&(E=i.namespaces,y=i.enabled(c)),y),set:g=>{m=g}}),typeof i.init=="function"&&i.init(O),O}function n(c,d){const m=i(this.namespace+(typeof d>"u"?":":d)+c);return m.log=this.log,m}function r(c){i.save(c),i.namespaces=c,i.names=[],i.skips=[];let d;const m=(typeof c=="string"?c:"").split(/[\s,]+/),E=m.length;for(d=0;d<E;d++)m[d]&&(c=m[d].replace(/\*/g,".*?"),c[0]==="-"?i.skips.push(new RegExp("^"+c.slice(1)+"$")):i.names.push(new RegExp("^"+c+"$")))}function o(){const c=[...i.names.map(s),...i.skips.map(s).map(d=>"-"+d)].join(",");return i.enable(""),c}function a(c){if(c[c.length-1]==="*")return!0;let d,m;for(d=0,m=i.skips.length;d<m;d++)if(i.skips[d].test(c))return!1;for(d=0,m=i.names.length;d<m;d++)if(i.names[d].test(c))return!0;return!1}function s(c){return c.toString().substring(2,c.toString().length-2).replace(/\.\*\?$/,"*")}function u(c){return c instanceof Error?c.stack||c.message:c}function l(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return i.enable(i.load()),i}var common=setup;(function(e,t){t.formatArgs=n,t.save=r,t.load=o,t.useColors=i,t.storage=a(),t.destroy=(()=>{let u=!1;return()=>{u||(u=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function i(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function n(u){if(u[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+u[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const l="color: "+this.color;u.splice(1,0,l,"color: inherit");let c=0,d=0;u[0].replace(/%[a-zA-Z%]/g,m=>{m!=="%%"&&(c++,m==="%c"&&(d=c))}),u.splice(d,0,l)}t.log=console.debug||console.log||(()=>{});function r(u){try{u?t.storage.setItem("debug",u):t.storage.removeItem("debug")}catch{}}function o(){let u;try{u=t.storage.getItem("debug")}catch{}return!u&&typeof dist.process<"u"&&"env"in dist.process&&(u={}.DEBUG),u}function a(){try{return localStorage}catch{}}e.exports=common(t);const{formatters:s}=e.exports;s.j=function(u){try{return JSON.stringify(u)}catch(l){return"[UnexpectedJSONParseError]: "+l.message}}})(browser$2,browser$2.exports);var browserExports$1=browser$2.exports,getBrowserRtc=function e(){if(typeof globalThis>"u")return null;var t={RTCPeerConnection:globalThis.RTCPeerConnection||globalThis.mozRTCPeerConnection||globalThis.webkitRTCPeerConnection,RTCSessionDescription:globalThis.RTCSessionDescription||globalThis.mozRTCSessionDescription||globalThis.webkitRTCSessionDescription,RTCIceCandidate:globalThis.RTCIceCandidate||globalThis.mozRTCIceCandidate||globalThis.webkitRTCIceCandidate};return t.RTCPeerConnection?t:null},browser$1={exports:{}},safeBuffer={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(e,t){var i=buffer,n=i.Buffer;function r(a,s){for(var u in a)s[u]=a[u]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?e.exports=i:(r(i,t),t.Buffer=o);function o(a,s,u){return n(a,s,u)}o.prototype=Object.create(n.prototype),r(n,o),o.from=function(a,s,u){if(typeof a=="number")throw new TypeError("Argument must not be a number");return n(a,s,u)},o.alloc=function(a,s,u){if(typeof a!="number")throw new TypeError("Argument must be a number");var l=n(a);return s!==void 0?typeof u=="string"?l.fill(s,u):l.fill(s):l.fill(0),l},o.allocUnsafe=function(a){if(typeof a!="number")throw new TypeError("Argument must be a number");return n(a)},o.allocUnsafeSlow=function(a){if(typeof a!="number")throw new TypeError("Argument must be a number");return i.SlowBuffer(a)}})(safeBuffer,safeBuffer.exports);var safeBufferExports=safeBuffer.exports,MAX_BYTES=65536,MAX_UINT32=4294967295;function oldBrowser(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}var Buffer$1=safeBufferExports.Buffer,crypto$1=commonjsGlobal.crypto||commonjsGlobal.msCrypto;crypto$1&&crypto$1.getRandomValues?browser$1.exports=randomBytes:browser$1.exports=oldBrowser;function randomBytes(e,t){if(e>MAX_UINT32)throw new RangeError("requested too many random bytes");var i=Buffer$1.allocUnsafe(e);if(e>0)if(e>MAX_BYTES)for(var n=0;n<e;n+=MAX_BYTES)crypto$1.getRandomValues(i.slice(n,n+MAX_BYTES));else crypto$1.getRandomValues(i);return typeof t=="function"?dist.process.nextTick(function(){t(null,i)}):i}var browserExports=browser$1.exports,readableBrowser={exports:{}},events={exports:{}},R=typeof Reflect=="object"?Reflect:null,ReflectApply=R&&typeof R.apply=="function"?R.apply:function e(t,i,n){return Function.prototype.apply.call(t,i,n)},ReflectOwnKeys;R&&typeof R.ownKeys=="function"?ReflectOwnKeys=R.ownKeys:Object.getOwnPropertySymbols?ReflectOwnKeys=function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:ReflectOwnKeys=function(t){return Object.getOwnPropertyNames(t)};function ProcessEmitWarning(e){console&&console.warn&&console.warn(e)}var NumberIsNaN=Number.isNaN||function e(t){return t!==t};function EventEmitter(){EventEmitter.init.call(this)}events.exports=EventEmitter;events.exports.once=once$2;EventEmitter.EventEmitter=EventEmitter;EventEmitter.prototype._events=void 0;EventEmitter.prototype._eventsCount=0;EventEmitter.prototype._maxListeners=void 0;var defaultMaxListeners=10;function checkListener(e){if(typeof e!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}Object.defineProperty(EventEmitter,"defaultMaxListeners",{enumerable:!0,get:function(){return defaultMaxListeners},set:function(e){if(typeof e!="number"||e<0||NumberIsNaN(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");defaultMaxListeners=e}});EventEmitter.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};EventEmitter.prototype.setMaxListeners=function e(t){if(typeof t!="number"||t<0||NumberIsNaN(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this};function _getMaxListeners(e){return e._maxListeners===void 0?EventEmitter.defaultMaxListeners:e._maxListeners}EventEmitter.prototype.getMaxListeners=function e(){return _getMaxListeners(this)};EventEmitter.prototype.emit=function e(t){for(var i=[],n=1;n<arguments.length;n++)i.push(arguments[n]);var r=t==="error",o=this._events;if(o!==void 0)r=r&&o.error===void 0;else if(!r)return!1;if(r){var a;if(i.length>0&&(a=i[0]),a instanceof Error)throw a;var s=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var u=o[t];if(u===void 0)return!1;if(typeof u=="function")ReflectApply(u,this,i);else for(var l=u.length,c=arrayClone(u,l),n=0;n<l;++n)ReflectApply(c[n],this,i);return!0};function _addListener(e,t,i,n){var r,o,a;if(checkListener(i),o=e._events,o===void 0?(o=e._events=Object.create(null),e._eventsCount=0):(o.newListener!==void 0&&(e.emit("newListener",t,i.listener?i.listener:i),o=e._events),a=o[t]),a===void 0)a=o[t]=i,++e._eventsCount;else if(typeof a=="function"?a=o[t]=n?[i,a]:[a,i]:n?a.unshift(i):a.push(i),r=_getMaxListeners(e),r>0&&a.length>r&&!a.warned){a.warned=!0;var s=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");s.name="MaxListenersExceededWarning",s.emitter=e,s.type=t,s.count=a.length,ProcessEmitWarning(s)}return e}EventEmitter.prototype.addListener=function e(t,i){return _addListener(this,t,i,!1)};EventEmitter.prototype.on=EventEmitter.prototype.addListener;EventEmitter.prototype.prependListener=function e(t,i){return _addListener(this,t,i,!0)};function onceWrapper(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function _onceWrap(e,t,i){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:i},r=onceWrapper.bind(n);return r.listener=i,n.wrapFn=r,r}EventEmitter.prototype.once=function e(t,i){return checkListener(i),this.on(t,_onceWrap(this,t,i)),this};EventEmitter.prototype.prependOnceListener=function e(t,i){return checkListener(i),this.prependListener(t,_onceWrap(this,t,i)),this};EventEmitter.prototype.removeListener=function e(t,i){var n,r,o,a,s;if(checkListener(i),r=this._events,r===void 0)return this;if(n=r[t],n===void 0)return this;if(n===i||n.listener===i)--this._eventsCount===0?this._events=Object.create(null):(delete r[t],r.removeListener&&this.emit("removeListener",t,n.listener||i));else if(typeof n!="function"){for(o=-1,a=n.length-1;a>=0;a--)if(n[a]===i||n[a].listener===i){s=n[a].listener,o=a;break}if(o<0)return this;o===0?n.shift():spliceOne(n,o),n.length===1&&(r[t]=n[0]),r.removeListener!==void 0&&this.emit("removeListener",t,s||i)}return this};EventEmitter.prototype.off=EventEmitter.prototype.removeListener;EventEmitter.prototype.removeAllListeners=function e(t){var i,n,r;if(n=this._events,n===void 0)return this;if(n.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):n[t]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete n[t]),this;if(arguments.length===0){var o=Object.keys(n),a;for(r=0;r<o.length;++r)a=o[r],a!=="removeListener"&&this.removeAllListeners(a);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(i=n[t],typeof i=="function")this.removeListener(t,i);else if(i!==void 0)for(r=i.length-1;r>=0;r--)this.removeListener(t,i[r]);return this};function _listeners(e,t,i){var n=e._events;if(n===void 0)return[];var r=n[t];return r===void 0?[]:typeof r=="function"?i?[r.listener||r]:[r]:i?unwrapListeners(r):arrayClone(r,r.length)}EventEmitter.prototype.listeners=function e(t){return _listeners(this,t,!0)};EventEmitter.prototype.rawListeners=function e(t){return _listeners(this,t,!1)};EventEmitter.listenerCount=function(e,t){return typeof e.listenerCount=="function"?e.listenerCount(t):listenerCount.call(e,t)};EventEmitter.prototype.listenerCount=listenerCount;function listenerCount(e){var t=this._events;if(t!==void 0){var i=t[e];if(typeof i=="function")return 1;if(i!==void 0)return i.length}return 0}EventEmitter.prototype.eventNames=function e(){return this._eventsCount>0?ReflectOwnKeys(this._events):[]};function arrayClone(e,t){for(var i=new Array(t),n=0;n<t;++n)i[n]=e[n];return i}function spliceOne(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function unwrapListeners(e){for(var t=new Array(e.length),i=0;i<t.length;++i)t[i]=e[i].listener||e[i];return t}function once$2(e,t){return new Promise(function(i,n){function r(a){e.removeListener(t,o),n(a)}function o(){typeof e.removeListener=="function"&&e.removeListener("error",r),i([].slice.call(arguments))}eventTargetAgnosticAddListener(e,t,o,{once:!0}),t!=="error"&&addErrorHandlerIfEventEmitter(e,r,{once:!0})})}function addErrorHandlerIfEventEmitter(e,t,i){typeof e.on=="function"&&eventTargetAgnosticAddListener(e,"error",t,i)}function eventTargetAgnosticAddListener(e,t,i,n){if(typeof e.on=="function")n.once?e.once(t,i):e.on(t,i);else if(typeof e.addEventListener=="function")e.addEventListener(t,function r(o){n.once&&e.removeEventListener(t,r),i(o)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}var eventsExports=events.exports,streamBrowser=eventsExports.EventEmitter;const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$3=getAugmentedNamespace(__viteBrowserExternal$1);var buffer_list,hasRequiredBuffer_list;function requireBuffer_list(){if(hasRequiredBuffer_list)return buffer_list;hasRequiredBuffer_list=1;function e(y,O){var g=Object.keys(y);if(Object.getOwnPropertySymbols){var h=Object.getOwnPropertySymbols(y);O&&(h=h.filter(function(v){return Object.getOwnPropertyDescriptor(y,v).enumerable})),g.push.apply(g,h)}return g}function t(y){for(var O=1;O<arguments.length;O++){var g=arguments[O]!=null?arguments[O]:{};O%2?e(Object(g),!0).forEach(function(h){i(y,h,g[h])}):Object.getOwnPropertyDescriptors?Object.defineProperties(y,Object.getOwnPropertyDescriptors(g)):e(Object(g)).forEach(function(h){Object.defineProperty(y,h,Object.getOwnPropertyDescriptor(g,h))})}return y}function i(y,O,g){return O=a(O),O in y?Object.defineProperty(y,O,{value:g,enumerable:!0,configurable:!0,writable:!0}):y[O]=g,y}function n(y,O){if(!(y instanceof O))throw new TypeError("Cannot call a class as a function")}function r(y,O){for(var g=0;g<O.length;g++){var h=O[g];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(y,a(h.key),h)}}function o(y,O,g){return O&&r(y.prototype,O),g&&r(y,g),Object.defineProperty(y,"prototype",{writable:!1}),y}function a(y){var O=s(y,"string");return typeof O=="symbol"?O:String(O)}function s(y,O){if(typeof y!="object"||y===null)return y;var g=y[Symbol.toPrimitive];if(g!==void 0){var h=g.call(y,O||"default");if(typeof h!="object")return h;throw new TypeError("@@toPrimitive must return a primitive value.")}return(O==="string"?String:Number)(y)}var u=buffer,l=u.Buffer,c=require$$3,d=c.inspect,m=d&&d.custom||"inspect";function E(y,O,g){l.prototype.copy.call(y,O,g)}return buffer_list=function(){function y(){n(this,y),this.head=null,this.tail=null,this.length=0}return o(y,[{key:"push",value:function(g){var h={data:g,next:null};this.length>0?this.tail.next=h:this.head=h,this.tail=h,++this.length}},{key:"unshift",value:function(g){var h={data:g,next:this.head};this.length===0&&(this.tail=h),this.head=h,++this.length}},{key:"shift",value:function(){if(this.length!==0){var g=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,g}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(g){if(this.length===0)return"";for(var h=this.head,v=""+h.data;h=h.next;)v+=g+h.data;return v}},{key:"concat",value:function(g){if(this.length===0)return l.alloc(0);for(var h=l.allocUnsafe(g>>>0),v=this.head,T=0;v;)E(v.data,h,T),T+=v.data.length,v=v.next;return h}},{key:"consume",value:function(g,h){var v;return g<this.head.data.length?(v=this.head.data.slice(0,g),this.head.data=this.head.data.slice(g)):g===this.head.data.length?v=this.shift():v=h?this._getString(g):this._getBuffer(g),v}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(g){var h=this.head,v=1,T=h.data;for(g-=T.length;h=h.next;){var w=h.data,N=g>w.length?w.length:g;if(N===w.length?T+=w:T+=w.slice(0,g),g-=N,g===0){N===w.length?(++v,h.next?this.head=h.next:this.head=this.tail=null):(this.head=h,h.data=w.slice(N));break}++v}return this.length-=v,T}},{key:"_getBuffer",value:function(g){var h=l.allocUnsafe(g),v=this.head,T=1;for(v.data.copy(h),g-=v.data.length;v=v.next;){var w=v.data,N=g>w.length?w.length:g;if(w.copy(h,h.length-g,0,N),g-=N,g===0){N===w.length?(++T,v.next?this.head=v.next:this.head=this.tail=null):(this.head=v,v.data=w.slice(N));break}++T}return this.length-=T,h}},{key:m,value:function(g,h){return d(this,t(t({},h),{},{depth:0,customInspect:!1}))}}]),y}(),buffer_list}function destroy(e,t){var i=this,n=this._readableState&&this._readableState.destroyed,r=this._writableState&&this._writableState.destroyed;return n||r?(t?t(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,dist.process.nextTick(emitErrorNT,this,e)):dist.process.nextTick(emitErrorNT,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(o){!t&&o?i._writableState?i._writableState.errorEmitted?dist.process.nextTick(emitCloseNT,i):(i._writableState.errorEmitted=!0,dist.process.nextTick(emitErrorAndCloseNT,i,o)):dist.process.nextTick(emitErrorAndCloseNT,i,o):t?(dist.process.nextTick(emitCloseNT,i),t(o)):dist.process.nextTick(emitCloseNT,i)}),this)}function emitErrorAndCloseNT(e,t){emitErrorNT(e,t),emitCloseNT(e)}function emitCloseNT(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function undestroy(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function emitErrorNT(e,t){e.emit("error",t)}function errorOrDestroy(e,t){var i=e._readableState,n=e._writableState;i&&i.autoDestroy||n&&n.autoDestroy?e.destroy(t):e.emit("error",t)}var destroy_1={destroy,undestroy,errorOrDestroy},errorsBrowser={};function _inheritsLoose(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var codes={};function createErrorType(e,t,i){i||(i=Error);function n(o,a,s){return typeof t=="string"?t:t(o,a,s)}var r=function(o){_inheritsLoose(a,o);function a(s,u,l){return o.call(this,n(s,u,l))||this}return a}(i);r.prototype.name=i.name,r.prototype.code=e,codes[e]=r}function oneOf(e,t){if(Array.isArray(e)){var i=e.length;return e=e.map(function(n){return String(n)}),i>2?"one of ".concat(t," ").concat(e.slice(0,i-1).join(", "),", or ")+e[i-1]:i===2?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}else return"of ".concat(t," ").concat(String(e))}function startsWith(e,t,i){return e.substr(!i||i<0?0:+i,t.length)===t}function endsWith(e,t,i){return(i===void 0||i>e.length)&&(i=e.length),e.substring(i-t.length,i)===t}function includes(e,t,i){return typeof i!="number"&&(i=0),i+t.length>e.length?!1:e.indexOf(t,i)!==-1}createErrorType("ERR_INVALID_OPT_VALUE",function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'},TypeError);createErrorType("ERR_INVALID_ARG_TYPE",function(e,t,i){var n;typeof t=="string"&&startsWith(t,"not ")?(n="must not be",t=t.replace(/^not /,"")):n="must be";var r;if(endsWith(e," argument"))r="The ".concat(e," ").concat(n," ").concat(oneOf(t,"type"));else{var o=includes(e,".")?"property":"argument";r='The "'.concat(e,'" ').concat(o," ").concat(n," ").concat(oneOf(t,"type"))}return r+=". Received type ".concat(typeof i),r},TypeError);createErrorType("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");createErrorType("ERR_METHOD_NOT_IMPLEMENTED",function(e){return"The "+e+" method is not implemented"});createErrorType("ERR_STREAM_PREMATURE_CLOSE","Premature close");createErrorType("ERR_STREAM_DESTROYED",function(e){return"Cannot call "+e+" after a stream was destroyed"});createErrorType("ERR_MULTIPLE_CALLBACK","Callback called multiple times");createErrorType("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");createErrorType("ERR_STREAM_WRITE_AFTER_END","write after end");createErrorType("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);createErrorType("ERR_UNKNOWN_ENCODING",function(e){return"Unknown encoding: "+e},TypeError);createErrorType("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");errorsBrowser.codes=codes;var ERR_INVALID_OPT_VALUE=errorsBrowser.codes.ERR_INVALID_OPT_VALUE;function highWaterMarkFrom(e,t,i){return e.highWaterMark!=null?e.highWaterMark:t?e[i]:null}function getHighWaterMark(e,t,i,n){var r=highWaterMarkFrom(t,n,i);if(r!=null){if(!(isFinite(r)&&Math.floor(r)===r)||r<0){var o=n?i:"highWaterMark";throw new ERR_INVALID_OPT_VALUE(o,r)}return Math.floor(r)}return e.objectMode?16:16*1024}var state={getHighWaterMark},inherits_browser={exports:{}};typeof Object.create=="function"?inherits_browser.exports=function(t,i){i&&(t.super_=i,t.prototype=Object.create(i.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:inherits_browser.exports=function(t,i){if(i){t.super_=i;var n=function(){};n.prototype=i.prototype,t.prototype=new n,t.prototype.constructor=t}};var inherits_browserExports=inherits_browser.exports,browser=deprecate;function deprecate(e,t){if(config("noDeprecation"))return e;var i=!1;function n(){if(!i){if(config("throwDeprecation"))throw new Error(t);config("traceDeprecation")?console.trace(t):console.warn(t),i=!0}return e.apply(this,arguments)}return n}function config(e){try{if(!commonjsGlobal.localStorage)return!1}catch{return!1}var t=commonjsGlobal.localStorage[e];return t==null?!1:String(t).toLowerCase()==="true"}var _stream_writable,hasRequired_stream_writable;function require_stream_writable(){if(hasRequired_stream_writable)return _stream_writable;hasRequired_stream_writable=1,_stream_writable=M;function e(S){var _=this;this.next=null,this.entry=null,this.finish=function(){ae(_,S)}}var t;M.WritableState=C;var i={deprecate:browser},n=streamBrowser,r=buffer.Buffer,o=(typeof commonjsGlobal<"u"?commonjsGlobal:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function a(S){return r.from(S)}function s(S){return r.isBuffer(S)||S instanceof o}var u=destroy_1,l=state,c=l.getHighWaterMark,d=errorsBrowser.codes,m=d.ERR_INVALID_ARG_TYPE,E=d.ERR_METHOD_NOT_IMPLEMENTED,y=d.ERR_MULTIPLE_CALLBACK,O=d.ERR_STREAM_CANNOT_PIPE,g=d.ERR_STREAM_DESTROYED,h=d.ERR_STREAM_NULL_VALUES,v=d.ERR_STREAM_WRITE_AFTER_END,T=d.ERR_UNKNOWN_ENCODING,w=u.errorOrDestroy;inherits_browserExports(M,n);function N(){}function C(S,_,A){t=t||require_stream_duplex(),S=S||{},typeof A!="boolean"&&(A=_ instanceof t),this.objectMode=!!S.objectMode,A&&(this.objectMode=this.objectMode||!!S.writableObjectMode),this.highWaterMark=c(this,S,"writableHighWaterMark",A),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var P=S.decodeStrings===!1;this.decodeStrings=!P,this.defaultEncoding=S.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(L){ie(_,L)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=S.emitClose!==!1,this.autoDestroy=!!S.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new e(this)}C.prototype.getBuffer=function(){for(var _=this.bufferedRequest,A=[];_;)A.push(_),_=_.next;return A},function(){try{Object.defineProperty(C.prototype,"buffer",{get:i.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var B;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(B=Function.prototype[Symbol.hasInstance],Object.defineProperty(M,Symbol.hasInstance,{value:function(_){return B.call(this,_)?!0:this!==M?!1:_&&_._writableState instanceof C}})):B=function(_){return _ instanceof this};function M(S){t=t||require_stream_duplex();var _=this instanceof t;if(!_&&!B.call(M,this))return new M(S);this._writableState=new C(S,this,_),this.writable=!0,S&&(typeof S.write=="function"&&(this._write=S.write),typeof S.writev=="function"&&(this._writev=S.writev),typeof S.destroy=="function"&&(this._destroy=S.destroy),typeof S.final=="function"&&(this._final=S.final)),n.call(this)}M.prototype.pipe=function(){w(this,new O)};function I(S,_){var A=new v;w(S,A),dist.process.nextTick(_,A)}function x(S,_,A,P){var L;return A===null?L=new h:typeof A!="string"&&!_.objectMode&&(L=new m("chunk",["string","Buffer"],A)),L?(w(S,L),dist.process.nextTick(P,L),!1):!0}M.prototype.write=function(S,_,A){var P=this._writableState,L=!1,f=!P.objectMode&&s(S);return f&&!r.isBuffer(S)&&(S=a(S)),typeof _=="function"&&(A=_,_=null),f?_="buffer":_||(_=P.defaultEncoding),typeof A!="function"&&(A=N),P.ending?I(this,A):(f||x(this,P,S,A))&&(P.pendingcb++,L=te(this,P,f,S,_,A)),L},M.prototype.cork=function(){this._writableState.corked++},M.prototype.uncork=function(){var S=this._writableState;S.corked&&(S.corked--,!S.writing&&!S.corked&&!S.bufferProcessing&&S.bufferedRequest&&H(this,S))},M.prototype.setDefaultEncoding=function(_){if(typeof _=="string"&&(_=_.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((_+"").toLowerCase())>-1))throw new T(_);return this._writableState.defaultEncoding=_,this},Object.defineProperty(M.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function Z(S,_,A){return!S.objectMode&&S.decodeStrings!==!1&&typeof _=="string"&&(_=r.from(_,A)),_}Object.defineProperty(M.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function te(S,_,A,P,L,f){if(!A){var p=Z(_,P,L);P!==p&&(A=!0,L="buffer",P=p)}var b=_.objectMode?1:P.length;_.length+=b;var k=_.length<_.highWaterMark;if(k||(_.needDrain=!0),_.writing||_.corked){var F=_.lastBufferedRequest;_.lastBufferedRequest={chunk:P,encoding:L,isBuf:A,callback:f,next:null},F?F.next=_.lastBufferedRequest:_.bufferedRequest=_.lastBufferedRequest,_.bufferedRequestCount+=1}else q(S,_,!1,b,P,L,f);return k}function q(S,_,A,P,L,f,p){_.writelen=P,_.writecb=p,_.writing=!0,_.sync=!0,_.destroyed?_.onwrite(new g("write")):A?S._writev(L,_.onwrite):S._write(L,f,_.onwrite),_.sync=!1}function ne(S,_,A,P,L){--_.pendingcb,A?(dist.process.nextTick(L,P),dist.process.nextTick(W,S,_),S._writableState.errorEmitted=!0,w(S,P)):(L(P),S._writableState.errorEmitted=!0,w(S,P),W(S,_))}function Y(S){S.writing=!1,S.writecb=null,S.length-=S.writelen,S.writelen=0}function ie(S,_){var A=S._writableState,P=A.sync,L=A.writecb;if(typeof L!="function")throw new y;if(Y(A),_)ne(S,A,P,_,L);else{var f=Q(A)||S.destroyed;!f&&!A.corked&&!A.bufferProcessing&&A.bufferedRequest&&H(S,A),P?dist.process.nextTick(J,S,A,f,L):J(S,A,f,L)}}function J(S,_,A,P){A||X(S,_),_.pendingcb--,P(),W(S,_)}function X(S,_){_.length===0&&_.needDrain&&(_.needDrain=!1,S.emit("drain"))}function H(S,_){_.bufferProcessing=!0;var A=_.bufferedRequest;if(S._writev&&A&&A.next){var P=_.bufferedRequestCount,L=new Array(P),f=_.corkedRequestsFree;f.entry=A;for(var p=0,b=!0;A;)L[p]=A,A.isBuf||(b=!1),A=A.next,p+=1;L.allBuffers=b,q(S,_,!0,_.length,L,"",f.finish),_.pendingcb++,_.lastBufferedRequest=null,f.next?(_.corkedRequestsFree=f.next,f.next=null):_.corkedRequestsFree=new e(_),_.bufferedRequestCount=0}else{for(;A;){var k=A.chunk,F=A.encoding,D=A.callback,U=_.objectMode?1:k.length;if(q(S,_,!1,U,k,F,D),A=A.next,_.bufferedRequestCount--,_.writing)break}A===null&&(_.lastBufferedRequest=null)}_.bufferedRequest=A,_.bufferProcessing=!1}M.prototype._write=function(S,_,A){A(new E("_write()"))},M.prototype._writev=null,M.prototype.end=function(S,_,A){var P=this._writableState;return typeof S=="function"?(A=S,S=null,_=null):typeof _=="function"&&(A=_,_=null),S!=null&&this.write(S,_),P.corked&&(P.corked=1,this.uncork()),P.ending||oe(this,P,A),this},Object.defineProperty(M.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function Q(S){return S.ending&&S.length===0&&S.bufferedRequest===null&&!S.finished&&!S.writing}function re(S,_){S._final(function(A){_.pendingcb--,A&&w(S,A),_.prefinished=!0,S.emit("prefinish"),W(S,_)})}function j(S,_){!_.prefinished&&!_.finalCalled&&(typeof S._final=="function"&&!_.destroyed?(_.pendingcb++,_.finalCalled=!0,dist.process.nextTick(re,S,_)):(_.prefinished=!0,S.emit("prefinish")))}function W(S,_){var A=Q(_);if(A&&(j(S,_),_.pendingcb===0&&(_.finished=!0,S.emit("finish"),_.autoDestroy))){var P=S._readableState;(!P||P.autoDestroy&&P.endEmitted)&&S.destroy()}return A}function oe(S,_,A){_.ending=!0,W(S,_),A&&(_.finished?dist.process.nextTick(A):S.once("finish",A)),_.ended=!0,S.writable=!1}function ae(S,_,A){var P=S.entry;for(S.entry=null;P;){var L=P.callback;_.pendingcb--,L(A),P=P.next}_.corkedRequestsFree.next=S}return Object.defineProperty(M.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(_){this._writableState&&(this._writableState.destroyed=_)}}),M.prototype.destroy=u.destroy,M.prototype._undestroy=u.undestroy,M.prototype._destroy=function(S,_){_(S)},_stream_writable}var _stream_duplex,hasRequired_stream_duplex;function require_stream_duplex(){if(hasRequired_stream_duplex)return _stream_duplex;hasRequired_stream_duplex=1;var e=Object.keys||function(l){var c=[];for(var d in l)c.push(d);return c};_stream_duplex=a;var t=require_stream_readable(),i=require_stream_writable();inherits_browserExports(a,t);for(var n=e(i.prototype),r=0;r<n.length;r++){var o=n[r];a.prototype[o]||(a.prototype[o]=i.prototype[o])}function a(l){if(!(this instanceof a))return new a(l);t.call(this,l),i.call(this,l),this.allowHalfOpen=!0,l&&(l.readable===!1&&(this.readable=!1),l.writable===!1&&(this.writable=!1),l.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",s)))}Object.defineProperty(a.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(a.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(a.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function s(){this._writableState.ended||dist.process.nextTick(u,this)}function u(l){l.end()}return Object.defineProperty(a.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(c){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=c,this._writableState.destroyed=c)}}),_stream_duplex}var string_decoder={},hasRequiredString_decoder;function requireString_decoder(){if(hasRequiredString_decoder)return string_decoder;hasRequiredString_decoder=1;var e=safeBufferExports.Buffer,t=e.isEncoding||function(h){switch(h=""+h,h&&h.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function i(h){if(!h)return"utf8";for(var v;;)switch(h){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return h;default:if(v)return;h=(""+h).toLowerCase(),v=!0}}function n(h){var v=i(h);if(typeof v!="string"&&(e.isEncoding===t||!t(h)))throw new Error("Unknown encoding: "+h);return v||h}string_decoder.StringDecoder=r;function r(h){this.encoding=n(h);var v;switch(this.encoding){case"utf16le":this.text=d,this.end=m,v=4;break;case"utf8":this.fillLast=u,v=4;break;case"base64":this.text=E,this.end=y,v=3;break;default:this.write=O,this.end=g;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=e.allocUnsafe(v)}r.prototype.write=function(h){if(h.length===0)return"";var v,T;if(this.lastNeed){if(v=this.fillLast(h),v===void 0)return"";T=this.lastNeed,this.lastNeed=0}else T=0;return T<h.length?v?v+this.text(h,T):this.text(h,T):v||""},r.prototype.end=c,r.prototype.text=l,r.prototype.fillLast=function(h){if(this.lastNeed<=h.length)return h.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);h.copy(this.lastChar,this.lastTotal-this.lastNeed,0,h.length),this.lastNeed-=h.length};function o(h){return h<=127?0:h>>5===6?2:h>>4===14?3:h>>3===30?4:h>>6===2?-1:-2}function a(h,v,T){var w=v.length-1;if(w<T)return 0;var N=o(v[w]);return N>=0?(N>0&&(h.lastNeed=N-1),N):--w<T||N===-2?0:(N=o(v[w]),N>=0?(N>0&&(h.lastNeed=N-2),N):--w<T||N===-2?0:(N=o(v[w]),N>=0?(N>0&&(N===2?N=0:h.lastNeed=N-3),N):0))}function s(h,v,T){if((v[0]&192)!==128)return h.lastNeed=0,"";if(h.lastNeed>1&&v.length>1){if((v[1]&192)!==128)return h.lastNeed=1,"";if(h.lastNeed>2&&v.length>2&&(v[2]&192)!==128)return h.lastNeed=2,""}}function u(h){var v=this.lastTotal-this.lastNeed,T=s(this,h);if(T!==void 0)return T;if(this.lastNeed<=h.length)return h.copy(this.lastChar,v,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);h.copy(this.lastChar,v,0,h.length),this.lastNeed-=h.length}function l(h,v){var T=a(this,h,v);if(!this.lastNeed)return h.toString("utf8",v);this.lastTotal=T;var w=h.length-(T-this.lastNeed);return h.copy(this.lastChar,0,w),h.toString("utf8",v,w)}function c(h){var v=h&&h.length?this.write(h):"";return this.lastNeed?v+"":v}function d(h,v){if((h.length-v)%2===0){var T=h.toString("utf16le",v);if(T){var w=T.charCodeAt(T.length-1);if(w>=55296&&w<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=h[h.length-2],this.lastChar[1]=h[h.length-1],T.slice(0,-1)}return T}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=h[h.length-1],h.toString("utf16le",v,h.length-1)}function m(h){var v=h&&h.length?this.write(h):"";if(this.lastNeed){var T=this.lastTotal-this.lastNeed;return v+this.lastChar.toString("utf16le",0,T)}return v}function E(h,v){var T=(h.length-v)%3;return T===0?h.toString("base64",v):(this.lastNeed=3-T,this.lastTotal=3,T===1?this.lastChar[0]=h[h.length-1]:(this.lastChar[0]=h[h.length-2],this.lastChar[1]=h[h.length-1]),h.toString("base64",v,h.length-T))}function y(h){var v=h&&h.length?this.write(h):"";return this.lastNeed?v+this.lastChar.toString("base64",0,3-this.lastNeed):v}function O(h){return h.toString(this.encoding)}function g(h){return h&&h.length?this.write(h):""}return string_decoder}var ERR_STREAM_PREMATURE_CLOSE=errorsBrowser.codes.ERR_STREAM_PREMATURE_CLOSE;function once$1(e){var t=!1;return function(){if(!t){t=!0;for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];e.apply(this,n)}}}function noop$1(){}function isRequest$1(e){return e.setHeader&&typeof e.abort=="function"}function eos$1(e,t,i){if(typeof t=="function")return eos$1(e,null,t);t||(t={}),i=once$1(i||noop$1);var n=t.readable||t.readable!==!1&&e.readable,r=t.writable||t.writable!==!1&&e.writable,o=function(){e.writable||s()},a=e._writableState&&e._writableState.finished,s=function(){r=!1,a=!0,n||i.call(e)},u=e._readableState&&e._readableState.endEmitted,l=function(){n=!1,u=!0,r||i.call(e)},c=function(y){i.call(e,y)},d=function(){var y;if(n&&!u)return(!e._readableState||!e._readableState.ended)&&(y=new ERR_STREAM_PREMATURE_CLOSE),i.call(e,y);if(r&&!a)return(!e._writableState||!e._writableState.ended)&&(y=new ERR_STREAM_PREMATURE_CLOSE),i.call(e,y)},m=function(){e.req.on("finish",s)};return isRequest$1(e)?(e.on("complete",s),e.on("abort",d),e.req?m():e.on("request",m)):r&&!e._writableState&&(e.on("end",o),e.on("close",o)),e.on("end",l),e.on("finish",s),t.error!==!1&&e.on("error",c),e.on("close",d),function(){e.removeListener("complete",s),e.removeListener("abort",d),e.removeListener("request",m),e.req&&e.req.removeListener("finish",s),e.removeListener("end",o),e.removeListener("close",o),e.removeListener("finish",s),e.removeListener("end",l),e.removeListener("error",c),e.removeListener("close",d)}}var endOfStream=eos$1,async_iterator,hasRequiredAsync_iterator;function requireAsync_iterator(){if(hasRequiredAsync_iterator)return async_iterator;hasRequiredAsync_iterator=1;var e;function t(T,w,N){return w=i(w),w in T?Object.defineProperty(T,w,{value:N,enumerable:!0,configurable:!0,writable:!0}):T[w]=N,T}function i(T){var w=n(T,"string");return typeof w=="symbol"?w:String(w)}function n(T,w){if(typeof T!="object"||T===null)return T;var N=T[Symbol.toPrimitive];if(N!==void 0){var C=N.call(T,w||"default");if(typeof C!="object")return C;throw new TypeError("@@toPrimitive must return a primitive value.")}return(w==="string"?String:Number)(T)}var r=endOfStream,o=Symbol("lastResolve"),a=Symbol("lastReject"),s=Symbol("error"),u=Symbol("ended"),l=Symbol("lastPromise"),c=Symbol("handlePromise"),d=Symbol("stream");function m(T,w){return{value:T,done:w}}function E(T){var w=T[o];if(w!==null){var N=T[d].read();N!==null&&(T[l]=null,T[o]=null,T[a]=null,w(m(N,!1)))}}function y(T){dist.process.nextTick(E,T)}function O(T,w){return function(N,C){T.then(function(){if(w[u]){N(m(void 0,!0));return}w[c](N,C)},C)}}var g=Object.getPrototypeOf(function(){}),h=Object.setPrototypeOf((e={get stream(){return this[d]},next:function(){var w=this,N=this[s];if(N!==null)return Promise.reject(N);if(this[u])return Promise.resolve(m(void 0,!0));if(this[d].destroyed)return new Promise(function(I,x){dist.process.nextTick(function(){w[s]?x(w[s]):I(m(void 0,!0))})});var C=this[l],B;if(C)B=new Promise(O(C,this));else{var M=this[d].read();if(M!==null)return Promise.resolve(m(M,!1));B=new Promise(this[c])}return this[l]=B,B}},t(e,Symbol.asyncIterator,function(){return this}),t(e,"return",function(){var w=this;return new Promise(function(N,C){w[d].destroy(null,function(B){if(B){C(B);return}N(m(void 0,!0))})})}),e),g),v=function(w){var N,C=Object.create(h,(N={},t(N,d,{value:w,writable:!0}),t(N,o,{value:null,writable:!0}),t(N,a,{value:null,writable:!0}),t(N,s,{value:null,writable:!0}),t(N,u,{value:w._readableState.endEmitted,writable:!0}),t(N,c,{value:function(M,I){var x=C[d].read();x?(C[l]=null,C[o]=null,C[a]=null,M(m(x,!1))):(C[o]=M,C[a]=I)},writable:!0}),N));return C[l]=null,r(w,function(B){if(B&&B.code!=="ERR_STREAM_PREMATURE_CLOSE"){var M=C[a];M!==null&&(C[l]=null,C[o]=null,C[a]=null,M(B)),C[s]=B;return}var I=C[o];I!==null&&(C[l]=null,C[o]=null,C[a]=null,I(m(void 0,!0))),C[u]=!0}),w.on("readable",y.bind(null,C)),C};return async_iterator=v,async_iterator}var fromBrowser,hasRequiredFromBrowser;function requireFromBrowser(){return hasRequiredFromBrowser||(hasRequiredFromBrowser=1,fromBrowser=function(){throw new Error("Readable.from is not available in the browser")}),fromBrowser}var _stream_readable,hasRequired_stream_readable;function require_stream_readable(){if(hasRequired_stream_readable)return _stream_readable;hasRequired_stream_readable=1,_stream_readable=I;var e;I.ReadableState=M,eventsExports.EventEmitter;var t=function(p,b){return p.listeners(b).length},i=streamBrowser,n=buffer.Buffer,r=(typeof commonjsGlobal<"u"?commonjsGlobal:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function o(f){return n.from(f)}function a(f){return n.isBuffer(f)||f instanceof r}var s=require$$3,u;s&&s.debuglog?u=s.debuglog("stream"):u=function(){};var l=requireBuffer_list(),c=destroy_1,d=state,m=d.getHighWaterMark,E=errorsBrowser.codes,y=E.ERR_INVALID_ARG_TYPE,O=E.ERR_STREAM_PUSH_AFTER_EOF,g=E.ERR_METHOD_NOT_IMPLEMENTED,h=E.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,v,T,w;inherits_browserExports(I,i);var N=c.errorOrDestroy,C=["error","close","destroy","pause","resume"];function B(f,p,b){if(typeof f.prependListener=="function")return f.prependListener(p,b);!f._events||!f._events[p]?f.on(p,b):Array.isArray(f._events[p])?f._events[p].unshift(b):f._events[p]=[b,f._events[p]]}function M(f,p,b){e=e||require_stream_duplex(),f=f||{},typeof b!="boolean"&&(b=p instanceof e),this.objectMode=!!f.objectMode,b&&(this.objectMode=this.objectMode||!!f.readableObjectMode),this.highWaterMark=m(this,f,"readableHighWaterMark",b),this.buffer=new l,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=f.emitClose!==!1,this.autoDestroy=!!f.autoDestroy,this.destroyed=!1,this.defaultEncoding=f.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,f.encoding&&(v||(v=requireString_decoder().StringDecoder),this.decoder=new v(f.encoding),this.encoding=f.encoding)}function I(f){if(e=e||require_stream_duplex(),!(this instanceof I))return new I(f);var p=this instanceof e;this._readableState=new M(f,this,p),this.readable=!0,f&&(typeof f.read=="function"&&(this._read=f.read),typeof f.destroy=="function"&&(this._destroy=f.destroy)),i.call(this)}Object.defineProperty(I.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(p){this._readableState&&(this._readableState.destroyed=p)}}),I.prototype.destroy=c.destroy,I.prototype._undestroy=c.undestroy,I.prototype._destroy=function(f,p){p(f)},I.prototype.push=function(f,p){var b=this._readableState,k;return b.objectMode?k=!0:typeof f=="string"&&(p=p||b.defaultEncoding,p!==b.encoding&&(f=n.from(f,p),p=""),k=!0),x(this,f,p,!1,k)},I.prototype.unshift=function(f){return x(this,f,null,!0,!1)};function x(f,p,b,k,F){u("readableAddChunk",p);var D=f._readableState;if(p===null)D.reading=!1,ie(f,D);else{var U;if(F||(U=te(D,p)),U)N(f,U);else if(D.objectMode||p&&p.length>0)if(typeof p!="string"&&!D.objectMode&&Object.getPrototypeOf(p)!==n.prototype&&(p=o(p)),k)D.endEmitted?N(f,new h):Z(f,D,p,!0);else if(D.ended)N(f,new O);else{if(D.destroyed)return!1;D.reading=!1,D.decoder&&!b?(p=D.decoder.write(p),D.objectMode||p.length!==0?Z(f,D,p,!1):H(f,D)):Z(f,D,p,!1)}else k||(D.reading=!1,H(f,D))}return!D.ended&&(D.length<D.highWaterMark||D.length===0)}function Z(f,p,b,k){p.flowing&&p.length===0&&!p.sync?(p.awaitDrain=0,f.emit("data",b)):(p.length+=p.objectMode?1:b.length,k?p.buffer.unshift(b):p.buffer.push(b),p.needReadable&&J(f)),H(f,p)}function te(f,p){var b;return!a(p)&&typeof p!="string"&&p!==void 0&&!f.objectMode&&(b=new y("chunk",["string","Buffer","Uint8Array"],p)),b}I.prototype.isPaused=function(){return this._readableState.flowing===!1},I.prototype.setEncoding=function(f){v||(v=requireString_decoder().StringDecoder);var p=new v(f);this._readableState.decoder=p,this._readableState.encoding=this._readableState.decoder.encoding;for(var b=this._readableState.buffer.head,k="";b!==null;)k+=p.write(b.data),b=b.next;return this._readableState.buffer.clear(),k!==""&&this._readableState.buffer.push(k),this._readableState.length=k.length,this};var q=1073741824;function ne(f){return f>=q?f=q:(f--,f|=f>>>1,f|=f>>>2,f|=f>>>4,f|=f>>>8,f|=f>>>16,f++),f}function Y(f,p){return f<=0||p.length===0&&p.ended?0:p.objectMode?1:f!==f?p.flowing&&p.length?p.buffer.head.data.length:p.length:(f>p.highWaterMark&&(p.highWaterMark=ne(f)),f<=p.length?f:p.ended?p.length:(p.needReadable=!0,0))}I.prototype.read=function(f){u("read",f),f=parseInt(f,10);var p=this._readableState,b=f;if(f!==0&&(p.emittedReadable=!1),f===0&&p.needReadable&&((p.highWaterMark!==0?p.length>=p.highWaterMark:p.length>0)||p.ended))return u("read: emitReadable",p.length,p.ended),p.length===0&&p.ended?A(this):J(this),null;if(f=Y(f,p),f===0&&p.ended)return p.length===0&&A(this),null;var k=p.needReadable;u("need readable",k),(p.length===0||p.length-f<p.highWaterMark)&&(k=!0,u("length less than watermark",k)),p.ended||p.reading?(k=!1,u("reading or ended",k)):k&&(u("do read"),p.reading=!0,p.sync=!0,p.length===0&&(p.needReadable=!0),this._read(p.highWaterMark),p.sync=!1,p.reading||(f=Y(b,p)));var F;return f>0?F=_(f,p):F=null,F===null?(p.needReadable=p.length<=p.highWaterMark,f=0):(p.length-=f,p.awaitDrain=0),p.length===0&&(p.ended||(p.needReadable=!0),b!==f&&p.ended&&A(this)),F!==null&&this.emit("data",F),F};function ie(f,p){if(u("onEofChunk"),!p.ended){if(p.decoder){var b=p.decoder.end();b&&b.length&&(p.buffer.push(b),p.length+=p.objectMode?1:b.length)}p.ended=!0,p.sync?J(f):(p.needReadable=!1,p.emittedReadable||(p.emittedReadable=!0,X(f)))}}function J(f){var p=f._readableState;u("emitReadable",p.needReadable,p.emittedReadable),p.needReadable=!1,p.emittedReadable||(u("emitReadable",p.flowing),p.emittedReadable=!0,dist.process.nextTick(X,f))}function X(f){var p=f._readableState;u("emitReadable_",p.destroyed,p.length,p.ended),!p.destroyed&&(p.length||p.ended)&&(f.emit("readable"),p.emittedReadable=!1),p.needReadable=!p.flowing&&!p.ended&&p.length<=p.highWaterMark,S(f)}function H(f,p){p.readingMore||(p.readingMore=!0,dist.process.nextTick(Q,f,p))}function Q(f,p){for(;!p.reading&&!p.ended&&(p.length<p.highWaterMark||p.flowing&&p.length===0);){var b=p.length;if(u("maybeReadMore read 0"),f.read(0),b===p.length)break}p.readingMore=!1}I.prototype._read=function(f){N(this,new g("_read()"))},I.prototype.pipe=function(f,p){var b=this,k=this._readableState;switch(k.pipesCount){case 0:k.pipes=f;break;case 1:k.pipes=[k.pipes,f];break;default:k.pipes.push(f);break}k.pipesCount+=1,u("pipe count=%d opts=%j",k.pipesCount,p);var F=(!p||p.end!==!1)&&f!==dist.process.stdout&&f!==dist.process.stderr,D=F?G:K;k.endEmitted?dist.process.nextTick(D):b.once("end",D),f.on("unpipe",U);function U(V,z){u("onunpipe"),V===b&&z&&z.hasUnpiped===!1&&(z.hasUnpiped=!0,fe())}function G(){u("onend"),f.end()}var ee=re(b);f.on("drain",ee);var ce=!1;function fe(){u("cleanup"),f.removeListener("close",ue),f.removeListener("finish",le),f.removeListener("drain",ee),f.removeListener("error",se),f.removeListener("unpipe",U),b.removeListener("end",G),b.removeListener("end",K),b.removeListener("data",de),ce=!0,k.awaitDrain&&(!f._writableState||f._writableState.needDrain)&&ee()}b.on("data",de);function de(V){u("ondata");var z=f.write(V);u("dest.write",z),z===!1&&((k.pipesCount===1&&k.pipes===f||k.pipesCount>1&&L(k.pipes,f)!==-1)&&!ce&&(u("false write response, pause",k.awaitDrain),k.awaitDrain++),b.pause())}function se(V){u("onerror",V),K(),f.removeListener("error",se),t(f,"error")===0&&N(f,V)}B(f,"error",se);function ue(){f.removeListener("finish",le),K()}f.once("close",ue);function le(){u("onfinish"),f.removeListener("close",ue),K()}f.once("finish",le);function K(){u("unpipe"),b.unpipe(f)}return f.emit("pipe",b),k.flowing||(u("pipe resume"),b.resume()),f};function re(f){return function(){var b=f._readableState;u("pipeOnDrain",b.awaitDrain),b.awaitDrain&&b.awaitDrain--,b.awaitDrain===0&&t(f,"data")&&(b.flowing=!0,S(f))}}I.prototype.unpipe=function(f){var p=this._readableState,b={hasUnpiped:!1};if(p.pipesCount===0)return this;if(p.pipesCount===1)return f&&f!==p.pipes?this:(f||(f=p.pipes),p.pipes=null,p.pipesCount=0,p.flowing=!1,f&&f.emit("unpipe",this,b),this);if(!f){var k=p.pipes,F=p.pipesCount;p.pipes=null,p.pipesCount=0,p.flowing=!1;for(var D=0;D<F;D++)k[D].emit("unpipe",this,{hasUnpiped:!1});return this}var U=L(p.pipes,f);return U===-1?this:(p.pipes.splice(U,1),p.pipesCount-=1,p.pipesCount===1&&(p.pipes=p.pipes[0]),f.emit("unpipe",this,b),this)},I.prototype.on=function(f,p){var b=i.prototype.on.call(this,f,p),k=this._readableState;return f==="data"?(k.readableListening=this.listenerCount("readable")>0,k.flowing!==!1&&this.resume()):f==="readable"&&!k.endEmitted&&!k.readableListening&&(k.readableListening=k.needReadable=!0,k.flowing=!1,k.emittedReadable=!1,u("on readable",k.length,k.reading),k.length?J(this):k.reading||dist.process.nextTick(W,this)),b},I.prototype.addListener=I.prototype.on,I.prototype.removeListener=function(f,p){var b=i.prototype.removeListener.call(this,f,p);return f==="readable"&&dist.process.nextTick(j,this),b},I.prototype.removeAllListeners=function(f){var p=i.prototype.removeAllListeners.apply(this,arguments);return(f==="readable"||f===void 0)&&dist.process.nextTick(j,this),p};function j(f){var p=f._readableState;p.readableListening=f.listenerCount("readable")>0,p.resumeScheduled&&!p.paused?p.flowing=!0:f.listenerCount("data")>0&&f.resume()}function W(f){u("readable nexttick read 0"),f.read(0)}I.prototype.resume=function(){var f=this._readableState;return f.flowing||(u("resume"),f.flowing=!f.readableListening,oe(this,f)),f.paused=!1,this};function oe(f,p){p.resumeScheduled||(p.resumeScheduled=!0,dist.process.nextTick(ae,f,p))}function ae(f,p){u("resume",p.reading),p.reading||f.read(0),p.resumeScheduled=!1,f.emit("resume"),S(f),p.flowing&&!p.reading&&f.read(0)}I.prototype.pause=function(){return u("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(u("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function S(f){var p=f._readableState;for(u("flow",p.flowing);p.flowing&&f.read()!==null;);}I.prototype.wrap=function(f){var p=this,b=this._readableState,k=!1;f.on("end",function(){if(u("wrapped end"),b.decoder&&!b.ended){var U=b.decoder.end();U&&U.length&&p.push(U)}p.push(null)}),f.on("data",function(U){if(u("wrapped data"),b.decoder&&(U=b.decoder.write(U)),!(b.objectMode&&U==null)&&!(!b.objectMode&&(!U||!U.length))){var G=p.push(U);G||(k=!0,f.pause())}});for(var F in f)this[F]===void 0&&typeof f[F]=="function"&&(this[F]=function(G){return function(){return f[G].apply(f,arguments)}}(F));for(var D=0;D<C.length;D++)f.on(C[D],this.emit.bind(this,C[D]));return this._read=function(U){u("wrapped _read",U),k&&(k=!1,f.resume())},this},typeof Symbol=="function"&&(I.prototype[Symbol.asyncIterator]=function(){return T===void 0&&(T=requireAsync_iterator()),T(this)}),Object.defineProperty(I.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(I.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(I.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(p){this._readableState&&(this._readableState.flowing=p)}}),I._fromList=_,Object.defineProperty(I.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function _(f,p){if(p.length===0)return null;var b;return p.objectMode?b=p.buffer.shift():!f||f>=p.length?(p.decoder?b=p.buffer.join(""):p.buffer.length===1?b=p.buffer.first():b=p.buffer.concat(p.length),p.buffer.clear()):b=p.buffer.consume(f,p.decoder),b}function A(f){var p=f._readableState;u("endReadable",p.endEmitted),p.endEmitted||(p.ended=!0,dist.process.nextTick(P,p,f))}function P(f,p){if(u("endReadableNT",f.endEmitted,f.length),!f.endEmitted&&f.length===0&&(f.endEmitted=!0,p.readable=!1,p.emit("end"),f.autoDestroy)){var b=p._writableState;(!b||b.autoDestroy&&b.finished)&&p.destroy()}}typeof Symbol=="function"&&(I.from=function(f,p){return w===void 0&&(w=requireFromBrowser()),w(I,f,p)});function L(f,p){for(var b=0,k=f.length;b<k;b++)if(f[b]===p)return b;return-1}return _stream_readable}var _stream_transform=Transform$1,_require$codes$1=errorsBrowser.codes,ERR_METHOD_NOT_IMPLEMENTED=_require$codes$1.ERR_METHOD_NOT_IMPLEMENTED,ERR_MULTIPLE_CALLBACK=_require$codes$1.ERR_MULTIPLE_CALLBACK,ERR_TRANSFORM_ALREADY_TRANSFORMING=_require$codes$1.ERR_TRANSFORM_ALREADY_TRANSFORMING,ERR_TRANSFORM_WITH_LENGTH_0=_require$codes$1.ERR_TRANSFORM_WITH_LENGTH_0,Duplex=require_stream_duplex();inherits_browserExports(Transform$1,Duplex);function afterTransform(e,t){var i=this._transformState;i.transforming=!1;var n=i.writecb;if(n===null)return this.emit("error",new ERR_MULTIPLE_CALLBACK);i.writechunk=null,i.writecb=null,t!=null&&this.push(t),n(e);var r=this._readableState;r.reading=!1,(r.needReadable||r.length<r.highWaterMark)&&this._read(r.highWaterMark)}function Transform$1(e){if(!(this instanceof Transform$1))return new Transform$1(e);Duplex.call(this,e),this._transformState={afterTransform:afterTransform.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&(typeof e.transform=="function"&&(this._transform=e.transform),typeof e.flush=="function"&&(this._flush=e.flush)),this.on("prefinish",prefinish)}function prefinish(){var e=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(t,i){done(e,t,i)}):done(this,null,null)}Transform$1.prototype.push=function(e,t){return this._transformState.needTransform=!1,Duplex.prototype.push.call(this,e,t)};Transform$1.prototype._transform=function(e,t,i){i(new ERR_METHOD_NOT_IMPLEMENTED("_transform()"))};Transform$1.prototype._write=function(e,t,i){var n=this._transformState;if(n.writecb=i,n.writechunk=e,n.writeencoding=t,!n.transforming){var r=this._readableState;(n.needTransform||r.needReadable||r.length<r.highWaterMark)&&this._read(r.highWaterMark)}};Transform$1.prototype._read=function(e){var t=this._transformState;t.writechunk!==null&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0};Transform$1.prototype._destroy=function(e,t){Duplex.prototype._destroy.call(this,e,function(i){t(i)})};function done(e,t,i){if(t)return e.emit("error",t);if(i!=null&&e.push(i),e._writableState.length)throw new ERR_TRANSFORM_WITH_LENGTH_0;if(e._transformState.transforming)throw new ERR_TRANSFORM_ALREADY_TRANSFORMING;return e.push(null)}var _stream_passthrough=PassThrough,Transform=_stream_transform;inherits_browserExports(PassThrough,Transform);function PassThrough(e){if(!(this instanceof PassThrough))return new PassThrough(e);Transform.call(this,e)}PassThrough.prototype._transform=function(e,t,i){i(null,e)};var eos;function once(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}var _require$codes=errorsBrowser.codes,ERR_MISSING_ARGS=_require$codes.ERR_MISSING_ARGS,ERR_STREAM_DESTROYED=_require$codes.ERR_STREAM_DESTROYED;function noop(e){if(e)throw e}function isRequest(e){return e.setHeader&&typeof e.abort=="function"}function destroyer(e,t,i,n){n=once(n);var r=!1;e.on("close",function(){r=!0}),eos===void 0&&(eos=endOfStream),eos(e,{readable:t,writable:i},function(a){if(a)return n(a);r=!0,n()});var o=!1;return function(a){if(!r&&!o){if(o=!0,isRequest(e))return e.abort();if(typeof e.destroy=="function")return e.destroy();n(a||new ERR_STREAM_DESTROYED("pipe"))}}}function call(e){e()}function pipe(e,t){return e.pipe(t)}function popCallback(e){return!e.length||typeof e[e.length-1]!="function"?noop:e.pop()}function pipeline(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var n=popCallback(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new ERR_MISSING_ARGS("streams");var r,o=t.map(function(a,s){var u=s<t.length-1,l=s>0;return destroyer(a,u,l,function(c){r||(r=c),c&&o.forEach(call),!u&&(o.forEach(call),n(r))})});return t.reduce(pipe)}var pipeline_1=pipeline;(function(e,t){t=e.exports=require_stream_readable(),t.Stream=t,t.Readable=t,t.Writable=require_stream_writable(),t.Duplex=require_stream_duplex(),t.Transform=_stream_transform,t.PassThrough=_stream_passthrough,t.finished=endOfStream,t.pipeline=pipeline_1})(readableBrowser,readableBrowser.exports);var readableBrowserExports=readableBrowser.exports;/*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */let promise;var queueMicrotask_1=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window<"u"?window:commonjsGlobal):e=>(promise||(promise=Promise.resolve())).then(e).catch(t=>setTimeout(()=>{throw t},0));function assign(e,t){for(const i in t)Object.defineProperty(e,i,{value:t[i],enumerable:!0,configurable:!0});return e}function createError(e,t,i){if(!e||typeof e=="string")throw new TypeError("Please pass an Error to err-code");i||(i={}),typeof t=="object"&&(i=t,t=""),t&&(i.code=t);try{return assign(e,i)}catch{i.message=e.message,i.stack=e.stack;const r=function(){};return r.prototype=Object.create(Object.getPrototypeOf(e)),assign(new r,i)}}var errCode$1=createError;/*! simple-peer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */const debug=browserExports$1("simple-peer"),getBrowserRTC=getBrowserRtc,randombytes=browserExports,stream=readableBrowserExports,queueMicrotask$1=queueMicrotask_1,errCode=errCode$1,{Buffer}=buffer,MAX_BUFFERED_AMOUNT=64*1024,ICECOMPLETE_TIMEOUT=5*1e3,CHANNEL_CLOSING_TIMEOUT=5*1e3;function filterTrickle(e){return e.replace(/a=ice-options:trickle\s\n/g,"")}function warn(e){console.warn(e)}class Peer extends stream.Duplex{constructor(t){if(t=Object.assign({allowHalfOpen:!1},t),super(t),this._id=randombytes(4).toString("hex").slice(0,7),this._debug("new peer %o",t),this.channelName=t.initiator?t.channelName||randombytes(20).toString("hex"):null,this.initiator=t.initiator||!1,this.channelConfig=t.channelConfig||Peer.channelConfig,this.channelNegotiated=this.channelConfig.negotiated,this.config=Object.assign({},Peer.config,t.config),this.offerOptions=t.offerOptions||{},this.answerOptions=t.answerOptions||{},this.sdpTransform=t.sdpTransform||(i=>i),this.streams=t.streams||(t.stream?[t.stream]:[]),this.trickle=t.trickle!==void 0?t.trickle:!0,this.allowHalfTrickle=t.allowHalfTrickle!==void 0?t.allowHalfTrickle:!1,this.iceCompleteTimeout=t.iceCompleteTimeout||ICECOMPLETE_TIMEOUT,this.destroyed=!1,this.destroying=!1,this._connected=!1,this.remoteAddress=void 0,this.remoteFamily=void 0,this.remotePort=void 0,this.localAddress=void 0,this.localFamily=void 0,this.localPort=void 0,this._wrtc=t.wrtc&&typeof t.wrtc=="object"?t.wrtc:getBrowserRTC(),!this._wrtc)throw errCode(typeof window>"u"?new Error("No WebRTC support: Specify `opts.wrtc` option in this environment"):new Error("No WebRTC support: Not a supported browser"),"ERR_WEBRTC_SUPPORT");this._pcReady=!1,this._channelReady=!1,this._iceComplete=!1,this._iceCompleteTimer=null,this._channel=null,this._pendingCandidates=[],this._isNegotiating=!1,this._firstNegotiation=!0,this._batchedNegotiation=!1,this._queuedNegotiation=!1,this._sendersAwaitingStable=[],this._senderMap=new Map,this._closingInterval=null,this._remoteTracks=[],this._remoteStreams=[],this._chunk=null,this._cb=null,this._interval=null;try{this._pc=new this._wrtc.RTCPeerConnection(this.config)}catch(i){this.destroy(errCode(i,"ERR_PC_CONSTRUCTOR"));return}this._isReactNativeWebrtc=typeof this._pc._peerConnectionId=="number",this._pc.oniceconnectionstatechange=()=>{this._onIceStateChange()},this._pc.onicegatheringstatechange=()=>{this._onIceStateChange()},this._pc.onconnectionstatechange=()=>{this._onConnectionStateChange()},this._pc.onsignalingstatechange=()=>{this._onSignalingStateChange()},this._pc.onicecandidate=i=>{this._onIceCandidate(i)},typeof this._pc.peerIdentity=="object"&&this._pc.peerIdentity.catch(i=>{this.destroy(errCode(i,"ERR_PC_PEER_IDENTITY"))}),this.initiator||this.channelNegotiated?this._setupData({channel:this._pc.createDataChannel(this.channelName,this.channelConfig)}):this._pc.ondatachannel=i=>{this._setupData(i)},this.streams&&this.streams.forEach(i=>{this.addStream(i)}),this._pc.ontrack=i=>{this._onTrack(i)},this._debug("initial negotiation"),this._needsNegotiation(),this._onFinishBound=()=>{this._onFinish()},this.once("finish",this._onFinishBound)}get bufferSize(){return this._channel&&this._channel.bufferedAmount||0}get connected(){return this._connected&&this._channel.readyState==="open"}address(){return{port:this.localPort,family:this.localFamily,address:this.localAddress}}signal(t){if(!this.destroying){if(this.destroyed)throw errCode(new Error("cannot signal after peer is destroyed"),"ERR_DESTROYED");if(typeof t=="string")try{t=JSON.parse(t)}catch{t={}}this._debug("signal()"),t.renegotiate&&this.initiator&&(this._debug("got request to renegotiate"),this._needsNegotiation()),t.transceiverRequest&&this.initiator&&(this._debug("got request for transceiver"),this.addTransceiver(t.transceiverRequest.kind,t.transceiverRequest.init)),t.candidate&&(this._pc.remoteDescription&&this._pc.remoteDescription.type?this._addIceCandidate(t.candidate):this._pendingCandidates.push(t.candidate)),t.sdp&&this._pc.setRemoteDescription(new this._wrtc.RTCSessionDescription(t)).then(()=>{this.destroyed||(this._pendingCandidates.forEach(i=>{this._addIceCandidate(i)}),this._pendingCandidates=[],this._pc.remoteDescription.type==="offer"&&this._createAnswer())}).catch(i=>{this.destroy(errCode(i,"ERR_SET_REMOTE_DESCRIPTION"))}),!t.sdp&&!t.candidate&&!t.renegotiate&&!t.transceiverRequest&&this.destroy(errCode(new Error("signal() called with invalid signal data"),"ERR_SIGNALING"))}}_addIceCandidate(t){const i=new this._wrtc.RTCIceCandidate(t);this._pc.addIceCandidate(i).catch(n=>{!i.address||i.address.endsWith(".local")?warn("Ignoring unsupported ICE candidate."):this.destroy(errCode(n,"ERR_ADD_ICE_CANDIDATE"))})}send(t){if(!this.destroying){if(this.destroyed)throw errCode(new Error("cannot send after peer is destroyed"),"ERR_DESTROYED");this._channel.send(t)}}addTransceiver(t,i){if(!this.destroying){if(this.destroyed)throw errCode(new Error("cannot addTransceiver after peer is destroyed"),"ERR_DESTROYED");if(this._debug("addTransceiver()"),this.initiator)try{this._pc.addTransceiver(t,i),this._needsNegotiation()}catch(n){this.destroy(errCode(n,"ERR_ADD_TRANSCEIVER"))}else this.emit("signal",{type:"transceiverRequest",transceiverRequest:{kind:t,init:i}})}}addStream(t){if(!this.destroying){if(this.destroyed)throw errCode(new Error("cannot addStream after peer is destroyed"),"ERR_DESTROYED");this._debug("addStream()"),t.getTracks().forEach(i=>{this.addTrack(i,t)})}}addTrack(t,i){if(this.destroying)return;if(this.destroyed)throw errCode(new Error("cannot addTrack after peer is destroyed"),"ERR_DESTROYED");this._debug("addTrack()");const n=this._senderMap.get(t)||new Map;let r=n.get(i);if(!r)r=this._pc.addTrack(t,i),n.set(i,r),this._senderMap.set(t,n),this._needsNegotiation();else throw r.removed?errCode(new Error("Track has been removed. You should enable/disable tracks that you want to re-add."),"ERR_SENDER_REMOVED"):errCode(new Error("Track has already been added to that stream."),"ERR_SENDER_ALREADY_ADDED")}replaceTrack(t,i,n){if(this.destroying)return;if(this.destroyed)throw errCode(new Error("cannot replaceTrack after peer is destroyed"),"ERR_DESTROYED");this._debug("replaceTrack()");const r=this._senderMap.get(t),o=r?r.get(n):null;if(!o)throw errCode(new Error("Cannot replace track that was never added."),"ERR_TRACK_NOT_ADDED");i&&this._senderMap.set(i,r),o.replaceTrack!=null?o.replaceTrack(i):this.destroy(errCode(new Error("replaceTrack is not supported in this browser"),"ERR_UNSUPPORTED_REPLACETRACK"))}removeTrack(t,i){if(this.destroying)return;if(this.destroyed)throw errCode(new Error("cannot removeTrack after peer is destroyed"),"ERR_DESTROYED");this._debug("removeSender()");const n=this._senderMap.get(t),r=n?n.get(i):null;if(!r)throw errCode(new Error("Cannot remove track that was never added."),"ERR_TRACK_NOT_ADDED");try{r.removed=!0,this._pc.removeTrack(r)}catch(o){o.name==="NS_ERROR_UNEXPECTED"?this._sendersAwaitingStable.push(r):this.destroy(errCode(o,"ERR_REMOVE_TRACK"))}this._needsNegotiation()}removeStream(t){if(!this.destroying){if(this.destroyed)throw errCode(new Error("cannot removeStream after peer is destroyed"),"ERR_DESTROYED");this._debug("removeSenders()"),t.getTracks().forEach(i=>{this.removeTrack(i,t)})}}_needsNegotiation(){this._debug("_needsNegotiation"),!this._batchedNegotiation&&(this._batchedNegotiation=!0,queueMicrotask$1(()=>{this._batchedNegotiation=!1,this.initiator||!this._firstNegotiation?(this._debug("starting batched negotiation"),this.negotiate()):this._debug("non-initiator initial negotiation request discarded"),this._firstNegotiation=!1}))}negotiate(){if(!this.destroying){if(this.destroyed)throw errCode(new Error("cannot negotiate after peer is destroyed"),"ERR_DESTROYED");this.initiator?this._isNegotiating?(this._queuedNegotiation=!0,this._debug("already negotiating, queueing")):(this._debug("start negotiation"),setTimeout(()=>{this._createOffer()},0)):this._isNegotiating?(this._queuedNegotiation=!0,this._debug("already negotiating, queueing")):(this._debug("requesting negotiation from initiator"),this.emit("signal",{type:"renegotiate",renegotiate:!0})),this._isNegotiating=!0}}destroy(t){this._destroy(t,()=>{})}_destroy(t,i){this.destroyed||this.destroying||(this.destroying=!0,this._debug("destroying (error: %s)",t&&(t.message||t)),queueMicrotask$1(()=>{if(this.destroyed=!0,this.destroying=!1,this._debug("destroy (error: %s)",t&&(t.message||t)),this.readable=this.writable=!1,this._readableState.ended||this.push(null),this._writableState.finished||this.end(),this._connected=!1,this._pcReady=!1,this._channelReady=!1,this._remoteTracks=null,this._remoteStreams=null,this._senderMap=null,clearInterval(this._closingInterval),this._closingInterval=null,clearInterval(this._interval),this._interval=null,this._chunk=null,this._cb=null,this._onFinishBound&&this.removeListener("finish",this._onFinishBound),this._onFinishBound=null,this._channel){try{this._channel.close()}catch{}this._channel.onmessage=null,this._channel.onopen=null,this._channel.onclose=null,this._channel.onerror=null}if(this._pc){try{this._pc.close()}catch{}this._pc.oniceconnectionstatechange=null,this._pc.onicegatheringstatechange=null,this._pc.onsignalingstatechange=null,this._pc.onicecandidate=null,this._pc.ontrack=null,this._pc.ondatachannel=null}this._pc=null,this._channel=null,t&&this.emit("error",t),this.emit("close"),i()}))}_setupData(t){if(!t.channel)return this.destroy(errCode(new Error("Data channel event is missing `channel` property"),"ERR_DATA_CHANNEL"));this._channel=t.channel,this._channel.binaryType="arraybuffer",typeof this._channel.bufferedAmountLowThreshold=="number"&&(this._channel.bufferedAmountLowThreshold=MAX_BUFFERED_AMOUNT),this.channelName=this._channel.label,this._channel.onmessage=n=>{this._onChannelMessage(n)},this._channel.onbufferedamountlow=()=>{this._onChannelBufferedAmountLow()},this._channel.onopen=()=>{this._onChannelOpen()},this._channel.onclose=()=>{this._onChannelClose()},this._channel.onerror=n=>{const r=n.error instanceof Error?n.error:new Error(`Datachannel error: ${n.message} ${n.filename}:${n.lineno}:${n.colno}`);this.destroy(errCode(r,"ERR_DATA_CHANNEL"))};let i=!1;this._closingInterval=setInterval(()=>{this._channel&&this._channel.readyState==="closing"?(i&&this._onChannelClose(),i=!0):i=!1},CHANNEL_CLOSING_TIMEOUT)}_read(){}_write(t,i,n){if(this.destroyed)return n(errCode(new Error("cannot write after peer is destroyed"),"ERR_DATA_CHANNEL"));if(this._connected){try{this.send(t)}catch(r){return this.destroy(errCode(r,"ERR_DATA_CHANNEL"))}this._channel.bufferedAmount>MAX_BUFFERED_AMOUNT?(this._debug("start backpressure: bufferedAmount %d",this._channel.bufferedAmount),this._cb=n):n(null)}else this._debug("write before connect"),this._chunk=t,this._cb=n}_onFinish(){if(this.destroyed)return;const t=()=>{setTimeout(()=>this.destroy(),1e3)};this._connected?t():this.once("connect",t)}_startIceCompleteTimeout(){this.destroyed||this._iceCompleteTimer||(this._debug("started iceComplete timeout"),this._iceCompleteTimer=setTimeout(()=>{this._iceComplete||(this._iceComplete=!0,this._debug("iceComplete timeout completed"),this.emit("iceTimeout"),this.emit("_iceComplete"))},this.iceCompleteTimeout))}_createOffer(){this.destroyed||this._pc.createOffer(this.offerOptions).then(t=>{if(this.destroyed)return;!this.trickle&&!this.allowHalfTrickle&&(t.sdp=filterTrickle(t.sdp)),t.sdp=this.sdpTransform(t.sdp);const i=()=>{if(this.destroyed)return;const o=this._pc.localDescription||t;this._debug("signal"),this.emit("signal",{type:o.type,sdp:o.sdp})},n=()=>{this._debug("createOffer success"),!this.destroyed&&(this.trickle||this._iceComplete?i():this.once("_iceComplete",i))},r=o=>{this.destroy(errCode(o,"ERR_SET_LOCAL_DESCRIPTION"))};this._pc.setLocalDescription(t).then(n).catch(r)}).catch(t=>{this.destroy(errCode(t,"ERR_CREATE_OFFER"))})}_requestMissingTransceivers(){this._pc.getTransceivers&&this._pc.getTransceivers().forEach(t=>{!t.mid&&t.sender.track&&!t.requested&&(t.requested=!0,this.addTransceiver(t.sender.track.kind))})}_createAnswer(){this.destroyed||this._pc.createAnswer(this.answerOptions).then(t=>{if(this.destroyed)return;!this.trickle&&!this.allowHalfTrickle&&(t.sdp=filterTrickle(t.sdp)),t.sdp=this.sdpTransform(t.sdp);const i=()=>{if(this.destroyed)return;const o=this._pc.localDescription||t;this._debug("signal"),this.emit("signal",{type:o.type,sdp:o.sdp}),this.initiator||this._requestMissingTransceivers()},n=()=>{this.destroyed||(this.trickle||this._iceComplete?i():this.once("_iceComplete",i))},r=o=>{this.destroy(errCode(o,"ERR_SET_LOCAL_DESCRIPTION"))};this._pc.setLocalDescription(t).then(n).catch(r)}).catch(t=>{this.destroy(errCode(t,"ERR_CREATE_ANSWER"))})}_onConnectionStateChange(){this.destroyed||this._pc.connectionState==="failed"&&this.destroy(errCode(new Error("Connection failed."),"ERR_CONNECTION_FAILURE"))}_onIceStateChange(){if(this.destroyed)return;const t=this._pc.iceConnectionState,i=this._pc.iceGatheringState;this._debug("iceStateChange (connection: %s) (gathering: %s)",t,i),this.emit("iceStateChange",t,i),(t==="connected"||t==="completed")&&(this._pcReady=!0,this._maybeReady()),t==="failed"&&this.destroy(errCode(new Error("Ice connection failed."),"ERR_ICE_CONNECTION_FAILURE")),t==="closed"&&this.destroy(errCode(new Error("Ice connection closed."),"ERR_ICE_CONNECTION_CLOSED"))}getStats(t){const i=n=>(Object.prototype.toString.call(n.values)==="[object Array]"&&n.values.forEach(r=>{Object.assign(n,r)}),n);this._pc.getStats.length===0||this._isReactNativeWebrtc?this._pc.getStats().then(n=>{const r=[];n.forEach(o=>{r.push(i(o))}),t(null,r)},n=>t(n)):this._pc.getStats.length>0?this._pc.getStats(n=>{if(this.destroyed)return;const r=[];n.result().forEach(o=>{const a={};o.names().forEach(s=>{a[s]=o.stat(s)}),a.id=o.id,a.type=o.type,a.timestamp=o.timestamp,r.push(i(a))}),t(null,r)},n=>t(n)):t(null,[])}_maybeReady(){if(this._debug("maybeReady pc %s channel %s",this._pcReady,this._channelReady),this._connected||this._connecting||!this._pcReady||!this._channelReady)return;this._connecting=!0;const t=()=>{this.destroyed||this.getStats((i,n)=>{if(this.destroyed)return;i&&(n=[]);const r={},o={},a={};let s=!1;n.forEach(l=>{(l.type==="remotecandidate"||l.type==="remote-candidate")&&(r[l.id]=l),(l.type==="localcandidate"||l.type==="local-candidate")&&(o[l.id]=l),(l.type==="candidatepair"||l.type==="candidate-pair")&&(a[l.id]=l)});const u=l=>{s=!0;let c=o[l.localCandidateId];c&&(c.ip||c.address)?(this.localAddress=c.ip||c.address,this.localPort=Number(c.port)):c&&c.ipAddress?(this.localAddress=c.ipAddress,this.localPort=Number(c.portNumber)):typeof l.googLocalAddress=="string"&&(c=l.googLocalAddress.split(":"),this.localAddress=c[0],this.localPort=Number(c[1])),this.localAddress&&(this.localFamily=this.localAddress.includes(":")?"IPv6":"IPv4");let d=r[l.remoteCandidateId];d&&(d.ip||d.address)?(this.remoteAddress=d.ip||d.address,this.remotePort=Number(d.port)):d&&d.ipAddress?(this.remoteAddress=d.ipAddress,this.remotePort=Number(d.portNumber)):typeof l.googRemoteAddress=="string"&&(d=l.googRemoteAddress.split(":"),this.remoteAddress=d[0],this.remotePort=Number(d[1])),this.remoteAddress&&(this.remoteFamily=this.remoteAddress.includes(":")?"IPv6":"IPv4"),this._debug("connect local: %s:%s remote: %s:%s",this.localAddress,this.localPort,this.remoteAddress,this.remotePort)};if(n.forEach(l=>{l.type==="transport"&&l.selectedCandidatePairId&&u(a[l.selectedCandidatePairId]),(l.type==="googCandidatePair"&&l.googActiveConnection==="true"||(l.type==="candidatepair"||l.type==="candidate-pair")&&l.selected)&&u(l)}),!s&&(!Object.keys(a).length||Object.keys(o).length)){setTimeout(t,100);return}else this._connecting=!1,this._connected=!0;if(this._chunk){try{this.send(this._chunk)}catch(c){return this.destroy(errCode(c,"ERR_DATA_CHANNEL"))}this._chunk=null,this._debug('sent chunk from "write before connect"');const l=this._cb;this._cb=null,l(null)}typeof this._channel.bufferedAmountLowThreshold!="number"&&(this._interval=setInterval(()=>this._onInterval(),150),this._interval.unref&&this._interval.unref()),this._debug("connect"),this.emit("connect")})};t()}_onInterval(){!this._cb||!this._channel||this._channel.bufferedAmount>MAX_BUFFERED_AMOUNT||this._onChannelBufferedAmountLow()}_onSignalingStateChange(){this.destroyed||(this._pc.signalingState==="stable"&&(this._isNegotiating=!1,this._debug("flushing sender queue",this._sendersAwaitingStable),this._sendersAwaitingStable.forEach(t=>{this._pc.removeTrack(t),this._queuedNegotiation=!0}),this._sendersAwaitingStable=[],this._queuedNegotiation?(this._debug("flushing negotiation queue"),this._queuedNegotiation=!1,this._needsNegotiation()):(this._debug("negotiated"),this.emit("negotiated"))),this._debug("signalingStateChange %s",this._pc.signalingState),this.emit("signalingStateChange",this._pc.signalingState))}_onIceCandidate(t){this.destroyed||(t.candidate&&this.trickle?this.emit("signal",{type:"candidate",candidate:{candidate:t.candidate.candidate,sdpMLineIndex:t.candidate.sdpMLineIndex,sdpMid:t.candidate.sdpMid}}):!t.candidate&&!this._iceComplete&&(this._iceComplete=!0,this.emit("_iceComplete")),t.candidate&&this._startIceCompleteTimeout())}_onChannelMessage(t){if(this.destroyed)return;let i=t.data;i instanceof ArrayBuffer&&(i=Buffer.from(i)),this.push(i)}_onChannelBufferedAmountLow(){if(this.destroyed||!this._cb)return;this._debug("ending backpressure: bufferedAmount %d",this._channel.bufferedAmount);const t=this._cb;this._cb=null,t(null)}_onChannelOpen(){this._connected||this.destroyed||(this._debug("on channel open"),this._channelReady=!0,this._maybeReady())}_onChannelClose(){this.destroyed||(this._debug("on channel close"),this.destroy())}_onTrack(t){this.destroyed||t.streams.forEach(i=>{this._debug("on track"),this.emit("track",t.track,i),this._remoteTracks.push({track:t.track,stream:i}),!this._remoteStreams.some(n=>n.id===i.id)&&(this._remoteStreams.push(i),queueMicrotask$1(()=>{this._debug("on stream"),this.emit("stream",i)}))})}_debug(){const t=[].slice.call(arguments);t[0]="["+this._id+"] "+t[0],debug.apply(null,t)}}Peer.WEBRTC_SUPPORT=!!getBrowserRTC();Peer.config={iceServers:[{urls:["stun:stun.l.google.com:19302","stun:global.stun.twilio.com:3478"]}],sdpSemantics:"unified-plan"};Peer.channelConfig={};var simplePeer=Peer;const SimplePeer=getDefaultExportFromCjs(simplePeer);class SimplePeerConnection{constructor(){$(this,"lastMsgRecivedTimestamp");$(this,"connectionState");$(this,"latestRecivedDataMessage");$(this,"outgoingSignalingMessages");$(this,"currentVideoStream");$(this,"_p");$(this,"_msgSendQueue",[]);$(this,"_reconnectAttemptCount");$(this,"_shouldReconnect");this.currentVideoStream=nStore(null),this.outgoingSignalingMessages=nStore(null),this.latestRecivedDataMessage=nStore(null),this.connectionState=nStore(ConnectionStates.init)}async start(t){this._p=new SimplePeer(t),this._reconnectAttemptCount=0,this._p.on("signal",i=>{console.log("SIMPLEPEER sendSignallingMsgCallback: ",i),this.outgoingSignalingMessages.set(JSON.stringify(i))}),this._p.on("connect",()=>{this._emptyMsgQueue(),this._reconnectAttemptCount=0,this.connectionState.set(ConnectionStates.connected)}),this._p.on("data",i=>{console.log("SIMPLEPEER: got a dc message: ",i),this.lastMsgRecivedTimestamp=Date.now(),this.latestRecivedDataMessage.set(i)}),this._p.on("stream",i=>{console.info("SIMPLEPEER: got video stream: ",i),this.currentVideoStream.set(i);for(let n of i.getTracks())if(n.kind==="video"){n.onmute=()=>this.currentVideoStream.set(null),n.onunmute=()=>this.currentVideoStream.set(i),n.onended=()=>this.currentVideoStream.set(null);break}}),this._p.on("close",()=>{console.log("SIMPLEPEER: connection closed"),this.currentVideoStream.set(null),this._shouldReconnect||this.connectionState.set(ConnectionStates.disconnectedOk)}),this._p.on("error",i=>{console.error("SIMPLEPEER: error: ",i),this.currentVideoStream.set(null),this._shouldReconnect&&(this.connectionState.set(ConnectionStates.reconnecting),this._reconnectAttemptCount++,this._reconnectAttemptCount<10?setTimeout(()=>{this._p.reconnect()},1e4):console.error("SIMPLEPEER: failed to reconnect after 10 attempts, giving up."))})}stop(){this.connectionState.set(ConnectionStates.disconnectedOk),this.currentVideoStream.set(null),this._shouldReconnect=!1,this._p&&this._p.destroy()}ingestSignalingMsg(t){try{const i=JSON.parse(t);this._p.signal(i)}catch(i){console.warn("failed to parse & ingest simplepeer signalling message: ",t,i.message)}}sendMessage(t){this._msgSendQueue.push(t),this._emptyMsgQueue()}_emptyMsgQueue(){if(!this._p||!this._p.connected)return!1;for(this._msgSendQueue.length;this._msgSendQueue.length>0;){const t=this._msgSendQueue.shift();try{this._p.send(t)}catch(i){console.error("failed to send message over simplepeer data channel: ",i.message),this._msgSendQueue.unshift(t)}}}}class TwitchStream{constructor(){$(this,"_twitchStreamKey");$(this,"_egressClient");$(this,"roomName");$(this,"streamEgressID")}init(t,i,n,r){this._twitchStreamKey=t,this.roomName=i,this._egressClient=new EgressClient("https://rov-web.livekit.cloud",n,r)}async isAnotherStreamRunning(){return this._egressClient?this._egressClient.listEgress().then(t=>t.filter(i=>!this.streamEgressID||i.egressId!=this.streamEgressID).length>0):!0}async closeOtherEgresses(){return this._egressClient?this._egressClient.listEgress().then(t=>t.map(async i=>{!this._egressClient||!i.egressId||this.streamEgressID&&i.egressId==this.streamEgressID||(console.log("Closing egress: ",i),await this._egressClient.stopEgress(i.egressId))})):!1}async startStream(){if(!this._twitchStreamKey||!this._egressClient||!this.roomName)return console.warn("startStream() err: Twitch stream key not set or twitchStream class not initilized!");for(await this.closeOtherEgresses();await this.isAnotherStreamRunning()==!0;)console.log("Another twitch stream is running, waiting 5 seconds to try again..."),await waitfor(5e3);const t={protocol:StreamProtocol.RTMP,urls:["rtmp://live.twitch.tv/app/"+this._twitchStreamKey]};var i=await this._egressClient.startRoomCompositeEgress(this.roomName,t);this.streamEgressID=i.egressId}async stopStream(){if(!this.streamEgressID||!this._egressClient)return console.warn("stopStream() err: Twitch Stream not started!");await this._egressClient.stopEgress(this.streamEgressID)}}const twitchStream=new TwitchStream;class InternalConnectionManager{constructor(){$(this,"_cloudLivekitConnection",new LivekitPublisherConnection);$(this,"_simplePeerConnections",{});$(this,"_cameraMediaStream",null);this._cloudLivekitConnection.init({hostUrl:LIVEKIT_CLOUD_ENDPOINT,publishVideo:!0,reconnectAttempts:300,roomConnectionConfig:LIVEKIT_BACKEND_ROOM_CONNECTION_CONFIG,roomConfig:LIVEKIT_BACKEND_ROOM_CONFIG}),changesSubscribe(this._cloudLivekitConnection.latestRecivedDataMessage,t=>{if(!t)return;const{senderId:i,msg:n}=t;backendHandleWebrtcMsgRcvd(i,n)}),changesSubscribe(this._cloudLivekitConnection.connectionState,t=>{console.log("Cloud Conn State Changed: "+t),t==ConnectionStates.connected&&twitchStream.startStream()}),changesSubscribe(this._cloudLivekitConnection.participantConnectionEvents,t=>{console.log("Cloud Conn Participant Event: ",t)})}async cameraReady(t){this._cameraMediaStream=t,this._cloudLivekitConnection&&this._cloudLivekitConnection.connectionState.get()==ConnectionStates.connected&&this._cameraMediaStream&&await this._cloudLivekitConnection._roomConn.localParticipant.setCameraEnabled(!0)}async start(t){t.EnableLivekitCloud&&this._cloudLivekitConnection.startRoom(t.RovName,t.LivekitAPIKey,t.LivekitSecretKey),asyncExpBackoff(navigator.mediaDevices.getUserMedia,navigator.mediaDevices,10,1e3,1.3)({video:!0,audio:!1}).then(this.cameraReady.bind(this)).catch(i=>{console.error(i),window.location.reload()}),console.info("Connection Manager Started")}async startSimplePeerConnection(t,i){this._simplePeerConnections[t]&&(this._simplePeerConnections[t].stop(),delete this._simplePeerConnections[t]);const n=new SimplePeerConnection;changesSubscribe(n.latestRecivedDataMessage,r=>{backendHandleWebrtcMsgRcvd(t,r)}),changesSubscribe(n.outgoingSignalingMessages,r=>{this.sendMessage({SimplepeerSignal:{Message:r}},!0,[t])}),await n.start({initiator:!1,trickle:!1,streams:[this._cameraMediaStream]}),this._simplePeerConnections[t]=n,i&&n.ingestSignalingMsg(i)}async ingestSimplePeerSignallingMsg(t,i){const n=this._simplePeerConnections[t];n?[ConnectionStates.failed,ConnectionStates.disconnectedOk,ConnectionStates.init].includes(n.connectionState.get())?await this.startSimplePeerConnection(t,i):n.ingestSignalingMsg(i):await this.startSimplePeerConnection(t,i)}async _sendMessageViaLivekit(t,i,n){await this._cloudLivekitConnection.sendMessage(t,i,n)}async sendMessage(t,i,n){if(!t||this._cloudLivekitConnection.connectionState.get()!=ConnectionStates.connected)return console.count("Livekit Message Not Sent, Livekit Not Connected");console.debug("LvKit: "+(n.length==0?"Broadcasting msg ":"Sending msg to ["+n.join(", ")+"]")+(i?"reliably":"unreliably")+":",t),t.BackendMetadata=new rov_actions_proto.ResponseBackendMetadata({});const r=rov_actions_proto.RovResponse.encode(t).finish(),o=n;await this._cloudLivekitConnection.sendMessage(r,i,o)}}const internalConnManager=new InternalConnectionManager;window.getLongTermStarterAccessToken=getLongTermStarterAccessToken;const urlParams=new URLSearchParams(location.search),livekitConfig={RovName:urlParams.get("RovName"),RovControlPassword:urlParams.get("RovControlPassword"),LivekitAPIKey:urlParams.get("LivekitApiKey"),LivekitSecretKey:urlParams.get("LivekitSecretKey"),TwitchStreamKey:urlParams.get("TwitchStreamKey")||"None",EnableLivekitLocal:(urlParams.get("ForceLocal")||"false").toLowerCase()==="true",EnableLivekitCloud:(urlParams.get("EnableCloud")||"true").toLowerCase()==="true",PythonWebsocketPort:parseInt(urlParams.get("PythonWebsocketPort"))||0,AuthTokenTimeout:parseInt(urlParams.get("AuthTokenTimeout"))||SECONDS_IN_DAY};for(const e in livekitConfig)if(livekitConfig[e]==null)throw new Error("Missing required url query parameter: "+e);internalConnManager.start(livekitConfig);
//# sourceMappingURL=internal-f1de4c13.js.map
