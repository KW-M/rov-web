var we=Object.defineProperty;var ke=(n,e,a)=>e in n?we(n,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):n[e]=a;var Y=(n,e,a)=>(ke(n,typeof e!="symbol"?e+"":e,a),a);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))t(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const c of s.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&t(c)}).observe(document,{childList:!0,subtree:!0});function a(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerpolicy&&(s.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?s.credentials="include":r.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function t(r){if(r.ep)return;r.ep=!0;const s=a(r);fetch(r.href,s)}})();const app="";function noop$1(){}const identity=n=>n;function assign$3(n,e){for(const a in e)n[a]=e[a];return n}function run(n){return n()}function blank_object(){return Object.create(null)}function run_all(n){n.forEach(run)}function is_function(n){return typeof n=="function"}function safe_not_equal(n,e){return n!=n?e==e:n!==e||n&&typeof n=="object"||typeof n=="function"}function is_empty(n){return Object.keys(n).length===0}function subscribe(n,...e){if(n==null)return noop$1;const a=n.subscribe(...e);return a.unsubscribe?()=>a.unsubscribe():a}function component_subscribe(n,e,a){n.$$.on_destroy.push(subscribe(e,a))}function create_slot(n,e,a,t){if(n){const r=get_slot_context(n,e,a,t);return n[0](r)}}function get_slot_context(n,e,a,t){return n[1]&&t?assign$3(a.ctx.slice(),n[1](t(e))):a.ctx}function get_slot_changes(n,e,a,t){if(n[2]&&t){const r=n[2](t(a));if(e.dirty===void 0)return r;if(typeof r=="object"){const s=[],c=Math.max(e.dirty.length,r.length);for(let d=0;d<c;d+=1)s[d]=e.dirty[d]|r[d];return s}return e.dirty|r}return e.dirty}function update_slot_base(n,e,a,t,r,s){if(r){const c=get_slot_context(e,a,t,s);n.p(c,r)}}function get_all_dirty_from_scope(n){if(n.ctx.length>32){const e=[],a=n.ctx.length/32;for(let t=0;t<a;t++)e[t]=-1;return e}return-1}function exclude_internal_props(n){const e={};for(const a in n)a[0]!=="$"&&(e[a]=n[a]);return e}function compute_rest_props(n,e){const a={};e=new Set(e);for(const t in n)!e.has(t)&&t[0]!=="$"&&(a[t]=n[t]);return a}function null_to_empty(n){return n??""}function set_store_value(n,e,a){return n.set(a),e}function action_destroyer(n){return n&&is_function(n.destroy)?n.destroy:noop$1}const is_client=typeof window<"u";let now=is_client?()=>window.performance.now():()=>Date.now(),raf=is_client?n=>requestAnimationFrame(n):noop$1;const tasks=new Set;function run_tasks(n){tasks.forEach(e=>{e.c(n)||(tasks.delete(e),e.f())}),tasks.size!==0&&raf(run_tasks)}function loop(n){let e;return tasks.size===0&&raf(run_tasks),{promise:new Promise(a=>{tasks.add(e={c:n,f:a})}),abort(){tasks.delete(e)}}}function append(n,e){n.appendChild(e)}function get_root_for_style(n){if(!n)return document;const e=n.getRootNode?n.getRootNode():n.ownerDocument;return e&&e.host?e:n.ownerDocument}function append_empty_stylesheet(n){const e=element("style");return append_stylesheet(get_root_for_style(n),e),e.sheet}function append_stylesheet(n,e){return append(n.head||n,e),e.sheet}function insert(n,e,a){n.insertBefore(e,a||null)}function detach(n){n.parentNode&&n.parentNode.removeChild(n)}function destroy_each(n,e){for(let a=0;a<n.length;a+=1)n[a]&&n[a].d(e)}function element(n){return document.createElement(n)}function svg_element(n){return document.createElementNS("http://www.w3.org/2000/svg",n)}function text(n){return document.createTextNode(n)}function space(){return text(" ")}function empty(){return text("")}function listen(n,e,a,t){return n.addEventListener(e,a,t),()=>n.removeEventListener(e,a,t)}function prevent_default(n){return function(e){return e.preventDefault(),n.call(this,e)}}function stop_propagation(n){return function(e){return e.stopPropagation(),n.call(this,e)}}function attr(n,e,a){a==null?n.removeAttribute(e):n.getAttribute(e)!==a&&n.setAttribute(e,a)}function set_attributes(n,e){const a=Object.getOwnPropertyDescriptors(n.__proto__);for(const t in e)e[t]==null?n.removeAttribute(t):t==="style"?n.style.cssText=e[t]:t==="__value"?n.value=n[t]=e[t]:a[t]&&a[t].set?n[t]=e[t]:attr(n,t,e[t])}function set_svg_attributes(n,e){for(const a in e)attr(n,a,e[a])}function children$1(n){return Array.from(n.childNodes)}function set_data(n,e){e=""+e,n.wholeText!==e&&(n.data=e)}function set_input_value(n,e){n.value=e??""}function set_style(n,e,a,t){a===null?n.style.removeProperty(e):n.style.setProperty(e,a,t?"important":"")}function toggle_class(n,e,a){n.classList[a?"add":"remove"](e)}function custom_event(n,e,{bubbles:a=!1,cancelable:t=!1}={}){const r=document.createEvent("CustomEvent");return r.initCustomEvent(n,a,t,e),r}class HtmlTag{constructor(e=!1){this.is_svg=!1,this.is_svg=e,this.e=this.n=null}c(e){this.h(e)}m(e,a,t=null){this.e||(this.is_svg?this.e=svg_element(a.nodeName):this.e=element(a.nodeName),this.t=a,this.c(e)),this.i(t)}h(e){this.e.innerHTML=e,this.n=Array.from(this.e.childNodes)}i(e){for(let a=0;a<this.n.length;a+=1)insert(this.t,this.n[a],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(detach)}}function construct_svelte_component(n,e){return new n(e)}const managed_styles=new Map;let active=0;function hash$2(n){let e=5381,a=n.length;for(;a--;)e=(e<<5)-e^n.charCodeAt(a);return e>>>0}function create_style_information(n,e){const a={stylesheet:append_empty_stylesheet(e),rules:{}};return managed_styles.set(n,a),a}function create_rule(n,e,a,t,r,s,c,d=0){const u=16.666/t;let m=`{
`;for(let w=0;w<=1;w+=u){const k=e+(a-e)*s(w);m+=w*100+`%{${c(k,1-k)}}
`}const g=m+`100% {${c(a,1-a)}}
}`,_=`__svelte_${hash$2(g)}_${d}`,b=get_root_for_style(n),{stylesheet:S,rules:C}=managed_styles.get(b)||create_style_information(b,n);C[_]||(C[_]=!0,S.insertRule(`@keyframes ${_} ${g}`,S.cssRules.length));const R=n.style.animation||"";return n.style.animation=`${R?`${R}, `:""}${_} ${t}ms linear ${r}ms 1 both`,active+=1,_}function delete_rule(n,e){const a=(n.style.animation||"").split(", "),t=a.filter(e?s=>s.indexOf(e)<0:s=>s.indexOf("__svelte")===-1),r=a.length-t.length;r&&(n.style.animation=t.join(", "),active-=r,active||clear_rules())}function clear_rules(){raf(()=>{active||(managed_styles.forEach(n=>{const{ownerNode:e}=n.stylesheet;e&&detach(e)}),managed_styles.clear())})}function create_animation(n,e,a,t){if(!e)return noop$1;const r=n.getBoundingClientRect();if(e.left===r.left&&e.right===r.right&&e.top===r.top&&e.bottom===r.bottom)return noop$1;const{delay:s=0,duration:c=300,easing:d=identity,start:u=now()+s,end:m=u+c,tick:g=noop$1,css:_}=a(n,{from:e,to:r},t);let b=!0,S=!1,C;function R(){_&&(C=create_rule(n,0,1,c,s,d,_)),s||(S=!0)}function w(){_&&delete_rule(n,C),b=!1}return loop(k=>{if(!S&&k>=u&&(S=!0),S&&k>=m&&(g(1,0),w()),!b)return!1;if(S){const $=k-u,O=0+1*d($/c);g(O,1-O)}return!0}),R(),g(0,1),w}function fix_position(n){const e=getComputedStyle(n);if(e.position!=="absolute"&&e.position!=="fixed"){const{width:a,height:t}=e,r=n.getBoundingClientRect();n.style.position="absolute",n.style.width=a,n.style.height=t,add_transform(n,r)}}function add_transform(n,e){const a=n.getBoundingClientRect();if(e.left!==a.left||e.top!==a.top){const t=getComputedStyle(n),r=t.transform==="none"?"":t.transform;n.style.transform=`${r} translate(${e.left-a.left}px, ${e.top-a.top}px)`}}let current_component;function set_current_component(n){current_component=n}function get_current_component(){if(!current_component)throw new Error("Function called outside component initialization");return current_component}function onMount(n){get_current_component().$$.on_mount.push(n)}function onDestroy(n){get_current_component().$$.on_destroy.push(n)}function createEventDispatcher(){const n=get_current_component();return(e,a,{cancelable:t=!1}={})=>{const r=n.$$.callbacks[e];if(r){const s=custom_event(e,a,{cancelable:t});return r.slice().forEach(c=>{c.call(n,s)}),!s.defaultPrevented}return!0}}function setContext(n,e){return get_current_component().$$.context.set(n,e),e}function getContext(n){return get_current_component().$$.context.get(n)}function bubble(n,e){const a=n.$$.callbacks[e.type];a&&a.slice().forEach(t=>t.call(this,e))}const dirty_components=[],binding_callbacks=[],render_callbacks=[],flush_callbacks=[],resolved_promise=Promise.resolve();let update_scheduled=!1;function schedule_update(){update_scheduled||(update_scheduled=!0,resolved_promise.then(flush))}function tick(){return schedule_update(),resolved_promise}function add_render_callback(n){render_callbacks.push(n)}function add_flush_callback(n){flush_callbacks.push(n)}const seen_callbacks=new Set;let flushidx=0;function flush(){const n=current_component;do{for(;flushidx<dirty_components.length;){const e=dirty_components[flushidx];flushidx++,set_current_component(e),update$1(e.$$)}for(set_current_component(null),dirty_components.length=0,flushidx=0;binding_callbacks.length;)binding_callbacks.pop()();for(let e=0;e<render_callbacks.length;e+=1){const a=render_callbacks[e];seen_callbacks.has(a)||(seen_callbacks.add(a),a())}render_callbacks.length=0}while(dirty_components.length);for(;flush_callbacks.length;)flush_callbacks.pop()();update_scheduled=!1,seen_callbacks.clear(),set_current_component(n)}function update$1(n){if(n.fragment!==null){n.update(),run_all(n.before_update);const e=n.dirty;n.dirty=[-1],n.fragment&&n.fragment.p(n.ctx,e),n.after_update.forEach(add_render_callback)}}let promise;function wait$1(){return promise||(promise=Promise.resolve(),promise.then(()=>{promise=null})),promise}function dispatch(n,e,a){n.dispatchEvent(custom_event(`${e?"intro":"outro"}${a}`))}const outroing=new Set;let outros;function group_outros(){outros={r:0,c:[],p:outros}}function check_outros(){outros.r||run_all(outros.c),outros=outros.p}function transition_in(n,e){n&&n.i&&(outroing.delete(n),n.i(e))}function transition_out(n,e,a,t){if(n&&n.o){if(outroing.has(n))return;outroing.add(n),outros.c.push(()=>{outroing.delete(n),t&&(a&&n.d(1),t())}),n.o(e)}else t&&t()}const null_transition={duration:0};function create_in_transition(n,e,a){const t={direction:"in"};let r=e(n,a,t),s=!1,c,d,u=0;function m(){c&&delete_rule(n,c)}function g(){const{delay:b=0,duration:S=300,easing:C=identity,tick:R=noop$1,css:w}=r||null_transition;w&&(c=create_rule(n,0,1,S,b,C,w,u++)),R(0,1);const k=now()+b,$=k+S;d&&d.abort(),s=!0,add_render_callback(()=>dispatch(n,!0,"start")),d=loop(O=>{if(s){if(O>=$)return R(1,0),dispatch(n,!0,"end"),m(),s=!1;if(O>=k){const P=C((O-k)/S);R(P,1-P)}}return s})}let _=!1;return{start(){_||(_=!0,delete_rule(n),is_function(r)?(r=r(t),wait$1().then(g)):g())},invalidate(){_=!1},end(){s&&(m(),s=!1)}}}function create_out_transition(n,e,a){const t={direction:"out"};let r=e(n,a,t),s=!0,c;const d=outros;d.r+=1;function u(){const{delay:m=0,duration:g=300,easing:_=identity,tick:b=noop$1,css:S}=r||null_transition;S&&(c=create_rule(n,1,0,g,m,_,S));const C=now()+m,R=C+g;add_render_callback(()=>dispatch(n,!1,"start")),loop(w=>{if(s){if(w>=R)return b(0,1),dispatch(n,!1,"end"),--d.r||run_all(d.c),!1;if(w>=C){const k=_((w-C)/g);b(1-k,k)}}return s})}return is_function(r)?wait$1().then(()=>{r=r(t),u()}):u(),{end(m){m&&r.tick&&r.tick(1,0),s&&(c&&delete_rule(n,c),s=!1)}}}function create_bidirectional_transition(n,e,a,t){const r={direction:"both"};let s=e(n,a,r),c=t?0:1,d=null,u=null,m=null;function g(){m&&delete_rule(n,m)}function _(S,C){const R=S.b-c;return C*=Math.abs(R),{a:c,b:S.b,d:R,duration:C,start:S.start,end:S.start+C,group:S.group}}function b(S){const{delay:C=0,duration:R=300,easing:w=identity,tick:k=noop$1,css:$}=s||null_transition,O={start:now()+C,b:S};S||(O.group=outros,outros.r+=1),d||u?u=O:($&&(g(),m=create_rule(n,c,S,R,C,w,$)),S&&k(0,1),d=_(O,R),add_render_callback(()=>dispatch(n,S,"start")),loop(P=>{if(u&&P>u.start&&(d=_(u,R),u=null,dispatch(n,d.b,"start"),$&&(g(),m=create_rule(n,c,d.b,d.duration,0,w,s.css))),d){if(P>=d.end)k(c=d.b,1-c),dispatch(n,d.b,"end"),u||(d.b?g():--d.group.r||run_all(d.group.c)),d=null;else if(P>=d.start){const x=P-d.start;c=d.a+d.d*w(x/d.duration),k(c,1-c)}}return!!(d||u)}))}return{run(S){is_function(s)?wait$1().then(()=>{s=s(r),b(S)}):b(S)},end(){g(),d=u=null}}}const globals=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function outro_and_destroy_block(n,e){transition_out(n,1,1,()=>{e.delete(n.key)})}function fix_and_outro_and_destroy_block(n,e){n.f(),outro_and_destroy_block(n,e)}function update_keyed_each(n,e,a,t,r,s,c,d,u,m,g,_){let b=n.length,S=s.length,C=b;const R={};for(;C--;)R[n[C].key]=C;const w=[],k=new Map,$=new Map;for(C=S;C--;){const I=_(r,s,C),B=a(I);let j=c.get(B);j?t&&j.p(I,e):(j=m(B,I),j.c()),k.set(B,w[C]=j),B in R&&$.set(B,Math.abs(C-R[B]))}const O=new Set,P=new Set;function x(I){transition_in(I,1),I.m(d,g),c.set(I.key,I),g=I.first,S--}for(;b&&S;){const I=w[S-1],B=n[b-1],j=I.key,W=B.key;I===B?(g=I.first,b--,S--):k.has(W)?!c.has(j)||O.has(j)?x(I):P.has(W)?b--:$.get(j)>$.get(W)?(P.add(j),x(I)):(O.add(W),b--):(u(B,c),b--)}for(;b--;){const I=n[b];k.has(I.key)||u(I,c)}for(;S;)x(w[S-1]);return w}function get_spread_update(n,e){const a={},t={},r={$$scope:1};let s=n.length;for(;s--;){const c=n[s],d=e[s];if(d){for(const u in c)u in d||(t[u]=1);for(const u in d)r[u]||(a[u]=d[u],r[u]=1);n[s]=d}else for(const u in c)r[u]=1}for(const c in t)c in a||(a[c]=void 0);return a}function get_spread_object(n){return typeof n=="object"&&n!==null?n:{}}function bind(n,e,a,t){const r=n.$$.props[e];r!==void 0&&(n.$$.bound[r]=a,t===void 0&&a(n.$$.ctx[r]))}function create_component(n){n&&n.c()}function mount_component(n,e,a,t){const{fragment:r,after_update:s}=n.$$;r&&r.m(e,a),t||add_render_callback(()=>{const c=n.$$.on_mount.map(run).filter(is_function);n.$$.on_destroy?n.$$.on_destroy.push(...c):run_all(c),n.$$.on_mount=[]}),s.forEach(add_render_callback)}function destroy_component(n,e){const a=n.$$;a.fragment!==null&&(run_all(a.on_destroy),a.fragment&&a.fragment.d(e),a.on_destroy=a.fragment=null,a.ctx=[])}function make_dirty(n,e){n.$$.dirty[0]===-1&&(dirty_components.push(n),schedule_update(),n.$$.dirty.fill(0)),n.$$.dirty[e/31|0]|=1<<e%31}function init$1(n,e,a,t,r,s,c,d=[-1]){const u=current_component;set_current_component(n);const m=n.$$={fragment:null,ctx:[],props:s,update:noop$1,not_equal:r,bound:blank_object(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(u?u.$$.context:[])),callbacks:blank_object(),dirty:d,skip_bound:!1,root:e.target||u.$$.root};c&&c(m.root);let g=!1;if(m.ctx=a?a(n,e.props||{},(_,b,...S)=>{const C=S.length?S[0]:b;return m.ctx&&r(m.ctx[_],m.ctx[_]=C)&&(!m.skip_bound&&m.bound[_]&&m.bound[_](C),g&&make_dirty(n,_)),b}):[],m.update(),g=!0,run_all(m.before_update),m.fragment=t?t(m.ctx):!1,e.target){if(e.hydrate){const _=children$1(e.target);m.fragment&&m.fragment.l(_),_.forEach(detach)}else m.fragment&&m.fragment.c();e.intro&&transition_in(n.$$.fragment),mount_component(n,e.target,e.anchor,e.customElement),flush()}set_current_component(u)}class SvelteComponent{$destroy(){destroy_component(this,1),this.$destroy=noop$1}$on(e,a){if(!is_function(a))return noop$1;const t=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return t.push(a),()=>{const r=t.indexOf(a);r!==-1&&t.splice(r,1)}}$set(e){this.$$set&&!is_empty(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}var __assign$1=function(){return __assign$1=Object.assign||function(e){for(var a,t=1,r=arguments.length;t<r;t++){a=arguments[t];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},__assign$1.apply(this,arguments)};function __rest$1(n,e){var a={};for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&e.indexOf(t)<0&&(a[t]=n[t]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,t=Object.getOwnPropertySymbols(n);r<t.length;r++)e.indexOf(t[r])<0&&Object.prototype.propertyIsEnumerable.call(n,t[r])&&(a[t[r]]=n[t[r]]);return a}function __values$1(n){var e=typeof Symbol=="function"&&Symbol.iterator,a=e&&n[e],t=0;if(a)return a.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&t>=n.length&&(n=void 0),{value:n&&n[t++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var __assign=function(){return __assign=Object.assign||function(e){for(var a,t=1,r=arguments.length;t<r;t++){a=arguments[t];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},__assign.apply(this,arguments)};function __rest(n,e){var a={};for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&e.indexOf(t)<0&&(a[t]=n[t]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,t=Object.getOwnPropertySymbols(n);r<t.length;r++)e.indexOf(t[r])<0&&Object.prototype.propertyIsEnumerable.call(n,t[r])&&(a[t[r]]=n[t[r]]);return a}function __values(n){var e=typeof Symbol=="function"&&Symbol.iterator,a=e&&n[e],t=0;if(a)return a.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&t>=n.length&&(n=void 0),{value:n&&n[t++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function __read(n,e){var a=typeof Symbol=="function"&&n[Symbol.iterator];if(!a)return n;var t=a.call(n),r,s=[],c;try{for(;(e===void 0||e-- >0)&&!(r=t.next()).done;)s.push(r.value)}catch(d){c={error:d}}finally{try{r&&!r.done&&(a=t.return)&&a.call(t)}finally{if(c)throw c.error}}return s}function __spreadArray(n,e,a){if(a||arguments.length===2)for(var t=0,r=e.length,s;t<r;t++)(s||!(t in e))&&(s||(s=Array.prototype.slice.call(e,0,t)),s[t]=e[t]);return n.concat(s||Array.prototype.slice.call(e))}var ActionTypes;(function(n){n.Start="xstate.start",n.Stop="xstate.stop",n.Raise="xstate.raise",n.Send="xstate.send",n.Cancel="xstate.cancel",n.NullEvent="",n.Assign="xstate.assign",n.After="xstate.after",n.DoneState="done.state",n.DoneInvoke="done.invoke",n.Log="xstate.log",n.Init="xstate.init",n.Invoke="xstate.invoke",n.ErrorExecution="error.execution",n.ErrorCommunication="error.communication",n.ErrorPlatform="error.platform",n.ErrorCustom="xstate.error",n.Update="xstate.update",n.Pure="xstate.pure",n.Choose="xstate.choose"})(ActionTypes||(ActionTypes={}));var SpecialTargets;(function(n){n.Parent="#_parent",n.Internal="#_internal"})(SpecialTargets||(SpecialTargets={}));var start$2=ActionTypes.Start,stop$1=ActionTypes.Stop,raise$1=ActionTypes.Raise,send$1=ActionTypes.Send,cancel$1=ActionTypes.Cancel,nullEvent=ActionTypes.NullEvent,assign$2=ActionTypes.Assign;ActionTypes.After;ActionTypes.DoneState;var log$1=ActionTypes.Log,init=ActionTypes.Init,invoke=ActionTypes.Invoke;ActionTypes.ErrorExecution;var errorPlatform=ActionTypes.ErrorPlatform,error$3=ActionTypes.ErrorCustom,update=ActionTypes.Update,choose=ActionTypes.Choose,pure=ActionTypes.Pure,STATE_DELIMITER=".",EMPTY_ACTIVITY_MAP={},DEFAULT_GUARD_TYPE="xstate.guard",TARGETLESS_KEY="",IS_PRODUCTION=!0,_a;function matchesState(n,e,a){a===void 0&&(a=STATE_DELIMITER);var t=toStateValue(n,a),r=toStateValue(e,a);return isString(r)?isString(t)?r===t:!1:isString(t)?t in r:Object.keys(t).every(function(s){return s in r?matchesState(t[s],r[s]):!1})}function getEventType(n){try{return isString(n)||typeof n=="number"?"".concat(n):n.type}catch{throw new Error("Events must be strings or objects with a string event.type property.")}}function toStatePath(n,e){try{return isArray(n)?n:n.toString().split(e)}catch{throw new Error("'".concat(n,"' is not a valid state path."))}}function isStateLike(n){return typeof n=="object"&&"value"in n&&"context"in n&&"event"in n&&"_event"in n}function toStateValue(n,e){if(isStateLike(n))return n.value;if(isArray(n))return pathToStateValue(n);if(typeof n!="string")return n;var a=toStatePath(n,e);return pathToStateValue(a)}function pathToStateValue(n){if(n.length===1)return n[0];for(var e={},a=e,t=0;t<n.length-1;t++)t===n.length-2?a[n[t]]=n[t+1]:(a[n[t]]={},a=a[n[t]]);return e}function mapValues(n,e){for(var a={},t=Object.keys(n),r=0;r<t.length;r++){var s=t[r];a[s]=e(n[s],s,n,r)}return a}function mapFilterValues(n,e,a){var t,r,s={};try{for(var c=__values(Object.keys(n)),d=c.next();!d.done;d=c.next()){var u=d.value,m=n[u];!a(m)||(s[u]=e(m,u,n))}}catch(g){t={error:g}}finally{try{d&&!d.done&&(r=c.return)&&r.call(c)}finally{if(t)throw t.error}}return s}var path=function(n){return function(e){var a,t,r=e;try{for(var s=__values(n),c=s.next();!c.done;c=s.next()){var d=c.value;r=r[d]}}catch(u){a={error:u}}finally{try{c&&!c.done&&(t=s.return)&&t.call(s)}finally{if(a)throw a.error}}return r}};function nestedPath(n,e){return function(a){var t,r,s=a;try{for(var c=__values(n),d=c.next();!d.done;d=c.next()){var u=d.value;s=s[e][u]}}catch(m){t={error:m}}finally{try{d&&!d.done&&(r=c.return)&&r.call(c)}finally{if(t)throw t.error}}return s}}function toStatePaths(n){if(!n)return[[]];if(isString(n))return[[n]];var e=flatten(Object.keys(n).map(function(a){var t=n[a];return typeof t!="string"&&(!t||!Object.keys(t).length)?[[a]]:toStatePaths(n[a]).map(function(r){return[a].concat(r)})}));return e}function flatten(n){var e;return(e=[]).concat.apply(e,__spreadArray([],__read(n),!1))}function toArrayStrict(n){return isArray(n)?n:[n]}function toArray(n){return n===void 0?[]:toArrayStrict(n)}function mapContext(n,e,a){var t,r;if(isFunction(n))return n(e,a.data);var s={};try{for(var c=__values(Object.keys(n)),d=c.next();!d.done;d=c.next()){var u=d.value,m=n[u];isFunction(m)?s[u]=m(e,a.data):s[u]=m}}catch(g){t={error:g}}finally{try{d&&!d.done&&(r=c.return)&&r.call(c)}finally{if(t)throw t.error}}return s}function isBuiltInEvent(n){return/^(done|error)\./.test(n)}function isPromiseLike(n){return!!(n instanceof Promise||n!==null&&(isFunction(n)||typeof n=="object")&&isFunction(n.then))}function isBehavior(n){return n!==null&&typeof n=="object"&&"transition"in n&&typeof n.transition=="function"}function partition(n,e){var a,t,r=__read([[],[]],2),s=r[0],c=r[1];try{for(var d=__values(n),u=d.next();!u.done;u=d.next()){var m=u.value;e(m)?s.push(m):c.push(m)}}catch(g){a={error:g}}finally{try{u&&!u.done&&(t=d.return)&&t.call(d)}finally{if(a)throw a.error}}return[s,c]}function updateHistoryStates(n,e){return mapValues(n.states,function(a,t){if(!!a){var r=(isString(e)?void 0:e[t])||(a?a.current:void 0);if(!!r)return{current:r,states:updateHistoryStates(a,r)}}})}function updateHistoryValue(n,e){return{current:e,states:updateHistoryStates(n,e)}}function updateContext(n,e,a,t){var r=n&&a.reduce(function(s,c){var d,u,m=c.assignment,g={state:t,action:c,_event:e},_={};if(isFunction(m))_=m(s,e.data,g);else try{for(var b=__values(Object.keys(m)),S=b.next();!S.done;S=b.next()){var C=S.value,R=m[C];_[C]=isFunction(R)?R(s,e.data,g):R}}catch(w){d={error:w}}finally{try{S&&!S.done&&(u=b.return)&&u.call(b)}finally{if(d)throw d.error}}return Object.assign({},s,_)},n);return r}var warn=function(){};function isArray(n){return Array.isArray(n)}function isFunction(n){return typeof n=="function"}function isString(n){return typeof n=="string"}function toGuard(n,e){if(!!n)return isString(n)?{type:DEFAULT_GUARD_TYPE,name:n,predicate:e?e[n]:void 0}:isFunction(n)?{type:DEFAULT_GUARD_TYPE,name:n.name,predicate:n}:n}function isObservable(n){try{return"subscribe"in n&&isFunction(n.subscribe)}catch{return!1}}var symbolObservable=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();_a={},_a[symbolObservable]=function(){return this},_a[Symbol.observable]=function(){return this};function isMachine(n){return!!n&&"__xstatenode"in n}function isActor$1(n){return!!n&&typeof n.send=="function"}function toEventObject(n,e){return isString(n)||typeof n=="number"?__assign({type:n},e):n}function toSCXMLEvent(n,e){if(!isString(n)&&"$$type"in n&&n.$$type==="scxml")return n;var a=toEventObject(n);return __assign({name:a.type,data:a,$$type:"scxml",type:"external"},e)}function toTransitionConfigArray(n,e){var a=toArrayStrict(e).map(function(t){return typeof t>"u"||typeof t=="string"||isMachine(t)?{target:t,event:n}:__assign(__assign({},t),{event:n})});return a}function normalizeTarget(n){if(!(n===void 0||n===TARGETLESS_KEY))return toArray(n)}function evaluateGuard(n,e,a,t,r){var s=n.options.guards,c={state:r,cond:e,_event:t};if(e.type===DEFAULT_GUARD_TYPE)return((s==null?void 0:s[e.name])||e.predicate)(a,t.data,c);var d=s==null?void 0:s[e.type];if(!d)throw new Error("Guard '".concat(e.type,"' is not implemented on machine '").concat(n.id,"'."));return d(a,t.data,c)}function toInvokeSource$1(n){return typeof n=="string"?{type:n}:n}function toObserver(n,e,a){var t=function(){},r=typeof n=="object",s=r?n:null;return{next:((r?n.next:n)||t).bind(s),error:((r?n.error:e)||t).bind(s),complete:((r?n.complete:a)||t).bind(s)}}function createInvokeId(n,e){return"".concat(n,":invocation[").concat(e,"]")}var initEvent=toSCXMLEvent({type:init});function getActionFunction(n,e){return e&&e[n]||void 0}function toActionObject(n,e){var a;if(isString(n)||typeof n=="number"){var t=getActionFunction(n,e);isFunction(t)?a={type:n,exec:t}:t?a=t:a={type:n,exec:void 0}}else if(isFunction(n))a={type:n.name||n.toString(),exec:n};else{var t=getActionFunction(n.type,e);if(isFunction(t))a=__assign(__assign({},n),{exec:t});else if(t){var r=t.type||n.type;a=__assign(__assign(__assign({},t),n),{type:r})}else a=n}return a}var toActionObjects=function(n,e){if(!n)return[];var a=isArray(n)?n:[n];return a.map(function(t){return toActionObject(t,e)})};function toActivityDefinition(n){var e=toActionObject(n);return __assign(__assign({id:isString(n)?n:e.id},e),{type:e.type})}function raise(n){return isString(n)?{type:raise$1,event:n}:send(n,{to:SpecialTargets.Internal})}function resolveRaise(n){return{type:raise$1,_event:toSCXMLEvent(n.event)}}function send(n,e){return{to:e?e.to:void 0,type:send$1,event:isFunction(n)?n:toEventObject(n),delay:e?e.delay:void 0,id:e&&e.id!==void 0?e.id:isFunction(n)?n.name:getEventType(n)}}function resolveSend(n,e,a,t){var r={_event:a},s=toSCXMLEvent(isFunction(n.event)?n.event(e,a.data,r):n.event),c;if(isString(n.delay)){var d=t&&t[n.delay];c=isFunction(d)?d(e,a.data,r):d}else c=isFunction(n.delay)?n.delay(e,a.data,r):n.delay;var u=isFunction(n.to)?n.to(e,a.data,r):n.to;return __assign(__assign({},n),{to:u,_event:s,event:s.data,delay:c})}var resolveLog=function(n,e,a){return __assign(__assign({},n),{value:isString(n.expr)?n.expr:n.expr(e,a.data,{_event:a})})},cancel=function(n){return{type:cancel$1,sendId:n}};function start$1(n){var e=toActivityDefinition(n);return{type:ActionTypes.Start,activity:e,exec:void 0}}function stop(n){var e=isFunction(n)?n:toActivityDefinition(n);return{type:ActionTypes.Stop,activity:e,exec:void 0}}function resolveStop(n,e,a){var t=isFunction(n.activity)?n.activity(e,a.data):n.activity,r=typeof t=="string"?{id:t}:t,s={type:ActionTypes.Stop,activity:r};return s}var assign$1=function(n){return{type:assign$2,assignment:n}};function after(n,e){var a=e?"#".concat(e):"";return"".concat(ActionTypes.After,"(").concat(n,")").concat(a)}function done(n,e){var a="".concat(ActionTypes.DoneState,".").concat(n),t={type:a,data:e};return t.toString=function(){return a},t}function doneInvoke(n,e){var a="".concat(ActionTypes.DoneInvoke,".").concat(n),t={type:a,data:e};return t.toString=function(){return a},t}function error$2(n,e){var a="".concat(ActionTypes.ErrorPlatform,".").concat(n),t={type:a,data:e};return t.toString=function(){return a},t}var pluckAssigns=function(n){var e,a,t=[];try{for(var r=__values(n),s=r.next();!s.done;s=r.next())for(var c=s.value,d=0;d<c.length;){if(c[d].type===assign$2){t.push(c[d]),c.splice(d,1);continue}d++}}catch(u){e={error:u}}finally{try{s&&!s.done&&(a=r.return)&&a.call(r)}finally{if(e)throw e.error}}return t};function resolveActions(n,e,a,t,r,s,c){c===void 0&&(c=!1);var d=c?[]:pluckAssigns(r),u=d.length?updateContext(a,t,d,e):a,m=c?[a]:void 0,g=[];function _(C){var R;switch(C.type){case raise$1:return resolveRaise(C);case send$1:var w=resolveSend(C,u,t,n.options.delays);return s&&w.to!==SpecialTargets.Internal&&g.push(w),w;case log$1:{var k=resolveLog(C,u,t);return s==null||s(k,u,t),k}case choose:{var $=C,O=(R=$.conds.find(function(X){var q=toGuard(X.cond,n.options.guards);return!q||evaluateGuard(n,q,u,t,s?void 0:e)}))===null||R===void 0?void 0:R.actions;if(!O)return[];var P=__read(resolveActions(n,e,u,t,[toActionObjects(toArray(O),n.options.actions)],s,c),2),x=P[0],I=P[1];return u=I,m==null||m.push(u),x}case pure:{var O=C.get(u,t.data);if(!O)return[];var B=__read(resolveActions(n,e,u,t,[toActionObjects(toArray(O),n.options.actions)],s,c),2),j=B[0],W=B[1];return u=W,m==null||m.push(u),j}case stop$1:{var k=resolveStop(C,u,t);return s==null||s(k,a,t),k}case assign$2:{u=updateContext(u,t,[C],s?void 0:e),m==null||m.push(u);break}default:var U=toActionObject(C,n.options.actions),z=U.exec;if(s)s(U,u,t);else if(z&&m){var F=m.length-1;U=__assign(__assign({},U),{exec:function(X){for(var q=[],K=1;K<arguments.length;K++)q[K-1]=arguments[K];z.apply(void 0,__spreadArray([m[F]],__read(q),!1))}})}return U}}function b(C){var R,w,k=[];try{for(var $=__values(C),O=$.next();!O.done;O=$.next()){var P=O.value,x=_(P);x&&(k=k.concat(x))}}catch(I){R={error:I}}finally{try{O&&!O.done&&(w=$.return)&&w.call($)}finally{if(R)throw R.error}}return g.forEach(function(I){s(I,u,t)}),g.length=0,k}var S=flatten(r.map(b));return[S,u]}var provide=function(n,e){var a=e(n);return a};function createNullActor(n){var e;return e={id:n,send:function(){},subscribe:function(){return{unsubscribe:function(){}}},getSnapshot:function(){},toJSON:function(){return{id:n}}},e[symbolObservable]=function(){return this},e}function createInvocableActor(n,e,a,t){var r,s=toInvokeSource$1(n.src),c=(r=e==null?void 0:e.options.services)===null||r===void 0?void 0:r[s.type],d=n.data?mapContext(n.data,a,t):void 0,u=c?createDeferredActor(c,n.id,d):createNullActor(n.id);return u.meta=n,u}function createDeferredActor(n,e,a){var t=createNullActor(e);if(t.deferred=!0,isMachine(n)){var r=t.state=provide(void 0,function(){return(a?n.withContext(a):n).initialState});t.getSnapshot=function(){return r}}return t}function isActor(n){try{return typeof n.send=="function"}catch{return!1}}function isSpawnedActor(n){return isActor(n)&&"id"in n}function toActorRef(n){var e;return __assign((e={subscribe:function(){return{unsubscribe:function(){}}},id:"anonymous",getSnapshot:function(){}},e[symbolObservable]=function(){return this},e),n)}var isLeafNode=function(n){return n.type==="atomic"||n.type==="final"};function getAllChildren(n){return Object.keys(n.states).map(function(e){return n.states[e]})}function getChildren(n){return getAllChildren(n).filter(function(e){return e.type!=="history"})}function getAllStateNodes(n){var e=[n];return isLeafNode(n)?e:e.concat(flatten(getChildren(n).map(getAllStateNodes)))}function getConfiguration(n,e){var a,t,r,s,c,d,u,m,g=new Set(n),_=getAdjList(g),b=new Set(e);try{for(var S=__values(b),C=S.next();!C.done;C=S.next())for(var R=C.value,w=R.parent;w&&!b.has(w);)b.add(w),w=w.parent}catch(W){a={error:W}}finally{try{C&&!C.done&&(t=S.return)&&t.call(S)}finally{if(a)throw a.error}}var k=getAdjList(b);try{for(var $=__values(b),O=$.next();!O.done;O=$.next()){var R=O.value;if(R.type==="compound"&&(!k.get(R)||!k.get(R).length))_.get(R)?_.get(R).forEach(function(U){return b.add(U)}):R.initialStateNodes.forEach(function(U){return b.add(U)});else if(R.type==="parallel")try{for(var P=(c=void 0,__values(getChildren(R))),x=P.next();!x.done;x=P.next()){var I=x.value;b.has(I)||(b.add(I),_.get(I)?_.get(I).forEach(function(U){return b.add(U)}):I.initialStateNodes.forEach(function(U){return b.add(U)}))}}catch(U){c={error:U}}finally{try{x&&!x.done&&(d=P.return)&&d.call(P)}finally{if(c)throw c.error}}}}catch(W){r={error:W}}finally{try{O&&!O.done&&(s=$.return)&&s.call($)}finally{if(r)throw r.error}}try{for(var B=__values(b),j=B.next();!j.done;j=B.next())for(var R=j.value,w=R.parent;w&&!b.has(w);)b.add(w),w=w.parent}catch(W){u={error:W}}finally{try{j&&!j.done&&(m=B.return)&&m.call(B)}finally{if(u)throw u.error}}return b}function getValueFromAdj(n,e){var a=e.get(n);if(!a)return{};if(n.type==="compound"){var t=a[0];if(t){if(isLeafNode(t))return t.key}else return{}}var r={};return a.forEach(function(s){r[s.key]=getValueFromAdj(s,e)}),r}function getAdjList(n){var e,a,t=new Map;try{for(var r=__values(n),s=r.next();!s.done;s=r.next()){var c=s.value;t.has(c)||t.set(c,[]),c.parent&&(t.has(c.parent)||t.set(c.parent,[]),t.get(c.parent).push(c))}}catch(d){e={error:d}}finally{try{s&&!s.done&&(a=r.return)&&a.call(r)}finally{if(e)throw e.error}}return t}function getValue(n,e){var a=getConfiguration([n],e);return getValueFromAdj(n,getAdjList(a))}function has(n,e){return Array.isArray(n)?n.some(function(a){return a===e}):n instanceof Set?n.has(e):!1}function nextEvents(n){return __spreadArray([],__read(new Set(flatten(__spreadArray([],__read(n.map(function(e){return e.ownEvents})),!1)))),!1)}function isInFinalState(n,e){return e.type==="compound"?getChildren(e).some(function(a){return a.type==="final"&&has(n,a)}):e.type==="parallel"?getChildren(e).every(function(a){return isInFinalState(n,a)}):!1}function getMeta(n){return n===void 0&&(n=[]),n.reduce(function(e,a){return a.meta!==void 0&&(e[a.id]=a.meta),e},{})}function getTagsFromConfiguration(n){return new Set(flatten(n.map(function(e){return e.tags})))}function stateValuesEqual(n,e){if(n===e)return!0;if(n===void 0||e===void 0)return!1;if(isString(n)||isString(e))return n===e;var a=Object.keys(n),t=Object.keys(e);return a.length===t.length&&a.every(function(r){return stateValuesEqual(n[r],e[r])})}function isStateConfig(n){return typeof n!="object"||n===null?!1:"value"in n&&"_event"in n}function bindActionToState(n,e){var a=n.exec,t=__assign(__assign({},n),{exec:a!==void 0?function(){return a(e.context,e.event,{action:n,state:e,_event:e._event})}:void 0});return t}var State$2=function(){function n(e){var a=this,t;this.actions=[],this.activities=EMPTY_ACTIVITY_MAP,this.meta={},this.events=[],this.value=e.value,this.context=e.context,this._event=e._event,this._sessionid=e._sessionid,this.event=this._event.data,this.historyValue=e.historyValue,this.history=e.history,this.actions=e.actions||[],this.activities=e.activities||EMPTY_ACTIVITY_MAP,this.meta=getMeta(e.configuration),this.events=e.events||[],this.matches=this.matches.bind(this),this.toStrings=this.toStrings.bind(this),this.configuration=e.configuration,this.transitions=e.transitions,this.children=e.children,this.done=!!e.done,this.tags=(t=Array.isArray(e.tags)?new Set(e.tags):e.tags)!==null&&t!==void 0?t:new Set,this.machine=e.machine,Object.defineProperty(this,"nextEvents",{get:function(){return nextEvents(a.configuration)}})}return n.from=function(e,a){if(e instanceof n)return e.context!==a?new n({value:e.value,context:a,_event:e._event,_sessionid:null,historyValue:e.historyValue,history:e.history,actions:[],activities:e.activities,meta:{},events:[],configuration:[],transitions:[],children:{}}):e;var t=initEvent;return new n({value:e,context:a,_event:t,_sessionid:null,historyValue:void 0,history:void 0,actions:[],activities:void 0,meta:void 0,events:[],configuration:[],transitions:[],children:{}})},n.create=function(e){return new n(e)},n.inert=function(e,a){if(e instanceof n){if(!e.actions.length)return e;var t=initEvent;return new n({value:e.value,context:a,_event:t,_sessionid:null,historyValue:e.historyValue,history:e.history,activities:e.activities,configuration:e.configuration,transitions:[],children:{}})}return n.from(e,a)},n.prototype.toStrings=function(e,a){var t=this;if(e===void 0&&(e=this.value),a===void 0&&(a="."),isString(e))return[e];var r=Object.keys(e);return r.concat.apply(r,__spreadArray([],__read(r.map(function(s){return t.toStrings(e[s],a).map(function(c){return s+a+c})})),!1))},n.prototype.toJSON=function(){var e=this;e.configuration,e.transitions;var a=e.tags;e.machine;var t=__rest(e,["configuration","transitions","tags","machine"]);return __assign(__assign({},t),{tags:Array.from(a)})},n.prototype.matches=function(e){return matchesState(e,this.value)},n.prototype.hasTag=function(e){return this.tags.has(e)},n.prototype.can=function(e){var a;warn(!!this.machine);var t=(a=this.machine)===null||a===void 0?void 0:a.getTransitionData(this,e);return!!(t!=null&&t.transitions.length)&&t.transitions.some(function(r){return r.target!==void 0||r.actions.length})},n}(),defaultOptions$1={deferEvents:!1},Scheduler=function(){function n(e){this.processingEvent=!1,this.queue=[],this.initialized=!1,this.options=__assign(__assign({},defaultOptions$1),e)}return n.prototype.initialize=function(e){if(this.initialized=!0,e){if(!this.options.deferEvents){this.schedule(e);return}this.process(e)}this.flushEvents()},n.prototype.schedule=function(e){if(!this.initialized||this.processingEvent){this.queue.push(e);return}if(this.queue.length!==0)throw new Error("Event queue should be empty when it is not processing events");this.process(e),this.flushEvents()},n.prototype.clear=function(){this.queue=[]},n.prototype.flushEvents=function(){for(var e=this.queue.shift();e;)this.process(e),e=this.queue.shift()},n.prototype.process=function(e){this.processingEvent=!0;try{e()}catch(a){throw this.clear(),a}finally{this.processingEvent=!1}},n}(),children=new Map,sessionIdIndex=0,registry={bookId:function(){return"x:".concat(sessionIdIndex++)},register:function(n,e){return children.set(n,e),n},get:function(n){return children.get(n)},free:function(n){children.delete(n)}};function getGlobal(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global}function getDevTools(){var n=getGlobal();if(n&&"__xstate__"in n)return n.__xstate__}function registerService(n){if(!!getGlobal()){var e=getDevTools();e&&e.register(n)}}function spawnBehavior(n,e){e===void 0&&(e={});var a=n.initialState,t=new Set,r=[],s=!1,c=function(){if(!s){for(s=!0;r.length>0;){var m=r.shift();a=n.transition(a,m,u),t.forEach(function(g){return g.next(a)})}s=!1}},d=toActorRef({id:e.id,send:function(m){r.push(m),c()},getSnapshot:function(){return a},subscribe:function(m,g,_){var b=toObserver(m,g,_);return t.add(b),b.next(a),{unsubscribe:function(){t.delete(b)}}}}),u={parent:e.parent,self:d,id:e.id||"anonymous",observers:t};return a=n.start?n.start(u):a,d}var DEFAULT_SPAWN_OPTIONS={sync:!1,autoForward:!1},InterpreterStatus;(function(n){n[n.NotStarted=0]="NotStarted",n[n.Running=1]="Running",n[n.Stopped=2]="Stopped"})(InterpreterStatus||(InterpreterStatus={}));var Interpreter=function(){function n(e,a){a===void 0&&(a=n.defaultOptions);var t=this;this.machine=e,this.delayedEventsMap={},this.listeners=new Set,this.contextListeners=new Set,this.stopListeners=new Set,this.doneListeners=new Set,this.eventListeners=new Set,this.sendListeners=new Set,this.initialized=!1,this.status=InterpreterStatus.NotStarted,this.children=new Map,this.forwardTo=new Set,this._outgoingQueue=[],this.init=this.start,this.send=function(g,_){if(isArray(g))return t.batch(g),t.state;var b=toSCXMLEvent(toEventObject(g,_));if(t.status===InterpreterStatus.Stopped)return t.state;if(t.status!==InterpreterStatus.Running&&!t.options.deferEvents)throw new Error('Event "'.concat(b.name,'" was sent to uninitialized service "').concat(t.machine.id,`". Make sure .start() is called for this service, or set { deferEvents: true } in the service options.
Event: `).concat(JSON.stringify(b.data)));return t.scheduler.schedule(function(){t.forward(b);var S=t._nextState(b);t.update(S,b)}),t._state},this.sendTo=function(g,_,b){var S=t.parent&&(_===SpecialTargets.Parent||t.parent.id===_),C=S?t.parent:isString(_)?t.children.get(_)||registry.get(_):isActor$1(_)?_:void 0;if(!C){if(!S)throw new Error("Unable to send event to child '".concat(_,"' from service '").concat(t.id,"'."));return}if("machine"in C){if(t.status!==InterpreterStatus.Stopped||t.parent!==C||t.state.done){var R=__assign(__assign({},g),{name:g.name===error$3?"".concat(error$2(t.id)):g.name,origin:t.sessionId});!b&&t.machine.config.predictableActionArguments?t._outgoingQueue.push([C,R]):C.send(R)}}else!b&&t.machine.config.predictableActionArguments?t._outgoingQueue.push([C,g.data]):C.send(g.data)},this._exec=function(g,_,b,S){S===void 0&&(S=t.machine.options.actions);var C=g.exec||getActionFunction(g.type,S),R=isFunction(C)?C:C?C.exec:g.exec;if(R)try{return R(_,b.data,t.machine.config.predictableActionArguments?{action:g,_event:b}:{action:g,state:t.state,_event:b})}catch(F){throw t.parent&&t.parent.send({type:"xstate.error",data:F}),F}switch(g.type){case send$1:var w=g;if(typeof w.delay=="number"){t.defer(w);return}else w.to?t.sendTo(w._event,w.to,b===initEvent):t.send(w._event);break;case cancel$1:t.cancel(g.sendId);break;case start$2:{if(t.status!==InterpreterStatus.Running)return;var k=g.activity;if(!t.machine.config.predictableActionArguments&&!t.state.activities[k.id||k.type])break;if(k.type===ActionTypes.Invoke){var $=toInvokeSource$1(k.src),O=t.machine.options.services?t.machine.options.services[$.type]:void 0,P=k.id,x=k.data,I="autoForward"in k?k.autoForward:!!k.forward;if(!O)return;var B=x?mapContext(x,_,b):void 0;if(typeof O=="string")return;var j=isFunction(O)?O(_,b.data,{data:B,src:$,meta:k.meta}):O;if(!j)return;var W=void 0;isMachine(j)&&(j=B?j.withContext(B):j,W={autoForward:I}),t.spawn(j,P,W)}else t.spawnActivity(k);break}case stop$1:{t.stopChild(g.activity.id);break}case log$1:var U=g.label,z=g.value;U?t.logger(U,z):t.logger(z);break}};var r=__assign(__assign({},n.defaultOptions),a),s=r.clock,c=r.logger,d=r.parent,u=r.id,m=u!==void 0?u:e.id;this.id=m,this.logger=c,this.clock=s,this.parent=d,this.options=r,this.scheduler=new Scheduler({deferEvents:this.options.deferEvents}),this.sessionId=registry.bookId()}return Object.defineProperty(n.prototype,"initialState",{get:function(){var e=this;return this._initialState?this._initialState:provide(this,function(){return e._initialState=e.machine.initialState,e._initialState})},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"state",{get:function(){return this._state},enumerable:!1,configurable:!0}),n.prototype.execute=function(e,a){var t,r;try{for(var s=__values(e.actions),c=s.next();!c.done;c=s.next()){var d=c.value;this.exec(d,e,a)}}catch(u){t={error:u}}finally{try{c&&!c.done&&(r=s.return)&&r.call(s)}finally{if(t)throw t.error}}},n.prototype.update=function(e,a){var t,r,s,c,d,u,m,g,_=this;if(e._sessionid=this.sessionId,this._state=e,(!this.machine.config.predictableActionArguments||a===initEvent)&&this.options.execute)this.execute(this.state);else for(var b=void 0;b=this._outgoingQueue.shift();)b[0].send(b[1]);if(this.children.forEach(function(W){_.state.children[W.id]=W}),this.devTools&&this.devTools.send(a.data,e),e.event)try{for(var S=__values(this.eventListeners),C=S.next();!C.done;C=S.next()){var R=C.value;R(e.event)}}catch(W){t={error:W}}finally{try{C&&!C.done&&(r=S.return)&&r.call(S)}finally{if(t)throw t.error}}try{for(var w=__values(this.listeners),k=w.next();!k.done;k=w.next()){var R=k.value;R(e,e.event)}}catch(W){s={error:W}}finally{try{k&&!k.done&&(c=w.return)&&c.call(w)}finally{if(s)throw s.error}}try{for(var $=__values(this.contextListeners),O=$.next();!O.done;O=$.next()){var P=O.value;P(this.state.context,this.state.history?this.state.history.context:void 0)}}catch(W){d={error:W}}finally{try{O&&!O.done&&(u=$.return)&&u.call($)}finally{if(d)throw d.error}}if(this.state.done){var x=e.configuration.find(function(W){return W.type==="final"&&W.parent===_.machine}),I=x&&x.doneData?mapContext(x.doneData,e.context,a):void 0;try{for(var B=__values(this.doneListeners),j=B.next();!j.done;j=B.next()){var R=j.value;R(doneInvoke(this.id,I))}}catch(W){m={error:W}}finally{try{j&&!j.done&&(g=B.return)&&g.call(B)}finally{if(m)throw m.error}}this._stop(),this._stopChildren()}},n.prototype.onTransition=function(e){return this.listeners.add(e),this.status===InterpreterStatus.Running&&e(this.state,this.state.event),this},n.prototype.subscribe=function(e,a,t){var r=this,s=toObserver(e,a,t);this.listeners.add(s.next),this.status!==InterpreterStatus.NotStarted&&s.next(this.state);var c=function(){r.doneListeners.delete(c),r.stopListeners.delete(c),s.complete()};return this.status===InterpreterStatus.Stopped?s.complete():(this.onDone(c),this.onStop(c)),{unsubscribe:function(){r.listeners.delete(s.next),r.doneListeners.delete(c),r.stopListeners.delete(c)}}},n.prototype.onEvent=function(e){return this.eventListeners.add(e),this},n.prototype.onSend=function(e){return this.sendListeners.add(e),this},n.prototype.onChange=function(e){return this.contextListeners.add(e),this},n.prototype.onStop=function(e){return this.stopListeners.add(e),this},n.prototype.onDone=function(e){return this.doneListeners.add(e),this},n.prototype.off=function(e){return this.listeners.delete(e),this.eventListeners.delete(e),this.sendListeners.delete(e),this.stopListeners.delete(e),this.doneListeners.delete(e),this.contextListeners.delete(e),this},n.prototype.start=function(e){var a=this;if(this.status===InterpreterStatus.Running)return this;this.machine._init(),registry.register(this.sessionId,this),this.initialized=!0,this.status=InterpreterStatus.Running;var t=e===void 0?this.initialState:provide(this,function(){return isStateConfig(e)?a.machine.resolveState(e):a.machine.resolveState(State$2.from(e,a.machine.context))});return this.options.devTools&&this.attachDev(),this.scheduler.initialize(function(){a.update(t,initEvent)}),this},n.prototype._stopChildren=function(){this.children.forEach(function(e){isFunction(e.stop)&&e.stop()}),this.children.clear()},n.prototype._stop=function(){var e,a,t,r,s,c,d,u,m,g;try{for(var _=__values(this.listeners),b=_.next();!b.done;b=_.next()){var S=b.value;this.listeners.delete(S)}}catch(B){e={error:B}}finally{try{b&&!b.done&&(a=_.return)&&a.call(_)}finally{if(e)throw e.error}}try{for(var C=__values(this.stopListeners),R=C.next();!R.done;R=C.next()){var S=R.value;S(),this.stopListeners.delete(S)}}catch(B){t={error:B}}finally{try{R&&!R.done&&(r=C.return)&&r.call(C)}finally{if(t)throw t.error}}try{for(var w=__values(this.contextListeners),k=w.next();!k.done;k=w.next()){var S=k.value;this.contextListeners.delete(S)}}catch(B){s={error:B}}finally{try{k&&!k.done&&(c=w.return)&&c.call(w)}finally{if(s)throw s.error}}try{for(var $=__values(this.doneListeners),O=$.next();!O.done;O=$.next()){var S=O.value;this.doneListeners.delete(S)}}catch(B){d={error:B}}finally{try{O&&!O.done&&(u=$.return)&&u.call($)}finally{if(d)throw d.error}}if(!this.initialized)return this;this.initialized=!1,this.status=InterpreterStatus.Stopped,this._initialState=void 0;try{for(var P=__values(Object.keys(this.delayedEventsMap)),x=P.next();!x.done;x=P.next()){var I=x.value;this.clock.clearTimeout(this.delayedEventsMap[I])}}catch(B){m={error:B}}finally{try{x&&!x.done&&(g=P.return)&&g.call(P)}finally{if(m)throw m.error}}this.scheduler.clear(),this.scheduler=new Scheduler({deferEvents:this.options.deferEvents})},n.prototype.stop=function(){var e=this,a=this.scheduler;return this._stop(),a.schedule(function(){var t=toSCXMLEvent({type:"xstate.stop"}),r=provide(e,function(){var s=flatten(__spreadArray([],__read(e.state.configuration),!1).sort(function(g,_){return _.order-g.order}).map(function(g){return toActionObjects(g.onExit,e.machine.options.actions)})),c=__read(resolveActions(e.machine,e.state,e.state.context,t,[s],e.machine.config.predictableActionArguments?e._exec:void 0,e.machine.config.predictableActionArguments||e.machine.config.preserveActionOrder),2),d=c[0],u=c[1],m=new State$2({value:e.state.value,context:u,_event:t,_sessionid:e.sessionId,historyValue:void 0,history:e.state,actions:d.filter(function(g){return g.type!==raise$1&&(g.type!==send$1||!!g.to&&g.to!==SpecialTargets.Internal)}),activities:{},events:[],configuration:[],transitions:[],children:{},done:e.state.done,tags:e.state.tags,machine:e.machine});return m.changed=!0,m});e.update(r,t),e._stopChildren(),registry.free(e.sessionId)}),this},n.prototype.batch=function(e){var a=this;if(!(this.status===InterpreterStatus.NotStarted&&this.options.deferEvents)){if(this.status!==InterpreterStatus.Running)throw new Error("".concat(e.length,' event(s) were sent to uninitialized service "').concat(this.machine.id,'". Make sure .start() is called for this service, or set { deferEvents: true } in the service options.'))}if(!!e.length){var t=!!this.machine.config.predictableActionArguments&&this._exec;this.scheduler.schedule(function(){var r,s,c=a.state,d=!1,u=[],m=function(S){var C=toSCXMLEvent(S);a.forward(C),c=provide(a,function(){return a.machine.transition(c,C,void 0,t||void 0)}),u.push.apply(u,__spreadArray([],__read(a.machine.config.predictableActionArguments?c.actions:c.actions.map(function(R){return bindActionToState(R,c)})),!1)),d=d||!!c.changed};try{for(var g=__values(e),_=g.next();!_.done;_=g.next()){var b=_.value;m(b)}}catch(S){r={error:S}}finally{try{_&&!_.done&&(s=g.return)&&s.call(g)}finally{if(r)throw r.error}}c.changed=d,c.actions=u,a.update(c,toSCXMLEvent(e[e.length-1]))})}},n.prototype.sender=function(e){return this.send.bind(this,e)},n.prototype._nextState=function(e,a){var t=this;a===void 0&&(a=!!this.machine.config.predictableActionArguments&&this._exec);var r=toSCXMLEvent(e);if(r.name.indexOf(errorPlatform)===0&&!this.state.nextEvents.some(function(c){return c.indexOf(errorPlatform)===0}))throw r.data.data;var s=provide(this,function(){return t.machine.transition(t.state,r,void 0,a||void 0)});return s},n.prototype.nextState=function(e){return this._nextState(e,!1)},n.prototype.forward=function(e){var a,t;try{for(var r=__values(this.forwardTo),s=r.next();!s.done;s=r.next()){var c=s.value,d=this.children.get(c);if(!d)throw new Error("Unable to forward event '".concat(e,"' from interpreter '").concat(this.id,"' to nonexistant child '").concat(c,"'."));d.send(e)}}catch(u){a={error:u}}finally{try{s&&!s.done&&(t=r.return)&&t.call(r)}finally{if(a)throw a.error}}},n.prototype.defer=function(e){var a=this;this.delayedEventsMap[e.id]=this.clock.setTimeout(function(){e.to?a.sendTo(e._event,e.to,!0):a.send(e._event)},e.delay)},n.prototype.cancel=function(e){this.clock.clearTimeout(this.delayedEventsMap[e]),delete this.delayedEventsMap[e]},n.prototype.exec=function(e,a,t){t===void 0&&(t=this.machine.options.actions),this._exec(e,a.context,a._event,t)},n.prototype.removeChild=function(e){var a;this.children.delete(e),this.forwardTo.delete(e),(a=this.state)===null||a===void 0||delete a.children[e]},n.prototype.stopChild=function(e){var a=this.children.get(e);!a||(this.removeChild(e),isFunction(a.stop)&&a.stop())},n.prototype.spawn=function(e,a,t){if(this.status!==InterpreterStatus.Running)return createDeferredActor(e,a);if(isPromiseLike(e))return this.spawnPromise(Promise.resolve(e),a);if(isFunction(e))return this.spawnCallback(e,a);if(isSpawnedActor(e))return this.spawnActor(e,a);if(isObservable(e))return this.spawnObservable(e,a);if(isMachine(e))return this.spawnMachine(e,__assign(__assign({},t),{id:a}));if(isBehavior(e))return this.spawnBehavior(e,a);throw new Error('Unable to spawn entity "'.concat(a,'" of type "').concat(typeof e,'".'))},n.prototype.spawnMachine=function(e,a){var t=this;a===void 0&&(a={});var r=new n(e,__assign(__assign({},this.options),{parent:this,id:a.id||e.id})),s=__assign(__assign({},DEFAULT_SPAWN_OPTIONS),a);s.sync&&r.onTransition(function(d){t.send(update,{state:d,id:r.id})});var c=r;return this.children.set(r.id,c),s.autoForward&&this.forwardTo.add(r.id),r.onDone(function(d){t.removeChild(r.id),t.send(toSCXMLEvent(d,{origin:r.id}))}).start(),c},n.prototype.spawnBehavior=function(e,a){var t=spawnBehavior(e,{id:a,parent:this});return this.children.set(a,t),t},n.prototype.spawnPromise=function(e,a){var t,r=this,s=!1,c;e.then(function(u){s||(c=u,r.removeChild(a),r.send(toSCXMLEvent(doneInvoke(a,u),{origin:a})))},function(u){if(!s){r.removeChild(a);var m=error$2(a,u);try{r.send(toSCXMLEvent(m,{origin:a}))}catch{r.devTools&&r.devTools.send(m,r.state),r.machine.strict&&r.stop()}}});var d=(t={id:a,send:function(){},subscribe:function(u,m,g){var _=toObserver(u,m,g),b=!1;return e.then(function(S){b||(_.next(S),!b&&_.complete())},function(S){b||_.error(S)}),{unsubscribe:function(){return b=!0}}},stop:function(){s=!0},toJSON:function(){return{id:a}},getSnapshot:function(){return c}},t[symbolObservable]=function(){return this},t);return this.children.set(a,d),d},n.prototype.spawnCallback=function(e,a){var t,r=this,s=!1,c=new Set,d=new Set,u,m=function(b){u=b,d.forEach(function(S){return S(b)}),!s&&r.send(toSCXMLEvent(b,{origin:a}))},g;try{g=e(m,function(b){c.add(b)})}catch(b){this.send(error$2(a,b))}if(isPromiseLike(g))return this.spawnPromise(g,a);var _=(t={id:a,send:function(b){return c.forEach(function(S){return S(b)})},subscribe:function(b){var S=toObserver(b);return d.add(S.next),{unsubscribe:function(){d.delete(S.next)}}},stop:function(){s=!0,isFunction(g)&&g()},toJSON:function(){return{id:a}},getSnapshot:function(){return u}},t[symbolObservable]=function(){return this},t);return this.children.set(a,_),_},n.prototype.spawnObservable=function(e,a){var t,r=this,s,c=e.subscribe(function(u){s=u,r.send(toSCXMLEvent(u,{origin:a}))},function(u){r.removeChild(a),r.send(toSCXMLEvent(error$2(a,u),{origin:a}))},function(){r.removeChild(a),r.send(toSCXMLEvent(doneInvoke(a),{origin:a}))}),d=(t={id:a,send:function(){},subscribe:function(u,m,g){return e.subscribe(u,m,g)},stop:function(){return c.unsubscribe()},getSnapshot:function(){return s},toJSON:function(){return{id:a}}},t[symbolObservable]=function(){return this},t);return this.children.set(a,d),d},n.prototype.spawnActor=function(e,a){return this.children.set(a,e),e},n.prototype.spawnActivity=function(e){var a=this.machine.options&&this.machine.options.activities?this.machine.options.activities[e.type]:void 0;if(!!a){var t=a(this.state.context,e);this.spawnEffect(e.id,t)}},n.prototype.spawnEffect=function(e,a){var t;this.children.set(e,(t={id:e,send:function(){},subscribe:function(){return{unsubscribe:function(){}}},stop:a||void 0,getSnapshot:function(){},toJSON:function(){return{id:e}}},t[symbolObservable]=function(){return this},t))},n.prototype.attachDev=function(){var e=getGlobal();if(this.options.devTools&&e){if(e.__REDUX_DEVTOOLS_EXTENSION__){var a=typeof this.options.devTools=="object"?this.options.devTools:void 0;this.devTools=e.__REDUX_DEVTOOLS_EXTENSION__.connect(__assign(__assign({name:this.id,autoPause:!0,stateSanitizer:function(t){return{value:t.value,context:t.context,actions:t.actions}}},a),{features:__assign({jump:!1,skip:!1},a?a.features:void 0)}),this.machine),this.devTools.init(this.state)}registerService(this)}},n.prototype.toJSON=function(){return{id:this.id}},n.prototype[symbolObservable]=function(){return this},n.prototype.getSnapshot=function(){return this.status===InterpreterStatus.NotStarted?this.initialState:this._state},n.defaultOptions={execute:!0,deferEvents:!0,clock:{setTimeout:function(e,a){return setTimeout(e,a)},clearTimeout:function(e){return clearTimeout(e)}},logger:console.log.bind(console),devTools:!1},n.interpret=interpret,n}();function interpret(n,e){var a=new Interpreter(n,e);return a}function toInvokeSource(n){if(typeof n=="string"){var e={type:n};return e.toString=function(){return n},e}return n}function toInvokeDefinition(n){return __assign(__assign({type:invoke},n),{toJSON:function(){n.onDone,n.onError;var e=__rest(n,["onDone","onError"]);return __assign(__assign({},e),{type:invoke,src:toInvokeSource(n.src)})}})}var NULL_EVENT="",STATE_IDENTIFIER="#",WILDCARD="*",EMPTY_OBJECT={},isStateId=function(n){return n[0]===STATE_IDENTIFIER},createDefaultOptions=function(){return{actions:{},guards:{},services:{},activities:{},delays:{}}},StateNode=function(){function n(e,a,t,r){t===void 0&&(t="context"in e?e.context:void 0);var s=this,c;this.config=e,this._context=t,this.order=-1,this.__xstatenode=!0,this.__cache={events:void 0,relativeValue:new Map,initialStateValue:void 0,initialState:void 0,on:void 0,transitions:void 0,candidates:{},delayedTransitions:void 0},this.idMap={},this.tags=[],this.options=Object.assign(createDefaultOptions(),a),this.parent=r==null?void 0:r.parent,this.key=this.config.key||(r==null?void 0:r.key)||this.config.id||"(machine)",this.machine=this.parent?this.parent.machine:this,this.path=this.parent?this.parent.path.concat(this.key):[],this.delimiter=this.config.delimiter||(this.parent?this.parent.delimiter:STATE_DELIMITER),this.id=this.config.id||__spreadArray([this.machine.key],__read(this.path),!1).join(this.delimiter),this.version=this.parent?this.parent.version:this.config.version,this.type=this.config.type||(this.config.parallel?"parallel":this.config.states&&Object.keys(this.config.states).length?"compound":this.config.history?"history":"atomic"),this.schema=this.parent?this.machine.schema:(c=this.config.schema)!==null&&c!==void 0?c:{},this.description=this.config.description,this.initial=this.config.initial,this.states=this.config.states?mapValues(this.config.states,function(m,g){var _,b=new n(m,{},void 0,{parent:s,key:g});return Object.assign(s.idMap,__assign((_={},_[b.id]=b,_),b.idMap)),b}):EMPTY_OBJECT;var d=0;function u(m){var g,_;m.order=d++;try{for(var b=__values(getAllChildren(m)),S=b.next();!S.done;S=b.next()){var C=S.value;u(C)}}catch(R){g={error:R}}finally{try{S&&!S.done&&(_=b.return)&&_.call(b)}finally{if(g)throw g.error}}}u(this),this.history=this.config.history===!0?"shallow":this.config.history||!1,this._transient=!!this.config.always||(this.config.on?Array.isArray(this.config.on)?this.config.on.some(function(m){var g=m.event;return g===NULL_EVENT}):NULL_EVENT in this.config.on:!1),this.strict=!!this.config.strict,this.onEntry=toArray(this.config.entry||this.config.onEntry).map(function(m){return toActionObject(m)}),this.onExit=toArray(this.config.exit||this.config.onExit).map(function(m){return toActionObject(m)}),this.meta=this.config.meta,this.doneData=this.type==="final"?this.config.data:void 0,this.invoke=toArray(this.config.invoke).map(function(m,g){var _,b;if(isMachine(m)){var S=createInvokeId(s.id,g);return s.machine.options.services=__assign((_={},_[S]=m,_),s.machine.options.services),toInvokeDefinition({src:S,id:S})}else if(isString(m.src)){var S=m.id||createInvokeId(s.id,g);return toInvokeDefinition(__assign(__assign({},m),{id:S,src:m.src}))}else if(isMachine(m.src)||isFunction(m.src)){var S=m.id||createInvokeId(s.id,g);return s.machine.options.services=__assign((b={},b[S]=m.src,b),s.machine.options.services),toInvokeDefinition(__assign(__assign({id:S},m),{src:S}))}else{var C=m.src;return toInvokeDefinition(__assign(__assign({id:createInvokeId(s.id,g)},m),{src:C}))}}),this.activities=toArray(this.config.activities).concat(this.invoke).map(function(m){return toActivityDefinition(m)}),this.transition=this.transition.bind(this),this.tags=toArray(this.config.tags)}return n.prototype._init=function(){this.__cache.transitions||getAllStateNodes(this).forEach(function(e){return e.on})},n.prototype.withConfig=function(e,a){var t=this.options,r=t.actions,s=t.activities,c=t.guards,d=t.services,u=t.delays;return new n(this.config,{actions:__assign(__assign({},r),e.actions),activities:__assign(__assign({},s),e.activities),guards:__assign(__assign({},c),e.guards),services:__assign(__assign({},d),e.services),delays:__assign(__assign({},u),e.delays)},a??this.context)},n.prototype.withContext=function(e){return new n(this.config,this.options,e)},Object.defineProperty(n.prototype,"context",{get:function(){return isFunction(this._context)?this._context():this._context},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"definition",{get:function(){return{id:this.id,key:this.key,version:this.version,context:this.context,type:this.type,initial:this.initial,history:this.history,states:mapValues(this.states,function(e){return e.definition}),on:this.on,transitions:this.transitions,entry:this.onEntry,exit:this.onExit,activities:this.activities||[],meta:this.meta,order:this.order||-1,data:this.doneData,invoke:this.invoke,description:this.description,tags:this.tags}},enumerable:!1,configurable:!0}),n.prototype.toJSON=function(){return this.definition},Object.defineProperty(n.prototype,"on",{get:function(){if(this.__cache.on)return this.__cache.on;var e=this.transitions;return this.__cache.on=e.reduce(function(a,t){return a[t.eventType]=a[t.eventType]||[],a[t.eventType].push(t),a},{})},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"after",{get:function(){return this.__cache.delayedTransitions||(this.__cache.delayedTransitions=this.getDelayedTransitions(),this.__cache.delayedTransitions)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"transitions",{get:function(){return this.__cache.transitions||(this.__cache.transitions=this.formatTransitions(),this.__cache.transitions)},enumerable:!1,configurable:!0}),n.prototype.getCandidates=function(e){if(this.__cache.candidates[e])return this.__cache.candidates[e];var a=e===NULL_EVENT,t=this.transitions.filter(function(r){var s=r.eventType===e;return a?s:s||r.eventType===WILDCARD});return this.__cache.candidates[e]=t,t},n.prototype.getDelayedTransitions=function(){var e=this,a=this.config.after;if(!a)return[];var t=function(s,c){var d=isFunction(s)?"".concat(e.id,":delay[").concat(c,"]"):s,u=after(d,e.id);return e.onEntry.push(send(u,{delay:s})),e.onExit.push(cancel(u)),u},r=isArray(a)?a.map(function(s,c){var d=t(s.delay,c);return __assign(__assign({},s),{event:d})}):flatten(Object.keys(a).map(function(s,c){var d=a[s],u=isString(d)?{target:d}:d,m=isNaN(+s)?s:+s,g=t(m,c);return toArray(u).map(function(_){return __assign(__assign({},_),{event:g,delay:m})})}));return r.map(function(s){var c=s.delay;return __assign(__assign({},e.formatTransition(s)),{delay:c})})},n.prototype.getStateNodes=function(e){var a,t=this;if(!e)return[];var r=e instanceof State$2?e.value:toStateValue(e,this.delimiter);if(isString(r)){var s=this.getStateNode(r).initial;return s!==void 0?this.getStateNodes((a={},a[r]=s,a)):[this,this.states[r]]}var c=Object.keys(r),d=[this];return d.push.apply(d,__spreadArray([],__read(flatten(c.map(function(u){return t.getStateNode(u).getStateNodes(r[u])}))),!1)),d},n.prototype.handles=function(e){var a=getEventType(e);return this.events.includes(a)},n.prototype.resolveState=function(e){var a=e instanceof State$2?e:State$2.create(e),t=Array.from(getConfiguration([],this.getStateNodes(a.value)));return new State$2(__assign(__assign({},a),{value:this.resolve(a.value),configuration:t,done:isInFinalState(t,this),tags:getTagsFromConfiguration(t),machine:this.machine}))},n.prototype.transitionLeafNode=function(e,a,t){var r=this.getStateNode(e),s=r.next(a,t);return!s||!s.transitions.length?this.next(a,t):s},n.prototype.transitionCompoundNode=function(e,a,t){var r=Object.keys(e),s=this.getStateNode(r[0]),c=s._transition(e[r[0]],a,t);return!c||!c.transitions.length?this.next(a,t):c},n.prototype.transitionParallelNode=function(e,a,t){var r,s,c={};try{for(var d=__values(Object.keys(e)),u=d.next();!u.done;u=d.next()){var m=u.value,g=e[m];if(!!g){var _=this.getStateNode(m),b=_._transition(g,a,t);b&&(c[m]=b)}}}catch(k){r={error:k}}finally{try{u&&!u.done&&(s=d.return)&&s.call(d)}finally{if(r)throw r.error}}var S=Object.keys(c).map(function(k){return c[k]}),C=flatten(S.map(function(k){return k.transitions})),R=S.some(function(k){return k.transitions.length>0});if(!R)return this.next(a,t);var w=flatten(Object.keys(c).map(function(k){return c[k].configuration}));return{transitions:C,exitSet:flatten(S.map(function(k){return k.exitSet})),configuration:w,source:a,actions:flatten(Object.keys(c).map(function(k){return c[k].actions}))}},n.prototype._transition=function(e,a,t){return isString(e)?this.transitionLeafNode(e,a,t):Object.keys(e).length===1?this.transitionCompoundNode(e,a,t):this.transitionParallelNode(e,a,t)},n.prototype.getTransitionData=function(e,a){return this._transition(e.value,e,toSCXMLEvent(a))},n.prototype.next=function(e,a){var t,r,s=this,c=a.name,d=[],u=[],m;try{for(var g=__values(this.getCandidates(c)),_=g.next();!_.done;_=g.next()){var b=_.value,S=b.cond,C=b.in,R=e.context,w=C?isString(C)&&isStateId(C)?e.matches(toStateValue(this.getStateNodeById(C).path,this.delimiter)):matchesState(toStateValue(C,this.delimiter),path(this.path.slice(0,-2))(e.value)):!0,k=!1;try{k=!S||evaluateGuard(this.machine,S,R,a,e)}catch(P){throw new Error("Unable to evaluate guard '".concat(S.name||S.type,"' in transition for event '").concat(c,"' in state node '").concat(this.id,`':
`).concat(P.message))}if(k&&w){b.target!==void 0&&(u=b.target),d.push.apply(d,__spreadArray([],__read(b.actions),!1)),m=b;break}}}catch(P){t={error:P}}finally{try{_&&!_.done&&(r=g.return)&&r.call(g)}finally{if(t)throw t.error}}if(!!m){if(!u.length)return{transitions:[m],exitSet:[],configuration:e.value?[this]:[],source:e,actions:d};var $=flatten(u.map(function(P){return s.getRelativeStateNodes(P,e.historyValue)})),O=!!m.internal;return{transitions:[m],exitSet:O?[]:flatten(u.map(function(P){return s.getPotentiallyReenteringNodes(P)})),configuration:$,source:e,actions:d}}},n.prototype.getPotentiallyReenteringNodes=function(e){if(this.order<e.order)return[this];for(var a=[],t=this,r=e;t&&t!==r;)a.push(t),t=t.parent;return t!==r?[]:(a.push(r),a)},n.prototype.getActions=function(e,a,t,r,s,c,d){var u,m,g,_,b=this,S=c?getConfiguration([],this.getStateNodes(c.value)):[],C=new Set;try{for(var R=__values(Array.from(e).sort(function(z,F){return z.order-F.order})),w=R.next();!w.done;w=R.next()){var k=w.value;(!has(S,k)||has(t.exitSet,k)||k.parent&&C.has(k.parent))&&C.add(k)}}catch(z){u={error:z}}finally{try{w&&!w.done&&(m=R.return)&&m.call(R)}finally{if(u)throw u.error}}try{for(var $=__values(S),O=$.next();!O.done;O=$.next()){var k=O.value;(!has(e,k)||has(t.exitSet,k.parent))&&t.exitSet.push(k)}}catch(z){g={error:z}}finally{try{O&&!O.done&&(_=$.return)&&_.call($)}finally{if(g)throw g.error}}t.exitSet.sort(function(z,F){return F.order-z.order});var P=Array.from(C).sort(function(z,F){return z.order-F.order}),x=new Set(t.exitSet),I=flatten(P.map(function(z){var F=[];if(z.type!=="final")return F;var X=z.parent;if(!X.parent)return F;F.push(done(z.id,z.doneData),done(X.id,z.doneData?mapContext(z.doneData,r,s):void 0));var q=X.parent;return q.type==="parallel"&&getChildren(q).every(function(K){return isInFinalState(t.configuration,K)})&&F.push(done(q.id)),F})),B=P.map(function(z){var F=z.onEntry,X=z.activities.map(function(q){return start$1(q)});return toActionObjects(d?__spreadArray(__spreadArray([],__read(F),!1),__read(X),!1):__spreadArray(__spreadArray([],__read(X),!1),__read(F),!1),b.machine.options.actions)}).concat([I.map(raise)]),j=Array.from(x).map(function(z){return toActionObjects(__spreadArray(__spreadArray([],__read(z.onExit),!1),__read(z.activities.map(function(F){return stop(F)})),!1),b.machine.options.actions)}),W=j.concat([toActionObjects(t.actions,this.machine.options.actions)]).concat(B);if(a){var U=toActionObjects(flatten(__spreadArray([],__read(e),!1).sort(function(z,F){return F.order-z.order}).map(function(z){return z.onExit})),this.machine.options.actions).filter(function(z){return z.type!==raise$1&&(z.type!==send$1||!!z.to&&z.to!==SpecialTargets.Internal)});return W.concat([U])}return W},n.prototype.transition=function(e,a,t,r){e===void 0&&(e=this.initialState);var s=toSCXMLEvent(a),c;if(e instanceof State$2)c=t===void 0?e:this.resolveState(State$2.from(e,t));else{var d=isString(e)?this.resolve(pathToStateValue(this.getResolvedPath(e))):this.resolve(e),u=t??this.machine.context;c=this.resolveState(State$2.from(d,u))}if(this.strict&&!this.events.includes(s.name)&&!isBuiltInEvent(s.name))throw new Error("Machine '".concat(this.id,"' does not accept event '").concat(s.name,"'"));var m=this._transition(c.value,c,s)||{transitions:[],configuration:[],exitSet:[],source:c,actions:[]},g=getConfiguration([],this.getStateNodes(c.value)),_=m.configuration.length?getConfiguration(g,m.configuration):g;return m.configuration=__spreadArray([],__read(_),!1),this.resolveTransition(m,c,c.context,r,s)},n.prototype.resolveRaisedTransition=function(e,a,t,r){var s,c=e.actions;return e=this.transition(e,a,void 0,r),e._event=t,e.event=t.data,(s=e.actions).unshift.apply(s,__spreadArray([],__read(c),!1)),e},n.prototype.resolveTransition=function(e,a,t,r,s){var c,d,u,m,g=this;s===void 0&&(s=initEvent);var _=e.configuration,b=!a||e.transitions.length>0,S=b?e.configuration:a?a.configuration:[],C=isInFinalState(S,this),R=b?getValue(this.machine,_):void 0,w=a?a.historyValue?a.historyValue:e.source?this.machine.historyValue(a.value):void 0:void 0,k=this.getActions(new Set(S),C,e,t,s,a,r),$=a?__assign({},a.activities):{};try{for(var O=__values(k),P=O.next();!P.done;P=O.next()){var x=P.value;try{for(var I=(u=void 0,__values(x)),B=I.next();!B.done;B=I.next()){var j=B.value;j.type===start$2?$[j.activity.id||j.activity.type]=j:j.type===stop$1&&($[j.activity.id||j.activity.type]=!1)}}catch(ee){u={error:ee}}finally{try{B&&!B.done&&(m=I.return)&&m.call(I)}finally{if(u)throw u.error}}}}catch(ee){c={error:ee}}finally{try{P&&!P.done&&(d=O.return)&&d.call(O)}finally{if(c)throw c.error}}var W=__read(resolveActions(this,a,t,s,k,r,this.machine.config.predictableActionArguments||this.machine.config.preserveActionOrder),2),U=W[0],z=W[1],F=__read(partition(U,function(ee){return ee.type===raise$1||ee.type===send$1&&ee.to===SpecialTargets.Internal}),2),X=F[0],q=F[1],K=U.filter(function(ee){var re;return ee.type===start$2&&((re=ee.activity)===null||re===void 0?void 0:re.type)===invoke}),te=K.reduce(function(ee,re){return ee[re.activity.id]=createInvocableActor(re.activity,g.machine,z,s),ee},a?__assign({},a.children):{}),Z=new State$2({value:R||a.value,context:z,_event:s,_sessionid:a?a._sessionid:null,historyValue:R?w?updateHistoryValue(w,R):void 0:a?a.historyValue:void 0,history:!R||e.source?a:void 0,actions:R?q:[],activities:R?$:a?a.activities:{},events:[],configuration:S,transitions:e.transitions,children:te,done:C,tags:getTagsFromConfiguration(S),machine:this}),H=t!==z;Z.changed=s.name===update||H;var Q=Z.history;Q&&delete Q.history;var ne=!C&&(this._transient||_.some(function(ee){return ee._transient}));if(!b&&(!ne||s.name===NULL_EVENT))return Z;var V=Z;if(!C)for(ne&&(V=this.resolveRaisedTransition(V,{type:nullEvent},s,r));X.length;){var J=X.shift();V=this.resolveRaisedTransition(V,J._event,s,r)}var ae=V.changed||(Q?!!V.actions.length||H||typeof Q.value!=typeof V.value||!stateValuesEqual(V.value,Q.value):void 0);return V.changed=ae,V.history=Q,V},n.prototype.getStateNode=function(e){if(isStateId(e))return this.machine.getStateNodeById(e);if(!this.states)throw new Error("Unable to retrieve child state '".concat(e,"' from '").concat(this.id,"'; no child states exist."));var a=this.states[e];if(!a)throw new Error("Child state '".concat(e,"' does not exist on '").concat(this.id,"'"));return a},n.prototype.getStateNodeById=function(e){var a=isStateId(e)?e.slice(STATE_IDENTIFIER.length):e;if(a===this.id)return this;var t=this.machine.idMap[a];if(!t)throw new Error("Child state node '#".concat(a,"' does not exist on machine '").concat(this.id,"'"));return t},n.prototype.getStateNodeByPath=function(e){if(typeof e=="string"&&isStateId(e))try{return this.getStateNodeById(e.slice(1))}catch{}for(var a=toStatePath(e,this.delimiter).slice(),t=this;a.length;){var r=a.shift();if(!r.length)break;t=t.getStateNode(r)}return t},n.prototype.resolve=function(e){var a,t=this;if(!e)return this.initialStateValue||EMPTY_OBJECT;switch(this.type){case"parallel":return mapValues(this.initialStateValue,function(s,c){return s?t.getStateNode(c).resolve(e[c]||s):EMPTY_OBJECT});case"compound":if(isString(e)){var r=this.getStateNode(e);return r.type==="parallel"||r.type==="compound"?(a={},a[e]=r.initialStateValue,a):e}return Object.keys(e).length?mapValues(e,function(s,c){return s?t.getStateNode(c).resolve(s):EMPTY_OBJECT}):this.initialStateValue||{};default:return e||EMPTY_OBJECT}},n.prototype.getResolvedPath=function(e){if(isStateId(e)){var a=this.machine.idMap[e.slice(STATE_IDENTIFIER.length)];if(!a)throw new Error("Unable to find state node '".concat(e,"'"));return a.path}return toStatePath(e,this.delimiter)},Object.defineProperty(n.prototype,"initialStateValue",{get:function(){var e;if(this.__cache.initialStateValue)return this.__cache.initialStateValue;var a;if(this.type==="parallel")a=mapFilterValues(this.states,function(t){return t.initialStateValue||EMPTY_OBJECT},function(t){return t.type!=="history"});else if(this.initial!==void 0){if(!this.states[this.initial])throw new Error("Initial state '".concat(this.initial,"' not found on '").concat(this.key,"'"));a=isLeafNode(this.states[this.initial])?this.initial:(e={},e[this.initial]=this.states[this.initial].initialStateValue,e)}else a={};return this.__cache.initialStateValue=a,this.__cache.initialStateValue},enumerable:!1,configurable:!0}),n.prototype.getInitialState=function(e,a){this._init();var t=this.getStateNodes(e);return this.resolveTransition({configuration:t,exitSet:[],transitions:[],source:void 0,actions:[]},void 0,a??this.machine.context,void 0)},Object.defineProperty(n.prototype,"initialState",{get:function(){var e=this.initialStateValue;if(!e)throw new Error("Cannot retrieve initial state from simple state '".concat(this.id,"'."));return this.getInitialState(e)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"target",{get:function(){var e;if(this.type==="history"){var a=this.config;isString(a.target)?e=isStateId(a.target)?pathToStateValue(this.machine.getStateNodeById(a.target).path.slice(this.path.length-1)):a.target:e=a.target}return e},enumerable:!1,configurable:!0}),n.prototype.getRelativeStateNodes=function(e,a,t){return t===void 0&&(t=!0),t?e.type==="history"?e.resolveHistory(a):e.initialStateNodes:[e]},Object.defineProperty(n.prototype,"initialStateNodes",{get:function(){var e=this;if(isLeafNode(this))return[this];if(this.type==="compound"&&!this.initial)return[this];var a=toStatePaths(this.initialStateValue);return flatten(a.map(function(t){return e.getFromRelativePath(t)}))},enumerable:!1,configurable:!0}),n.prototype.getFromRelativePath=function(e){if(!e.length)return[this];var a=__read(e),t=a[0],r=a.slice(1);if(!this.states)throw new Error("Cannot retrieve subPath '".concat(t,"' from node with no states"));var s=this.getStateNode(t);if(s.type==="history")return s.resolveHistory();if(!this.states[t])throw new Error("Child state '".concat(t,"' does not exist on '").concat(this.id,"'"));return this.states[t].getFromRelativePath(r)},n.prototype.historyValue=function(e){if(!!Object.keys(this.states).length)return{current:e||this.initialStateValue,states:mapFilterValues(this.states,function(a,t){if(!e)return a.historyValue();var r=isString(e)?void 0:e[t];return a.historyValue(r||a.initialStateValue)},function(a){return!a.history})}},n.prototype.resolveHistory=function(e){var a=this;if(this.type!=="history")return[this];var t=this.parent;if(!e){var r=this.target;return r?flatten(toStatePaths(r).map(function(c){return t.getFromRelativePath(c)})):t.initialStateNodes}var s=nestedPath(t.path,"states")(e).current;return isString(s)?[t.getStateNode(s)]:flatten(toStatePaths(s).map(function(c){return a.history==="deep"?t.getFromRelativePath(c):[t.states[c[0]]]}))},Object.defineProperty(n.prototype,"stateIds",{get:function(){var e=this,a=flatten(Object.keys(this.states).map(function(t){return e.states[t].stateIds}));return[this.id].concat(a)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"events",{get:function(){var e,a,t,r;if(this.__cache.events)return this.__cache.events;var s=this.states,c=new Set(this.ownEvents);if(s)try{for(var d=__values(Object.keys(s)),u=d.next();!u.done;u=d.next()){var m=u.value,g=s[m];if(g.states)try{for(var _=(t=void 0,__values(g.events)),b=_.next();!b.done;b=_.next()){var S=b.value;c.add("".concat(S))}}catch(C){t={error:C}}finally{try{b&&!b.done&&(r=_.return)&&r.call(_)}finally{if(t)throw t.error}}}}catch(C){e={error:C}}finally{try{u&&!u.done&&(a=d.return)&&a.call(d)}finally{if(e)throw e.error}}return this.__cache.events=Array.from(c)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"ownEvents",{get:function(){var e=new Set(this.transitions.filter(function(a){return!(!a.target&&!a.actions.length&&a.internal)}).map(function(a){return a.eventType}));return Array.from(e)},enumerable:!1,configurable:!0}),n.prototype.resolveTarget=function(e){var a=this;if(e!==void 0)return e.map(function(t){if(!isString(t))return t;var r=t[0]===a.delimiter;if(r&&!a.parent)return a.getStateNodeByPath(t.slice(1));var s=r?a.key+t:t;if(a.parent)try{var c=a.parent.getStateNodeByPath(s);return c}catch(d){throw new Error("Invalid transition definition for state node '".concat(a.id,`':
`).concat(d.message))}else return a.getStateNodeByPath(s)})},n.prototype.formatTransition=function(e){var a=this,t=normalizeTarget(e.target),r="internal"in e?e.internal:t?t.some(function(u){return isString(u)&&u[0]===a.delimiter}):!0,s=this.machine.options.guards,c=this.resolveTarget(t),d=__assign(__assign({},e),{actions:toActionObjects(toArray(e.actions)),cond:toGuard(e.cond,s),target:c,source:this,internal:r,eventType:e.event,toJSON:function(){return __assign(__assign({},d),{target:d.target?d.target.map(function(u){return"#".concat(u.id)}):void 0,source:"#".concat(a.id)})}});return d},n.prototype.formatTransitions=function(){var e,a,t=this,r;if(!this.config.on)r=[];else if(Array.isArray(this.config.on))r=this.config.on;else{var s=this.config.on,c=WILDCARD,d=s[c],u=d===void 0?[]:d,m=__rest(s,[typeof c=="symbol"?c:c+""]);r=flatten(Object.keys(m).map(function($){var O=toTransitionConfigArray($,m[$]);return O}).concat(toTransitionConfigArray(WILDCARD,u)))}var g=this.config.always?toTransitionConfigArray("",this.config.always):[],_=this.config.onDone?toTransitionConfigArray(String(done(this.id)),this.config.onDone):[],b=flatten(this.invoke.map(function($){var O=[];return $.onDone&&O.push.apply(O,__spreadArray([],__read(toTransitionConfigArray(String(doneInvoke($.id)),$.onDone)),!1)),$.onError&&O.push.apply(O,__spreadArray([],__read(toTransitionConfigArray(String(error$2($.id)),$.onError)),!1)),O})),S=this.after,C=flatten(__spreadArray(__spreadArray(__spreadArray(__spreadArray([],__read(_),!1),__read(b),!1),__read(r),!1),__read(g),!1).map(function($){return toArray($).map(function(O){return t.formatTransition(O)})}));try{for(var R=__values(S),w=R.next();!w.done;w=R.next()){var k=w.value;C.push(k)}}catch($){e={error:$}}finally{try{w&&!w.done&&(a=R.return)&&a.call(R)}finally{if(e)throw e.error}}return C},n}(),warned=!1;function createMachine(n,e){return!IS_PRODUCTION&&!("predictableActionArguments"in n)&&!warned&&(warned=!0,console.warn("It is highly recommended to set `predictableActionArguments` to `true` when using `createMachine`. https://xstate.js.org/docs/guides/actions.html")),new StateNode(n,e)}var assign=assign$1,commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},fastSafeStringify=stringify$1;stringify$1.default=stringify$1;stringify$1.stable=deterministicStringify;stringify$1.stableStringify=deterministicStringify;var LIMIT_REPLACE_NODE="[...]",CIRCULAR_REPLACE_NODE="[Circular]",arr=[],replacerStack=[];function defaultOptions(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function stringify$1(n,e,a,t){typeof t>"u"&&(t=defaultOptions()),decirc(n,"",0,[],void 0,0,t);var r;try{replacerStack.length===0?r=JSON.stringify(n,e,a):r=JSON.stringify(n,replaceGetterValues(e),a)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;arr.length!==0;){var s=arr.pop();s.length===4?Object.defineProperty(s[0],s[1],s[3]):s[0][s[1]]=s[2]}}return r}function setReplace(n,e,a,t){var r=Object.getOwnPropertyDescriptor(t,a);r.get!==void 0?r.configurable?(Object.defineProperty(t,a,{value:n}),arr.push([t,a,e,r])):replacerStack.push([e,a,n]):(t[a]=n,arr.push([t,a,e]))}function decirc(n,e,a,t,r,s,c){s+=1;var d;if(typeof n=="object"&&n!==null){for(d=0;d<t.length;d++)if(t[d]===n){setReplace(CIRCULAR_REPLACE_NODE,n,e,r);return}if(typeof c.depthLimit<"u"&&s>c.depthLimit){setReplace(LIMIT_REPLACE_NODE,n,e,r);return}if(typeof c.edgesLimit<"u"&&a+1>c.edgesLimit){setReplace(LIMIT_REPLACE_NODE,n,e,r);return}if(t.push(n),Array.isArray(n))for(d=0;d<n.length;d++)decirc(n[d],d,d,t,n,s,c);else{var u=Object.keys(n);for(d=0;d<u.length;d++){var m=u[d];decirc(n[m],m,d,t,n,s,c)}}t.pop()}}function compareFunction(n,e){return n<e?-1:n>e?1:0}function deterministicStringify(n,e,a,t){typeof t>"u"&&(t=defaultOptions());var r=deterministicDecirc(n,"",0,[],void 0,0,t)||n,s;try{replacerStack.length===0?s=JSON.stringify(r,e,a):s=JSON.stringify(r,replaceGetterValues(e),a)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;arr.length!==0;){var c=arr.pop();c.length===4?Object.defineProperty(c[0],c[1],c[3]):c[0][c[1]]=c[2]}}return s}function deterministicDecirc(n,e,a,t,r,s,c){s+=1;var d;if(typeof n=="object"&&n!==null){for(d=0;d<t.length;d++)if(t[d]===n){setReplace(CIRCULAR_REPLACE_NODE,n,e,r);return}try{if(typeof n.toJSON=="function")return}catch{return}if(typeof c.depthLimit<"u"&&s>c.depthLimit){setReplace(LIMIT_REPLACE_NODE,n,e,r);return}if(typeof c.edgesLimit<"u"&&a+1>c.edgesLimit){setReplace(LIMIT_REPLACE_NODE,n,e,r);return}if(t.push(n),Array.isArray(n))for(d=0;d<n.length;d++)deterministicDecirc(n[d],d,d,t,n,s,c);else{var u={},m=Object.keys(n).sort(compareFunction);for(d=0;d<m.length;d++){var g=m[d];deterministicDecirc(n[g],g,d,t,n,s,c),u[g]=n[g]}if(typeof r<"u")arr.push([r,e,n]),r[e]=u;else return u}t.pop()}}function replaceGetterValues(n){return n=typeof n<"u"?n:function(e,a){return a},function(e,a){if(replacerStack.length>0)for(var t=0;t<replacerStack.length;t++){var r=replacerStack[t];if(r[1]===e&&r[0]===a){a=r[2],replacerStack.splice(t,1);break}}return n.call(this,e,a)}}const safeStringify=fastSafeStringify;function getLazy(n){return typeof n=="function"?n():n}function stringify(n,e){try{return JSON.stringify(n,e)}catch{return safeStringify(n,e)}}function selectivelyStringify(n,e,a){var t,r,s={};try{for(var c=__values$1(e),d=c.next();!d.done;d=c.next()){var u=d.value;s[u]=n[u]}}catch(g){t={error:g}}finally{try{d&&!d.done&&(r=c.return)&&r.call(c)}finally{if(t)throw t.error}}var m=JSON.parse(stringify(s,a));return stringify(__assign$1(__assign$1({},n),m))}function stringifyState(n,e){n.machine,n.configuration,n.history;var a=__rest$1(n,["machine","configuration","history"]);return selectivelyStringify(a,["context","event","_event"],e)}function stringifyMachine(n,e){return selectivelyStringify(n.definition,["context"],e)}function createInspectMachine(n,e){n===void 0&&(n=globalThis.__xstate__);var a=new Map,t=n.onRegister(function(r){a.set(r.sessionId,r)});return createMachine({initial:"pendingConnection",context:{client:void 0},states:{pendingConnection:{},connected:{on:{"service.state":{actions:function(r,s){return r.client.send(s)}},"service.event":{actions:function(r,s){return r.client.send(s)}},"service.register":{actions:function(r,s){return r.client.send(s)}},"service.stop":{actions:function(r,s){return r.client.send(s)}},"xstate.event":{actions:function(r,s){var c=s.event,d=JSON.parse(c),u=a.get(d.origin);u==null||u.send(d)}},unload:{actions:function(r){r.client.send({type:"xstate.disconnect"})}},disconnect:"disconnected"}},disconnected:{entry:function(){t.unsubscribe()},type:"final"}},on:{"xstate.inspecting":{target:".connected",actions:[assign({client:function(r,s){return s.client}}),function(r){n.services.forEach(function(s){var c;(c=r.client)===null||c===void 0||c.send({type:"service.register",machine:stringifyMachine(s.machine,e==null?void 0:e.serialize),state:stringifyState(s.state||s.initialState,e==null?void 0:e.serialize),sessionId:s.sessionId})})}]}}})}var serviceMap=new Map;function createDevTools(){var n=new Set,e=new Set;return{services:n,register:function(a){n.add(a),serviceMap.set(a.sessionId,a),e.forEach(function(t){return t(a)}),a.onStop(function(){n.delete(a),serviceMap.delete(a.sessionId)})},unregister:function(a){n.delete(a),serviceMap.delete(a.sessionId)},onRegister:function(a){return e.add(a),n.forEach(function(t){return a(t)}),{unsubscribe:function(){e.delete(a)}}}}}var defaultInspectorOptions={url:"https://stately.ai/viz?inspect",iframe:function(){return document.querySelector("iframe[data-xstate]")},devTools:function(){var n=createDevTools();return globalThis.__xstate__=n,n},serialize:void 0},getFinalOptions=function(n){var e=__assign$1(__assign$1({},defaultInspectorOptions),n);return __assign$1(__assign$1({},e),{url:new URL(e.url),iframe:getLazy(e.iframe),devTools:getLazy(e.devTools)})},patchedInterpreters=new Set;function inspect(n){var e=getFinalOptions(n),a=e.iframe,t=e.url,r=e.devTools;if(a===null){console.warn("No suitable <iframe> found to embed the inspector. Please pass an <iframe> element to `inspect(iframe)` or create an <iframe data-xstate></iframe> element.");return}var s=createInspectMachine(r,n),c=interpret(s).start(),d=new Set,u=c.subscribe(function(S){d.forEach(function(C){return C.next(S)})}),m,g,_=function(S){if(typeof S.data=="object"&&S.data!==null&&"type"in S.data){a&&!m&&(m=a.contentWindow),g||(g={send:function(R){m.postMessage(R,t.origin)}});var C=__assign$1(__assign$1({},S.data),{client:g});c.send(C)}};window.addEventListener("message",_),window.addEventListener("unload",function(){c.send({type:"unload"})});var b=function(S){return stringify(S,n==null?void 0:n.serialize)};return r.onRegister(function(S){var C,R=S.state||S.initialState;if(c.send({type:"service.register",machine:stringifyMachine(S.machine,n==null?void 0:n.serialize),state:stringifyState(R,n==null?void 0:n.serialize),sessionId:S.sessionId,id:S.id,parent:(C=S.parent)===null||C===void 0?void 0:C.sessionId}),c.send({type:"service.event",event:b(R._event),sessionId:S.sessionId}),!patchedInterpreters.has(S)){patchedInterpreters.add(S);var w=S.send.bind(S);S.send=function($,O){return c.send({type:"service.event",event:b(toSCXMLEvent(toEventObject($,O))),sessionId:S.sessionId}),w($,O)}}S.subscribe(function(k){k!==void 0&&c.send({type:"service.state",state:stringifyState(k,n==null?void 0:n.serialize),sessionId:S.sessionId})}),S.onStop(function(){c.send({type:"service.stop",sessionId:S.sessionId})})}),a?(a.addEventListener("load",function(){m=a.contentWindow}),a.setAttribute("src",String(t))):m=window.open(String(t),"xstateinspector"),{send:function(S){c.send(S)},subscribe:function(S,C,R){var w=toObserver(S,C,R);return d.add(w),w.next(c.state),{unsubscribe:function(){d.delete(w)}}},disconnect:function(){c.send("disconnect"),window.removeEventListener("message",_),u.unsubscribe()}}}const ROV_PEERID_BASE="ROV-",MEMORABLE_PEER_ID_OFFSET=74646,peerServerCloudOptions={host:"0.peerjs.com",secure:!0,path:"/",port:443},peerServerLocalOptions={host:"raspberrypi.local",path:"/",secure:!1,port:9e3};var ConnectionState=(n=>(n.connecting="Connecting",n.connected="Connected",n.reconnecting="Reconnecting",n.disconnected="Disconnected",n))(ConnectionState||{}),LOADING_MESSAGE=(n=>(n.clearAll="all",n.default="Loading...",n.ipScan="Scanning for ROV IP address...",n.internetCheck="Checking internet access...",n.serverConnecting="Connecting to peer server...",n.serverReconnecting="Reconnecting to peer server...",n.webrtcConnecting="Searching for ROV...",n.webrtcReconnecting="Reconnecting to ROV...",n.reloadingSite="Reloading site...",n.awaitingVideoCall="Waiting for livestream...",n.awaitingRovReconnect="Waiting for ROV to reconnect...",n))(LOADING_MESSAGE||{});const GAME_CONTROLLER_BUTTON_CONFIG=[{btnName:"button_1",helpLabel:"TBD",tooltipPlacement:"left"},{btnName:"button_2",remoteAction:"record",helpLabel:"Start/Stop Recording",tooltipPlacement:"left"},{btnName:"button_3",remoteAction:"photo",helpLabel:"Take Photo",tooltipPlacement:"left"},{btnName:"button_4",remoteAction:"lights",helpLabel:"Toggle Lights",tooltipPlacement:"left"},{btnName:"shoulder_button_front_left",helpLabel:"TBD",tooltipPlacement:"right"},{btnName:"shoulder_button_front_right",remoteAction:"claw_open",helpLabel:"TBD",tooltipPlacement:"left"},{btnName:"shoulder_trigger_back_left",remoteAction:"claw_close",helpLabel:"Open Claw",holdAllowed:!0,tooltipPlacement:"right"},{btnName:"shoulder_trigger_back_right",remoteAction:"claw_close",helpLabel:"Close Claw",holdAllowed:!0,tooltipPlacement:"left"},{btnName:"select_button",helpLabel:"Show/Hide Gamepad Help",tooltipPlacement:"right"},{btnName:"start_button",helpLabel:"Show/Hide Gamepad Help",tooltipPlacement:"left"},{btnName:"stick_button_left",helpLabel:"Move Forward/Back & Turn",tooltipPlacement:"right"},{btnName:"stick_button_right",helpLabel:"Move Up/Down & Left/Right",tooltipPlacement:"left"},{btnName:"d_pad_up",remoteAction:"exposure_plus",helpLabel:"Increase Camera Brightness",holdAllowed:!0,tooltipPlacement:"right"},{btnName:"d_pad_down",remoteAction:"exposure_minus",helpLabel:"Decreases Camera Brightness",holdAllowed:!0,tooltipPlacement:"right"},{btnName:"d_pad_left",remoteAction:"v_quality_plus",helpLabel:"Decrease Video Quality (reduces latency)",holdAllowed:!0,tooltipPlacement:"right"},{btnName:"d_pad_right",remoteAction:"v_quality_minus",helpLabel:"Increase Video Quality (increases latency)",holdAllowed:!0,tooltipPlacement:"right"}],ONSCREEN_GPAD_BUTTON_LABELS=["button_1","button_2","button_3","button_4","shoulder_button_front_left","shoulder_button_front_right","shoulder_trigger_back_left","shoulder_trigger_back_right","select_button","start_button","stick_button_left","stick_button_right","d_pad_up","d_pad_down","d_pad_left","d_pad_right"],ONSCREEN_GPAD_BUTTON_TOUCHED_CLASS="touched",ONSCREEN_GPAD_BUTTON_PRESSED_CLASS="pressed";let computedTracker=[];function nStore(n){let e=[],a=(c,d=!0)=>(e.includes(c)||e.push(c),d&&c(n),()=>{e=e.filter(u=>u!=c)});function t(c){if(c===n&&(n===null||typeof n!="object"))return;let d=n;n=c;for(let u of e)u(n,d)}function r(){let c=computedTracker[computedTracker.length-1];return c&&a(c[0],!1),n}if(typeof n=="function")return computed(n);function s(){for(let c of e)c(n,n)}return{subscribe:a,set:t,get:r,refresh:s,update:c=>{typeof c=="function"&&t(c(n))}}}function computed(n){let e=nStore(null),a=[t];return t(),e;function t(){if(computedTracker.includes(a))throw Error("Circular computation");computedTracker.push(a);let r;try{r=n()}catch(s){throw computedTracker.pop(),s}computedTracker.pop(),e.set(r)}}var DIALOG_TYPE=(n=>(n[n.Alert=0]="Alert",n[n.Password=1]="Password",n[n.ScrollingText=2]="ScrollingText",n))(DIALOG_TYPE||{});const appReady=nStore(!1),debugXstateMode=nStore(!1);nStore(!1);const fullscreenOpen=nStore(!1);document.addEventListener("fullscreenchange",n=>{fullscreenOpen.set(document.fullscreenElement!==null)});const peerServerConfig=nStore(null),rovIpAddr=nStore("raspberrypi.local"),rovPeerIdEndNumber=nStore(0);nStore(!1);const isRovDriver=nStore(!1),ourPeerId=nStore("No Peer Id");nStore(null);nStore(null);const gamepadController=nStore(null),peerServerConnState=nStore(ConnectionState.disconnected),rovDataChannelConnState=nStore(ConnectionState.disconnected),rovVideoStreamConnState=nStore(ConnectionState.disconnected),rovVideoStream=nStore(null),subscriber_queue=[];function writable(n,e=noop$1){let a;const t=new Set;function r(d){if(safe_not_equal(n,d)&&(n=d,a)){const u=!subscriber_queue.length;for(const m of t)m[1](),subscriber_queue.push(m,n);if(u){for(let m=0;m<subscriber_queue.length;m+=2)subscriber_queue[m][0](subscriber_queue[m+1]);subscriber_queue.length=0}}}function s(d){r(d(n))}function c(d,u=noop$1){const m=[d,u];return t.add(m),t.size===1&&(a=e(r)||noop$1),d(n),()=>{t.delete(m),t.size===0&&(a(),a=null)}}return{set:r,update:s,subscribe:c}}function selectKeypressFactory(n){return e=>{(e.key==="Enter"||e.key===" ")&&n(e)}}const adjectives=["Ancient","Dawn","Small","Broken","Red","Cold","Wild","Divine","Empty","Patient","Holy","Long","Wispy","White","Delicate","Bold","Billowing","Blue","Crimson","Aged","Misty","Snowy","Withered","Little","Frosty","Weathered","Nameless","Fragrant","Lively","Quiet","Purple","Proud","Dry","Bitter","Dark","Icy","Twilight","Wandering","Solitary","Morning","Lingering","Still","Late","Sparkling","Restless","Winter","Silent","Floral","Young","Green","Cool","Autumn","Falling","Spring","Summer","Polished","Hidden","Damp","Muddy","Black","Old","Rough"],nouns=["Pond","Snow","Glade","Hill","Voice","River","Sun","Dawn","Forest","Frog","Grass","Shadow","Dust","Water","Meadow","Moon","Thunder","Sun","Wildflower","Snowflake","Silence","Haze","Shape","Pine","Waterfall","Sound","Wood","Tree","Night","Flower","Dream","Cherry","Resonance","Firefly","Bush","Star","Darkness","Lake","Frost","Paper","Surf","Fog","Brook","Mountain","Field","Bird","Leaf","Sea","Water","Sky","Smoke","Sunset","Glitter","Dew","Butterfly","Wind","Fire","Rain","Morning","Feather","Cloud","Breeze","Violet","Wave"];function getUniqueName(n,e){let a=adjectives.length>>>0,t=nouns.length>>>0,r=Math.max(a,t)>>>0,s=Math.max(1,(n+1)%r)>>>0,c=Math.max(1,(e+1)%r)>>>0,d=adjectives[(s+c)%a],u=nouns[s*c%t];return d+"-"+u}function getRandomName(){var n=adjectives[Math.floor(Math.random()*adjectives.length)],e=nouns[Math.floor(Math.random()*nouns.length)];return n+"-"+e}function getURLQueryStringVariable(n){for(var e=window.location.search.substring(1),a=e.split("&"),t=0;t<a.length;t++){var r=a[t].split("=");if(decodeURIComponent(r[0])==n)return decodeURIComponent(r[1])}}function throttle(n,e,a){var t,r,s,c=null,d=0;a||(a={});var u=function(){d=a.leading===!1?0:Date.now(),c=null,s=n.apply(t,r),c||(t=r=null)};return function(){var m=Date.now();!d&&a.leading===!1&&(d=m);var g=e-(m-d);return t=this,r=arguments,g<=0||g>e?(c&&(clearTimeout(c),c=null),d=m,s=n.apply(t,r),c||(t=r=null)):!c&&a.trailing!==!1&&(c=setTimeout(u,g)),s}}class Queue{constructor(){Y(this,"items",[]);this.items=[]}push(e){this.items.push(e)}pop(){if(!this.isEmpty())return this.items.splice(0,1)}peak(){if(!this.isEmpty())return this.items[0]}isEmpty(){return this.items.length==0}printQueue(){for(var e="",a=0;a<this.items.length;a++)e+=this.items[a]+" ";return e}}function isInternetAvailable(n){return new Promise(e=>{console.info("checkingUrl",n);try{fetch(n).then(()=>{e(!0)}).catch(a=>{console.warn("Internet Offline, starting switch to local mode",a),e(!1)})}catch(a){console.warn("Error Checking internet, starting switch to local mode",a),e(!1)}})}window.closeFullscreen=()=>{const n=document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement;if(n){const e=()=>{n.classList.remove("fullscreen-open")};document.exitFullscreen?document.exitFullscreen().then(e):document.msExitFullscreen?document.msExitFullscreen().then(e):document.mozCancelFullScreen?document.mozCancelFullScreen().then(e):document.webkitExitFullscreen&&document.webkitExitFullscreen().then(e)}};function toggleFullscreen(n,e){e=e||document.documentElement;var a=document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement;!a||e!==a?(e.requestFullscreen||e.webkitEnterFullscreen||e.webkitRequestFullscreen||e.webkitRequestFullScreen||e.mozRequestFullScreen||e.msRequestFullscreen).apply(e):(document.exitFullscreen||document.webkitExitFullscreen||document.mozCancelFullScreen||document.msExitFullscreen).apply(document)}var bufferbuilder={exports:{}};(function(n){var e={};e.useBlobBuilder=function(){try{return new Blob([]),!1}catch{return!0}}(),e.useArrayBufferView=!e.useBlobBuilder&&function(){try{return new Blob([new Uint8Array([])]).size===0}catch{return!0}}(),n.exports.binaryFeatures=e;var a=n.exports.BlobBuilder;typeof window<"u"&&(a=n.exports.BlobBuilder=window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder||window.BlobBuilder);function t(){this._pieces=[],this._parts=[]}t.prototype.append=function(r){typeof r=="number"?this._pieces.push(r):(this.flush(),this._parts.push(r))},t.prototype.flush=function(){if(this._pieces.length>0){var r=new Uint8Array(this._pieces);e.useArrayBufferView||(r=r.buffer),this._parts.push(r),this._pieces=[]}},t.prototype.getBuffer=function(){if(this.flush(),e.useBlobBuilder){for(var r=new a,s=0,c=this._parts.length;s<c;s++)r.append(this._parts[s]);return r.getBlob()}else return new Blob(this._parts)},n.exports.BufferBuilder=t})(bufferbuilder);var BufferBuilder=bufferbuilder.exports.BufferBuilder,binaryFeatures=bufferbuilder.exports.binaryFeatures,BinaryPack={unpack:function(n){var e=new Unpacker(n);return e.unpack()},pack:function(n){var e=new Packer;e.pack(n);var a=e.getBuffer();return a}},binarypack=BinaryPack;function Unpacker(n){this.index=0,this.dataBuffer=n,this.dataView=new Uint8Array(this.dataBuffer),this.length=this.dataBuffer.byteLength}Unpacker.prototype.unpack=function(){var n=this.unpack_uint8();if(n<128)return n;if((n^224)<32)return(n^224)-32;var e;if((e=n^160)<=15)return this.unpack_raw(e);if((e=n^176)<=15)return this.unpack_string(e);if((e=n^144)<=15)return this.unpack_array(e);if((e=n^128)<=15)return this.unpack_map(e);switch(n){case 192:return null;case 193:return;case 194:return!1;case 195:return!0;case 202:return this.unpack_float();case 203:return this.unpack_double();case 204:return this.unpack_uint8();case 205:return this.unpack_uint16();case 206:return this.unpack_uint32();case 207:return this.unpack_uint64();case 208:return this.unpack_int8();case 209:return this.unpack_int16();case 210:return this.unpack_int32();case 211:return this.unpack_int64();case 212:return;case 213:return;case 214:return;case 215:return;case 216:return e=this.unpack_uint16(),this.unpack_string(e);case 217:return e=this.unpack_uint32(),this.unpack_string(e);case 218:return e=this.unpack_uint16(),this.unpack_raw(e);case 219:return e=this.unpack_uint32(),this.unpack_raw(e);case 220:return e=this.unpack_uint16(),this.unpack_array(e);case 221:return e=this.unpack_uint32(),this.unpack_array(e);case 222:return e=this.unpack_uint16(),this.unpack_map(e);case 223:return e=this.unpack_uint32(),this.unpack_map(e)}};Unpacker.prototype.unpack_uint8=function(){var n=this.dataView[this.index]&255;return this.index++,n};Unpacker.prototype.unpack_uint16=function(){var n=this.read(2),e=(n[0]&255)*256+(n[1]&255);return this.index+=2,e};Unpacker.prototype.unpack_uint32=function(){var n=this.read(4),e=((n[0]*256+n[1])*256+n[2])*256+n[3];return this.index+=4,e};Unpacker.prototype.unpack_uint64=function(){var n=this.read(8),e=((((((n[0]*256+n[1])*256+n[2])*256+n[3])*256+n[4])*256+n[5])*256+n[6])*256+n[7];return this.index+=8,e};Unpacker.prototype.unpack_int8=function(){var n=this.unpack_uint8();return n<128?n:n-(1<<8)};Unpacker.prototype.unpack_int16=function(){var n=this.unpack_uint16();return n<32768?n:n-(1<<16)};Unpacker.prototype.unpack_int32=function(){var n=this.unpack_uint32();return n<Math.pow(2,31)?n:n-Math.pow(2,32)};Unpacker.prototype.unpack_int64=function(){var n=this.unpack_uint64();return n<Math.pow(2,63)?n:n-Math.pow(2,64)};Unpacker.prototype.unpack_raw=function(n){if(this.length<this.index+n)throw new Error("BinaryPackFailure: index is out of range "+this.index+" "+n+" "+this.length);var e=this.dataBuffer.slice(this.index,this.index+n);return this.index+=n,e};Unpacker.prototype.unpack_string=function(n){for(var e=this.read(n),a=0,t="",r,s;a<n;)r=e[a],r<128?(t+=String.fromCharCode(r),a++):(r^192)<32?(s=(r^192)<<6|e[a+1]&63,t+=String.fromCharCode(s),a+=2):(s=(r&15)<<12|(e[a+1]&63)<<6|e[a+2]&63,t+=String.fromCharCode(s),a+=3);return this.index+=n,t};Unpacker.prototype.unpack_array=function(n){for(var e=new Array(n),a=0;a<n;a++)e[a]=this.unpack();return e};Unpacker.prototype.unpack_map=function(n){for(var e={},a=0;a<n;a++){var t=this.unpack(),r=this.unpack();e[t]=r}return e};Unpacker.prototype.unpack_float=function(){var n=this.unpack_uint32(),e=n>>31,a=(n>>23&255)-127,t=n&8388607|8388608;return(e===0?1:-1)*t*Math.pow(2,a-23)};Unpacker.prototype.unpack_double=function(){var n=this.unpack_uint32(),e=this.unpack_uint32(),a=n>>31,t=(n>>20&2047)-1023,r=n&1048575|1048576,s=r*Math.pow(2,t-20)+e*Math.pow(2,t-52);return(a===0?1:-1)*s};Unpacker.prototype.read=function(n){var e=this.index;if(e+n<=this.length)return this.dataView.subarray(e,e+n);throw new Error("BinaryPackFailure: read index out of range")};function Packer(){this.bufferBuilder=new BufferBuilder}Packer.prototype.getBuffer=function(){return this.bufferBuilder.getBuffer()};Packer.prototype.pack=function(n){var e=typeof n;if(e==="string")this.pack_string(n);else if(e==="number")Math.floor(n)===n?this.pack_integer(n):this.pack_double(n);else if(e==="boolean")n===!0?this.bufferBuilder.append(195):n===!1&&this.bufferBuilder.append(194);else if(e==="undefined")this.bufferBuilder.append(192);else if(e==="object")if(n===null)this.bufferBuilder.append(192);else{var a=n.constructor;if(a==Array)this.pack_array(n);else if(a==Blob||a==File||n instanceof Blob||n instanceof File)this.pack_bin(n);else if(a==ArrayBuffer)binaryFeatures.useArrayBufferView?this.pack_bin(new Uint8Array(n)):this.pack_bin(n);else if("BYTES_PER_ELEMENT"in n)binaryFeatures.useArrayBufferView?this.pack_bin(new Uint8Array(n.buffer)):this.pack_bin(n.buffer);else if(a==Object||a.toString().startsWith("class"))this.pack_object(n);else if(a==Date)this.pack_string(n.toString());else if(typeof n.toBinaryPack=="function")this.bufferBuilder.append(n.toBinaryPack());else throw new Error('Type "'+a.toString()+'" not yet supported')}else throw new Error('Type "'+e+'" not yet supported');this.bufferBuilder.flush()};Packer.prototype.pack_bin=function(n){var e=n.length||n.byteLength||n.size;if(e<=15)this.pack_uint8(160+e);else if(e<=65535)this.bufferBuilder.append(218),this.pack_uint16(e);else if(e<=4294967295)this.bufferBuilder.append(219),this.pack_uint32(e);else throw new Error("Invalid length");this.bufferBuilder.append(n)};Packer.prototype.pack_string=function(n){var e=utf8Length(n);if(e<=15)this.pack_uint8(176+e);else if(e<=65535)this.bufferBuilder.append(216),this.pack_uint16(e);else if(e<=4294967295)this.bufferBuilder.append(217),this.pack_uint32(e);else throw new Error("Invalid length");this.bufferBuilder.append(n)};Packer.prototype.pack_array=function(n){var e=n.length;if(e<=15)this.pack_uint8(144+e);else if(e<=65535)this.bufferBuilder.append(220),this.pack_uint16(e);else if(e<=4294967295)this.bufferBuilder.append(221),this.pack_uint32(e);else throw new Error("Invalid length");for(var a=0;a<e;a++)this.pack(n[a])};Packer.prototype.pack_integer=function(n){if(n>=-32&&n<=127)this.bufferBuilder.append(n&255);else if(n>=0&&n<=255)this.bufferBuilder.append(204),this.pack_uint8(n);else if(n>=-128&&n<=127)this.bufferBuilder.append(208),this.pack_int8(n);else if(n>=0&&n<=65535)this.bufferBuilder.append(205),this.pack_uint16(n);else if(n>=-32768&&n<=32767)this.bufferBuilder.append(209),this.pack_int16(n);else if(n>=0&&n<=4294967295)this.bufferBuilder.append(206),this.pack_uint32(n);else if(n>=-2147483648&&n<=2147483647)this.bufferBuilder.append(210),this.pack_int32(n);else if(n>=-9223372036854776e3&&n<=9223372036854776e3)this.bufferBuilder.append(211),this.pack_int64(n);else if(n>=0&&n<=18446744073709552e3)this.bufferBuilder.append(207),this.pack_uint64(n);else throw new Error("Invalid integer")};Packer.prototype.pack_double=function(n){var e=0;n<0&&(e=1,n=-n);var a=Math.floor(Math.log(n)/Math.LN2),t=n/Math.pow(2,a)-1,r=Math.floor(t*Math.pow(2,52)),s=Math.pow(2,32),c=e<<31|a+1023<<20|r/s&1048575,d=r%s;this.bufferBuilder.append(203),this.pack_int32(c),this.pack_int32(d)};Packer.prototype.pack_object=function(n){var e=Object.keys(n),a=e.length;if(a<=15)this.pack_uint8(128+a);else if(a<=65535)this.bufferBuilder.append(222),this.pack_uint16(a);else if(a<=4294967295)this.bufferBuilder.append(223),this.pack_uint32(a);else throw new Error("Invalid length");for(var t in n)n.hasOwnProperty(t)&&(this.pack(t),this.pack(n[t]))};Packer.prototype.pack_uint8=function(n){this.bufferBuilder.append(n)};Packer.prototype.pack_uint16=function(n){this.bufferBuilder.append(n>>8),this.bufferBuilder.append(n&255)};Packer.prototype.pack_uint32=function(n){var e=n&4294967295;this.bufferBuilder.append((e&4278190080)>>>24),this.bufferBuilder.append((e&16711680)>>>16),this.bufferBuilder.append((e&65280)>>>8),this.bufferBuilder.append(e&255)};Packer.prototype.pack_uint64=function(n){var e=n/Math.pow(2,32),a=n%Math.pow(2,32);this.bufferBuilder.append((e&4278190080)>>>24),this.bufferBuilder.append((e&16711680)>>>16),this.bufferBuilder.append((e&65280)>>>8),this.bufferBuilder.append(e&255),this.bufferBuilder.append((a&4278190080)>>>24),this.bufferBuilder.append((a&16711680)>>>16),this.bufferBuilder.append((a&65280)>>>8),this.bufferBuilder.append(a&255)};Packer.prototype.pack_int8=function(n){this.bufferBuilder.append(n&255)};Packer.prototype.pack_int16=function(n){this.bufferBuilder.append((n&65280)>>8),this.bufferBuilder.append(n&255)};Packer.prototype.pack_int32=function(n){this.bufferBuilder.append(n>>>24&255),this.bufferBuilder.append((n&16711680)>>>16),this.bufferBuilder.append((n&65280)>>>8),this.bufferBuilder.append(n&255)};Packer.prototype.pack_int64=function(n){var e=Math.floor(n/Math.pow(2,32)),a=n%Math.pow(2,32);this.bufferBuilder.append((e&4278190080)>>>24),this.bufferBuilder.append((e&16711680)>>>16),this.bufferBuilder.append((e&65280)>>>8),this.bufferBuilder.append(e&255),this.bufferBuilder.append((a&4278190080)>>>24),this.bufferBuilder.append((a&16711680)>>>16),this.bufferBuilder.append((a&65280)>>>8),this.bufferBuilder.append(a&255)};function _utf8Replace(n){var e=n.charCodeAt(0);return e<=2047?"00":e<=65535?"000":e<=2097151?"0000":e<=67108863?"00000":"000000"}function utf8Length(n){return n.length>600?new Blob([n]).size:n.replace(/[^\u0000-\u007F]/g,_utf8Replace).length}let logDisabled_=!0,deprecationWarnings_=!0;function extractVersion(n,e,a){const t=n.match(e);return t&&t.length>=a&&parseInt(t[a],10)}function wrapPeerConnectionEvent(n,e,a){if(!n.RTCPeerConnection)return;const t=n.RTCPeerConnection.prototype,r=t.addEventListener;t.addEventListener=function(c,d){if(c!==e)return r.apply(this,arguments);const u=m=>{const g=a(m);g&&(d.handleEvent?d.handleEvent(g):d(g))};return this._eventMap=this._eventMap||{},this._eventMap[e]||(this._eventMap[e]=new Map),this._eventMap[e].set(d,u),r.apply(this,[c,u])};const s=t.removeEventListener;t.removeEventListener=function(c,d){if(c!==e||!this._eventMap||!this._eventMap[e])return s.apply(this,arguments);if(!this._eventMap[e].has(d))return s.apply(this,arguments);const u=this._eventMap[e].get(d);return this._eventMap[e].delete(d),this._eventMap[e].size===0&&delete this._eventMap[e],Object.keys(this._eventMap).length===0&&delete this._eventMap,s.apply(this,[c,u])},Object.defineProperty(t,"on"+e,{get(){return this["_on"+e]},set(c){this["_on"+e]&&(this.removeEventListener(e,this["_on"+e]),delete this["_on"+e]),c&&this.addEventListener(e,this["_on"+e]=c)},enumerable:!0,configurable:!0})}function disableLog(n){return typeof n!="boolean"?new Error("Argument type: "+typeof n+". Please use a boolean."):(logDisabled_=n,n?"adapter.js logging disabled":"adapter.js logging enabled")}function disableWarnings(n){return typeof n!="boolean"?new Error("Argument type: "+typeof n+". Please use a boolean."):(deprecationWarnings_=!n,"adapter.js deprecation warnings "+(n?"disabled":"enabled"))}function log(){if(typeof window=="object"){if(logDisabled_)return;typeof console<"u"&&typeof console.log=="function"&&console.log.apply(console,arguments)}}function deprecated(n,e){!deprecationWarnings_||console.warn(n+" is deprecated, please use "+e+" instead.")}function detectBrowser(n){const e={browser:null,version:null};if(typeof n>"u"||!n.navigator)return e.browser="Not a browser.",e;const{navigator:a}=n;if(a.mozGetUserMedia)e.browser="firefox",e.version=extractVersion(a.userAgent,/Firefox\/(\d+)\./,1);else if(a.webkitGetUserMedia||n.isSecureContext===!1&&n.webkitRTCPeerConnection&&!n.RTCIceGatherer)e.browser="chrome",e.version=extractVersion(a.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else if(a.mediaDevices&&a.userAgent.match(/Edge\/(\d+).(\d+)$/))e.browser="edge",e.version=extractVersion(a.userAgent,/Edge\/(\d+).(\d+)$/,2);else if(n.RTCPeerConnection&&a.userAgent.match(/AppleWebKit\/(\d+)\./))e.browser="safari",e.version=extractVersion(a.userAgent,/AppleWebKit\/(\d+)\./,1),e.supportsUnifiedPlan=n.RTCRtpTransceiver&&"currentDirection"in n.RTCRtpTransceiver.prototype;else return e.browser="Not a supported browser.",e;return e}function isObject(n){return Object.prototype.toString.call(n)==="[object Object]"}function compactObject(n){return isObject(n)?Object.keys(n).reduce(function(e,a){const t=isObject(n[a]),r=t?compactObject(n[a]):n[a],s=t&&!Object.keys(r).length;return r===void 0||s?e:Object.assign(e,{[a]:r})},{}):n}function walkStats(n,e,a){!e||a.has(e.id)||(a.set(e.id,e),Object.keys(e).forEach(t=>{t.endsWith("Id")?walkStats(n,n.get(e[t]),a):t.endsWith("Ids")&&e[t].forEach(r=>{walkStats(n,n.get(r),a)})}))}function filterStats(n,e,a){const t=a?"outbound-rtp":"inbound-rtp",r=new Map;if(e===null)return r;const s=[];return n.forEach(c=>{c.type==="track"&&c.trackIdentifier===e.id&&s.push(c)}),s.forEach(c=>{n.forEach(d=>{d.type===t&&d.trackId===c.id&&walkStats(n,d,r)})}),r}const logging=log;function shimGetUserMedia$3(n,e){const a=n&&n.navigator;if(!a.mediaDevices)return;const t=function(d){if(typeof d!="object"||d.mandatory||d.optional)return d;const u={};return Object.keys(d).forEach(m=>{if(m==="require"||m==="advanced"||m==="mediaSource")return;const g=typeof d[m]=="object"?d[m]:{ideal:d[m]};g.exact!==void 0&&typeof g.exact=="number"&&(g.min=g.max=g.exact);const _=function(b,S){return b?b+S.charAt(0).toUpperCase()+S.slice(1):S==="deviceId"?"sourceId":S};if(g.ideal!==void 0){u.optional=u.optional||[];let b={};typeof g.ideal=="number"?(b[_("min",m)]=g.ideal,u.optional.push(b),b={},b[_("max",m)]=g.ideal,u.optional.push(b)):(b[_("",m)]=g.ideal,u.optional.push(b))}g.exact!==void 0&&typeof g.exact!="number"?(u.mandatory=u.mandatory||{},u.mandatory[_("",m)]=g.exact):["min","max"].forEach(b=>{g[b]!==void 0&&(u.mandatory=u.mandatory||{},u.mandatory[_(b,m)]=g[b])})}),d.advanced&&(u.optional=(u.optional||[]).concat(d.advanced)),u},r=function(d,u){if(e.version>=61)return u(d);if(d=JSON.parse(JSON.stringify(d)),d&&typeof d.audio=="object"){const m=function(g,_,b){_ in g&&!(b in g)&&(g[b]=g[_],delete g[_])};d=JSON.parse(JSON.stringify(d)),m(d.audio,"autoGainControl","googAutoGainControl"),m(d.audio,"noiseSuppression","googNoiseSuppression"),d.audio=t(d.audio)}if(d&&typeof d.video=="object"){let m=d.video.facingMode;m=m&&(typeof m=="object"?m:{ideal:m});const g=e.version<66;if(m&&(m.exact==="user"||m.exact==="environment"||m.ideal==="user"||m.ideal==="environment")&&!(a.mediaDevices.getSupportedConstraints&&a.mediaDevices.getSupportedConstraints().facingMode&&!g)){delete d.video.facingMode;let _;if(m.exact==="environment"||m.ideal==="environment"?_=["back","rear"]:(m.exact==="user"||m.ideal==="user")&&(_=["front"]),_)return a.mediaDevices.enumerateDevices().then(b=>{b=b.filter(C=>C.kind==="videoinput");let S=b.find(C=>_.some(R=>C.label.toLowerCase().includes(R)));return!S&&b.length&&_.includes("back")&&(S=b[b.length-1]),S&&(d.video.deviceId=m.exact?{exact:S.deviceId}:{ideal:S.deviceId}),d.video=t(d.video),logging("chrome: "+JSON.stringify(d)),u(d)})}d.video=t(d.video)}return logging("chrome: "+JSON.stringify(d)),u(d)},s=function(d){return e.version>=64?d:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[d.name]||d.name,message:d.message,constraint:d.constraint||d.constraintName,toString(){return this.name+(this.message&&": ")+this.message}}},c=function(d,u,m){r(d,g=>{a.webkitGetUserMedia(g,u,_=>{m&&m(s(_))})})};if(a.getUserMedia=c.bind(a),a.mediaDevices.getUserMedia){const d=a.mediaDevices.getUserMedia.bind(a.mediaDevices);a.mediaDevices.getUserMedia=function(u){return r(u,m=>d(m).then(g=>{if(m.audio&&!g.getAudioTracks().length||m.video&&!g.getVideoTracks().length)throw g.getTracks().forEach(_=>{_.stop()}),new DOMException("","NotFoundError");return g},g=>Promise.reject(s(g))))}}}function shimGetDisplayMedia$2(n,e){if(!(n.navigator.mediaDevices&&"getDisplayMedia"in n.navigator.mediaDevices)&&!!n.navigator.mediaDevices){if(typeof e!="function"){console.error("shimGetDisplayMedia: getSourceId argument is not a function");return}n.navigator.mediaDevices.getDisplayMedia=function(t){return e(t).then(r=>{const s=t.video&&t.video.width,c=t.video&&t.video.height,d=t.video&&t.video.frameRate;return t.video={mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:r,maxFrameRate:d||3}},s&&(t.video.mandatory.maxWidth=s),c&&(t.video.mandatory.maxHeight=c),n.navigator.mediaDevices.getUserMedia(t)})}}}function shimMediaStream(n){n.MediaStream=n.MediaStream||n.webkitMediaStream}function shimOnTrack$1(n){if(typeof n=="object"&&n.RTCPeerConnection&&!("ontrack"in n.RTCPeerConnection.prototype)){Object.defineProperty(n.RTCPeerConnection.prototype,"ontrack",{get(){return this._ontrack},set(a){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=a)},enumerable:!0,configurable:!0});const e=n.RTCPeerConnection.prototype.setRemoteDescription;n.RTCPeerConnection.prototype.setRemoteDescription=function(){return this._ontrackpoly||(this._ontrackpoly=t=>{t.stream.addEventListener("addtrack",r=>{let s;n.RTCPeerConnection.prototype.getReceivers?s=this.getReceivers().find(d=>d.track&&d.track.id===r.track.id):s={track:r.track};const c=new Event("track");c.track=r.track,c.receiver=s,c.transceiver={receiver:s},c.streams=[t.stream],this.dispatchEvent(c)}),t.stream.getTracks().forEach(r=>{let s;n.RTCPeerConnection.prototype.getReceivers?s=this.getReceivers().find(d=>d.track&&d.track.id===r.id):s={track:r};const c=new Event("track");c.track=r,c.receiver=s,c.transceiver={receiver:s},c.streams=[t.stream],this.dispatchEvent(c)})},this.addEventListener("addstream",this._ontrackpoly)),e.apply(this,arguments)}}else wrapPeerConnectionEvent(n,"track",e=>(e.transceiver||Object.defineProperty(e,"transceiver",{value:{receiver:e.receiver}}),e))}function shimGetSendersWithDtmf(n){if(typeof n=="object"&&n.RTCPeerConnection&&!("getSenders"in n.RTCPeerConnection.prototype)&&"createDTMFSender"in n.RTCPeerConnection.prototype){const e=function(r,s){return{track:s,get dtmf(){return this._dtmf===void 0&&(s.kind==="audio"?this._dtmf=r.createDTMFSender(s):this._dtmf=null),this._dtmf},_pc:r}};if(!n.RTCPeerConnection.prototype.getSenders){n.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};const r=n.RTCPeerConnection.prototype.addTrack;n.RTCPeerConnection.prototype.addTrack=function(d,u){let m=r.apply(this,arguments);return m||(m=e(this,d),this._senders.push(m)),m};const s=n.RTCPeerConnection.prototype.removeTrack;n.RTCPeerConnection.prototype.removeTrack=function(d){s.apply(this,arguments);const u=this._senders.indexOf(d);u!==-1&&this._senders.splice(u,1)}}const a=n.RTCPeerConnection.prototype.addStream;n.RTCPeerConnection.prototype.addStream=function(s){this._senders=this._senders||[],a.apply(this,[s]),s.getTracks().forEach(c=>{this._senders.push(e(this,c))})};const t=n.RTCPeerConnection.prototype.removeStream;n.RTCPeerConnection.prototype.removeStream=function(s){this._senders=this._senders||[],t.apply(this,[s]),s.getTracks().forEach(c=>{const d=this._senders.find(u=>u.track===c);d&&this._senders.splice(this._senders.indexOf(d),1)})}}else if(typeof n=="object"&&n.RTCPeerConnection&&"getSenders"in n.RTCPeerConnection.prototype&&"createDTMFSender"in n.RTCPeerConnection.prototype&&n.RTCRtpSender&&!("dtmf"in n.RTCRtpSender.prototype)){const e=n.RTCPeerConnection.prototype.getSenders;n.RTCPeerConnection.prototype.getSenders=function(){const t=e.apply(this,[]);return t.forEach(r=>r._pc=this),t},Object.defineProperty(n.RTCRtpSender.prototype,"dtmf",{get(){return this._dtmf===void 0&&(this.track.kind==="audio"?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}}function shimGetStats(n){if(!n.RTCPeerConnection)return;const e=n.RTCPeerConnection.prototype.getStats;n.RTCPeerConnection.prototype.getStats=function(){const[t,r,s]=arguments;if(arguments.length>0&&typeof t=="function")return e.apply(this,arguments);if(e.length===0&&(arguments.length===0||typeof t!="function"))return e.apply(this,[]);const c=function(u){const m={};return u.result().forEach(_=>{const b={id:_.id,timestamp:_.timestamp,type:{localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[_.type]||_.type};_.names().forEach(S=>{b[S]=_.stat(S)}),m[b.id]=b}),m},d=function(u){return new Map(Object.keys(u).map(m=>[m,u[m]]))};if(arguments.length>=2){const u=function(m){r(d(c(m)))};return e.apply(this,[u,t])}return new Promise((u,m)=>{e.apply(this,[function(g){u(d(c(g)))},m])}).then(r,s)}}function shimSenderReceiverGetStats(n){if(!(typeof n=="object"&&n.RTCPeerConnection&&n.RTCRtpSender&&n.RTCRtpReceiver))return;if(!("getStats"in n.RTCRtpSender.prototype)){const a=n.RTCPeerConnection.prototype.getSenders;a&&(n.RTCPeerConnection.prototype.getSenders=function(){const s=a.apply(this,[]);return s.forEach(c=>c._pc=this),s});const t=n.RTCPeerConnection.prototype.addTrack;t&&(n.RTCPeerConnection.prototype.addTrack=function(){const s=t.apply(this,arguments);return s._pc=this,s}),n.RTCRtpSender.prototype.getStats=function(){const s=this;return this._pc.getStats().then(c=>filterStats(c,s.track,!0))}}if(!("getStats"in n.RTCRtpReceiver.prototype)){const a=n.RTCPeerConnection.prototype.getReceivers;a&&(n.RTCPeerConnection.prototype.getReceivers=function(){const r=a.apply(this,[]);return r.forEach(s=>s._pc=this),r}),wrapPeerConnectionEvent(n,"track",t=>(t.receiver._pc=t.srcElement,t)),n.RTCRtpReceiver.prototype.getStats=function(){const r=this;return this._pc.getStats().then(s=>filterStats(s,r.track,!1))}}if(!("getStats"in n.RTCRtpSender.prototype&&"getStats"in n.RTCRtpReceiver.prototype))return;const e=n.RTCPeerConnection.prototype.getStats;n.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof n.MediaStreamTrack){const t=arguments[0];let r,s,c;return this.getSenders().forEach(d=>{d.track===t&&(r?c=!0:r=d)}),this.getReceivers().forEach(d=>(d.track===t&&(s?c=!0:s=d),d.track===t)),c||r&&s?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):r?r.getStats():s?s.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return e.apply(this,arguments)}}function shimAddTrackRemoveTrackWithNative(n){n.RTCPeerConnection.prototype.getLocalStreams=function(){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map(c=>this._shimmedLocalStreams[c][0])};const e=n.RTCPeerConnection.prototype.addTrack;n.RTCPeerConnection.prototype.addTrack=function(c,d){if(!d)return e.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};const u=e.apply(this,arguments);return this._shimmedLocalStreams[d.id]?this._shimmedLocalStreams[d.id].indexOf(u)===-1&&this._shimmedLocalStreams[d.id].push(u):this._shimmedLocalStreams[d.id]=[d,u],u};const a=n.RTCPeerConnection.prototype.addStream;n.RTCPeerConnection.prototype.addStream=function(c){this._shimmedLocalStreams=this._shimmedLocalStreams||{},c.getTracks().forEach(m=>{if(this.getSenders().find(_=>_.track===m))throw new DOMException("Track already exists.","InvalidAccessError")});const d=this.getSenders();a.apply(this,arguments);const u=this.getSenders().filter(m=>d.indexOf(m)===-1);this._shimmedLocalStreams[c.id]=[c].concat(u)};const t=n.RTCPeerConnection.prototype.removeStream;n.RTCPeerConnection.prototype.removeStream=function(c){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[c.id],t.apply(this,arguments)};const r=n.RTCPeerConnection.prototype.removeTrack;n.RTCPeerConnection.prototype.removeTrack=function(c){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},c&&Object.keys(this._shimmedLocalStreams).forEach(d=>{const u=this._shimmedLocalStreams[d].indexOf(c);u!==-1&&this._shimmedLocalStreams[d].splice(u,1),this._shimmedLocalStreams[d].length===1&&delete this._shimmedLocalStreams[d]}),r.apply(this,arguments)}}function shimAddTrackRemoveTrack(n,e){if(!n.RTCPeerConnection)return;if(n.RTCPeerConnection.prototype.addTrack&&e.version>=65)return shimAddTrackRemoveTrackWithNative(n);const a=n.RTCPeerConnection.prototype.getLocalStreams;n.RTCPeerConnection.prototype.getLocalStreams=function(){const g=a.apply(this);return this._reverseStreams=this._reverseStreams||{},g.map(_=>this._reverseStreams[_.id])};const t=n.RTCPeerConnection.prototype.addStream;n.RTCPeerConnection.prototype.addStream=function(g){if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},g.getTracks().forEach(_=>{if(this.getSenders().find(S=>S.track===_))throw new DOMException("Track already exists.","InvalidAccessError")}),!this._reverseStreams[g.id]){const _=new n.MediaStream(g.getTracks());this._streams[g.id]=_,this._reverseStreams[_.id]=g,g=_}t.apply(this,[g])};const r=n.RTCPeerConnection.prototype.removeStream;n.RTCPeerConnection.prototype.removeStream=function(g){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},r.apply(this,[this._streams[g.id]||g]),delete this._reverseStreams[this._streams[g.id]?this._streams[g.id].id:g.id],delete this._streams[g.id]},n.RTCPeerConnection.prototype.addTrack=function(g,_){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");const b=[].slice.call(arguments,1);if(b.length!==1||!b[0].getTracks().find(R=>R===g))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");if(this.getSenders().find(R=>R.track===g))throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};const C=this._streams[_.id];if(C)C.addTrack(g),Promise.resolve().then(()=>{this.dispatchEvent(new Event("negotiationneeded"))});else{const R=new n.MediaStream([g]);this._streams[_.id]=R,this._reverseStreams[R.id]=_,this.addStream(R)}return this.getSenders().find(R=>R.track===g)};function s(m,g){let _=g.sdp;return Object.keys(m._reverseStreams||[]).forEach(b=>{const S=m._reverseStreams[b],C=m._streams[S.id];_=_.replace(new RegExp(C.id,"g"),S.id)}),new RTCSessionDescription({type:g.type,sdp:_})}function c(m,g){let _=g.sdp;return Object.keys(m._reverseStreams||[]).forEach(b=>{const S=m._reverseStreams[b],C=m._streams[S.id];_=_.replace(new RegExp(S.id,"g"),C.id)}),new RTCSessionDescription({type:g.type,sdp:_})}["createOffer","createAnswer"].forEach(function(m){const g=n.RTCPeerConnection.prototype[m],_={[m](){const b=arguments;return arguments.length&&typeof arguments[0]=="function"?g.apply(this,[C=>{const R=s(this,C);b[0].apply(null,[R])},C=>{b[1]&&b[1].apply(null,C)},arguments[2]]):g.apply(this,arguments).then(C=>s(this,C))}};n.RTCPeerConnection.prototype[m]=_[m]});const d=n.RTCPeerConnection.prototype.setLocalDescription;n.RTCPeerConnection.prototype.setLocalDescription=function(){return!arguments.length||!arguments[0].type?d.apply(this,arguments):(arguments[0]=c(this,arguments[0]),d.apply(this,arguments))};const u=Object.getOwnPropertyDescriptor(n.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(n.RTCPeerConnection.prototype,"localDescription",{get(){const m=u.get.apply(this);return m.type===""?m:s(this,m)}}),n.RTCPeerConnection.prototype.removeTrack=function(g){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!g._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(!(g._pc===this))throw new DOMException("Sender was not created by this connection.","InvalidAccessError");this._streams=this._streams||{};let b;Object.keys(this._streams).forEach(S=>{this._streams[S].getTracks().find(R=>g.track===R)&&(b=this._streams[S])}),b&&(b.getTracks().length===1?this.removeStream(this._reverseStreams[b.id]):b.removeTrack(g.track),this.dispatchEvent(new Event("negotiationneeded")))}}function shimPeerConnection$2(n,e){!n.RTCPeerConnection&&n.webkitRTCPeerConnection&&(n.RTCPeerConnection=n.webkitRTCPeerConnection),!!n.RTCPeerConnection&&e.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(a){const t=n.RTCPeerConnection.prototype[a],r={[a](){return arguments[0]=new(a==="addIceCandidate"?n.RTCIceCandidate:n.RTCSessionDescription)(arguments[0]),t.apply(this,arguments)}};n.RTCPeerConnection.prototype[a]=r[a]})}function fixNegotiationNeeded(n,e){wrapPeerConnectionEvent(n,"negotiationneeded",a=>{const t=a.target;if(!((e.version<72||t.getConfiguration&&t.getConfiguration().sdpSemantics==="plan-b")&&t.signalingState!=="stable"))return a})}const chromeShim=Object.freeze(Object.defineProperty({__proto__:null,shimMediaStream,shimOnTrack:shimOnTrack$1,shimGetSendersWithDtmf,shimGetStats,shimSenderReceiverGetStats,shimAddTrackRemoveTrackWithNative,shimAddTrackRemoveTrack,shimPeerConnection:shimPeerConnection$2,fixNegotiationNeeded,shimGetUserMedia:shimGetUserMedia$3,shimGetDisplayMedia:shimGetDisplayMedia$2},Symbol.toStringTag,{value:"Module"}));function filterIceServers$1(n,e){let a=!1;return n=JSON.parse(JSON.stringify(n)),n.filter(t=>{if(t&&(t.urls||t.url)){let r=t.urls||t.url;t.url&&!t.urls&&deprecated("RTCIceServer.url","RTCIceServer.urls");const s=typeof r=="string";return s&&(r=[r]),r=r.filter(c=>{if(c.indexOf("stun:")===0)return!1;const d=c.startsWith("turn")&&!c.startsWith("turn:[")&&c.includes("transport=udp");return d&&!a?(a=!0,!0):d&&!a}),delete t.url,t.urls=s?r[0]:r,!!r.length}})}var sdp={exports:{}};(function(n){var e={};e.generateIdentifier=function(){return Math.random().toString(36).substr(2,10)},e.localCName=e.generateIdentifier(),e.splitLines=function(a){return a.trim().split(`
`).map(function(t){return t.trim()})},e.splitSections=function(a){var t=a.split(`
m=`);return t.map(function(r,s){return(s>0?"m="+r:r).trim()+`\r
`})},e.getDescription=function(a){var t=e.splitSections(a);return t&&t[0]},e.getMediaSections=function(a){var t=e.splitSections(a);return t.shift(),t},e.matchPrefix=function(a,t){return e.splitLines(a).filter(function(r){return r.indexOf(t)===0})},e.parseCandidate=function(a){var t;a.indexOf("a=candidate:")===0?t=a.substring(12).split(" "):t=a.substring(10).split(" ");for(var r={foundation:t[0],component:parseInt(t[1],10),protocol:t[2].toLowerCase(),priority:parseInt(t[3],10),ip:t[4],address:t[4],port:parseInt(t[5],10),type:t[7]},s=8;s<t.length;s+=2)switch(t[s]){case"raddr":r.relatedAddress=t[s+1];break;case"rport":r.relatedPort=parseInt(t[s+1],10);break;case"tcptype":r.tcpType=t[s+1];break;case"ufrag":r.ufrag=t[s+1],r.usernameFragment=t[s+1];break;default:r[t[s]]=t[s+1];break}return r},e.writeCandidate=function(a){var t=[];t.push(a.foundation),t.push(a.component),t.push(a.protocol.toUpperCase()),t.push(a.priority),t.push(a.address||a.ip),t.push(a.port);var r=a.type;return t.push("typ"),t.push(r),r!=="host"&&a.relatedAddress&&a.relatedPort&&(t.push("raddr"),t.push(a.relatedAddress),t.push("rport"),t.push(a.relatedPort)),a.tcpType&&a.protocol.toLowerCase()==="tcp"&&(t.push("tcptype"),t.push(a.tcpType)),(a.usernameFragment||a.ufrag)&&(t.push("ufrag"),t.push(a.usernameFragment||a.ufrag)),"candidate:"+t.join(" ")},e.parseIceOptions=function(a){return a.substr(14).split(" ")},e.parseRtpMap=function(a){var t=a.substr(9).split(" "),r={payloadType:parseInt(t.shift(),10)};return t=t[0].split("/"),r.name=t[0],r.clockRate=parseInt(t[1],10),r.channels=t.length===3?parseInt(t[2],10):1,r.numChannels=r.channels,r},e.writeRtpMap=function(a){var t=a.payloadType;a.preferredPayloadType!==void 0&&(t=a.preferredPayloadType);var r=a.channels||a.numChannels||1;return"a=rtpmap:"+t+" "+a.name+"/"+a.clockRate+(r!==1?"/"+r:"")+`\r
`},e.parseExtmap=function(a){var t=a.substr(9).split(" ");return{id:parseInt(t[0],10),direction:t[0].indexOf("/")>0?t[0].split("/")[1]:"sendrecv",uri:t[1]}},e.writeExtmap=function(a){return"a=extmap:"+(a.id||a.preferredId)+(a.direction&&a.direction!=="sendrecv"?"/"+a.direction:"")+" "+a.uri+`\r
`},e.parseFmtp=function(a){for(var t={},r,s=a.substr(a.indexOf(" ")+1).split(";"),c=0;c<s.length;c++)r=s[c].trim().split("="),t[r[0].trim()]=r[1];return t},e.writeFmtp=function(a){var t="",r=a.payloadType;if(a.preferredPayloadType!==void 0&&(r=a.preferredPayloadType),a.parameters&&Object.keys(a.parameters).length){var s=[];Object.keys(a.parameters).forEach(function(c){a.parameters[c]?s.push(c+"="+a.parameters[c]):s.push(c)}),t+="a=fmtp:"+r+" "+s.join(";")+`\r
`}return t},e.parseRtcpFb=function(a){var t=a.substr(a.indexOf(" ")+1).split(" ");return{type:t.shift(),parameter:t.join(" ")}},e.writeRtcpFb=function(a){var t="",r=a.payloadType;return a.preferredPayloadType!==void 0&&(r=a.preferredPayloadType),a.rtcpFeedback&&a.rtcpFeedback.length&&a.rtcpFeedback.forEach(function(s){t+="a=rtcp-fb:"+r+" "+s.type+(s.parameter&&s.parameter.length?" "+s.parameter:"")+`\r
`}),t},e.parseSsrcMedia=function(a){var t=a.indexOf(" "),r={ssrc:parseInt(a.substr(7,t-7),10)},s=a.indexOf(":",t);return s>-1?(r.attribute=a.substr(t+1,s-t-1),r.value=a.substr(s+1)):r.attribute=a.substr(t+1),r},e.parseSsrcGroup=function(a){var t=a.substr(13).split(" ");return{semantics:t.shift(),ssrcs:t.map(function(r){return parseInt(r,10)})}},e.getMid=function(a){var t=e.matchPrefix(a,"a=mid:")[0];if(t)return t.substr(6)},e.parseFingerprint=function(a){var t=a.substr(14).split(" ");return{algorithm:t[0].toLowerCase(),value:t[1]}},e.getDtlsParameters=function(a,t){var r=e.matchPrefix(a+t,"a=fingerprint:");return{role:"auto",fingerprints:r.map(e.parseFingerprint)}},e.writeDtlsParameters=function(a,t){var r="a=setup:"+t+`\r
`;return a.fingerprints.forEach(function(s){r+="a=fingerprint:"+s.algorithm+" "+s.value+`\r
`}),r},e.parseCryptoLine=function(a){var t=a.substr(9).split(" ");return{tag:parseInt(t[0],10),cryptoSuite:t[1],keyParams:t[2],sessionParams:t.slice(3)}},e.writeCryptoLine=function(a){return"a=crypto:"+a.tag+" "+a.cryptoSuite+" "+(typeof a.keyParams=="object"?e.writeCryptoKeyParams(a.keyParams):a.keyParams)+(a.sessionParams?" "+a.sessionParams.join(" "):"")+`\r
`},e.parseCryptoKeyParams=function(a){if(a.indexOf("inline:")!==0)return null;var t=a.substr(7).split("|");return{keyMethod:"inline",keySalt:t[0],lifeTime:t[1],mkiValue:t[2]?t[2].split(":")[0]:void 0,mkiLength:t[2]?t[2].split(":")[1]:void 0}},e.writeCryptoKeyParams=function(a){return a.keyMethod+":"+a.keySalt+(a.lifeTime?"|"+a.lifeTime:"")+(a.mkiValue&&a.mkiLength?"|"+a.mkiValue+":"+a.mkiLength:"")},e.getCryptoParameters=function(a,t){var r=e.matchPrefix(a+t,"a=crypto:");return r.map(e.parseCryptoLine)},e.getIceParameters=function(a,t){var r=e.matchPrefix(a+t,"a=ice-ufrag:")[0],s=e.matchPrefix(a+t,"a=ice-pwd:")[0];return r&&s?{usernameFragment:r.substr(12),password:s.substr(10)}:null},e.writeIceParameters=function(a){return"a=ice-ufrag:"+a.usernameFragment+`\r
a=ice-pwd:`+a.password+`\r
`},e.parseRtpParameters=function(a){for(var t={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},r=e.splitLines(a),s=r[0].split(" "),c=3;c<s.length;c++){var d=s[c],u=e.matchPrefix(a,"a=rtpmap:"+d+" ")[0];if(u){var m=e.parseRtpMap(u),g=e.matchPrefix(a,"a=fmtp:"+d+" ");switch(m.parameters=g.length?e.parseFmtp(g[0]):{},m.rtcpFeedback=e.matchPrefix(a,"a=rtcp-fb:"+d+" ").map(e.parseRtcpFb),t.codecs.push(m),m.name.toUpperCase()){case"RED":case"ULPFEC":t.fecMechanisms.push(m.name.toUpperCase());break}}}return e.matchPrefix(a,"a=extmap:").forEach(function(_){t.headerExtensions.push(e.parseExtmap(_))}),t},e.writeRtpDescription=function(a,t){var r="";r+="m="+a+" ",r+=t.codecs.length>0?"9":"0",r+=" UDP/TLS/RTP/SAVPF ",r+=t.codecs.map(function(c){return c.preferredPayloadType!==void 0?c.preferredPayloadType:c.payloadType}).join(" ")+`\r
`,r+=`c=IN IP4 0.0.0.0\r
`,r+=`a=rtcp:9 IN IP4 0.0.0.0\r
`,t.codecs.forEach(function(c){r+=e.writeRtpMap(c),r+=e.writeFmtp(c),r+=e.writeRtcpFb(c)});var s=0;return t.codecs.forEach(function(c){c.maxptime>s&&(s=c.maxptime)}),s>0&&(r+="a=maxptime:"+s+`\r
`),r+=`a=rtcp-mux\r
`,t.headerExtensions&&t.headerExtensions.forEach(function(c){r+=e.writeExtmap(c)}),r},e.parseRtpEncodingParameters=function(a){var t=[],r=e.parseRtpParameters(a),s=r.fecMechanisms.indexOf("RED")!==-1,c=r.fecMechanisms.indexOf("ULPFEC")!==-1,d=e.matchPrefix(a,"a=ssrc:").map(function(b){return e.parseSsrcMedia(b)}).filter(function(b){return b.attribute==="cname"}),u=d.length>0&&d[0].ssrc,m,g=e.matchPrefix(a,"a=ssrc-group:FID").map(function(b){var S=b.substr(17).split(" ");return S.map(function(C){return parseInt(C,10)})});g.length>0&&g[0].length>1&&g[0][0]===u&&(m=g[0][1]),r.codecs.forEach(function(b){if(b.name.toUpperCase()==="RTX"&&b.parameters.apt){var S={ssrc:u,codecPayloadType:parseInt(b.parameters.apt,10)};u&&m&&(S.rtx={ssrc:m}),t.push(S),s&&(S=JSON.parse(JSON.stringify(S)),S.fec={ssrc:u,mechanism:c?"red+ulpfec":"red"},t.push(S))}}),t.length===0&&u&&t.push({ssrc:u});var _=e.matchPrefix(a,"b=");return _.length&&(_[0].indexOf("b=TIAS:")===0?_=parseInt(_[0].substr(7),10):_[0].indexOf("b=AS:")===0?_=parseInt(_[0].substr(5),10)*1e3*.95-50*40*8:_=void 0,t.forEach(function(b){b.maxBitrate=_})),t},e.parseRtcpParameters=function(a){var t={},r=e.matchPrefix(a,"a=ssrc:").map(function(d){return e.parseSsrcMedia(d)}).filter(function(d){return d.attribute==="cname"})[0];r&&(t.cname=r.value,t.ssrc=r.ssrc);var s=e.matchPrefix(a,"a=rtcp-rsize");t.reducedSize=s.length>0,t.compound=s.length===0;var c=e.matchPrefix(a,"a=rtcp-mux");return t.mux=c.length>0,t},e.parseMsid=function(a){var t,r=e.matchPrefix(a,"a=msid:");if(r.length===1)return t=r[0].substr(7).split(" "),{stream:t[0],track:t[1]};var s=e.matchPrefix(a,"a=ssrc:").map(function(c){return e.parseSsrcMedia(c)}).filter(function(c){return c.attribute==="msid"});if(s.length>0)return t=s[0].value.split(" "),{stream:t[0],track:t[1]}},e.parseSctpDescription=function(a){var t=e.parseMLine(a),r=e.matchPrefix(a,"a=max-message-size:"),s;r.length>0&&(s=parseInt(r[0].substr(19),10)),isNaN(s)&&(s=65536);var c=e.matchPrefix(a,"a=sctp-port:");if(c.length>0)return{port:parseInt(c[0].substr(12),10),protocol:t.fmt,maxMessageSize:s};var d=e.matchPrefix(a,"a=sctpmap:");if(d.length>0){var u=e.matchPrefix(a,"a=sctpmap:")[0].substr(10).split(" ");return{port:parseInt(u[0],10),protocol:u[1],maxMessageSize:s}}},e.writeSctpDescription=function(a,t){var r=[];return a.protocol!=="DTLS/SCTP"?r=["m="+a.kind+" 9 "+a.protocol+" "+t.protocol+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctp-port:"+t.port+`\r
`]:r=["m="+a.kind+" 9 "+a.protocol+" "+t.port+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctpmap:"+t.port+" "+t.protocol+` 65535\r
`],t.maxMessageSize!==void 0&&r.push("a=max-message-size:"+t.maxMessageSize+`\r
`),r.join("")},e.generateSessionId=function(){return Math.random().toString().substr(2,21)},e.writeSessionBoilerplate=function(a,t,r){var s,c=t!==void 0?t:2;a?s=a:s=e.generateSessionId();var d=r||"thisisadapterortc";return`v=0\r
o=`+d+" "+s+" "+c+` IN IP4 127.0.0.1\r
s=-\r
t=0 0\r
`},e.writeMediaSection=function(a,t,r,s){var c=e.writeRtpDescription(a.kind,t);if(c+=e.writeIceParameters(a.iceGatherer.getLocalParameters()),c+=e.writeDtlsParameters(a.dtlsTransport.getLocalParameters(),r==="offer"?"actpass":"active"),c+="a=mid:"+a.mid+`\r
`,a.direction?c+="a="+a.direction+`\r
`:a.rtpSender&&a.rtpReceiver?c+=`a=sendrecv\r
`:a.rtpSender?c+=`a=sendonly\r
`:a.rtpReceiver?c+=`a=recvonly\r
`:c+=`a=inactive\r
`,a.rtpSender){var d="msid:"+s.id+" "+a.rtpSender.track.id+`\r
`;c+="a="+d,c+="a=ssrc:"+a.sendEncodingParameters[0].ssrc+" "+d,a.sendEncodingParameters[0].rtx&&(c+="a=ssrc:"+a.sendEncodingParameters[0].rtx.ssrc+" "+d,c+="a=ssrc-group:FID "+a.sendEncodingParameters[0].ssrc+" "+a.sendEncodingParameters[0].rtx.ssrc+`\r
`)}return c+="a=ssrc:"+a.sendEncodingParameters[0].ssrc+" cname:"+e.localCName+`\r
`,a.rtpSender&&a.sendEncodingParameters[0].rtx&&(c+="a=ssrc:"+a.sendEncodingParameters[0].rtx.ssrc+" cname:"+e.localCName+`\r
`),c},e.getDirection=function(a,t){for(var r=e.splitLines(a),s=0;s<r.length;s++)switch(r[s]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return r[s].substr(2)}return t?e.getDirection(t):"sendrecv"},e.getKind=function(a){var t=e.splitLines(a),r=t[0].split(" ");return r[0].substr(2)},e.isRejected=function(a){return a.split(" ",2)[1]==="0"},e.parseMLine=function(a){var t=e.splitLines(a),r=t[0].substr(2).split(" ");return{kind:r[0],port:parseInt(r[1],10),protocol:r[2],fmt:r.slice(3).join(" ")}},e.parseOLine=function(a){var t=e.matchPrefix(a,"o=")[0],r=t.substr(2).split(" ");return{username:r[0],sessionId:r[1],sessionVersion:parseInt(r[2],10),netType:r[3],addressType:r[4],address:r[5]}},e.isValidSDP=function(a){if(typeof a!="string"||a.length===0)return!1;for(var t=e.splitLines(a),r=0;r<t.length;r++)if(t[r].length<2||t[r].charAt(1)!=="=")return!1;return!0},n.exports=e})(sdp);const SDPUtils$1=sdp.exports;var SDPUtils=sdp.exports;function fixStatsType(n){return{inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[n.type]||n.type}function writeMediaSection(n,e,a,t,r){var s=SDPUtils.writeRtpDescription(n.kind,e);if(s+=SDPUtils.writeIceParameters(n.iceGatherer.getLocalParameters()),s+=SDPUtils.writeDtlsParameters(n.dtlsTransport.getLocalParameters(),a==="offer"?"actpass":r||"active"),s+="a=mid:"+n.mid+`\r
`,n.rtpSender&&n.rtpReceiver?s+=`a=sendrecv\r
`:n.rtpSender?s+=`a=sendonly\r
`:n.rtpReceiver?s+=`a=recvonly\r
`:s+=`a=inactive\r
`,n.rtpSender){var c=n.rtpSender._initialTrackId||n.rtpSender.track.id;n.rtpSender._initialTrackId=c;var d="msid:"+(t?t.id:"-")+" "+c+`\r
`;s+="a="+d,s+="a=ssrc:"+n.sendEncodingParameters[0].ssrc+" "+d,n.sendEncodingParameters[0].rtx&&(s+="a=ssrc:"+n.sendEncodingParameters[0].rtx.ssrc+" "+d,s+="a=ssrc-group:FID "+n.sendEncodingParameters[0].ssrc+" "+n.sendEncodingParameters[0].rtx.ssrc+`\r
`)}return s+="a=ssrc:"+n.sendEncodingParameters[0].ssrc+" cname:"+SDPUtils.localCName+`\r
`,n.rtpSender&&n.sendEncodingParameters[0].rtx&&(s+="a=ssrc:"+n.sendEncodingParameters[0].rtx.ssrc+" cname:"+SDPUtils.localCName+`\r
`),s}function filterIceServers(n,e){var a=!1;return n=JSON.parse(JSON.stringify(n)),n.filter(function(t){if(t&&(t.urls||t.url)){var r=t.urls||t.url;t.url&&!t.urls&&console.warn("RTCIceServer.url is deprecated! Use urls instead.");var s=typeof r=="string";return s&&(r=[r]),r=r.filter(function(c){var d=c.indexOf("turn:")===0&&c.indexOf("transport=udp")!==-1&&c.indexOf("turn:[")===-1&&!a;return d?(a=!0,!0):c.indexOf("stun:")===0&&e>=14393&&c.indexOf("?transport=udp")===-1}),delete t.url,t.urls=s?r[0]:r,!!r.length}})}function getCommonCapabilities(n,e){var a={codecs:[],headerExtensions:[],fecMechanisms:[]},t=function(s,c){s=parseInt(s,10);for(var d=0;d<c.length;d++)if(c[d].payloadType===s||c[d].preferredPayloadType===s)return c[d]},r=function(s,c,d,u){var m=t(s.parameters.apt,d),g=t(c.parameters.apt,u);return m&&g&&m.name.toLowerCase()===g.name.toLowerCase()};return n.codecs.forEach(function(s){for(var c=0;c<e.codecs.length;c++){var d=e.codecs[c];if(s.name.toLowerCase()===d.name.toLowerCase()&&s.clockRate===d.clockRate){if(s.name.toLowerCase()==="rtx"&&s.parameters&&d.parameters.apt&&!r(s,d,n.codecs,e.codecs))continue;d=JSON.parse(JSON.stringify(d)),d.numChannels=Math.min(s.numChannels,d.numChannels),a.codecs.push(d),d.rtcpFeedback=d.rtcpFeedback.filter(function(u){for(var m=0;m<s.rtcpFeedback.length;m++)if(s.rtcpFeedback[m].type===u.type&&s.rtcpFeedback[m].parameter===u.parameter)return!0;return!1});break}}}),n.headerExtensions.forEach(function(s){for(var c=0;c<e.headerExtensions.length;c++){var d=e.headerExtensions[c];if(s.uri===d.uri){a.headerExtensions.push(d);break}}}),a}function isActionAllowedInSignalingState(n,e,a){return{offer:{setLocalDescription:["stable","have-local-offer"],setRemoteDescription:["stable","have-remote-offer"]},answer:{setLocalDescription:["have-remote-offer","have-local-pranswer"],setRemoteDescription:["have-local-offer","have-remote-pranswer"]}}[e][n].indexOf(a)!==-1}function maybeAddCandidate(n,e){var a=n.getRemoteCandidates().find(function(t){return e.foundation===t.foundation&&e.ip===t.ip&&e.port===t.port&&e.priority===t.priority&&e.protocol===t.protocol&&e.type===t.type});return a||n.addRemoteCandidate(e),!a}function makeError(n,e){var a=new Error(e);return a.name=n,a.code={NotSupportedError:9,InvalidStateError:11,InvalidAccessError:15,TypeError:void 0,OperationError:void 0}[n],a}var rtcpeerconnection=function(n,e){function a(u,m){m.addTrack(u),m.dispatchEvent(new n.MediaStreamTrackEvent("addtrack",{track:u}))}function t(u,m){m.removeTrack(u),m.dispatchEvent(new n.MediaStreamTrackEvent("removetrack",{track:u}))}function r(u,m,g,_){var b=new Event("track");b.track=m,b.receiver=g,b.transceiver={receiver:g},b.streams=_,n.setTimeout(function(){u._dispatchEvent("track",b)})}var s=function(u){var m=this,g=document.createDocumentFragment();if(["addEventListener","removeEventListener","dispatchEvent"].forEach(function(b){m[b]=g[b].bind(g)}),this.canTrickleIceCandidates=null,this.needNegotiation=!1,this.localStreams=[],this.remoteStreams=[],this._localDescription=null,this._remoteDescription=null,this.signalingState="stable",this.iceConnectionState="new",this.connectionState="new",this.iceGatheringState="new",u=JSON.parse(JSON.stringify(u||{})),this.usingBundle=u.bundlePolicy==="max-bundle",u.rtcpMuxPolicy==="negotiate")throw makeError("NotSupportedError","rtcpMuxPolicy 'negotiate' is not supported");switch(u.rtcpMuxPolicy||(u.rtcpMuxPolicy="require"),u.iceTransportPolicy){case"all":case"relay":break;default:u.iceTransportPolicy="all";break}switch(u.bundlePolicy){case"balanced":case"max-compat":case"max-bundle":break;default:u.bundlePolicy="balanced";break}if(u.iceServers=filterIceServers(u.iceServers||[],e),this._iceGatherers=[],u.iceCandidatePoolSize)for(var _=u.iceCandidatePoolSize;_>0;_--)this._iceGatherers.push(new n.RTCIceGatherer({iceServers:u.iceServers,gatherPolicy:u.iceTransportPolicy}));else u.iceCandidatePoolSize=0;this._config=u,this.transceivers=[],this._sdpSessionId=SDPUtils.generateSessionId(),this._sdpSessionVersion=0,this._dtlsRole=void 0,this._isClosed=!1};Object.defineProperty(s.prototype,"localDescription",{configurable:!0,get:function(){return this._localDescription}}),Object.defineProperty(s.prototype,"remoteDescription",{configurable:!0,get:function(){return this._remoteDescription}}),s.prototype.onicecandidate=null,s.prototype.onaddstream=null,s.prototype.ontrack=null,s.prototype.onremovestream=null,s.prototype.onsignalingstatechange=null,s.prototype.oniceconnectionstatechange=null,s.prototype.onconnectionstatechange=null,s.prototype.onicegatheringstatechange=null,s.prototype.onnegotiationneeded=null,s.prototype.ondatachannel=null,s.prototype._dispatchEvent=function(u,m){this._isClosed||(this.dispatchEvent(m),typeof this["on"+u]=="function"&&this["on"+u](m))},s.prototype._emitGatheringStateChange=function(){var u=new Event("icegatheringstatechange");this._dispatchEvent("icegatheringstatechange",u)},s.prototype.getConfiguration=function(){return this._config},s.prototype.getLocalStreams=function(){return this.localStreams},s.prototype.getRemoteStreams=function(){return this.remoteStreams},s.prototype._createTransceiver=function(u,m){var g=this.transceivers.length>0,_={track:null,iceGatherer:null,iceTransport:null,dtlsTransport:null,localCapabilities:null,remoteCapabilities:null,rtpSender:null,rtpReceiver:null,kind:u,mid:null,sendEncodingParameters:null,recvEncodingParameters:null,stream:null,associatedRemoteMediaStreams:[],wantReceive:!0};if(this.usingBundle&&g)_.iceTransport=this.transceivers[0].iceTransport,_.dtlsTransport=this.transceivers[0].dtlsTransport;else{var b=this._createIceAndDtlsTransports();_.iceTransport=b.iceTransport,_.dtlsTransport=b.dtlsTransport}return m||this.transceivers.push(_),_},s.prototype.addTrack=function(u,m){if(this._isClosed)throw makeError("InvalidStateError","Attempted to call addTrack on a closed peerconnection.");var g=this.transceivers.find(function(S){return S.track===u});if(g)throw makeError("InvalidAccessError","Track already exists.");for(var _,b=0;b<this.transceivers.length;b++)!this.transceivers[b].track&&this.transceivers[b].kind===u.kind&&(_=this.transceivers[b]);return _||(_=this._createTransceiver(u.kind)),this._maybeFireNegotiationNeeded(),this.localStreams.indexOf(m)===-1&&this.localStreams.push(m),_.track=u,_.stream=m,_.rtpSender=new n.RTCRtpSender(u,_.dtlsTransport),_.rtpSender},s.prototype.addStream=function(u){var m=this;if(e>=15025)u.getTracks().forEach(function(_){m.addTrack(_,u)});else{var g=u.clone();u.getTracks().forEach(function(_,b){var S=g.getTracks()[b];_.addEventListener("enabled",function(C){S.enabled=C.enabled})}),g.getTracks().forEach(function(_){m.addTrack(_,g)})}},s.prototype.removeTrack=function(u){if(this._isClosed)throw makeError("InvalidStateError","Attempted to call removeTrack on a closed peerconnection.");if(!(u instanceof n.RTCRtpSender))throw new TypeError("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.");var m=this.transceivers.find(function(b){return b.rtpSender===u});if(!m)throw makeError("InvalidAccessError","Sender was not created by this connection.");var g=m.stream;m.rtpSender.stop(),m.rtpSender=null,m.track=null,m.stream=null;var _=this.transceivers.map(function(b){return b.stream});_.indexOf(g)===-1&&this.localStreams.indexOf(g)>-1&&this.localStreams.splice(this.localStreams.indexOf(g),1),this._maybeFireNegotiationNeeded()},s.prototype.removeStream=function(u){var m=this;u.getTracks().forEach(function(g){var _=m.getSenders().find(function(b){return b.track===g});_&&m.removeTrack(_)})},s.prototype.getSenders=function(){return this.transceivers.filter(function(u){return!!u.rtpSender}).map(function(u){return u.rtpSender})},s.prototype.getReceivers=function(){return this.transceivers.filter(function(u){return!!u.rtpReceiver}).map(function(u){return u.rtpReceiver})},s.prototype._createIceGatherer=function(u,m){var g=this;if(m&&u>0)return this.transceivers[0].iceGatherer;if(this._iceGatherers.length)return this._iceGatherers.shift();var _=new n.RTCIceGatherer({iceServers:this._config.iceServers,gatherPolicy:this._config.iceTransportPolicy});return Object.defineProperty(_,"state",{value:"new",writable:!0}),this.transceivers[u].bufferedCandidateEvents=[],this.transceivers[u].bufferCandidates=function(b){var S=!b.candidate||Object.keys(b.candidate).length===0;_.state=S?"completed":"gathering",g.transceivers[u].bufferedCandidateEvents!==null&&g.transceivers[u].bufferedCandidateEvents.push(b)},_.addEventListener("localcandidate",this.transceivers[u].bufferCandidates),_},s.prototype._gather=function(u,m){var g=this,_=this.transceivers[m].iceGatherer;if(!_.onlocalcandidate){var b=this.transceivers[m].bufferedCandidateEvents;this.transceivers[m].bufferedCandidateEvents=null,_.removeEventListener("localcandidate",this.transceivers[m].bufferCandidates),_.onlocalcandidate=function(S){if(!(g.usingBundle&&m>0)){var C=new Event("icecandidate");C.candidate={sdpMid:u,sdpMLineIndex:m};var R=S.candidate,w=!R||Object.keys(R).length===0;if(w)(_.state==="new"||_.state==="gathering")&&(_.state="completed");else{_.state==="new"&&(_.state="gathering"),R.component=1,R.ufrag=_.getLocalParameters().usernameFragment;var k=SDPUtils.writeCandidate(R);C.candidate=Object.assign(C.candidate,SDPUtils.parseCandidate(k)),C.candidate.candidate=k,C.candidate.toJSON=function(){return{candidate:C.candidate.candidate,sdpMid:C.candidate.sdpMid,sdpMLineIndex:C.candidate.sdpMLineIndex,usernameFragment:C.candidate.usernameFragment}}}var $=SDPUtils.getMediaSections(g._localDescription.sdp);w?$[C.candidate.sdpMLineIndex]+=`a=end-of-candidates\r
`:$[C.candidate.sdpMLineIndex]+="a="+C.candidate.candidate+`\r
`,g._localDescription.sdp=SDPUtils.getDescription(g._localDescription.sdp)+$.join("");var O=g.transceivers.every(function(P){return P.iceGatherer&&P.iceGatherer.state==="completed"});g.iceGatheringState!=="gathering"&&(g.iceGatheringState="gathering",g._emitGatheringStateChange()),w||g._dispatchEvent("icecandidate",C),O&&(g._dispatchEvent("icecandidate",new Event("icecandidate")),g.iceGatheringState="complete",g._emitGatheringStateChange())}},n.setTimeout(function(){b.forEach(function(S){_.onlocalcandidate(S)})},0)}},s.prototype._createIceAndDtlsTransports=function(){var u=this,m=new n.RTCIceTransport(null);m.onicestatechange=function(){u._updateIceConnectionState(),u._updateConnectionState()};var g=new n.RTCDtlsTransport(m);return g.ondtlsstatechange=function(){u._updateConnectionState()},g.onerror=function(){Object.defineProperty(g,"state",{value:"failed",writable:!0}),u._updateConnectionState()},{iceTransport:m,dtlsTransport:g}},s.prototype._disposeIceAndDtlsTransports=function(u){var m=this.transceivers[u].iceGatherer;m&&(delete m.onlocalcandidate,delete this.transceivers[u].iceGatherer);var g=this.transceivers[u].iceTransport;g&&(delete g.onicestatechange,delete this.transceivers[u].iceTransport);var _=this.transceivers[u].dtlsTransport;_&&(delete _.ondtlsstatechange,delete _.onerror,delete this.transceivers[u].dtlsTransport)},s.prototype._transceive=function(u,m,g){var _=getCommonCapabilities(u.localCapabilities,u.remoteCapabilities);m&&u.rtpSender&&(_.encodings=u.sendEncodingParameters,_.rtcp={cname:SDPUtils.localCName,compound:u.rtcpParameters.compound},u.recvEncodingParameters.length&&(_.rtcp.ssrc=u.recvEncodingParameters[0].ssrc),u.rtpSender.send(_)),g&&u.rtpReceiver&&_.codecs.length>0&&(u.kind==="video"&&u.recvEncodingParameters&&e<15019&&u.recvEncodingParameters.forEach(function(b){delete b.rtx}),u.recvEncodingParameters.length?_.encodings=u.recvEncodingParameters:_.encodings=[{}],_.rtcp={compound:u.rtcpParameters.compound},u.rtcpParameters.cname&&(_.rtcp.cname=u.rtcpParameters.cname),u.sendEncodingParameters.length&&(_.rtcp.ssrc=u.sendEncodingParameters[0].ssrc),u.rtpReceiver.receive(_))},s.prototype.setLocalDescription=function(u){var m=this;if(["offer","answer"].indexOf(u.type)===-1)return Promise.reject(makeError("TypeError",'Unsupported type "'+u.type+'"'));if(!isActionAllowedInSignalingState("setLocalDescription",u.type,m.signalingState)||m._isClosed)return Promise.reject(makeError("InvalidStateError","Can not set local "+u.type+" in state "+m.signalingState));var g,_;if(u.type==="offer")g=SDPUtils.splitSections(u.sdp),_=g.shift(),g.forEach(function(S,C){var R=SDPUtils.parseRtpParameters(S);m.transceivers[C].localCapabilities=R}),m.transceivers.forEach(function(S,C){m._gather(S.mid,C)});else if(u.type==="answer"){g=SDPUtils.splitSections(m._remoteDescription.sdp),_=g.shift();var b=SDPUtils.matchPrefix(_,"a=ice-lite").length>0;g.forEach(function(S,C){var R=m.transceivers[C],w=R.iceGatherer,k=R.iceTransport,$=R.dtlsTransport,O=R.localCapabilities,P=R.remoteCapabilities,x=SDPUtils.isRejected(S)&&SDPUtils.matchPrefix(S,"a=bundle-only").length===0;if(!x&&!R.rejected){var I=SDPUtils.getIceParameters(S,_),B=SDPUtils.getDtlsParameters(S,_);b&&(B.role="server"),(!m.usingBundle||C===0)&&(m._gather(R.mid,C),k.state==="new"&&k.start(w,I,b?"controlling":"controlled"),$.state==="new"&&$.start(B));var j=getCommonCapabilities(O,P);m._transceive(R,j.codecs.length>0,!1)}})}return m._localDescription={type:u.type,sdp:u.sdp},u.type==="offer"?m._updateSignalingState("have-local-offer"):m._updateSignalingState("stable"),Promise.resolve()},s.prototype.setRemoteDescription=function(u){var m=this;if(["offer","answer"].indexOf(u.type)===-1)return Promise.reject(makeError("TypeError",'Unsupported type "'+u.type+'"'));if(!isActionAllowedInSignalingState("setRemoteDescription",u.type,m.signalingState)||m._isClosed)return Promise.reject(makeError("InvalidStateError","Can not set remote "+u.type+" in state "+m.signalingState));var g={};m.remoteStreams.forEach(function(k){g[k.id]=k});var _=[],b=SDPUtils.splitSections(u.sdp),S=b.shift(),C=SDPUtils.matchPrefix(S,"a=ice-lite").length>0,R=SDPUtils.matchPrefix(S,"a=group:BUNDLE ").length>0;m.usingBundle=R;var w=SDPUtils.matchPrefix(S,"a=ice-options:")[0];return w?m.canTrickleIceCandidates=w.substr(14).split(" ").indexOf("trickle")>=0:m.canTrickleIceCandidates=!1,b.forEach(function(k,$){var O=SDPUtils.splitLines(k),P=SDPUtils.getKind(k),x=SDPUtils.isRejected(k)&&SDPUtils.matchPrefix(k,"a=bundle-only").length===0,I=O[0].substr(2).split(" ")[2],B=SDPUtils.getDirection(k,S),j=SDPUtils.parseMsid(k),W=SDPUtils.getMid(k)||SDPUtils.generateIdentifier();if(x||P==="application"&&(I==="DTLS/SCTP"||I==="UDP/DTLS/SCTP")){m.transceivers[$]={mid:W,kind:P,protocol:I,rejected:!0};return}!x&&m.transceivers[$]&&m.transceivers[$].rejected&&(m.transceivers[$]=m._createTransceiver(P,!0));var U,z,F,X,q,K,te,Z,H,Q=SDPUtils.parseRtpParameters(k),ne,V;x||(ne=SDPUtils.getIceParameters(k,S),V=SDPUtils.getDtlsParameters(k,S),V.role="client"),te=SDPUtils.parseRtpEncodingParameters(k);var J=SDPUtils.parseRtcpParameters(k),ae=SDPUtils.matchPrefix(k,"a=end-of-candidates",S).length>0,ee=SDPUtils.matchPrefix(k,"a=candidate:").map(function(ie){return SDPUtils.parseCandidate(ie)}).filter(function(ie){return ie.component===1});if((u.type==="offer"||u.type==="answer")&&!x&&R&&$>0&&m.transceivers[$]&&(m._disposeIceAndDtlsTransports($),m.transceivers[$].iceGatherer=m.transceivers[0].iceGatherer,m.transceivers[$].iceTransport=m.transceivers[0].iceTransport,m.transceivers[$].dtlsTransport=m.transceivers[0].dtlsTransport,m.transceivers[$].rtpSender&&m.transceivers[$].rtpSender.setTransport(m.transceivers[0].dtlsTransport),m.transceivers[$].rtpReceiver&&m.transceivers[$].rtpReceiver.setTransport(m.transceivers[0].dtlsTransport)),u.type==="offer"&&!x){U=m.transceivers[$]||m._createTransceiver(P),U.mid=W,U.iceGatherer||(U.iceGatherer=m._createIceGatherer($,R)),ee.length&&U.iceTransport.state==="new"&&(ae&&(!R||$===0)?U.iceTransport.setRemoteCandidates(ee):ee.forEach(function(ie){maybeAddCandidate(U.iceTransport,ie)})),Z=n.RTCRtpReceiver.getCapabilities(P),e<15019&&(Z.codecs=Z.codecs.filter(function(ie){return ie.name!=="rtx"})),K=U.sendEncodingParameters||[{ssrc:(2*$+2)*1001}];var re=!1;if(B==="sendrecv"||B==="sendonly"){if(re=!U.rtpReceiver,q=U.rtpReceiver||new n.RTCRtpReceiver(U.dtlsTransport,P),re){var oe;H=q.track,j&&j.stream==="-"||(j?(g[j.stream]||(g[j.stream]=new n.MediaStream,Object.defineProperty(g[j.stream],"id",{get:function(){return j.stream}})),Object.defineProperty(H,"id",{get:function(){return j.track}}),oe=g[j.stream]):(g.default||(g.default=new n.MediaStream),oe=g.default)),oe&&(a(H,oe),U.associatedRemoteMediaStreams.push(oe)),_.push([H,q,oe])}}else U.rtpReceiver&&U.rtpReceiver.track&&(U.associatedRemoteMediaStreams.forEach(function(ie){var fe=ie.getTracks().find(function(ue){return ue.id===U.rtpReceiver.track.id});fe&&t(fe,ie)}),U.associatedRemoteMediaStreams=[]);U.localCapabilities=Z,U.remoteCapabilities=Q,U.rtpReceiver=q,U.rtcpParameters=J,U.sendEncodingParameters=K,U.recvEncodingParameters=te,m._transceive(m.transceivers[$],!1,re)}else if(u.type==="answer"&&!x){U=m.transceivers[$],z=U.iceGatherer,F=U.iceTransport,X=U.dtlsTransport,q=U.rtpReceiver,K=U.sendEncodingParameters,Z=U.localCapabilities,m.transceivers[$].recvEncodingParameters=te,m.transceivers[$].remoteCapabilities=Q,m.transceivers[$].rtcpParameters=J,ee.length&&F.state==="new"&&((C||ae)&&(!R||$===0)?F.setRemoteCandidates(ee):ee.forEach(function(ie){maybeAddCandidate(U.iceTransport,ie)})),(!R||$===0)&&(F.state==="new"&&F.start(z,ne,"controlling"),X.state==="new"&&X.start(V));var le=getCommonCapabilities(U.localCapabilities,U.remoteCapabilities),se=le.codecs.filter(function(ie){return ie.name.toLowerCase()==="rtx"}).length;!se&&U.sendEncodingParameters[0].rtx&&delete U.sendEncodingParameters[0].rtx,m._transceive(U,B==="sendrecv"||B==="recvonly",B==="sendrecv"||B==="sendonly"),q&&(B==="sendrecv"||B==="sendonly")?(H=q.track,j?(g[j.stream]||(g[j.stream]=new n.MediaStream),a(H,g[j.stream]),_.push([H,q,g[j.stream]])):(g.default||(g.default=new n.MediaStream),a(H,g.default),_.push([H,q,g.default]))):delete U.rtpReceiver}}),m._dtlsRole===void 0&&(m._dtlsRole=u.type==="offer"?"active":"passive"),m._remoteDescription={type:u.type,sdp:u.sdp},u.type==="offer"?m._updateSignalingState("have-remote-offer"):m._updateSignalingState("stable"),Object.keys(g).forEach(function(k){var $=g[k];if($.getTracks().length){if(m.remoteStreams.indexOf($)===-1){m.remoteStreams.push($);var O=new Event("addstream");O.stream=$,n.setTimeout(function(){m._dispatchEvent("addstream",O)})}_.forEach(function(P){var x=P[0],I=P[1];$.id===P[2].id&&r(m,x,I,[$])})}}),_.forEach(function(k){k[2]||r(m,k[0],k[1],[])}),n.setTimeout(function(){!(m&&m.transceivers)||m.transceivers.forEach(function(k){k.iceTransport&&k.iceTransport.state==="new"&&k.iceTransport.getRemoteCandidates().length>0&&(console.warn("Timeout for addRemoteCandidate. Consider sending an end-of-candidates notification"),k.iceTransport.addRemoteCandidate({}))})},4e3),Promise.resolve()},s.prototype.close=function(){this.transceivers.forEach(function(u){u.iceTransport&&u.iceTransport.stop(),u.dtlsTransport&&u.dtlsTransport.stop(),u.rtpSender&&u.rtpSender.stop(),u.rtpReceiver&&u.rtpReceiver.stop()}),this._isClosed=!0,this._updateSignalingState("closed")},s.prototype._updateSignalingState=function(u){this.signalingState=u;var m=new Event("signalingstatechange");this._dispatchEvent("signalingstatechange",m)},s.prototype._maybeFireNegotiationNeeded=function(){var u=this;this.signalingState!=="stable"||this.needNegotiation===!0||(this.needNegotiation=!0,n.setTimeout(function(){if(u.needNegotiation){u.needNegotiation=!1;var m=new Event("negotiationneeded");u._dispatchEvent("negotiationneeded",m)}},0))},s.prototype._updateIceConnectionState=function(){var u,m={new:0,closed:0,checking:0,connected:0,completed:0,disconnected:0,failed:0};if(this.transceivers.forEach(function(_){_.iceTransport&&!_.rejected&&m[_.iceTransport.state]++}),u="new",m.failed>0?u="failed":m.checking>0?u="checking":m.disconnected>0?u="disconnected":m.new>0?u="new":m.connected>0?u="connected":m.completed>0&&(u="completed"),u!==this.iceConnectionState){this.iceConnectionState=u;var g=new Event("iceconnectionstatechange");this._dispatchEvent("iceconnectionstatechange",g)}},s.prototype._updateConnectionState=function(){var u,m={new:0,closed:0,connecting:0,connected:0,completed:0,disconnected:0,failed:0};if(this.transceivers.forEach(function(_){_.iceTransport&&_.dtlsTransport&&!_.rejected&&(m[_.iceTransport.state]++,m[_.dtlsTransport.state]++)}),m.connected+=m.completed,u="new",m.failed>0?u="failed":m.connecting>0?u="connecting":m.disconnected>0?u="disconnected":m.new>0?u="new":m.connected>0&&(u="connected"),u!==this.connectionState){this.connectionState=u;var g=new Event("connectionstatechange");this._dispatchEvent("connectionstatechange",g)}},s.prototype.createOffer=function(){var u=this;if(u._isClosed)return Promise.reject(makeError("InvalidStateError","Can not call createOffer after close"));var m=u.transceivers.filter(function(C){return C.kind==="audio"}).length,g=u.transceivers.filter(function(C){return C.kind==="video"}).length,_=arguments[0];if(_){if(_.mandatory||_.optional)throw new TypeError("Legacy mandatory/optional constraints not supported.");_.offerToReceiveAudio!==void 0&&(_.offerToReceiveAudio===!0?m=1:_.offerToReceiveAudio===!1?m=0:m=_.offerToReceiveAudio),_.offerToReceiveVideo!==void 0&&(_.offerToReceiveVideo===!0?g=1:_.offerToReceiveVideo===!1?g=0:g=_.offerToReceiveVideo)}for(u.transceivers.forEach(function(C){C.kind==="audio"?(m--,m<0&&(C.wantReceive=!1)):C.kind==="video"&&(g--,g<0&&(C.wantReceive=!1))});m>0||g>0;)m>0&&(u._createTransceiver("audio"),m--),g>0&&(u._createTransceiver("video"),g--);var b=SDPUtils.writeSessionBoilerplate(u._sdpSessionId,u._sdpSessionVersion++);u.transceivers.forEach(function(C,R){var w=C.track,k=C.kind,$=C.mid||SDPUtils.generateIdentifier();C.mid=$,C.iceGatherer||(C.iceGatherer=u._createIceGatherer(R,u.usingBundle));var O=n.RTCRtpSender.getCapabilities(k);e<15019&&(O.codecs=O.codecs.filter(function(x){return x.name!=="rtx"})),O.codecs.forEach(function(x){x.name==="H264"&&x.parameters["level-asymmetry-allowed"]===void 0&&(x.parameters["level-asymmetry-allowed"]="1"),C.remoteCapabilities&&C.remoteCapabilities.codecs&&C.remoteCapabilities.codecs.forEach(function(I){x.name.toLowerCase()===I.name.toLowerCase()&&x.clockRate===I.clockRate&&(x.preferredPayloadType=I.payloadType)})}),O.headerExtensions.forEach(function(x){var I=C.remoteCapabilities&&C.remoteCapabilities.headerExtensions||[];I.forEach(function(B){x.uri===B.uri&&(x.id=B.id)})});var P=C.sendEncodingParameters||[{ssrc:(2*R+1)*1001}];w&&e>=15019&&k==="video"&&!P[0].rtx&&(P[0].rtx={ssrc:P[0].ssrc+1}),C.wantReceive&&(C.rtpReceiver=new n.RTCRtpReceiver(C.dtlsTransport,k)),C.localCapabilities=O,C.sendEncodingParameters=P}),u._config.bundlePolicy!=="max-compat"&&(b+="a=group:BUNDLE "+u.transceivers.map(function(C){return C.mid}).join(" ")+`\r
`),b+=`a=ice-options:trickle\r
`,u.transceivers.forEach(function(C,R){b+=writeMediaSection(C,C.localCapabilities,"offer",C.stream,u._dtlsRole),b+=`a=rtcp-rsize\r
`,C.iceGatherer&&u.iceGatheringState!=="new"&&(R===0||!u.usingBundle)&&(C.iceGatherer.getLocalCandidates().forEach(function(w){w.component=1,b+="a="+SDPUtils.writeCandidate(w)+`\r
`}),C.iceGatherer.state==="completed"&&(b+=`a=end-of-candidates\r
`))});var S=new n.RTCSessionDescription({type:"offer",sdp:b});return Promise.resolve(S)},s.prototype.createAnswer=function(){var u=this;if(u._isClosed)return Promise.reject(makeError("InvalidStateError","Can not call createAnswer after close"));if(!(u.signalingState==="have-remote-offer"||u.signalingState==="have-local-pranswer"))return Promise.reject(makeError("InvalidStateError","Can not call createAnswer in signalingState "+u.signalingState));var m=SDPUtils.writeSessionBoilerplate(u._sdpSessionId,u._sdpSessionVersion++);u.usingBundle&&(m+="a=group:BUNDLE "+u.transceivers.map(function(b){return b.mid}).join(" ")+`\r
`),m+=`a=ice-options:trickle\r
`;var g=SDPUtils.getMediaSections(u._remoteDescription.sdp).length;u.transceivers.forEach(function(b,S){if(!(S+1>g)){if(b.rejected){b.kind==="application"?b.protocol==="DTLS/SCTP"?m+=`m=application 0 DTLS/SCTP 5000\r
`:m+="m=application 0 "+b.protocol+` webrtc-datachannel\r
`:b.kind==="audio"?m+=`m=audio 0 UDP/TLS/RTP/SAVPF 0\r
a=rtpmap:0 PCMU/8000\r
`:b.kind==="video"&&(m+=`m=video 0 UDP/TLS/RTP/SAVPF 120\r
a=rtpmap:120 VP8/90000\r
`),m+=`c=IN IP4 0.0.0.0\r
a=inactive\r
a=mid:`+b.mid+`\r
`;return}if(b.stream){var C;b.kind==="audio"?C=b.stream.getAudioTracks()[0]:b.kind==="video"&&(C=b.stream.getVideoTracks()[0]),C&&e>=15019&&b.kind==="video"&&!b.sendEncodingParameters[0].rtx&&(b.sendEncodingParameters[0].rtx={ssrc:b.sendEncodingParameters[0].ssrc+1})}var R=getCommonCapabilities(b.localCapabilities,b.remoteCapabilities),w=R.codecs.filter(function(k){return k.name.toLowerCase()==="rtx"}).length;!w&&b.sendEncodingParameters[0].rtx&&delete b.sendEncodingParameters[0].rtx,m+=writeMediaSection(b,R,"answer",b.stream,u._dtlsRole),b.rtcpParameters&&b.rtcpParameters.reducedSize&&(m+=`a=rtcp-rsize\r
`)}});var _=new n.RTCSessionDescription({type:"answer",sdp:m});return Promise.resolve(_)},s.prototype.addIceCandidate=function(u){var m=this,g;return u&&!(u.sdpMLineIndex!==void 0||u.sdpMid)?Promise.reject(new TypeError("sdpMLineIndex or sdpMid required")):new Promise(function(_,b){if(m._remoteDescription)if(!u||u.candidate==="")for(var S=0;S<m.transceivers.length&&!(!m.transceivers[S].rejected&&(m.transceivers[S].iceTransport.addRemoteCandidate({}),g=SDPUtils.getMediaSections(m._remoteDescription.sdp),g[S]+=`a=end-of-candidates\r
`,m._remoteDescription.sdp=SDPUtils.getDescription(m._remoteDescription.sdp)+g.join(""),m.usingBundle));S++);else{var C=u.sdpMLineIndex;if(u.sdpMid){for(var R=0;R<m.transceivers.length;R++)if(m.transceivers[R].mid===u.sdpMid){C=R;break}}var w=m.transceivers[C];if(w){if(w.rejected)return _();var k=Object.keys(u.candidate).length>0?SDPUtils.parseCandidate(u.candidate):{};if(k.protocol==="tcp"&&(k.port===0||k.port===9)||k.component&&k.component!==1)return _();if((C===0||C>0&&w.iceTransport!==m.transceivers[0].iceTransport)&&!maybeAddCandidate(w.iceTransport,k))return b(makeError("OperationError","Can not add ICE candidate"));var $=u.candidate.trim();$.indexOf("a=")===0&&($=$.substr(2)),g=SDPUtils.getMediaSections(m._remoteDescription.sdp),g[C]+="a="+(k.type?$:"end-of-candidates")+`\r
`,m._remoteDescription.sdp=SDPUtils.getDescription(m._remoteDescription.sdp)+g.join("")}else return b(makeError("OperationError","Can not add ICE candidate"))}else return b(makeError("InvalidStateError","Can not add ICE candidate without a remote description"));_()})},s.prototype.getStats=function(u){if(u&&u instanceof n.MediaStreamTrack){var m=null;if(this.transceivers.forEach(function(_){_.rtpSender&&_.rtpSender.track===u?m=_.rtpSender:_.rtpReceiver&&_.rtpReceiver.track===u&&(m=_.rtpReceiver)}),!m)throw makeError("InvalidAccessError","Invalid selector.");return m.getStats()}var g=[];return this.transceivers.forEach(function(_){["rtpSender","rtpReceiver","iceGatherer","iceTransport","dtlsTransport"].forEach(function(b){_[b]&&g.push(_[b].getStats())})}),Promise.all(g).then(function(_){var b=new Map;return _.forEach(function(S){S.forEach(function(C){b.set(C.id,C)})}),b})};var c=["RTCRtpSender","RTCRtpReceiver","RTCIceGatherer","RTCIceTransport","RTCDtlsTransport"];c.forEach(function(u){var m=n[u];if(m&&m.prototype&&m.prototype.getStats){var g=m.prototype.getStats;m.prototype.getStats=function(){return g.apply(this).then(function(_){var b=new Map;return Object.keys(_).forEach(function(S){_[S].type=fixStatsType(_[S]),b.set(S,_[S])}),b})}}});var d=["createOffer","createAnswer"];return d.forEach(function(u){var m=s.prototype[u];s.prototype[u]=function(){var g=arguments;return typeof g[0]=="function"||typeof g[1]=="function"?m.apply(this,[arguments[2]]).then(function(_){typeof g[0]=="function"&&g[0].apply(null,[_])},function(_){typeof g[1]=="function"&&g[1].apply(null,[_])}):m.apply(this,arguments)}}),d=["setLocalDescription","setRemoteDescription","addIceCandidate"],d.forEach(function(u){var m=s.prototype[u];s.prototype[u]=function(){var g=arguments;return typeof g[1]=="function"||typeof g[2]=="function"?m.apply(this,arguments).then(function(){typeof g[1]=="function"&&g[1].apply(null)},function(_){typeof g[2]=="function"&&g[2].apply(null,[_])}):m.apply(this,arguments)}}),["getStats"].forEach(function(u){var m=s.prototype[u];s.prototype[u]=function(){var g=arguments;return typeof g[1]=="function"?m.apply(this,arguments).then(function(){typeof g[1]=="function"&&g[1].apply(null)}):m.apply(this,arguments)}}),s};function shimGetUserMedia$2(n){const e=n&&n.navigator,a=function(r){return{name:{PermissionDeniedError:"NotAllowedError"}[r.name]||r.name,message:r.message,constraint:r.constraint,toString(){return this.name}}},t=e.mediaDevices.getUserMedia.bind(e.mediaDevices);e.mediaDevices.getUserMedia=function(r){return t(r).catch(s=>Promise.reject(a(s)))}}function shimGetDisplayMedia$1(n){"getDisplayMedia"in n.navigator&&(!n.navigator.mediaDevices||n.navigator.mediaDevices&&"getDisplayMedia"in n.navigator.mediaDevices||(n.navigator.mediaDevices.getDisplayMedia=n.navigator.getDisplayMedia.bind(n.navigator)))}function shimPeerConnection$1(n,e){if(n.RTCIceGatherer&&(n.RTCIceCandidate||(n.RTCIceCandidate=function(r){return r}),n.RTCSessionDescription||(n.RTCSessionDescription=function(r){return r}),e.version<15025)){const t=Object.getOwnPropertyDescriptor(n.MediaStreamTrack.prototype,"enabled");Object.defineProperty(n.MediaStreamTrack.prototype,"enabled",{set(r){t.set.call(this,r);const s=new Event("enabled");s.enabled=r,this.dispatchEvent(s)}})}n.RTCRtpSender&&!("dtmf"in n.RTCRtpSender.prototype)&&Object.defineProperty(n.RTCRtpSender.prototype,"dtmf",{get(){return this._dtmf===void 0&&(this.track.kind==="audio"?this._dtmf=new n.RTCDtmfSender(this):this.track.kind==="video"&&(this._dtmf=null)),this._dtmf}}),n.RTCDtmfSender&&!n.RTCDTMFSender&&(n.RTCDTMFSender=n.RTCDtmfSender);const a=rtcpeerconnection(n,e.version);n.RTCPeerConnection=function(r){return r&&r.iceServers&&(r.iceServers=filterIceServers$1(r.iceServers,e.version),log("ICE servers after filtering:",r.iceServers)),new a(r)},n.RTCPeerConnection.prototype=a.prototype}function shimReplaceTrack(n){n.RTCRtpSender&&!("replaceTrack"in n.RTCRtpSender.prototype)&&(n.RTCRtpSender.prototype.replaceTrack=n.RTCRtpSender.prototype.setTrack)}const edgeShim=Object.freeze(Object.defineProperty({__proto__:null,shimPeerConnection:shimPeerConnection$1,shimReplaceTrack,shimGetUserMedia:shimGetUserMedia$2,shimGetDisplayMedia:shimGetDisplayMedia$1},Symbol.toStringTag,{value:"Module"}));function shimGetUserMedia$1(n,e){const a=n&&n.navigator,t=n&&n.MediaStreamTrack;if(a.getUserMedia=function(r,s,c){deprecated("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),a.mediaDevices.getUserMedia(r).then(s,c)},!(e.version>55&&"autoGainControl"in a.mediaDevices.getSupportedConstraints())){const r=function(c,d,u){d in c&&!(u in c)&&(c[u]=c[d],delete c[d])},s=a.mediaDevices.getUserMedia.bind(a.mediaDevices);if(a.mediaDevices.getUserMedia=function(c){return typeof c=="object"&&typeof c.audio=="object"&&(c=JSON.parse(JSON.stringify(c)),r(c.audio,"autoGainControl","mozAutoGainControl"),r(c.audio,"noiseSuppression","mozNoiseSuppression")),s(c)},t&&t.prototype.getSettings){const c=t.prototype.getSettings;t.prototype.getSettings=function(){const d=c.apply(this,arguments);return r(d,"mozAutoGainControl","autoGainControl"),r(d,"mozNoiseSuppression","noiseSuppression"),d}}if(t&&t.prototype.applyConstraints){const c=t.prototype.applyConstraints;t.prototype.applyConstraints=function(d){return this.kind==="audio"&&typeof d=="object"&&(d=JSON.parse(JSON.stringify(d)),r(d,"autoGainControl","mozAutoGainControl"),r(d,"noiseSuppression","mozNoiseSuppression")),c.apply(this,[d])}}}}function shimGetDisplayMedia(n,e){n.navigator.mediaDevices&&"getDisplayMedia"in n.navigator.mediaDevices||!n.navigator.mediaDevices||(n.navigator.mediaDevices.getDisplayMedia=function(t){if(!(t&&t.video)){const r=new DOMException("getDisplayMedia without video constraints is undefined");return r.name="NotFoundError",r.code=8,Promise.reject(r)}return t.video===!0?t.video={mediaSource:e}:t.video.mediaSource=e,n.navigator.mediaDevices.getUserMedia(t)})}function shimOnTrack(n){typeof n=="object"&&n.RTCTrackEvent&&"receiver"in n.RTCTrackEvent.prototype&&!("transceiver"in n.RTCTrackEvent.prototype)&&Object.defineProperty(n.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function shimPeerConnection(n,e){if(typeof n!="object"||!(n.RTCPeerConnection||n.mozRTCPeerConnection))return;!n.RTCPeerConnection&&n.mozRTCPeerConnection&&(n.RTCPeerConnection=n.mozRTCPeerConnection),e.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(r){const s=n.RTCPeerConnection.prototype[r],c={[r](){return arguments[0]=new(r==="addIceCandidate"?n.RTCIceCandidate:n.RTCSessionDescription)(arguments[0]),s.apply(this,arguments)}};n.RTCPeerConnection.prototype[r]=c[r]});const a={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},t=n.RTCPeerConnection.prototype.getStats;n.RTCPeerConnection.prototype.getStats=function(){const[s,c,d]=arguments;return t.apply(this,[s||null]).then(u=>{if(e.version<53&&!c)try{u.forEach(m=>{m.type=a[m.type]||m.type})}catch(m){if(m.name!=="TypeError")throw m;u.forEach((g,_)=>{u.set(_,Object.assign({},g,{type:a[g.type]||g.type}))})}return u}).then(c,d)}}function shimSenderGetStats(n){if(!(typeof n=="object"&&n.RTCPeerConnection&&n.RTCRtpSender)||n.RTCRtpSender&&"getStats"in n.RTCRtpSender.prototype)return;const e=n.RTCPeerConnection.prototype.getSenders;e&&(n.RTCPeerConnection.prototype.getSenders=function(){const r=e.apply(this,[]);return r.forEach(s=>s._pc=this),r});const a=n.RTCPeerConnection.prototype.addTrack;a&&(n.RTCPeerConnection.prototype.addTrack=function(){const r=a.apply(this,arguments);return r._pc=this,r}),n.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}function shimReceiverGetStats(n){if(!(typeof n=="object"&&n.RTCPeerConnection&&n.RTCRtpSender)||n.RTCRtpSender&&"getStats"in n.RTCRtpReceiver.prototype)return;const e=n.RTCPeerConnection.prototype.getReceivers;e&&(n.RTCPeerConnection.prototype.getReceivers=function(){const t=e.apply(this,[]);return t.forEach(r=>r._pc=this),t}),wrapPeerConnectionEvent(n,"track",a=>(a.receiver._pc=a.srcElement,a)),n.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}function shimRemoveStream(n){!n.RTCPeerConnection||"removeStream"in n.RTCPeerConnection.prototype||(n.RTCPeerConnection.prototype.removeStream=function(a){deprecated("removeStream","removeTrack"),this.getSenders().forEach(t=>{t.track&&a.getTracks().includes(t.track)&&this.removeTrack(t)})})}function shimRTCDataChannel(n){n.DataChannel&&!n.RTCDataChannel&&(n.RTCDataChannel=n.DataChannel)}function shimAddTransceiver(n){if(!(typeof n=="object"&&n.RTCPeerConnection))return;const e=n.RTCPeerConnection.prototype.addTransceiver;e&&(n.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];const t=arguments[1],r=t&&"sendEncodings"in t;r&&t.sendEncodings.forEach(c=>{if("rid"in c&&!/^[a-z0-9]{0,16}$/i.test(c.rid))throw new TypeError("Invalid RID value provided.");if("scaleResolutionDownBy"in c&&!(parseFloat(c.scaleResolutionDownBy)>=1))throw new RangeError("scale_resolution_down_by must be >= 1.0");if("maxFramerate"in c&&!(parseFloat(c.maxFramerate)>=0))throw new RangeError("max_framerate must be >= 0.0")});const s=e.apply(this,arguments);if(r){const{sender:c}=s,d=c.getParameters();(!("encodings"in d)||d.encodings.length===1&&Object.keys(d.encodings[0]).length===0)&&(d.encodings=t.sendEncodings,c.sendEncodings=t.sendEncodings,this.setParametersPromises.push(c.setParameters(d).then(()=>{delete c.sendEncodings}).catch(()=>{delete c.sendEncodings})))}return s})}function shimGetParameters(n){if(!(typeof n=="object"&&n.RTCRtpSender))return;const e=n.RTCRtpSender.prototype.getParameters;e&&(n.RTCRtpSender.prototype.getParameters=function(){const t=e.apply(this,arguments);return"encodings"in t||(t.encodings=[].concat(this.sendEncodings||[{}])),t})}function shimCreateOffer(n){if(!(typeof n=="object"&&n.RTCPeerConnection))return;const e=n.RTCPeerConnection.prototype.createOffer;n.RTCPeerConnection.prototype.createOffer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>e.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):e.apply(this,arguments)}}function shimCreateAnswer(n){if(!(typeof n=="object"&&n.RTCPeerConnection))return;const e=n.RTCPeerConnection.prototype.createAnswer;n.RTCPeerConnection.prototype.createAnswer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>e.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):e.apply(this,arguments)}}const firefoxShim=Object.freeze(Object.defineProperty({__proto__:null,shimOnTrack,shimPeerConnection,shimSenderGetStats,shimReceiverGetStats,shimRemoveStream,shimRTCDataChannel,shimAddTransceiver,shimGetParameters,shimCreateOffer,shimCreateAnswer,shimGetUserMedia:shimGetUserMedia$1,shimGetDisplayMedia},Symbol.toStringTag,{value:"Module"}));function shimLocalStreamsAPI(n){if(!(typeof n!="object"||!n.RTCPeerConnection)){if("getLocalStreams"in n.RTCPeerConnection.prototype||(n.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in n.RTCPeerConnection.prototype)){const e=n.RTCPeerConnection.prototype.addTrack;n.RTCPeerConnection.prototype.addStream=function(t){this._localStreams||(this._localStreams=[]),this._localStreams.includes(t)||this._localStreams.push(t),t.getAudioTracks().forEach(r=>e.call(this,r,t)),t.getVideoTracks().forEach(r=>e.call(this,r,t))},n.RTCPeerConnection.prototype.addTrack=function(t,...r){return r&&r.forEach(s=>{this._localStreams?this._localStreams.includes(s)||this._localStreams.push(s):this._localStreams=[s]}),e.apply(this,arguments)}}"removeStream"in n.RTCPeerConnection.prototype||(n.RTCPeerConnection.prototype.removeStream=function(a){this._localStreams||(this._localStreams=[]);const t=this._localStreams.indexOf(a);if(t===-1)return;this._localStreams.splice(t,1);const r=a.getTracks();this.getSenders().forEach(s=>{r.includes(s.track)&&this.removeTrack(s)})})}}function shimRemoteStreamsAPI(n){if(!(typeof n!="object"||!n.RTCPeerConnection)&&("getRemoteStreams"in n.RTCPeerConnection.prototype||(n.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in n.RTCPeerConnection.prototype))){Object.defineProperty(n.RTCPeerConnection.prototype,"onaddstream",{get(){return this._onaddstream},set(a){this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=a),this.addEventListener("track",this._onaddstreampoly=t=>{t.streams.forEach(r=>{if(this._remoteStreams||(this._remoteStreams=[]),this._remoteStreams.includes(r))return;this._remoteStreams.push(r);const s=new Event("addstream");s.stream=r,this.dispatchEvent(s)})})}});const e=n.RTCPeerConnection.prototype.setRemoteDescription;n.RTCPeerConnection.prototype.setRemoteDescription=function(){const t=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(r){r.streams.forEach(s=>{if(t._remoteStreams||(t._remoteStreams=[]),t._remoteStreams.indexOf(s)>=0)return;t._remoteStreams.push(s);const c=new Event("addstream");c.stream=s,t.dispatchEvent(c)})}),e.apply(t,arguments)}}}function shimCallbacksAPI(n){if(typeof n!="object"||!n.RTCPeerConnection)return;const e=n.RTCPeerConnection.prototype,a=e.createOffer,t=e.createAnswer,r=e.setLocalDescription,s=e.setRemoteDescription,c=e.addIceCandidate;e.createOffer=function(m,g){const _=arguments.length>=2?arguments[2]:arguments[0],b=a.apply(this,[_]);return g?(b.then(m,g),Promise.resolve()):b},e.createAnswer=function(m,g){const _=arguments.length>=2?arguments[2]:arguments[0],b=t.apply(this,[_]);return g?(b.then(m,g),Promise.resolve()):b};let d=function(u,m,g){const _=r.apply(this,[u]);return g?(_.then(m,g),Promise.resolve()):_};e.setLocalDescription=d,d=function(u,m,g){const _=s.apply(this,[u]);return g?(_.then(m,g),Promise.resolve()):_},e.setRemoteDescription=d,d=function(u,m,g){const _=c.apply(this,[u]);return g?(_.then(m,g),Promise.resolve()):_},e.addIceCandidate=d}function shimGetUserMedia(n){const e=n&&n.navigator;if(e.mediaDevices&&e.mediaDevices.getUserMedia){const a=e.mediaDevices,t=a.getUserMedia.bind(a);e.mediaDevices.getUserMedia=r=>t(shimConstraints(r))}!e.getUserMedia&&e.mediaDevices&&e.mediaDevices.getUserMedia&&(e.getUserMedia=function(t,r,s){e.mediaDevices.getUserMedia(t).then(r,s)}.bind(e))}function shimConstraints(n){return n&&n.video!==void 0?Object.assign({},n,{video:compactObject(n.video)}):n}function shimRTCIceServerUrls(n){if(!n.RTCPeerConnection)return;const e=n.RTCPeerConnection;n.RTCPeerConnection=function(t,r){if(t&&t.iceServers){const s=[];for(let c=0;c<t.iceServers.length;c++){let d=t.iceServers[c];!d.hasOwnProperty("urls")&&d.hasOwnProperty("url")?(deprecated("RTCIceServer.url","RTCIceServer.urls"),d=JSON.parse(JSON.stringify(d)),d.urls=d.url,delete d.url,s.push(d)):s.push(t.iceServers[c])}t.iceServers=s}return new e(t,r)},n.RTCPeerConnection.prototype=e.prototype,"generateCertificate"in e&&Object.defineProperty(n.RTCPeerConnection,"generateCertificate",{get(){return e.generateCertificate}})}function shimTrackEventTransceiver(n){typeof n=="object"&&n.RTCTrackEvent&&"receiver"in n.RTCTrackEvent.prototype&&!("transceiver"in n.RTCTrackEvent.prototype)&&Object.defineProperty(n.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function shimCreateOfferLegacy(n){const e=n.RTCPeerConnection.prototype.createOffer;n.RTCPeerConnection.prototype.createOffer=function(t){if(t){typeof t.offerToReceiveAudio<"u"&&(t.offerToReceiveAudio=!!t.offerToReceiveAudio);const r=this.getTransceivers().find(c=>c.receiver.track.kind==="audio");t.offerToReceiveAudio===!1&&r?r.direction==="sendrecv"?r.setDirection?r.setDirection("sendonly"):r.direction="sendonly":r.direction==="recvonly"&&(r.setDirection?r.setDirection("inactive"):r.direction="inactive"):t.offerToReceiveAudio===!0&&!r&&this.addTransceiver("audio"),typeof t.offerToReceiveVideo<"u"&&(t.offerToReceiveVideo=!!t.offerToReceiveVideo);const s=this.getTransceivers().find(c=>c.receiver.track.kind==="video");t.offerToReceiveVideo===!1&&s?s.direction==="sendrecv"?s.setDirection?s.setDirection("sendonly"):s.direction="sendonly":s.direction==="recvonly"&&(s.setDirection?s.setDirection("inactive"):s.direction="inactive"):t.offerToReceiveVideo===!0&&!s&&this.addTransceiver("video")}return e.apply(this,arguments)}}function shimAudioContext(n){typeof n!="object"||n.AudioContext||(n.AudioContext=n.webkitAudioContext)}const safariShim=Object.freeze(Object.defineProperty({__proto__:null,shimLocalStreamsAPI,shimRemoteStreamsAPI,shimCallbacksAPI,shimGetUserMedia,shimConstraints,shimRTCIceServerUrls,shimTrackEventTransceiver,shimCreateOfferLegacy,shimAudioContext},Symbol.toStringTag,{value:"Module"}));function shimRTCIceCandidate(n){if(!n.RTCIceCandidate||n.RTCIceCandidate&&"foundation"in n.RTCIceCandidate.prototype)return;const e=n.RTCIceCandidate;n.RTCIceCandidate=function(t){if(typeof t=="object"&&t.candidate&&t.candidate.indexOf("a=")===0&&(t=JSON.parse(JSON.stringify(t)),t.candidate=t.candidate.substr(2)),t.candidate&&t.candidate.length){const r=new e(t),s=SDPUtils$1.parseCandidate(t.candidate),c=Object.assign(r,s);return c.toJSON=function(){return{candidate:c.candidate,sdpMid:c.sdpMid,sdpMLineIndex:c.sdpMLineIndex,usernameFragment:c.usernameFragment}},c}return new e(t)},n.RTCIceCandidate.prototype=e.prototype,wrapPeerConnectionEvent(n,"icecandidate",a=>(a.candidate&&Object.defineProperty(a,"candidate",{value:new n.RTCIceCandidate(a.candidate),writable:"false"}),a))}function shimMaxMessageSize(n,e){if(!n.RTCPeerConnection)return;"sctp"in n.RTCPeerConnection.prototype||Object.defineProperty(n.RTCPeerConnection.prototype,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp}});const a=function(d){if(!d||!d.sdp)return!1;const u=SDPUtils$1.splitSections(d.sdp);return u.shift(),u.some(m=>{const g=SDPUtils$1.parseMLine(m);return g&&g.kind==="application"&&g.protocol.indexOf("SCTP")!==-1})},t=function(d){const u=d.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(u===null||u.length<2)return-1;const m=parseInt(u[1],10);return m!==m?-1:m},r=function(d){let u=65536;return e.browser==="firefox"&&(e.version<57?d===-1?u=16384:u=2147483637:e.version<60?u=e.version===57?65535:65536:u=2147483637),u},s=function(d,u){let m=65536;e.browser==="firefox"&&e.version===57&&(m=65535);const g=SDPUtils$1.matchPrefix(d.sdp,"a=max-message-size:");return g.length>0?m=parseInt(g[0].substr(19),10):e.browser==="firefox"&&u!==-1&&(m=2147483637),m},c=n.RTCPeerConnection.prototype.setRemoteDescription;n.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,e.browser==="chrome"&&e.version>=76){const{sdpSemantics:u}=this.getConfiguration();u==="plan-b"&&Object.defineProperty(this,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp},enumerable:!0,configurable:!0})}if(a(arguments[0])){const u=t(arguments[0]),m=r(u),g=s(arguments[0],u);let _;m===0&&g===0?_=Number.POSITIVE_INFINITY:m===0||g===0?_=Math.max(m,g):_=Math.min(m,g);const b={};Object.defineProperty(b,"maxMessageSize",{get(){return _}}),this._sctp=b}return c.apply(this,arguments)}}function shimSendThrowTypeError(n){if(!(n.RTCPeerConnection&&"createDataChannel"in n.RTCPeerConnection.prototype))return;function e(t,r){const s=t.send;t.send=function(){const d=arguments[0],u=d.length||d.size||d.byteLength;if(t.readyState==="open"&&r.sctp&&u>r.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+r.sctp.maxMessageSize+" bytes)");return s.apply(t,arguments)}}const a=n.RTCPeerConnection.prototype.createDataChannel;n.RTCPeerConnection.prototype.createDataChannel=function(){const r=a.apply(this,arguments);return e(r,this),r},wrapPeerConnectionEvent(n,"datachannel",t=>(e(t.channel,t.target),t))}function shimConnectionState(n){if(!n.RTCPeerConnection||"connectionState"in n.RTCPeerConnection.prototype)return;const e=n.RTCPeerConnection.prototype;Object.defineProperty(e,"connectionState",{get(){return{completed:"connected",checking:"connecting"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(e,"onconnectionstatechange",{get(){return this._onconnectionstatechange||null},set(a){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),a&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=a)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach(a=>{const t=e[a];e[a]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=r=>{const s=r.target;if(s._lastConnectionState!==s.connectionState){s._lastConnectionState=s.connectionState;const c=new Event("connectionstatechange",r);s.dispatchEvent(c)}return r},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),t.apply(this,arguments)}})}function removeExtmapAllowMixed(n,e){if(!n.RTCPeerConnection||e.browser==="chrome"&&e.version>=71||e.browser==="safari"&&e.version>=605)return;const a=n.RTCPeerConnection.prototype.setRemoteDescription;n.RTCPeerConnection.prototype.setRemoteDescription=function(r){if(r&&r.sdp&&r.sdp.indexOf(`
a=extmap-allow-mixed`)!==-1){const s=r.sdp.split(`
`).filter(c=>c.trim()!=="a=extmap-allow-mixed").join(`
`);n.RTCSessionDescription&&r instanceof n.RTCSessionDescription?arguments[0]=new n.RTCSessionDescription({type:r.type,sdp:s}):r.sdp=s}return a.apply(this,arguments)}}function shimAddIceCandidateNullOrEmpty(n,e){if(!(n.RTCPeerConnection&&n.RTCPeerConnection.prototype))return;const a=n.RTCPeerConnection.prototype.addIceCandidate;!a||a.length===0||(n.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?(e.browser==="chrome"&&e.version<78||e.browser==="firefox"&&e.version<68||e.browser==="safari")&&arguments[0]&&arguments[0].candidate===""?Promise.resolve():a.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())})}const commonShim=Object.freeze(Object.defineProperty({__proto__:null,shimRTCIceCandidate,shimMaxMessageSize,shimSendThrowTypeError,shimConnectionState,removeExtmapAllowMixed,shimAddIceCandidateNullOrEmpty},Symbol.toStringTag,{value:"Module"}));function adapterFactory({window:n}={},e={shimChrome:!0,shimFirefox:!0,shimEdge:!0,shimSafari:!0}){const a=log,t=detectBrowser(n),r={browserDetails:t,commonShim,extractVersion,disableLog,disableWarnings};switch(t.browser){case"chrome":if(!chromeShim||!shimPeerConnection$2||!e.shimChrome)return a("Chrome shim is not included in this adapter release."),r;if(t.version===null)return a("Chrome shim can not determine version, not shimming."),r;a("adapter.js shimming chrome."),r.browserShim=chromeShim,shimAddIceCandidateNullOrEmpty(n,t),shimGetUserMedia$3(n,t),shimMediaStream(n),shimPeerConnection$2(n,t),shimOnTrack$1(n),shimAddTrackRemoveTrack(n,t),shimGetSendersWithDtmf(n),shimGetStats(n),shimSenderReceiverGetStats(n),fixNegotiationNeeded(n,t),shimRTCIceCandidate(n),shimConnectionState(n),shimMaxMessageSize(n,t),shimSendThrowTypeError(n),removeExtmapAllowMixed(n,t);break;case"firefox":if(!firefoxShim||!shimPeerConnection||!e.shimFirefox)return a("Firefox shim is not included in this adapter release."),r;a("adapter.js shimming firefox."),r.browserShim=firefoxShim,shimAddIceCandidateNullOrEmpty(n,t),shimGetUserMedia$1(n,t),shimPeerConnection(n,t),shimOnTrack(n),shimRemoveStream(n),shimSenderGetStats(n),shimReceiverGetStats(n),shimRTCDataChannel(n),shimAddTransceiver(n),shimGetParameters(n),shimCreateOffer(n),shimCreateAnswer(n),shimRTCIceCandidate(n),shimConnectionState(n),shimMaxMessageSize(n,t),shimSendThrowTypeError(n);break;case"edge":if(!edgeShim||!shimPeerConnection$1||!e.shimEdge)return a("MS edge shim is not included in this adapter release."),r;a("adapter.js shimming edge."),r.browserShim=edgeShim,shimGetUserMedia$2(n),shimGetDisplayMedia$1(n),shimPeerConnection$1(n,t),shimReplaceTrack(n),shimMaxMessageSize(n,t),shimSendThrowTypeError(n);break;case"safari":if(!safariShim||!e.shimSafari)return a("Safari shim is not included in this adapter release."),r;a("adapter.js shimming safari."),r.browserShim=safariShim,shimAddIceCandidateNullOrEmpty(n,t),shimRTCIceServerUrls(n),shimCreateOfferLegacy(n),shimCallbacksAPI(n),shimLocalStreamsAPI(n),shimRemoteStreamsAPI(n),shimTrackEventTransceiver(n),shimGetUserMedia(n),shimAudioContext(n),shimRTCIceCandidate(n),shimMaxMessageSize(n,t),shimSendThrowTypeError(n),removeExtmapAllowMixed(n,t);break;default:a("Unsupported browser!");break}return r}const adapter=adapterFactory({window:typeof window>"u"?void 0:window});function $parcel$export(n,e,a,t){Object.defineProperty(n,e,{get:a,set:t,enumerable:!0,configurable:!0})}var $af8cf1f663f490f4$var$webRTCAdapter=adapter.default||adapter,$af8cf1f663f490f4$export$25be9502477c137d=new(function(){function n(){this.isIOS=["iPad","iPhone","iPod"].includes(navigator.platform),this.supportedBrowsers=["firefox","chrome","safari"],this.minFirefoxVersion=59,this.minChromeVersion=72,this.minSafariVersion=605}return n.prototype.isWebRTCSupported=function(){return typeof RTCPeerConnection<"u"},n.prototype.isBrowserSupported=function(){var e=this.getBrowser(),a=this.getVersion(),t=this.supportedBrowsers.includes(e);return t?e==="chrome"?a>=this.minChromeVersion:e==="firefox"?a>=this.minFirefoxVersion:e==="safari"?!this.isIOS&&a>=this.minSafariVersion:!1:!1},n.prototype.getBrowser=function(){return $af8cf1f663f490f4$var$webRTCAdapter.browserDetails.browser},n.prototype.getVersion=function(){return $af8cf1f663f490f4$var$webRTCAdapter.browserDetails.version||0},n.prototype.isUnifiedPlanSupported=function(){var e=this.getBrowser(),a=$af8cf1f663f490f4$var$webRTCAdapter.browserDetails.version||0;if(e==="chrome"&&a<this.minChromeVersion)return!1;if(e==="firefox"&&a>=this.minFirefoxVersion)return!0;if(!window.RTCRtpTransceiver||!("currentDirection"in RTCRtpTransceiver.prototype))return!1;var t,r=!1;try{t=new RTCPeerConnection,t.addTransceiver("audio"),r=!0}catch{}finally{t&&t.close()}return r},n.prototype.toString=function(){return`Supports:
    browser:`.concat(this.getBrowser(),`
    version:`).concat(this.getVersion(),`
    isIOS:`).concat(this.isIOS,`
    isWebRTCSupported:`).concat(this.isWebRTCSupported(),`
    isBrowserSupported:`).concat(this.isBrowserSupported(),`
    isUnifiedPlanSupported:`).concat(this.isUnifiedPlanSupported())},n}()),$06cb531ed7840f78$var$DEFAULT_CONFIG={iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:["turn:eu-0.turn.peerjs.com:3478","turn:us-0.turn.peerjs.com:3478"],username:"peerjs",credential:"peerjsp"}],sdpSemantics:"unified-plan"},$06cb531ed7840f78$var$Util=function(){function n(){this.CLOUD_HOST="0.peerjs.com",this.CLOUD_PORT=443,this.chunkedBrowsers={Chrome:1,chrome:1},this.chunkedMTU=16300,this.defaultConfig=$06cb531ed7840f78$var$DEFAULT_CONFIG,this.browser=$af8cf1f663f490f4$export$25be9502477c137d.getBrowser(),this.browserVersion=$af8cf1f663f490f4$export$25be9502477c137d.getVersion(),this.supports=function(){var e={browser:$af8cf1f663f490f4$export$25be9502477c137d.isBrowserSupported(),webRTC:$af8cf1f663f490f4$export$25be9502477c137d.isWebRTCSupported(),audioVideo:!1,data:!1,binaryBlob:!1,reliable:!1};if(!e.webRTC)return e;var a;try{a=new RTCPeerConnection($06cb531ed7840f78$var$DEFAULT_CONFIG),e.audioVideo=!0;var t=void 0;try{t=a.createDataChannel("_PEERJSTEST",{ordered:!0}),e.data=!0,e.reliable=!!t.ordered;try{t.binaryType="blob",e.binaryBlob=!$af8cf1f663f490f4$export$25be9502477c137d.isIOS}catch{}}catch{}finally{t&&t.close()}}catch{}finally{a&&a.close()}return e}(),this.pack=binarypack.pack,this.unpack=binarypack.unpack,this._dataCount=1}return n.prototype.noop=function(){},n.prototype.validateId=function(e){return!e||/^[A-Za-z0-9]+(?:[ _-][A-Za-z0-9]+)*$/.test(e)},n.prototype.chunk=function(e){for(var a=[],t=e.size,r=Math.ceil(t/$06cb531ed7840f78$export$7debb50ef11d5e0b.chunkedMTU),s=0,c=0;c<t;){var d=Math.min(t,c+$06cb531ed7840f78$export$7debb50ef11d5e0b.chunkedMTU),u=e.slice(c,d),m={__peerData:this._dataCount,n:s,data:u,total:r};a.push(m),c=d,s++}return this._dataCount++,a},n.prototype.blobToArrayBuffer=function(e,a){var t=new FileReader;return t.onload=function(r){r.target&&a(r.target.result)},t.readAsArrayBuffer(e),t},n.prototype.binaryStringToArrayBuffer=function(e){for(var a=new Uint8Array(e.length),t=0;t<e.length;t++)a[t]=e.charCodeAt(t)&255;return a.buffer},n.prototype.randomToken=function(){return Math.random().toString(36).slice(2)},n.prototype.isSecure=function(){return location.protocol==="https:"},n}(),$06cb531ed7840f78$export$7debb50ef11d5e0b=new $06cb531ed7840f78$var$Util,$26088d7da5b03f69$exports={};$parcel$export($26088d7da5b03f69$exports,"Peer",()=>$26088d7da5b03f69$export$ecd1fc136c422448,n=>$26088d7da5b03f69$export$ecd1fc136c422448=n);var $ac9b757d51178e15$exports={},$ac9b757d51178e15$var$has=Object.prototype.hasOwnProperty,$ac9b757d51178e15$var$prefix="~";function $ac9b757d51178e15$var$Events(){}Object.create&&($ac9b757d51178e15$var$Events.prototype=Object.create(null),new $ac9b757d51178e15$var$Events().__proto__||($ac9b757d51178e15$var$prefix=!1));function $ac9b757d51178e15$var$EE(n,e,a){this.fn=n,this.context=e,this.once=a||!1}function $ac9b757d51178e15$var$addListener(n,e,a,t,r){if(typeof a!="function")throw new TypeError("The listener must be a function");var s=new $ac9b757d51178e15$var$EE(a,t||n,r),c=$ac9b757d51178e15$var$prefix?$ac9b757d51178e15$var$prefix+e:e;return n._events[c]?n._events[c].fn?n._events[c]=[n._events[c],s]:n._events[c].push(s):(n._events[c]=s,n._eventsCount++),n}function $ac9b757d51178e15$var$clearEvent(n,e){--n._eventsCount===0?n._events=new $ac9b757d51178e15$var$Events:delete n._events[e]}function $ac9b757d51178e15$var$EventEmitter(){this._events=new $ac9b757d51178e15$var$Events,this._eventsCount=0}$ac9b757d51178e15$var$EventEmitter.prototype.eventNames=function(){var e=[],a,t;if(this._eventsCount===0)return e;for(t in a=this._events)$ac9b757d51178e15$var$has.call(a,t)&&e.push($ac9b757d51178e15$var$prefix?t.slice(1):t);return Object.getOwnPropertySymbols?e.concat(Object.getOwnPropertySymbols(a)):e};$ac9b757d51178e15$var$EventEmitter.prototype.listeners=function(e){var a=$ac9b757d51178e15$var$prefix?$ac9b757d51178e15$var$prefix+e:e,t=this._events[a];if(!t)return[];if(t.fn)return[t.fn];for(var r=0,s=t.length,c=new Array(s);r<s;r++)c[r]=t[r].fn;return c};$ac9b757d51178e15$var$EventEmitter.prototype.listenerCount=function(e){var a=$ac9b757d51178e15$var$prefix?$ac9b757d51178e15$var$prefix+e:e,t=this._events[a];return t?t.fn?1:t.length:0};$ac9b757d51178e15$var$EventEmitter.prototype.emit=function(e,a,t,r,s,c){var d=$ac9b757d51178e15$var$prefix?$ac9b757d51178e15$var$prefix+e:e;if(!this._events[d])return!1;var u=this._events[d],m=arguments.length,g,_;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),m){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,a),!0;case 3:return u.fn.call(u.context,a,t),!0;case 4:return u.fn.call(u.context,a,t,r),!0;case 5:return u.fn.call(u.context,a,t,r,s),!0;case 6:return u.fn.call(u.context,a,t,r,s,c),!0}for(_=1,g=new Array(m-1);_<m;_++)g[_-1]=arguments[_];u.fn.apply(u.context,g)}else{var b=u.length,S;for(_=0;_<b;_++)switch(u[_].once&&this.removeListener(e,u[_].fn,void 0,!0),m){case 1:u[_].fn.call(u[_].context);break;case 2:u[_].fn.call(u[_].context,a);break;case 3:u[_].fn.call(u[_].context,a,t);break;case 4:u[_].fn.call(u[_].context,a,t,r);break;default:if(!g)for(S=1,g=new Array(m-1);S<m;S++)g[S-1]=arguments[S];u[_].fn.apply(u[_].context,g)}}return!0};$ac9b757d51178e15$var$EventEmitter.prototype.on=function(e,a,t){return $ac9b757d51178e15$var$addListener(this,e,a,t,!1)};$ac9b757d51178e15$var$EventEmitter.prototype.once=function(e,a,t){return $ac9b757d51178e15$var$addListener(this,e,a,t,!0)};$ac9b757d51178e15$var$EventEmitter.prototype.removeListener=function(e,a,t,r){var s=$ac9b757d51178e15$var$prefix?$ac9b757d51178e15$var$prefix+e:e;if(!this._events[s])return this;if(!a)return $ac9b757d51178e15$var$clearEvent(this,s),this;var c=this._events[s];if(c.fn)c.fn===a&&(!r||c.once)&&(!t||c.context===t)&&$ac9b757d51178e15$var$clearEvent(this,s);else{for(var d=0,u=[],m=c.length;d<m;d++)(c[d].fn!==a||r&&!c[d].once||t&&c[d].context!==t)&&u.push(c[d]);u.length?this._events[s]=u.length===1?u[0]:u:$ac9b757d51178e15$var$clearEvent(this,s)}return this};$ac9b757d51178e15$var$EventEmitter.prototype.removeAllListeners=function(e){var a;return e?(a=$ac9b757d51178e15$var$prefix?$ac9b757d51178e15$var$prefix+e:e,this._events[a]&&$ac9b757d51178e15$var$clearEvent(this,a)):(this._events=new $ac9b757d51178e15$var$Events,this._eventsCount=0),this};$ac9b757d51178e15$var$EventEmitter.prototype.off=$ac9b757d51178e15$var$EventEmitter.prototype.removeListener;$ac9b757d51178e15$var$EventEmitter.prototype.addListener=$ac9b757d51178e15$var$EventEmitter.prototype.on;$ac9b757d51178e15$var$EventEmitter.prefixed=$ac9b757d51178e15$var$prefix;$ac9b757d51178e15$var$EventEmitter.EventEmitter=$ac9b757d51178e15$var$EventEmitter;$ac9b757d51178e15$exports=$ac9b757d51178e15$var$EventEmitter;var $1615705ecc6adca3$exports={};$parcel$export($1615705ecc6adca3$exports,"LogLevel",()=>$1615705ecc6adca3$export$243e62d78d3b544d,n=>$1615705ecc6adca3$export$243e62d78d3b544d=n);$parcel$export($1615705ecc6adca3$exports,"default",()=>$1615705ecc6adca3$export$2e2bcd8739ae039,n=>$1615705ecc6adca3$export$2e2bcd8739ae039=n);var $1615705ecc6adca3$var$__read=function(n,e){var a=typeof Symbol=="function"&&n[Symbol.iterator];if(!a)return n;var t=a.call(n),r,s=[],c;try{for(;(e===void 0||e-- >0)&&!(r=t.next()).done;)s.push(r.value)}catch(d){c={error:d}}finally{try{r&&!r.done&&(a=t.return)&&a.call(t)}finally{if(c)throw c.error}}return s},$1615705ecc6adca3$var$__spreadArray=function(n,e,a){if(a||arguments.length===2)for(var t=0,r=e.length,s;t<r;t++)(s||!(t in e))&&(s||(s=Array.prototype.slice.call(e,0,t)),s[t]=e[t]);return n.concat(s||Array.prototype.slice.call(e))},$1615705ecc6adca3$var$LOG_PREFIX="PeerJS: ",$1615705ecc6adca3$export$243e62d78d3b544d;(function(n){n[n.Disabled=0]="Disabled",n[n.Errors=1]="Errors",n[n.Warnings=2]="Warnings",n[n.All=3]="All"})($1615705ecc6adca3$export$243e62d78d3b544d||($1615705ecc6adca3$export$243e62d78d3b544d={}));var $1615705ecc6adca3$var$Logger=function(){function n(){this._logLevel=$1615705ecc6adca3$export$243e62d78d3b544d.Disabled}return Object.defineProperty(n.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){this._logLevel=e},enumerable:!1,configurable:!0}),n.prototype.log=function(){for(var e=[],a=0;a<arguments.length;a++)e[a]=arguments[a];this._logLevel>=$1615705ecc6adca3$export$243e62d78d3b544d.All&&this._print.apply(this,$1615705ecc6adca3$var$__spreadArray([$1615705ecc6adca3$export$243e62d78d3b544d.All],$1615705ecc6adca3$var$__read(e),!1))},n.prototype.warn=function(){for(var e=[],a=0;a<arguments.length;a++)e[a]=arguments[a];this._logLevel>=$1615705ecc6adca3$export$243e62d78d3b544d.Warnings&&this._print.apply(this,$1615705ecc6adca3$var$__spreadArray([$1615705ecc6adca3$export$243e62d78d3b544d.Warnings],$1615705ecc6adca3$var$__read(e),!1))},n.prototype.error=function(){for(var e=[],a=0;a<arguments.length;a++)e[a]=arguments[a];this._logLevel>=$1615705ecc6adca3$export$243e62d78d3b544d.Errors&&this._print.apply(this,$1615705ecc6adca3$var$__spreadArray([$1615705ecc6adca3$export$243e62d78d3b544d.Errors],$1615705ecc6adca3$var$__read(e),!1))},n.prototype.setLogFunction=function(e){this._print=e},n.prototype._print=function(e){for(var a=[],t=1;t<arguments.length;t++)a[t-1]=arguments[t];var r=$1615705ecc6adca3$var$__spreadArray([$1615705ecc6adca3$var$LOG_PREFIX],$1615705ecc6adca3$var$__read(a),!1);for(var s in r)r[s]instanceof Error&&(r[s]="("+r[s].name+") "+r[s].message);e>=$1615705ecc6adca3$export$243e62d78d3b544d.All?console.log.apply(console,$1615705ecc6adca3$var$__spreadArray([],$1615705ecc6adca3$var$__read(r),!1)):e>=$1615705ecc6adca3$export$243e62d78d3b544d.Warnings?console.warn.apply(console,$1615705ecc6adca3$var$__spreadArray(["WARNING"],$1615705ecc6adca3$var$__read(r),!1)):e>=$1615705ecc6adca3$export$243e62d78d3b544d.Errors&&console.error.apply(console,$1615705ecc6adca3$var$__spreadArray(["ERROR"],$1615705ecc6adca3$var$__read(r),!1))},n}(),$1615705ecc6adca3$export$2e2bcd8739ae039=new $1615705ecc6adca3$var$Logger,$31d11a8d122cb4b7$exports={};$parcel$export($31d11a8d122cb4b7$exports,"Socket",()=>$31d11a8d122cb4b7$export$4798917dbf149b79,n=>$31d11a8d122cb4b7$export$4798917dbf149b79=n);var $60fadef21a2daafc$export$3157d57b4135e3bc;(function(n){n.Data="data",n.Media="media"})($60fadef21a2daafc$export$3157d57b4135e3bc||($60fadef21a2daafc$export$3157d57b4135e3bc={}));var $60fadef21a2daafc$export$9547aaa2e39030ff;(function(n){n.BrowserIncompatible="browser-incompatible",n.Disconnected="disconnected",n.InvalidID="invalid-id",n.InvalidKey="invalid-key",n.Network="network",n.PeerUnavailable="peer-unavailable",n.SslUnavailable="ssl-unavailable",n.ServerError="server-error",n.SocketError="socket-error",n.SocketClosed="socket-closed",n.UnavailableID="unavailable-id",n.WebRTC="webrtc"})($60fadef21a2daafc$export$9547aaa2e39030ff||($60fadef21a2daafc$export$9547aaa2e39030ff={}));var $60fadef21a2daafc$export$89f507cf986a947;(function(n){n.Binary="binary",n.BinaryUTF8="binary-utf8",n.JSON="json"})($60fadef21a2daafc$export$89f507cf986a947||($60fadef21a2daafc$export$89f507cf986a947={}));var $60fadef21a2daafc$export$3b5c4a4b6354f023;(function(n){n.Message="message",n.Disconnected="disconnected",n.Error="error",n.Close="close"})($60fadef21a2daafc$export$3b5c4a4b6354f023||($60fadef21a2daafc$export$3b5c4a4b6354f023={}));var $60fadef21a2daafc$export$adb4a1754da6f10d;(function(n){n.Heartbeat="HEARTBEAT",n.Candidate="CANDIDATE",n.Offer="OFFER",n.Answer="ANSWER",n.Open="OPEN",n.Error="ERROR",n.IdTaken="ID-TAKEN",n.InvalidKey="INVALID-KEY",n.Leave="LEAVE",n.Expire="EXPIRE"})($60fadef21a2daafc$export$adb4a1754da6f10d||($60fadef21a2daafc$export$adb4a1754da6f10d={}));var $0d1ed891c5cb27c0$exports={};$0d1ed891c5cb27c0$exports=JSON.parse('{"name":"peerjs","version":"1.4.7","keywords":["peerjs","webrtc","p2p","rtc"],"description":"PeerJS client","homepage":"https://peerjs.com","bugs":{"url":"https://github.com/peers/peerjs/issues"},"repository":{"type":"git","url":"https://github.com/peers/peerjs"},"license":"MIT","contributors":["Michelle Bu <michelle@michellebu.com>","afrokick <devbyru@gmail.com>","ericz <really.ez@gmail.com>","Jairo <kidandcat@gmail.com>","Jonas Gloning <34194370+jonasgloning@users.noreply.github.com>","Jairo Caro-Accino Viciana <jairo@galax.be>","Carlos Caballero <carlos.caballero.gonzalez@gmail.com>","hc <hheennrryy@gmail.com>","Muhammad Asif <capripio@gmail.com>","PrashoonB <prashoonbhattacharjee@gmail.com>","Harsh Bardhan Mishra <47351025+HarshCasper@users.noreply.github.com>","akotynski <aleksanderkotbury@gmail.com>","lmb <i@lmb.io>","Jairooo <jairocaro@msn.com>","Moritz Stckler <moritz.stueckler@gmail.com>","Simon <crydotsnakegithub@gmail.com>","Denis Lukov <denismassters@gmail.com>","Philipp Hancke <fippo@andyet.net>","Hans Oksendahl <hansoksendahl@gmail.com>","Jess <jessachandler@gmail.com>","khankuan <khankuan@gmail.com>","DUODVK <kurmanov.work@gmail.com>","XiZhao <kwang1imsa@gmail.com>","Matthias Lohr <matthias@lohr.me>","=frank tree <=frnktrb@googlemail.com>","Andre Eckardt <aeckardt@outlook.com>","Chris Cowan <agentme49@gmail.com>","Alex Chuev <alex@chuev.com>","alxnull <alxnull@e.mail.de>","Yemel Jardi <angel.jardi@gmail.com>","Ben Parnell <benjaminparnell.94@gmail.com>","Benny Lichtner <bennlich@gmail.com>","fresheneesz <bitetrudpublic@gmail.com>","bob.barstead@exaptive.com <bob.barstead@exaptive.com>","chandika <chandika@gmail.com>","emersion <contact@emersion.fr>","Christopher Van <cvan@users.noreply.github.com>","eddieherm <edhermoso@gmail.com>","Eduardo Pinho <enet4mikeenet@gmail.com>","Evandro Zanatta <ezanatta@tray.net.br>","Gardner Bickford <gardner@users.noreply.github.com>","Gian Luca <gianluca.cecchi@cynny.com>","PatrickJS <github@gdi2290.com>","jonnyf <github@jonathanfoss.co.uk>","Hizkia Felix <hizkifw@gmail.com>","Hristo Oskov <hristo.oskov@gmail.com>","Isaac Madwed <i.madwed@gmail.com>","Ilya Konanykhin <ilya.konanykhin@gmail.com>","jasonbarry <jasbarry@me.com>","Jonathan Burke <jonathan.burke.1311@googlemail.com>","Josh Hamit <josh.hamit@gmail.com>","Jordan Austin <jrax86@gmail.com>","Joel Wetzell <jwetzell@yahoo.com>","xizhao <kevin.wang@cloudera.com>","Alberto Torres <kungfoobar@gmail.com>","Jonathan Mayol <mayoljonathan@gmail.com>","Jefferson Felix <me@jsfelix.dev>","Rolf Erik Lekang <me@rolflekang.com>","Kevin Mai-Husan Chia <mhchia@users.noreply.github.com>","Pepijn de Vos <pepijndevos@gmail.com>","JooYoung <qkdlql@naver.com>","Tobias Speicher <rootcommander@gmail.com>","Steve Blaurock <sblaurock@gmail.com>","Kyrylo Shegeda <shegeda@ualberta.ca>","Diwank Singh Tomer <singh@diwank.name>","Soren Balko <Soeren.Balko@gmail.com>","Arpit Solanki <solankiarpit1997@gmail.com>","Yuki Ito <yuki@gnnk.net>","Artur Zayats <zag2art@gmail.com>"],"funding":{"type":"opencollective","url":"https://opencollective.com/peer"},"collective":{"type":"opencollective","url":"https://opencollective.com/peer"},"files":["dist/*"],"sideEffects":["lib/global.ts","lib/supports.ts"],"main":"dist/bundler.cjs","module":"dist/bundler.mjs","browser-minified":"dist/peerjs.min.js","browser-unminified":"dist/peerjs.js","types":"dist/types.d.ts","engines":{"node":">= 10"},"targets":{"types":{"source":"lib/exports.ts"},"main":{"source":"lib/exports.ts","sourceMap":{"inlineSources":true}},"module":{"source":"lib/exports.ts","includeNodeModules":["eventemitter3"],"sourceMap":{"inlineSources":true}},"browser-minified":{"context":"browser","outputFormat":"global","optimize":true,"engines":{"browsers":"cover 99%, not dead"},"source":"lib/global.ts"},"browser-unminified":{"context":"browser","outputFormat":"global","optimize":false,"engines":{"browsers":"cover 99%, not dead"},"source":"lib/global.ts"}},"scripts":{"contributors":"git-authors-cli --print=false && prettier --write package.json && git add package.json package-lock.json && git commit -m \\"chore(contributors): update and sort contributors list\\"","check":"tsc --noEmit","watch":"parcel watch","build":"rm -rf dist && parcel build","prepublishOnly":"npm run build","test":"mocha -r ts-node/register -r jsdom-global/register test/**/*.ts","format":"prettier --write .","semantic-release":"semantic-release"},"devDependencies":{"@parcel/config-default":"^2.5.0","@parcel/packager-ts":"^2.5.0","@parcel/transformer-typescript-tsc":"^2.5.0","@parcel/transformer-typescript-types":"^2.5.0","@semantic-release/changelog":"^6.0.1","@semantic-release/git":"^10.0.1","@types/chai":"^4.3.0","@types/mocha":"^9.1.0","@types/node":"^17.0.18","chai":"^4.3.6","git-authors-cli":"^1.0.40","jsdom":"^19.0.0","jsdom-global":"^3.0.2","mocha":"^9.2.0","mock-socket":"8.0.5","parcel":"^2.5.0","parcel-transformer-tsc-sourcemaps":"^1.0.2","prettier":"^2.6.2","semantic-release":"^19.0.2","standard":"^16.0.4","ts-node":"^10.5.0","typescript":"^4.5.5"},"dependencies":{"@swc/helpers":"^0.3.13","eventemitter3":"^4.0.7","peerjs-js-binarypack":"1.0.1","webrtc-adapter":"^7.7.1"}}');var $31d11a8d122cb4b7$var$__extends=function(){var n=function(e,a){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])},n(e,a)};return function(e,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");n(e,a);function t(){this.constructor=e}e.prototype=a===null?Object.create(a):(t.prototype=a.prototype,new t)}}(),$31d11a8d122cb4b7$var$__read=function(n,e){var a=typeof Symbol=="function"&&n[Symbol.iterator];if(!a)return n;var t=a.call(n),r,s=[],c;try{for(;(e===void 0||e-- >0)&&!(r=t.next()).done;)s.push(r.value)}catch(d){c={error:d}}finally{try{r&&!r.done&&(a=t.return)&&a.call(t)}finally{if(c)throw c.error}}return s},$31d11a8d122cb4b7$var$__spreadArray=function(n,e,a){if(a||arguments.length===2)for(var t=0,r=e.length,s;t<r;t++)(s||!(t in e))&&(s||(s=Array.prototype.slice.call(e,0,t)),s[t]=e[t]);return n.concat(s||Array.prototype.slice.call(e))},$31d11a8d122cb4b7$var$__values=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,a=e&&n[e],t=0;if(a)return a.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&t>=n.length&&(n=void 0),{value:n&&n[t++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},$31d11a8d122cb4b7$export$4798917dbf149b79=function(n){$31d11a8d122cb4b7$var$__extends(e,n);function e(a,t,r,s,c,d){d===void 0&&(d=5e3);var u=n.call(this)||this;u.pingInterval=d,u._disconnected=!0,u._messagesQueue=[];var m=a?"wss://":"ws://";return u._baseUrl=m+t+":"+r+s+"peerjs?key="+c,u}return e.prototype.start=function(a,t){var r=this;this._id=a;var s="".concat(this._baseUrl,"&id=").concat(a,"&token=").concat(t);!!this._socket||!this._disconnected||(this._socket=new WebSocket(s+"&version="+$0d1ed891c5cb27c0$exports.version),this._disconnected=!1,this._socket.onmessage=function(c){var d;try{d=JSON.parse(c.data),$1615705ecc6adca3$exports.default.log("Server message received:",d)}catch{$1615705ecc6adca3$exports.default.log("Invalid server message",c.data);return}r.emit($60fadef21a2daafc$export$3b5c4a4b6354f023.Message,d)},this._socket.onclose=function(c){r._disconnected||($1615705ecc6adca3$exports.default.log("Socket closed.",c),r._cleanup(),r._disconnected=!0,r.emit($60fadef21a2daafc$export$3b5c4a4b6354f023.Disconnected))},this._socket.onopen=function(){r._disconnected||(r._sendQueuedMessages(),$1615705ecc6adca3$exports.default.log("Socket open"),r._scheduleHeartbeat())})},e.prototype._scheduleHeartbeat=function(){var a=this;this._wsPingTimer=setTimeout(function(){a._sendHeartbeat()},this.pingInterval)},e.prototype._sendHeartbeat=function(){if(!this._wsOpen()){$1615705ecc6adca3$exports.default.log("Cannot send heartbeat, because socket closed");return}var a=JSON.stringify({type:$60fadef21a2daafc$export$adb4a1754da6f10d.Heartbeat});this._socket.send(a),this._scheduleHeartbeat()},e.prototype._wsOpen=function(){return!!this._socket&&this._socket.readyState===1},e.prototype._sendQueuedMessages=function(){var a,t,r=$31d11a8d122cb4b7$var$__spreadArray([],$31d11a8d122cb4b7$var$__read(this._messagesQueue),!1);this._messagesQueue=[];try{for(var s=$31d11a8d122cb4b7$var$__values(r),c=s.next();!c.done;c=s.next()){var d=c.value;this.send(d)}}catch(u){a={error:u}}finally{try{c&&!c.done&&(t=s.return)&&t.call(s)}finally{if(a)throw a.error}}},e.prototype.send=function(a){if(!this._disconnected){if(!this._id){this._messagesQueue.push(a);return}if(!a.type){this.emit($60fadef21a2daafc$export$3b5c4a4b6354f023.Error,"Invalid message");return}if(!!this._wsOpen()){var t=JSON.stringify(a);this._socket.send(t)}}},e.prototype.close=function(){this._disconnected||(this._cleanup(),this._disconnected=!0)},e.prototype._cleanup=function(){this._socket&&(this._socket.onopen=this._socket.onmessage=this._socket.onclose=null,this._socket.close(),this._socket=void 0),clearTimeout(this._wsPingTimer)},e}($ac9b757d51178e15$exports.EventEmitter),$353dee38f9ab557b$exports={};$parcel$export($353dee38f9ab557b$exports,"MediaConnection",()=>$353dee38f9ab557b$export$4a84e95a2324ac29,n=>$353dee38f9ab557b$export$4a84e95a2324ac29=n);var $77f14d3e81888156$exports={};$parcel$export($77f14d3e81888156$exports,"Negotiator",()=>$77f14d3e81888156$export$89e6bb5ad64bf4a,n=>$77f14d3e81888156$export$89e6bb5ad64bf4a=n);var $77f14d3e81888156$var$__assign=function(){return $77f14d3e81888156$var$__assign=Object.assign||function(n){for(var e,a=1,t=arguments.length;a<t;a++){e=arguments[a];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},$77f14d3e81888156$var$__assign.apply(this,arguments)},$77f14d3e81888156$var$__awaiter=function(n,e,a,t){function r(s){return s instanceof a?s:new a(function(c){c(s)})}return new(a||(a=Promise))(function(s,c){function d(g){try{m(t.next(g))}catch(_){c(_)}}function u(g){try{m(t.throw(g))}catch(_){c(_)}}function m(g){g.done?s(g.value):r(g.value).then(d,u)}m((t=t.apply(n,e||[])).next())})},$77f14d3e81888156$var$__generator=function(n,e){var a={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},t,r,s,c;return c={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function d(m){return function(g){return u([m,g])}}function u(m){if(t)throw new TypeError("Generator is already executing.");for(;a;)try{if(t=1,r&&(s=m[0]&2?r.return:m[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,m[1])).done)return s;switch(r=0,s&&(m=[m[0]&2,s.value]),m[0]){case 0:case 1:s=m;break;case 4:return a.label++,{value:m[1],done:!1};case 5:a.label++,r=m[1],m=[0];continue;case 7:m=a.ops.pop(),a.trys.pop();continue;default:if(s=a.trys,!(s=s.length>0&&s[s.length-1])&&(m[0]===6||m[0]===2)){a=0;continue}if(m[0]===3&&(!s||m[1]>s[0]&&m[1]<s[3])){a.label=m[1];break}if(m[0]===6&&a.label<s[1]){a.label=s[1],s=m;break}if(s&&a.label<s[2]){a.label=s[2],a.ops.push(m);break}s[2]&&a.ops.pop(),a.trys.pop();continue}m=e.call(n,a)}catch(g){m=[6,g],r=0}finally{t=s=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},$77f14d3e81888156$export$89e6bb5ad64bf4a=function(){function n(e){this.connection=e}return n.prototype.startConnection=function(e){var a=this._startPeerConnection();if(this.connection.peerConnection=a,this.connection.type===$60fadef21a2daafc$export$3157d57b4135e3bc.Media&&e._stream&&this._addTracksToConnection(e._stream,a),e.originator){if(this.connection.type===$60fadef21a2daafc$export$3157d57b4135e3bc.Data){var t=this.connection,r={ordered:!!e.reliable},s=a.createDataChannel(t.label,r);t.initialize(s)}this._makeOffer()}else this.handleSDP("OFFER",e.sdp)},n.prototype._startPeerConnection=function(){$1615705ecc6adca3$exports.default.log("Creating RTCPeerConnection.");var e=new RTCPeerConnection(this.connection.provider.options.config);return this._setupListeners(e),e},n.prototype._setupListeners=function(e){var a=this,t=this.connection.peer,r=this.connection.connectionId,s=this.connection.type,c=this.connection.provider;$1615705ecc6adca3$exports.default.log("Listening for ICE candidates."),e.onicecandidate=function(d){!d.candidate||!d.candidate.candidate||($1615705ecc6adca3$exports.default.log("Received ICE candidates for ".concat(t,":"),d.candidate),c.socket.send({type:$60fadef21a2daafc$export$adb4a1754da6f10d.Candidate,payload:{candidate:d.candidate,type:s,connectionId:r},dst:t}))},e.oniceconnectionstatechange=function(){switch(e.iceConnectionState){case"failed":$1615705ecc6adca3$exports.default.log("iceConnectionState is failed, closing connections to "+t),a.connection.emit("error",new Error("Negotiation of connection to "+t+" failed.")),a.connection.close();break;case"closed":$1615705ecc6adca3$exports.default.log("iceConnectionState is closed, closing connections to "+t),a.connection.emit("error",new Error("Connection to "+t+" closed.")),a.connection.close();break;case"disconnected":$1615705ecc6adca3$exports.default.log("iceConnectionState changed to disconnected on the connection with "+t);break;case"completed":e.onicecandidate=$06cb531ed7840f78$export$7debb50ef11d5e0b.noop;break}a.connection.emit("iceStateChanged",e.iceConnectionState)},$1615705ecc6adca3$exports.default.log("Listening for data channel"),e.ondatachannel=function(d){$1615705ecc6adca3$exports.default.log("Received data channel");var u=d.channel,m=c.getConnection(t,r);m.initialize(u)},$1615705ecc6adca3$exports.default.log("Listening for remote stream"),e.ontrack=function(d){$1615705ecc6adca3$exports.default.log("Received remote stream");var u=d.streams[0],m=c.getConnection(t,r);if(m.type===$60fadef21a2daafc$export$3157d57b4135e3bc.Media){var g=m;a._addStreamToMediaConnection(u,g)}}},n.prototype.cleanup=function(){$1615705ecc6adca3$exports.default.log("Cleaning up PeerConnection to "+this.connection.peer);var e=this.connection.peerConnection;if(!!e){this.connection.peerConnection=null,e.onicecandidate=e.oniceconnectionstatechange=e.ondatachannel=e.ontrack=function(){};var a=e.signalingState!=="closed",t=!1;if(this.connection.type===$60fadef21a2daafc$export$3157d57b4135e3bc.Data){var r=this.connection,s=r.dataChannel;s&&(t=!!s.readyState&&s.readyState!=="closed")}(a||t)&&e.close()}},n.prototype._makeOffer=function(){return $77f14d3e81888156$var$__awaiter(this,void 0,Promise,function(){var e,a,t,r,s,c,d;return $77f14d3e81888156$var$__generator(this,function(u){switch(u.label){case 0:e=this.connection.peerConnection,a=this.connection.provider,u.label=1;case 1:return u.trys.push([1,7,,8]),[4,e.createOffer(this.connection.options.constraints)];case 2:t=u.sent(),$1615705ecc6adca3$exports.default.log("Created offer."),this.connection.options.sdpTransform&&typeof this.connection.options.sdpTransform=="function"&&(t.sdp=this.connection.options.sdpTransform(t.sdp)||t.sdp),u.label=3;case 3:return u.trys.push([3,5,,6]),[4,e.setLocalDescription(t)];case 4:return u.sent(),$1615705ecc6adca3$exports.default.log("Set localDescription:",t,"for:".concat(this.connection.peer)),r={sdp:t,type:this.connection.type,connectionId:this.connection.connectionId,metadata:this.connection.metadata,browser:$06cb531ed7840f78$export$7debb50ef11d5e0b.browser},this.connection.type===$60fadef21a2daafc$export$3157d57b4135e3bc.Data&&(s=this.connection,r=$77f14d3e81888156$var$__assign($77f14d3e81888156$var$__assign({},r),{label:s.label,reliable:s.reliable,serialization:s.serialization})),a.socket.send({type:$60fadef21a2daafc$export$adb4a1754da6f10d.Offer,payload:r,dst:this.connection.peer}),[3,6];case 5:return c=u.sent(),c!="OperationError: Failed to set local offer sdp: Called in wrong state: kHaveRemoteOffer"&&(a.emitError($60fadef21a2daafc$export$9547aaa2e39030ff.WebRTC,c),$1615705ecc6adca3$exports.default.log("Failed to setLocalDescription, ",c)),[3,6];case 6:return[3,8];case 7:return d=u.sent(),a.emitError($60fadef21a2daafc$export$9547aaa2e39030ff.WebRTC,d),$1615705ecc6adca3$exports.default.log("Failed to createOffer, ",d),[3,8];case 8:return[2]}})})},n.prototype._makeAnswer=function(){return $77f14d3e81888156$var$__awaiter(this,void 0,Promise,function(){var e,a,t,r,s;return $77f14d3e81888156$var$__generator(this,function(c){switch(c.label){case 0:e=this.connection.peerConnection,a=this.connection.provider,c.label=1;case 1:return c.trys.push([1,7,,8]),[4,e.createAnswer()];case 2:t=c.sent(),$1615705ecc6adca3$exports.default.log("Created answer."),this.connection.options.sdpTransform&&typeof this.connection.options.sdpTransform=="function"&&(t.sdp=this.connection.options.sdpTransform(t.sdp)||t.sdp),c.label=3;case 3:return c.trys.push([3,5,,6]),[4,e.setLocalDescription(t)];case 4:return c.sent(),$1615705ecc6adca3$exports.default.log("Set localDescription:",t,"for:".concat(this.connection.peer)),a.socket.send({type:$60fadef21a2daafc$export$adb4a1754da6f10d.Answer,payload:{sdp:t,type:this.connection.type,connectionId:this.connection.connectionId,browser:$06cb531ed7840f78$export$7debb50ef11d5e0b.browser},dst:this.connection.peer}),[3,6];case 5:return r=c.sent(),a.emitError($60fadef21a2daafc$export$9547aaa2e39030ff.WebRTC,r),$1615705ecc6adca3$exports.default.log("Failed to setLocalDescription, ",r),[3,6];case 6:return[3,8];case 7:return s=c.sent(),a.emitError($60fadef21a2daafc$export$9547aaa2e39030ff.WebRTC,s),$1615705ecc6adca3$exports.default.log("Failed to create answer, ",s),[3,8];case 8:return[2]}})})},n.prototype.handleSDP=function(e,a){return $77f14d3e81888156$var$__awaiter(this,void 0,Promise,function(){var t,r,s,c;return $77f14d3e81888156$var$__generator(this,function(d){switch(d.label){case 0:a=new RTCSessionDescription(a),t=this.connection.peerConnection,r=this.connection.provider,$1615705ecc6adca3$exports.default.log("Setting remote description",a),s=this,d.label=1;case 1:return d.trys.push([1,5,,6]),[4,t.setRemoteDescription(a)];case 2:return d.sent(),$1615705ecc6adca3$exports.default.log("Set remoteDescription:".concat(e," for:").concat(this.connection.peer)),e!=="OFFER"?[3,4]:[4,s._makeAnswer()];case 3:d.sent(),d.label=4;case 4:return[3,6];case 5:return c=d.sent(),r.emitError($60fadef21a2daafc$export$9547aaa2e39030ff.WebRTC,c),$1615705ecc6adca3$exports.default.log("Failed to setRemoteDescription, ",c),[3,6];case 6:return[2]}})})},n.prototype.handleCandidate=function(e){return $77f14d3e81888156$var$__awaiter(this,void 0,Promise,function(){var a,t,r,s,c,d;return $77f14d3e81888156$var$__generator(this,function(u){switch(u.label){case 0:$1615705ecc6adca3$exports.default.log("handleCandidate:",e),a=e.candidate,t=e.sdpMLineIndex,r=e.sdpMid,s=this.connection.peerConnection,c=this.connection.provider,u.label=1;case 1:return u.trys.push([1,3,,4]),[4,s.addIceCandidate(new RTCIceCandidate({sdpMid:r,sdpMLineIndex:t,candidate:a}))];case 2:return u.sent(),$1615705ecc6adca3$exports.default.log("Added ICE candidate for:".concat(this.connection.peer)),[3,4];case 3:return d=u.sent(),c.emitError($60fadef21a2daafc$export$9547aaa2e39030ff.WebRTC,d),$1615705ecc6adca3$exports.default.log("Failed to handleCandidate, ",d),[3,4];case 4:return[2]}})})},n.prototype._addTracksToConnection=function(e,a){if($1615705ecc6adca3$exports.default.log("add tracks from stream ".concat(e.id," to peer connection")),!a.addTrack)return $1615705ecc6adca3$exports.default.error("Your browser does't support RTCPeerConnection#addTrack. Ignored.");e.getTracks().forEach(function(t){a.addTrack(t,e)})},n.prototype._addStreamToMediaConnection=function(e,a){$1615705ecc6adca3$exports.default.log("add stream ".concat(e.id," to media connection ").concat(a.connectionId)),a.addStream(e)},n}(),$0b3b332fd86c5202$exports={};$parcel$export($0b3b332fd86c5202$exports,"BaseConnection",()=>$0b3b332fd86c5202$export$23a2a68283c24d80,n=>$0b3b332fd86c5202$export$23a2a68283c24d80=n);var $0b3b332fd86c5202$var$__extends=function(){var n=function(e,a){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])},n(e,a)};return function(e,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");n(e,a);function t(){this.constructor=e}e.prototype=a===null?Object.create(a):(t.prototype=a.prototype,new t)}}(),$0b3b332fd86c5202$export$23a2a68283c24d80=function(n){$0b3b332fd86c5202$var$__extends(e,n);function e(a,t,r){var s=n.call(this)||this;return s.peer=a,s.provider=t,s.options=r,s._open=!1,s.metadata=r.metadata,s}return Object.defineProperty(e.prototype,"open",{get:function(){return this._open},enumerable:!1,configurable:!0}),e}($ac9b757d51178e15$exports.EventEmitter),$353dee38f9ab557b$var$__extends=function(){var n=function(e,a){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])},n(e,a)};return function(e,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");n(e,a);function t(){this.constructor=e}e.prototype=a===null?Object.create(a):(t.prototype=a.prototype,new t)}}(),$353dee38f9ab557b$var$__assign=function(){return $353dee38f9ab557b$var$__assign=Object.assign||function(n){for(var e,a=1,t=arguments.length;a<t;a++){e=arguments[a];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},$353dee38f9ab557b$var$__assign.apply(this,arguments)},$353dee38f9ab557b$var$__values=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,a=e&&n[e],t=0;if(a)return a.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&t>=n.length&&(n=void 0),{value:n&&n[t++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},$353dee38f9ab557b$export$4a84e95a2324ac29=function(n){$353dee38f9ab557b$var$__extends(e,n);function e(a,t,r){var s=n.call(this,a,t,r)||this;return s._localStream=s.options._stream,s.connectionId=s.options.connectionId||e.ID_PREFIX+$06cb531ed7840f78$export$7debb50ef11d5e0b.randomToken(),s._negotiator=new $77f14d3e81888156$exports.Negotiator(s),s._localStream&&s._negotiator.startConnection({_stream:s._localStream,originator:!0}),s}return Object.defineProperty(e.prototype,"type",{get:function(){return $60fadef21a2daafc$export$3157d57b4135e3bc.Media},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"localStream",{get:function(){return this._localStream},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"remoteStream",{get:function(){return this._remoteStream},enumerable:!1,configurable:!0}),e.prototype.addStream=function(a){$1615705ecc6adca3$exports.default.log("Receiving stream",a),this._remoteStream=a,n.prototype.emit.call(this,"stream",a)},e.prototype.handleMessage=function(a){var t=a.type,r=a.payload;switch(a.type){case $60fadef21a2daafc$export$adb4a1754da6f10d.Answer:this._negotiator.handleSDP(t,r.sdp),this._open=!0;break;case $60fadef21a2daafc$export$adb4a1754da6f10d.Candidate:this._negotiator.handleCandidate(r.candidate);break;default:$1615705ecc6adca3$exports.default.warn("Unrecognized message type:".concat(t," from peer:").concat(this.peer));break}},e.prototype.answer=function(a,t){var r,s;if(t===void 0&&(t={}),this._localStream){$1615705ecc6adca3$exports.default.warn("Local stream already exists on this MediaConnection. Are you answering a call twice?");return}this._localStream=a,t&&t.sdpTransform&&(this.options.sdpTransform=t.sdpTransform),this._negotiator.startConnection($353dee38f9ab557b$var$__assign($353dee38f9ab557b$var$__assign({},this.options._payload),{_stream:a}));var c=this.provider._getMessages(this.connectionId);try{for(var d=$353dee38f9ab557b$var$__values(c),u=d.next();!u.done;u=d.next()){var m=u.value;this.handleMessage(m)}}catch(g){r={error:g}}finally{try{u&&!u.done&&(s=d.return)&&s.call(d)}finally{if(r)throw r.error}}this._open=!0},e.prototype.close=function(){this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this._localStream=null,this._remoteStream=null,this.provider&&(this.provider._removeConnection(this),this.provider=null),this.options&&this.options._stream&&(this.options._stream=null),this.open&&(this._open=!1,n.prototype.emit.call(this,"close"))},e.ID_PREFIX="mc_",e}($0b3b332fd86c5202$exports.BaseConnection),$3356170d7bce7f20$exports={};$parcel$export($3356170d7bce7f20$exports,"DataConnection",()=>$3356170d7bce7f20$export$d365f7ad9d7df9c9,n=>$3356170d7bce7f20$export$d365f7ad9d7df9c9=n);var $3014d862dcc9946b$exports={};$parcel$export($3014d862dcc9946b$exports,"EncodingQueue",()=>$3014d862dcc9946b$export$c6913ae0ed687038,n=>$3014d862dcc9946b$export$c6913ae0ed687038=n);var $3014d862dcc9946b$var$__extends=function(){var n=function(e,a){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])},n(e,a)};return function(e,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");n(e,a);function t(){this.constructor=e}e.prototype=a===null?Object.create(a):(t.prototype=a.prototype,new t)}}(),$3014d862dcc9946b$export$c6913ae0ed687038=function(n){$3014d862dcc9946b$var$__extends(e,n);function e(){var a=n.call(this)||this;return a.fileReader=new FileReader,a._queue=[],a._processing=!1,a.fileReader.onload=function(t){a._processing=!1,t.target&&a.emit("done",t.target.result),a.doNextTask()},a.fileReader.onerror=function(t){$1615705ecc6adca3$exports.default.error("EncodingQueue error:",t),a._processing=!1,a.destroy(),a.emit("error",t)},a}return Object.defineProperty(e.prototype,"queue",{get:function(){return this._queue},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this.queue.length},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"processing",{get:function(){return this._processing},enumerable:!1,configurable:!0}),e.prototype.enque=function(a){this.queue.push(a),!this.processing&&this.doNextTask()},e.prototype.destroy=function(){this.fileReader.abort(),this._queue=[]},e.prototype.doNextTask=function(){this.size!==0&&(this.processing||(this._processing=!0,this.fileReader.readAsArrayBuffer(this.queue.shift())))},e}($ac9b757d51178e15$exports.EventEmitter),$3356170d7bce7f20$var$__extends=function(){var n=function(e,a){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])},n(e,a)};return function(e,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");n(e,a);function t(){this.constructor=e}e.prototype=a===null?Object.create(a):(t.prototype=a.prototype,new t)}}(),$3356170d7bce7f20$var$__values=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,a=e&&n[e],t=0;if(a)return a.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&t>=n.length&&(n=void 0),{value:n&&n[t++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},$3356170d7bce7f20$export$d365f7ad9d7df9c9=function(n){$3356170d7bce7f20$var$__extends(e,n);function e(a,t,r){var s=n.call(this,a,t,r)||this;return s.stringify=JSON.stringify,s.parse=JSON.parse,s._buffer=[],s._bufferSize=0,s._buffering=!1,s._chunkedData={},s._encodingQueue=new $3014d862dcc9946b$exports.EncodingQueue,s.connectionId=s.options.connectionId||e.ID_PREFIX+$06cb531ed7840f78$export$7debb50ef11d5e0b.randomToken(),s.label=s.options.label||s.connectionId,s.serialization=s.options.serialization||$60fadef21a2daafc$export$89f507cf986a947.Binary,s.reliable=!!s.options.reliable,s._encodingQueue.on("done",function(c){s._bufferedSend(c)}),s._encodingQueue.on("error",function(){$1615705ecc6adca3$exports.default.error("DC#".concat(s.connectionId,": Error occured in encoding from blob to arraybuffer, close DC")),s.close()}),s._negotiator=new $77f14d3e81888156$exports.Negotiator(s),s._negotiator.startConnection(s.options._payload||{originator:!0}),s}return Object.defineProperty(e.prototype,"type",{get:function(){return $60fadef21a2daafc$export$3157d57b4135e3bc.Data},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dataChannel",{get:function(){return this._dc},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bufferSize",{get:function(){return this._bufferSize},enumerable:!1,configurable:!0}),e.prototype.initialize=function(a){this._dc=a,this._configureDataChannel()},e.prototype._configureDataChannel=function(){var a=this;(!$06cb531ed7840f78$export$7debb50ef11d5e0b.supports.binaryBlob||$06cb531ed7840f78$export$7debb50ef11d5e0b.supports.reliable)&&(this.dataChannel.binaryType="arraybuffer"),this.dataChannel.onopen=function(){$1615705ecc6adca3$exports.default.log("DC#".concat(a.connectionId," dc connection success")),a._open=!0,a.emit("open")},this.dataChannel.onmessage=function(t){$1615705ecc6adca3$exports.default.log("DC#".concat(a.connectionId," dc onmessage:"),t.data),a._handleDataMessage(t)},this.dataChannel.onclose=function(){$1615705ecc6adca3$exports.default.log("DC#".concat(a.connectionId," dc closed for:"),a.peer),a.close()}},e.prototype._handleDataMessage=function(a){var t=this,r=a.data,s=r.constructor,c=this.serialization===$60fadef21a2daafc$export$89f507cf986a947.Binary||this.serialization===$60fadef21a2daafc$export$89f507cf986a947.BinaryUTF8,d=r;if(c){if(s===Blob){$06cb531ed7840f78$export$7debb50ef11d5e0b.blobToArrayBuffer(r,function(m){var g=$06cb531ed7840f78$export$7debb50ef11d5e0b.unpack(m);t.emit("data",g)});return}else if(s===ArrayBuffer)d=$06cb531ed7840f78$export$7debb50ef11d5e0b.unpack(r);else if(s===String){var u=$06cb531ed7840f78$export$7debb50ef11d5e0b.binaryStringToArrayBuffer(r);d=$06cb531ed7840f78$export$7debb50ef11d5e0b.unpack(u)}}else this.serialization===$60fadef21a2daafc$export$89f507cf986a947.JSON&&(d=this.parse(r));if(d.__peerData){this._handleChunk(d);return}n.prototype.emit.call(this,"data",d)},e.prototype._handleChunk=function(a){var t=a.__peerData,r=this._chunkedData[t]||{data:[],count:0,total:a.total};if(r.data[a.n]=a.data,r.count++,this._chunkedData[t]=r,r.total===r.count){delete this._chunkedData[t];var s=new Blob(r.data);this._handleDataMessage({data:s})}},e.prototype.close=function(){this._buffer=[],this._bufferSize=0,this._chunkedData={},this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this.provider&&(this.provider._removeConnection(this),this.provider=null),this.dataChannel&&(this.dataChannel.onopen=null,this.dataChannel.onmessage=null,this.dataChannel.onclose=null,this._dc=null),this._encodingQueue&&(this._encodingQueue.destroy(),this._encodingQueue.removeAllListeners(),this._encodingQueue=null),this.open&&(this._open=!1,n.prototype.emit.call(this,"close"))},e.prototype.send=function(a,t){if(!this.open){n.prototype.emit.call(this,"error",new Error("Connection is not open. You should listen for the `open` event before sending messages."));return}if(this.serialization===$60fadef21a2daafc$export$89f507cf986a947.JSON)this._bufferedSend(this.stringify(a));else if(this.serialization===$60fadef21a2daafc$export$89f507cf986a947.Binary||this.serialization===$60fadef21a2daafc$export$89f507cf986a947.BinaryUTF8){var r=$06cb531ed7840f78$export$7debb50ef11d5e0b.pack(a);if(!t&&r.size>$06cb531ed7840f78$export$7debb50ef11d5e0b.chunkedMTU){this._sendChunks(r);return}$06cb531ed7840f78$export$7debb50ef11d5e0b.supports.binaryBlob?this._bufferedSend(r):this._encodingQueue.enque(r)}else this._bufferedSend(a)},e.prototype._bufferedSend=function(a){(this._buffering||!this._trySend(a))&&(this._buffer.push(a),this._bufferSize=this._buffer.length)},e.prototype._trySend=function(a){var t=this;if(!this.open)return!1;if(this.dataChannel.bufferedAmount>e.MAX_BUFFERED_AMOUNT)return this._buffering=!0,setTimeout(function(){t._buffering=!1,t._tryBuffer()},50),!1;try{this.dataChannel.send(a)}catch(r){return $1615705ecc6adca3$exports.default.error("DC#:".concat(this.connectionId," Error when sending:"),r),this._buffering=!0,this.close(),!1}return!0},e.prototype._tryBuffer=function(){if(!!this.open&&this._buffer.length!==0){var a=this._buffer[0];this._trySend(a)&&(this._buffer.shift(),this._bufferSize=this._buffer.length,this._tryBuffer())}},e.prototype._sendChunks=function(a){var t,r,s=$06cb531ed7840f78$export$7debb50ef11d5e0b.chunk(a);$1615705ecc6adca3$exports.default.log("DC#".concat(this.connectionId," Try to send ").concat(s.length," chunks..."));try{for(var c=$3356170d7bce7f20$var$__values(s),d=c.next();!d.done;d=c.next()){var u=d.value;this.send(u,!0)}}catch(m){t={error:m}}finally{try{d&&!d.done&&(r=c.return)&&r.call(c)}finally{if(t)throw t.error}}},e.prototype.handleMessage=function(a){var t=a.payload;switch(a.type){case $60fadef21a2daafc$export$adb4a1754da6f10d.Answer:this._negotiator.handleSDP(a.type,t.sdp);break;case $60fadef21a2daafc$export$adb4a1754da6f10d.Candidate:this._negotiator.handleCandidate(t.candidate);break;default:$1615705ecc6adca3$exports.default.warn("Unrecognized message type:",a.type,"from peer:",this.peer);break}},e.ID_PREFIX="dc_",e.MAX_BUFFERED_AMOUNT=8388608,e}($0b3b332fd86c5202$exports.BaseConnection),$9e85b3e1327369e6$exports={};$parcel$export($9e85b3e1327369e6$exports,"API",()=>$9e85b3e1327369e6$export$2c4e825dc9120f87,n=>$9e85b3e1327369e6$export$2c4e825dc9120f87=n);var $9e85b3e1327369e6$var$__awaiter=function(n,e,a,t){function r(s){return s instanceof a?s:new a(function(c){c(s)})}return new(a||(a=Promise))(function(s,c){function d(g){try{m(t.next(g))}catch(_){c(_)}}function u(g){try{m(t.throw(g))}catch(_){c(_)}}function m(g){g.done?s(g.value):r(g.value).then(d,u)}m((t=t.apply(n,e||[])).next())})},$9e85b3e1327369e6$var$__generator=function(n,e){var a={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},t,r,s,c;return c={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function d(m){return function(g){return u([m,g])}}function u(m){if(t)throw new TypeError("Generator is already executing.");for(;a;)try{if(t=1,r&&(s=m[0]&2?r.return:m[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,m[1])).done)return s;switch(r=0,s&&(m=[m[0]&2,s.value]),m[0]){case 0:case 1:s=m;break;case 4:return a.label++,{value:m[1],done:!1};case 5:a.label++,r=m[1],m=[0];continue;case 7:m=a.ops.pop(),a.trys.pop();continue;default:if(s=a.trys,!(s=s.length>0&&s[s.length-1])&&(m[0]===6||m[0]===2)){a=0;continue}if(m[0]===3&&(!s||m[1]>s[0]&&m[1]<s[3])){a.label=m[1];break}if(m[0]===6&&a.label<s[1]){a.label=s[1],s=m;break}if(s&&a.label<s[2]){a.label=s[2],a.ops.push(m);break}s[2]&&a.ops.pop(),a.trys.pop();continue}m=e.call(n,a)}catch(g){m=[6,g],r=0}finally{t=s=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},$9e85b3e1327369e6$export$2c4e825dc9120f87=function(){function n(e){this._options=e}return n.prototype._buildRequest=function(e){var a=this._options.secure?"https":"http",t=this._options,r=t.host,s=t.port,c=t.path,d=t.key,u=new URL("".concat(a,"://").concat(r,":").concat(s).concat(c).concat(d,"/").concat(e));return u.searchParams.set("ts","".concat(Date.now()).concat(Math.random())),u.searchParams.set("version",$0d1ed891c5cb27c0$exports.version),fetch(u.href,{referrerPolicy:this._options.referrerPolicy})},n.prototype.retrieveId=function(){return $9e85b3e1327369e6$var$__awaiter(this,void 0,Promise,function(){var e,a,t;return $9e85b3e1327369e6$var$__generator(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,this._buildRequest("id")];case 1:if(e=r.sent(),e.status!==200)throw new Error("Error. Status:".concat(e.status));return[2,e.text()];case 2:throw a=r.sent(),$1615705ecc6adca3$exports.default.error("Error retrieving ID",a),t="",this._options.path==="/"&&this._options.host!==$06cb531ed7840f78$export$7debb50ef11d5e0b.CLOUD_HOST&&(t=" If you passed in a `path` to your self-hosted PeerServer, you'll also need to pass in that same path when creating a new Peer."),new Error("Could not get an ID from the server."+t);case 3:return[2]}})})},n.prototype.listAllPeers=function(){return $9e85b3e1327369e6$var$__awaiter(this,void 0,Promise,function(){var e,a,t;return $9e85b3e1327369e6$var$__generator(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,this._buildRequest("peers")];case 1:if(e=r.sent(),e.status!==200)throw e.status===401?(a="",this._options.host===$06cb531ed7840f78$export$7debb50ef11d5e0b.CLOUD_HOST?a="It looks like you're using the cloud server. You can email team@peerjs.com to enable peer listing for your API key.":a="You need to enable `allow_discovery` on your self-hosted PeerServer to use this feature.",new Error("It doesn't look like you have permission to list peers IDs. "+a)):new Error("Error. Status:".concat(e.status));return[2,e.json()];case 2:throw t=r.sent(),$1615705ecc6adca3$exports.default.error("Error retrieving list peers",t),new Error("Could not get list peers from the server."+t);case 3:return[2]}})})},n}(),$26088d7da5b03f69$var$__extends=function(){var n=function(e,a){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])},n(e,a)};return function(e,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");n(e,a);function t(){this.constructor=e}e.prototype=a===null?Object.create(a):(t.prototype=a.prototype,new t)}}(),$26088d7da5b03f69$var$__assign=function(){return $26088d7da5b03f69$var$__assign=Object.assign||function(n){for(var e,a=1,t=arguments.length;a<t;a++){e=arguments[a];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},$26088d7da5b03f69$var$__assign.apply(this,arguments)},$26088d7da5b03f69$var$__values=function(n){var e=typeof Symbol=="function"&&Symbol.iterator,a=e&&n[e],t=0;if(a)return a.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&t>=n.length&&(n=void 0),{value:n&&n[t++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},$26088d7da5b03f69$var$__read=function(n,e){var a=typeof Symbol=="function"&&n[Symbol.iterator];if(!a)return n;var t=a.call(n),r,s=[],c;try{for(;(e===void 0||e-- >0)&&!(r=t.next()).done;)s.push(r.value)}catch(d){c={error:d}}finally{try{r&&!r.done&&(a=t.return)&&a.call(t)}finally{if(c)throw c.error}}return s},$26088d7da5b03f69$export$ecd1fc136c422448=function(n){$26088d7da5b03f69$var$__extends(e,n);function e(a,t){var r=n.call(this)||this;r._id=null,r._lastServerId=null,r._destroyed=!1,r._disconnected=!1,r._open=!1,r._connections=new Map,r._lostMessages=new Map;var s;return a&&a.constructor==Object?t=a:a&&(s=a.toString()),t=$26088d7da5b03f69$var$__assign({debug:0,host:$06cb531ed7840f78$export$7debb50ef11d5e0b.CLOUD_HOST,port:$06cb531ed7840f78$export$7debb50ef11d5e0b.CLOUD_PORT,path:"/",key:e.DEFAULT_KEY,token:$06cb531ed7840f78$export$7debb50ef11d5e0b.randomToken(),config:$06cb531ed7840f78$export$7debb50ef11d5e0b.defaultConfig,referrerPolicy:"strict-origin-when-cross-origin"},t),r._options=t,r._options.host==="/"&&(r._options.host=window.location.hostname),r._options.path&&(r._options.path[0]!=="/"&&(r._options.path="/"+r._options.path),r._options.path[r._options.path.length-1]!=="/"&&(r._options.path+="/")),r._options.secure===void 0&&r._options.host!==$06cb531ed7840f78$export$7debb50ef11d5e0b.CLOUD_HOST?r._options.secure=$06cb531ed7840f78$export$7debb50ef11d5e0b.isSecure():r._options.host==$06cb531ed7840f78$export$7debb50ef11d5e0b.CLOUD_HOST&&(r._options.secure=!0),r._options.logFunction&&$1615705ecc6adca3$exports.default.setLogFunction(r._options.logFunction),$1615705ecc6adca3$exports.default.logLevel=r._options.debug||0,r._api=new $9e85b3e1327369e6$exports.API(t),r._socket=r._createServerConnection(),!$06cb531ed7840f78$export$7debb50ef11d5e0b.supports.audioVideo&&!$06cb531ed7840f78$export$7debb50ef11d5e0b.supports.data?(r._delayedAbort($60fadef21a2daafc$export$9547aaa2e39030ff.BrowserIncompatible,"The current browser does not support WebRTC"),r):!!s&&!$06cb531ed7840f78$export$7debb50ef11d5e0b.validateId(s)?(r._delayedAbort($60fadef21a2daafc$export$9547aaa2e39030ff.InvalidID,'ID "'.concat(s,'" is invalid')),r):(s?r._initialize(s):r._api.retrieveId().then(function(c){return r._initialize(c)}).catch(function(c){return r._abort($60fadef21a2daafc$export$9547aaa2e39030ff.ServerError,c)}),r)}return Object.defineProperty(e.prototype,"id",{get:function(){return this._id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this._options},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"open",{get:function(){return this._open},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"socket",{get:function(){return this._socket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"connections",{get:function(){var a,t,r=Object.create(null);try{for(var s=$26088d7da5b03f69$var$__values(this._connections),c=s.next();!c.done;c=s.next()){var d=$26088d7da5b03f69$var$__read(c.value,2),u=d[0],m=d[1];r[u]=m}}catch(g){a={error:g}}finally{try{c&&!c.done&&(t=s.return)&&t.call(s)}finally{if(a)throw a.error}}return r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"destroyed",{get:function(){return this._destroyed},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"disconnected",{get:function(){return this._disconnected},enumerable:!1,configurable:!0}),e.prototype._createServerConnection=function(){var a=this,t=new $31d11a8d122cb4b7$exports.Socket(this._options.secure,this._options.host,this._options.port,this._options.path,this._options.key,this._options.pingInterval);return t.on($60fadef21a2daafc$export$3b5c4a4b6354f023.Message,function(r){a._handleMessage(r)}),t.on($60fadef21a2daafc$export$3b5c4a4b6354f023.Error,function(r){a._abort($60fadef21a2daafc$export$9547aaa2e39030ff.SocketError,r)}),t.on($60fadef21a2daafc$export$3b5c4a4b6354f023.Disconnected,function(){a.disconnected||(a.emitError($60fadef21a2daafc$export$9547aaa2e39030ff.Network,"Lost connection to server."),a.disconnect())}),t.on($60fadef21a2daafc$export$3b5c4a4b6354f023.Close,function(){a.disconnected||a._abort($60fadef21a2daafc$export$9547aaa2e39030ff.SocketClosed,"Underlying socket is already closed.")}),t},e.prototype._initialize=function(a){this._id=a,this.socket.start(a,this._options.token)},e.prototype._handleMessage=function(a){var t,r,s=a.type,c=a.payload,d=a.src;switch(s){case $60fadef21a2daafc$export$adb4a1754da6f10d.Open:this._lastServerId=this.id,this._open=!0,this.emit("open",this.id);break;case $60fadef21a2daafc$export$adb4a1754da6f10d.Error:this._abort($60fadef21a2daafc$export$9547aaa2e39030ff.ServerError,c.msg);break;case $60fadef21a2daafc$export$adb4a1754da6f10d.IdTaken:this._abort($60fadef21a2daafc$export$9547aaa2e39030ff.UnavailableID,'ID "'.concat(this.id,'" is taken'));break;case $60fadef21a2daafc$export$adb4a1754da6f10d.InvalidKey:this._abort($60fadef21a2daafc$export$9547aaa2e39030ff.InvalidKey,'API KEY "'.concat(this._options.key,'" is invalid'));break;case $60fadef21a2daafc$export$adb4a1754da6f10d.Leave:$1615705ecc6adca3$exports.default.log("Received leave message from ".concat(d)),this._cleanupPeer(d),this._connections.delete(d);break;case $60fadef21a2daafc$export$adb4a1754da6f10d.Expire:this.emitError($60fadef21a2daafc$export$9547aaa2e39030ff.PeerUnavailable,"Could not connect to peer ".concat(d));break;case $60fadef21a2daafc$export$adb4a1754da6f10d.Offer:var C=c.connectionId,R=this.getConnection(d,C);if(R&&(R.close(),$1615705ecc6adca3$exports.default.warn("Offer received for existing Connection ID:".concat(C))),c.type===$60fadef21a2daafc$export$3157d57b4135e3bc.Media){var u=new $353dee38f9ab557b$exports.MediaConnection(d,this,{connectionId:C,_payload:c,metadata:c.metadata});R=u,this._addConnection(d,R),this.emit("call",u)}else if(c.type===$60fadef21a2daafc$export$3157d57b4135e3bc.Data){var m=new $3356170d7bce7f20$exports.DataConnection(d,this,{connectionId:C,_payload:c,metadata:c.metadata,label:c.label,serialization:c.serialization,reliable:c.reliable});R=m,this._addConnection(d,R),this.emit("connection",m)}else{$1615705ecc6adca3$exports.default.warn("Received malformed connection type:".concat(c.type));return}var g=this._getMessages(C);try{for(var _=$26088d7da5b03f69$var$__values(g),b=_.next();!b.done;b=_.next()){var S=b.value;R.handleMessage(S)}}catch(w){t={error:w}}finally{try{b&&!b.done&&(r=_.return)&&r.call(_)}finally{if(t)throw t.error}}break;default:if(!c){$1615705ecc6adca3$exports.default.warn("You received a malformed message from ".concat(d," of type ").concat(s));return}var C=c.connectionId,R=this.getConnection(d,C);R&&R.peerConnection?R.handleMessage(a):C?this._storeMessage(C,a):$1615705ecc6adca3$exports.default.warn("You received an unrecognized message:",a);break}},e.prototype._storeMessage=function(a,t){this._lostMessages.has(a)||this._lostMessages.set(a,[]),this._lostMessages.get(a).push(t)},e.prototype._getMessages=function(a){var t=this._lostMessages.get(a);return t?(this._lostMessages.delete(a),t):[]},e.prototype.connect=function(a,t){if(t===void 0&&(t={}),this.disconnected){$1615705ecc6adca3$exports.default.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect, or call reconnect on this peer if you believe its ID to still be available."),this.emitError($60fadef21a2daafc$export$9547aaa2e39030ff.Disconnected,"Cannot connect to new Peer after disconnecting from server.");return}var r=new $3356170d7bce7f20$exports.DataConnection(a,this,t);return this._addConnection(a,r),r},e.prototype.call=function(a,t,r){if(r===void 0&&(r={}),this.disconnected){$1615705ecc6adca3$exports.default.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect."),this.emitError($60fadef21a2daafc$export$9547aaa2e39030ff.Disconnected,"Cannot connect to new Peer after disconnecting from server.");return}if(!t){$1615705ecc6adca3$exports.default.error("To call a peer, you must provide a stream from your browser's `getUserMedia`.");return}var s=new $353dee38f9ab557b$exports.MediaConnection(a,this,$26088d7da5b03f69$var$__assign($26088d7da5b03f69$var$__assign({},r),{_stream:t}));return this._addConnection(a,s),s},e.prototype._addConnection=function(a,t){$1615705ecc6adca3$exports.default.log("add connection ".concat(t.type,":").concat(t.connectionId," to peerId:").concat(a)),this._connections.has(a)||this._connections.set(a,[]),this._connections.get(a).push(t)},e.prototype._removeConnection=function(a){var t=this._connections.get(a.peer);if(t){var r=t.indexOf(a);r!==-1&&t.splice(r,1)}this._lostMessages.delete(a.connectionId)},e.prototype.getConnection=function(a,t){var r,s,c=this._connections.get(a);if(!c)return null;try{for(var d=$26088d7da5b03f69$var$__values(c),u=d.next();!u.done;u=d.next()){var m=u.value;if(m.connectionId===t)return m}}catch(g){r={error:g}}finally{try{u&&!u.done&&(s=d.return)&&s.call(d)}finally{if(r)throw r.error}}return null},e.prototype._delayedAbort=function(a,t){var r=this;setTimeout(function(){r._abort(a,t)},0)},e.prototype._abort=function(a,t){$1615705ecc6adca3$exports.default.error("Aborting!"),this.emitError(a,t),this._lastServerId?this.disconnect():this.destroy()},e.prototype.emitError=function(a,t){$1615705ecc6adca3$exports.default.error("Error:",t);var r;typeof t=="string"?r=new Error(t):r=t,r.type=a,this.emit("error",r)},e.prototype.destroy=function(){this.destroyed||($1615705ecc6adca3$exports.default.log("Destroy peer with ID:".concat(this.id)),this.disconnect(),this._cleanup(),this._destroyed=!0,this.emit("close"))},e.prototype._cleanup=function(){var a,t;try{for(var r=$26088d7da5b03f69$var$__values(this._connections.keys()),s=r.next();!s.done;s=r.next()){var c=s.value;this._cleanupPeer(c),this._connections.delete(c)}}catch(d){a={error:d}}finally{try{s&&!s.done&&(t=r.return)&&t.call(r)}finally{if(a)throw a.error}}this.socket.removeAllListeners()},e.prototype._cleanupPeer=function(a){var t,r,s=this._connections.get(a);if(!!s)try{for(var c=$26088d7da5b03f69$var$__values(s),d=c.next();!d.done;d=c.next()){var u=d.value;u.close()}}catch(m){t={error:m}}finally{try{d&&!d.done&&(r=c.return)&&r.call(c)}finally{if(t)throw t.error}}},e.prototype.disconnect=function(){if(!this.disconnected){var a=this.id;$1615705ecc6adca3$exports.default.log("Disconnect peer with ID:".concat(a)),this._disconnected=!0,this._open=!1,this.socket.close(),this._lastServerId=a,this._id=null,this.emit("disconnected",a)}},e.prototype.reconnect=function(){if(this.disconnected&&!this.destroyed)$1615705ecc6adca3$exports.default.log("Attempting reconnection to server with ID ".concat(this._lastServerId)),this._disconnected=!1,this._initialize(this._lastServerId);else{if(this.destroyed)throw new Error("This peer cannot reconnect to the server. It has already been destroyed.");if(!this.disconnected&&!this.open)$1615705ecc6adca3$exports.default.error("In a hurry? We're still trying to make the initial connection!");else throw new Error("Peer ".concat(this.id," cannot reconnect because it is not disconnected from the server!"))}},e.prototype.listAllPeers=function(a){var t=this;a===void 0&&(a=function(r){}),this._api.listAllPeers().then(function(r){return a(r)}).catch(function(r){return t._abort($60fadef21a2daafc$export$9547aaa2e39030ff.ServerError,r)})},e.DEFAULT_KEY="peerjs",e}($ac9b757d51178e15$exports.EventEmitter),$70d766613f57b014$export$2e2bcd8739ae039=$26088d7da5b03f69$exports.Peer;function cubicOut(n){const e=n-1;return e*e*e+1}function fade(n,{delay:e=0,duration:a=400,easing:t=identity}={}){const r=+getComputedStyle(n).opacity;return{delay:e,duration:a,easing:t,css:s=>`opacity: ${s*r}`}}function fly(n,{delay:e=0,duration:a=400,easing:t=cubicOut,x:r=0,y:s=0,opacity:c=0}={}){const d=getComputedStyle(n),u=+d.opacity,m=d.transform==="none"?"":d.transform,g=u*(1-c);return{delay:e,duration:a,easing:t,css:(_,b)=>`
			transform: ${m} translate(${(1-_)*r}px, ${(1-_)*s}px);
			opacity: ${u-g*b}`}}function slide(n,{delay:e=0,duration:a=400,easing:t=cubicOut}={}){const r=getComputedStyle(n),s=+r.opacity,c=parseFloat(r.height),d=parseFloat(r.paddingTop),u=parseFloat(r.paddingBottom),m=parseFloat(r.marginTop),g=parseFloat(r.marginBottom),_=parseFloat(r.borderTopWidth),b=parseFloat(r.borderBottomWidth);return{delay:e,duration:a,easing:t,css:S=>`overflow: hidden;opacity: ${Math.min(S*20,1)*s};height: ${S*c}px;padding-top: ${S*d}px;padding-bottom: ${S*u}px;margin-top: ${S*m}px;margin-bottom: ${S*g}px;border-top-width: ${S*_}px;border-bottom-width: ${S*b}px;`}}function flip$2(n,{from:e,to:a},t={}){const r=getComputedStyle(n),s=r.transform==="none"?"":r.transform,[c,d]=r.transformOrigin.split(" ").map(parseFloat),u=e.left+e.width*c/a.width-(a.left+c),m=e.top+e.height*d/a.height-(a.top+d),{delay:g=0,duration:_=S=>Math.sqrt(S)*120,easing:b=cubicOut}=t;return{delay:g,duration:is_function(_)?_(Math.sqrt(u*u+m*m)):_,easing:b,css:(S,C)=>{const R=C*u,w=C*m,k=S+C*e.width/a.width,$=S+C*e.height/a.height;return`transform: ${s} translate(${R}px, ${w}px) scale(${k}, ${$});`}}}const defaults={duration:4e3,initial:1,next:0,pausable:!1,dismissable:!0,reversed:!1,intro:{x:256}},createToast=()=>{const{subscribe:n,update:e}=writable([]);let a=0;const t={},r=m=>m instanceof Object;return{subscribe:n,push:(m,g={})=>{const _={target:"default",...r(m)?m:{...g,msg:m}},b=t[_.target]||{},S={...defaults,...b,..._,theme:{...b.theme,..._.theme},classes:[...b.classes||[],..._.classes||[]],id:++a};return e(C=>S.reversed?[...C,S]:[S,...C]),a},pop:m=>{e(g=>{if(!g.length||m===0)return[];if(r(m))return g.filter(b=>m(b));const _=m||Math.max(...g.map(b=>b.id));return g.filter(b=>b.id!==_)})},set:(m,g={})=>{const _=r(m)?{...m}:{...g,id:m};e(b=>{const S=b.findIndex(C=>C.id===_.id);return S>-1&&(b[S]={...b[S],..._}),b})},_init:(m="default",g={})=>(t[m]=g,t)}},toast=createToast();function is_date(n){return Object.prototype.toString.call(n)==="[object Date]"}function get_interpolator(n,e){if(n===e||n!==n)return()=>n;const a=typeof n;if(a!==typeof e||Array.isArray(n)!==Array.isArray(e))throw new Error("Cannot interpolate values of different type");if(Array.isArray(n)){const t=e.map((r,s)=>get_interpolator(n[s],r));return r=>t.map(s=>s(r))}if(a==="object"){if(!n||!e)throw new Error("Object cannot be null");if(is_date(n)&&is_date(e)){n=n.getTime(),e=e.getTime();const s=e-n;return c=>new Date(n+c*s)}const t=Object.keys(e),r={};return t.forEach(s=>{r[s]=get_interpolator(n[s],e[s])}),s=>{const c={};return t.forEach(d=>{c[d]=r[d](s)}),c}}if(a==="number"){const t=e-n;return r=>n+r*t}throw new Error(`Cannot interpolate ${a} values`)}function tweened(n,e={}){const a=writable(n);let t,r=n;function s(c,d){if(n==null)return a.set(n=c),Promise.resolve();r=c;let u=t,m=!1,{delay:g=0,duration:_=400,easing:b=identity,interpolate:S=get_interpolator}=assign$3(assign$3({},e),d);if(_===0)return u&&(u.abort(),u=null),a.set(n=r),Promise.resolve();const C=now()+g;let R;return t=loop(w=>{if(w<C)return!0;m||(R=S(n,c),typeof _=="function"&&(_=_(n,c)),m=!0),u&&(u.abort(),u=null);const k=w-C;return k>_?(a.set(n=c),!1):(a.set(n=R(b(k/_))),!0)}),t.promise}return{set:s,update:(c,d)=>s(c(r,n),d),subscribe:a.subscribe}}const ToastItem_svelte_svelte_type_style_lang="";function create_else_block$2(n){let e,a=n[0].msg+"",t;return{c(){e=new HtmlTag(!1),t=empty(),e.a=t},m(r,s){e.m(a,r,s),insert(r,t,s)},p(r,s){s&1&&a!==(a=r[0].msg+"")&&e.p(a)},i:noop$1,o:noop$1,d(r){r&&detach(t),r&&e.d()}}}function create_if_block_1$4(n){let e,a,t;const r=[n[2]];var s=n[0].component.src;function c(d){let u={};for(let m=0;m<r.length;m+=1)u=assign$3(u,r[m]);return{props:u}}return s&&(e=construct_svelte_component(s,c())),{c(){e&&create_component(e.$$.fragment),a=empty()},m(d,u){e&&mount_component(e,d,u),insert(d,a,u),t=!0},p(d,u){const m=u&4?get_spread_update(r,[get_spread_object(d[2])]):{};if(s!==(s=d[0].component.src)){if(e){group_outros();const g=e;transition_out(g.$$.fragment,1,0,()=>{destroy_component(g,1)}),check_outros()}s?(e=construct_svelte_component(s,c()),create_component(e.$$.fragment),transition_in(e.$$.fragment,1),mount_component(e,a.parentNode,a)):e=null}else s&&e.$set(m)},i(d){t||(e&&transition_in(e.$$.fragment,d),t=!0)},o(d){e&&transition_out(e.$$.fragment,d),t=!1},d(d){d&&detach(a),e&&destroy_component(e,d)}}}function create_if_block$7(n){let e,a,t;return{c(){e=element("div"),attr(e,"class","_toastBtn pe svelte-l65oht"),attr(e,"role","button"),attr(e,"tabindex","0")},m(r,s){insert(r,e,s),a||(t=[listen(e,"click",n[4]),listen(e,"keydown",n[8])],a=!0)},p:noop$1,d(r){r&&detach(e),a=!1,run_all(t)}}}function create_fragment$s(n){let e,a,t,r,s,c,d,u,m,g;const _=[create_if_block_1$4,create_else_block$2],b=[];function S(R,w){return R[0].component?0:1}t=S(n),r=b[t]=_[t](n);let C=n[0].dismissable&&create_if_block$7(n);return{c(){e=element("div"),a=element("div"),r.c(),s=space(),C&&C.c(),c=space(),d=element("progress"),attr(a,"role","status"),attr(a,"class","_toastMsg svelte-l65oht"),toggle_class(a,"pe",n[0].component),attr(d,"class","_toastBar svelte-l65oht"),d.value=n[1],attr(e,"class","_toastItem svelte-l65oht"),toggle_class(e,"pe",n[0].pausable)},m(R,w){insert(R,e,w),append(e,a),b[t].m(a,null),append(e,s),C&&C.m(e,null),append(e,c),append(e,d),u=!0,m||(g=[listen(e,"mouseenter",n[9]),listen(e,"mouseleave",n[6])],m=!0)},p(R,[w]){let k=t;t=S(R),t===k?b[t].p(R,w):(group_outros(),transition_out(b[k],1,1,()=>{b[k]=null}),check_outros(),r=b[t],r?r.p(R,w):(r=b[t]=_[t](R),r.c()),transition_in(r,1),r.m(a,null)),(!u||w&1)&&toggle_class(a,"pe",R[0].component),R[0].dismissable?C?C.p(R,w):(C=create_if_block$7(R),C.c(),C.m(e,c)):C&&(C.d(1),C=null),(!u||w&2)&&(d.value=R[1]),(!u||w&1)&&toggle_class(e,"pe",R[0].pausable)},i(R){u||(transition_in(r),u=!0)},o(R){transition_out(r),u=!1},d(R){R&&detach(e),b[t].d(),C&&C.d(),m=!1,run_all(g)}}}function instance$s(n,e,a){let t,{item:r}=e;const s=tweened(r.initial,{duration:r.duration,easing:identity});component_subscribe(n,s,O=>a(1,t=O));const c=()=>toast.pop(r.id),d=()=>{(t===1||t===0)&&c()};let u=r.initial,m=u,g=!1;const _=()=>{!g&&t!==u&&(s.set(t,{duration:0}),g=!0)},b=()=>{if(g){const O=r.duration,P=O-O*((t-m)/(u-m));s.set(u,{duration:P}).then(d),g=!1}};let S={};const C=(O,P="undefined")=>typeof O===P;let R;onMount((O=document)=>{if(C(O.hidden))return;const P=()=>O.hidden?_():b(),x="visibilitychange";O.addEventListener(x,P),R=()=>O.removeEventListener(x,P),P()}),onDestroy(()=>{C(r.onpop,"function")&&r.onpop(r.id),R&&R()});const k=O=>{O instanceof KeyboardEvent&&["Enter"," "].includes(O.key)&&c()},$=()=>{r.pausable&&_()};return n.$$set=O=>{"item"in O&&a(0,r=O.item)},n.$$.update=()=>{if(n.$$.dirty&1&&(C(r.progress)||a(0,r.next=r.progress,r)),n.$$.dirty&131&&u!==r.next&&(a(7,u=r.next),m=t,g=!1,s.set(u).then(d)),n.$$.dirty&1&&r.component){const{props:O={},sendIdTo:P}=r.component;a(2,S={...O,...P&&{[P]:r.id}})}},[r,t,S,s,c,_,b,u,k,$]}class ToastItem extends SvelteComponent{constructor(e){super(),init$1(this,e,instance$s,create_fragment$s,safe_not_equal,{item:0})}}const SvelteToast_svelte_svelte_type_style_lang="";function get_each_context$4(n,e,a){const t=n.slice();return t[5]=e[a],t}function create_each_block$4(n,e){let a,t,r,s,c,d,u,m,g=noop$1,_;return t=new ToastItem({props:{item:e[5]}}),{key:n,first:null,c(){a=element("li"),create_component(t.$$.fragment),r=space(),attr(a,"class",s=null_to_empty(e[5].classes.join(" "))+" svelte-yh90az"),attr(a,"style",c=e[1](e[5].theme)),this.first=a},m(b,S){insert(b,a,S),mount_component(t,a,null),append(a,r),_=!0},p(b,S){e=b;const C={};S&1&&(C.item=e[5]),t.$set(C),(!_||S&1&&s!==(s=null_to_empty(e[5].classes.join(" "))+" svelte-yh90az"))&&attr(a,"class",s),(!_||S&1&&c!==(c=e[1](e[5].theme)))&&attr(a,"style",c)},r(){m=a.getBoundingClientRect()},f(){fix_position(a),g(),add_transform(a,m)},a(){g(),g=create_animation(a,m,flip$2,{duration:200})},i(b){_||(transition_in(t.$$.fragment,b),add_render_callback(()=>{u&&u.end(1),d=create_in_transition(a,fly,e[5].intro),d.start()}),_=!0)},o(b){transition_out(t.$$.fragment,b),d&&d.invalidate(),u=create_out_transition(a,fade,{}),_=!1},d(b){b&&detach(a),destroy_component(t),b&&u&&u.end()}}}function create_fragment$r(n){let e,a=[],t=new Map,r,s=n[0];const c=d=>d[5].id;for(let d=0;d<s.length;d+=1){let u=get_each_context$4(n,s,d),m=c(u);t.set(m,a[d]=create_each_block$4(m,u))}return{c(){e=element("ul");for(let d=0;d<a.length;d+=1)a[d].c();attr(e,"class","_toastContainer svelte-yh90az")},m(d,u){insert(d,e,u);for(let m=0;m<a.length;m+=1)a[m].m(e,null);r=!0},p(d,[u]){if(u&3){s=d[0],group_outros();for(let m=0;m<a.length;m+=1)a[m].r();a=update_keyed_each(a,u,c,1,d,s,t,e,fix_and_outro_and_destroy_block,create_each_block$4,null,get_each_context$4);for(let m=0;m<a.length;m+=1)a[m].a();check_outros()}},i(d){if(!r){for(let u=0;u<s.length;u+=1)transition_in(a[u]);r=!0}},o(d){for(let u=0;u<a.length;u+=1)transition_out(a[u]);r=!1},d(d){d&&detach(e);for(let u=0;u<a.length;u+=1)a[u].d()}}}function instance$r(n,e,a){let t;component_subscribe(n,toast,u=>a(4,t=u));let{options:r={}}=e,{target:s="default"}=e,c;const d=u=>Object.keys(u).reduce((m,g)=>`${m}${g}:${u[g]};`,"");return n.$$set=u=>{"options"in u&&a(2,r=u.options),"target"in u&&a(3,s=u.target)},n.$$.update=()=>{n.$$.dirty&12&&toast._init(s,r),n.$$.dirty&24&&a(0,c=t.filter(u=>u.target===s))},[c,d,r,s,t]}class SvelteToast extends SvelteComponent{constructor(e){super(),init$1(this,e,instance$r,create_fragment$r,safe_not_equal,{options:2,target:3})}}var minimal$1={exports:{}},indexMinimal={},minimal={},aspromise,hasRequiredAspromise;function requireAspromise(){if(hasRequiredAspromise)return aspromise;hasRequiredAspromise=1,aspromise=n;function n(e,a){for(var t=new Array(arguments.length-1),r=0,s=2,c=!0;s<arguments.length;)t[r++]=arguments[s++];return new Promise(function(u,m){t[r]=function(_){if(c)if(c=!1,_)m(_);else{for(var b=new Array(arguments.length-1),S=0;S<b.length;)b[S++]=arguments[S];u.apply(null,b)}};try{e.apply(a||null,t)}catch(g){c&&(c=!1,m(g))}})}return aspromise}var base64$1={},hasRequiredBase64;function requireBase64(){return hasRequiredBase64||(hasRequiredBase64=1,function(n){var e=n;e.length=function(d){var u=d.length;if(!u)return 0;for(var m=0;--u%4>1&&d.charAt(u)==="=";)++m;return Math.ceil(d.length*3)/4-m};for(var a=new Array(64),t=new Array(123),r=0;r<64;)t[a[r]=r<26?r+65:r<52?r+71:r<62?r-4:r-59|43]=r++;e.encode=function(d,u,m){for(var g=null,_=[],b=0,S=0,C;u<m;){var R=d[u++];switch(S){case 0:_[b++]=a[R>>2],C=(R&3)<<4,S=1;break;case 1:_[b++]=a[C|R>>4],C=(R&15)<<2,S=2;break;case 2:_[b++]=a[C|R>>6],_[b++]=a[R&63],S=0;break}b>8191&&((g||(g=[])).push(String.fromCharCode.apply(String,_)),b=0)}return S&&(_[b++]=a[C],_[b++]=61,S===1&&(_[b++]=61)),g?(b&&g.push(String.fromCharCode.apply(String,_.slice(0,b))),g.join("")):String.fromCharCode.apply(String,_.slice(0,b))};var s="invalid encoding";e.decode=function(d,u,m){for(var g=m,_=0,b,S=0;S<d.length;){var C=d.charCodeAt(S++);if(C===61&&_>1)break;if((C=t[C])===void 0)throw Error(s);switch(_){case 0:b=C,_=1;break;case 1:u[m++]=b<<2|(C&48)>>4,b=C,_=2;break;case 2:u[m++]=(b&15)<<4|(C&60)>>2,b=C,_=3;break;case 3:u[m++]=(b&3)<<6|C,_=0;break}}if(_===1)throw Error(s);return m-g},e.test=function(d){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(d)}}(base64$1)),base64$1}var eventemitter,hasRequiredEventemitter;function requireEventemitter(){if(hasRequiredEventemitter)return eventemitter;hasRequiredEventemitter=1,eventemitter=n;function n(){this._listeners={}}return n.prototype.on=function(a,t,r){return(this._listeners[a]||(this._listeners[a]=[])).push({fn:t,ctx:r||this}),this},n.prototype.off=function(a,t){if(a===void 0)this._listeners={};else if(t===void 0)this._listeners[a]=[];else for(var r=this._listeners[a],s=0;s<r.length;)r[s].fn===t?r.splice(s,1):++s;return this},n.prototype.emit=function(a){var t=this._listeners[a];if(t){for(var r=[],s=1;s<arguments.length;)r.push(arguments[s++]);for(s=0;s<t.length;)t[s].fn.apply(t[s++].ctx,r)}return this},eventemitter}var float,hasRequiredFloat;function requireFloat(){if(hasRequiredFloat)return float;hasRequiredFloat=1,float=n(n);function n(s){return typeof Float32Array<"u"?function(){var c=new Float32Array([-0]),d=new Uint8Array(c.buffer),u=d[3]===128;function m(S,C,R){c[0]=S,C[R]=d[0],C[R+1]=d[1],C[R+2]=d[2],C[R+3]=d[3]}function g(S,C,R){c[0]=S,C[R]=d[3],C[R+1]=d[2],C[R+2]=d[1],C[R+3]=d[0]}s.writeFloatLE=u?m:g,s.writeFloatBE=u?g:m;function _(S,C){return d[0]=S[C],d[1]=S[C+1],d[2]=S[C+2],d[3]=S[C+3],c[0]}function b(S,C){return d[3]=S[C],d[2]=S[C+1],d[1]=S[C+2],d[0]=S[C+3],c[0]}s.readFloatLE=u?_:b,s.readFloatBE=u?b:_}():function(){function c(u,m,g,_){var b=m<0?1:0;if(b&&(m=-m),m===0)u(1/m>0?0:2147483648,g,_);else if(isNaN(m))u(2143289344,g,_);else if(m>34028234663852886e22)u((b<<31|2139095040)>>>0,g,_);else if(m<11754943508222875e-54)u((b<<31|Math.round(m/1401298464324817e-60))>>>0,g,_);else{var S=Math.floor(Math.log(m)/Math.LN2),C=Math.round(m*Math.pow(2,-S)*8388608)&8388607;u((b<<31|S+127<<23|C)>>>0,g,_)}}s.writeFloatLE=c.bind(null,e),s.writeFloatBE=c.bind(null,a);function d(u,m,g){var _=u(m,g),b=(_>>31)*2+1,S=_>>>23&255,C=_&8388607;return S===255?C?NaN:b*(1/0):S===0?b*1401298464324817e-60*C:b*Math.pow(2,S-150)*(C+8388608)}s.readFloatLE=d.bind(null,t),s.readFloatBE=d.bind(null,r)}(),typeof Float64Array<"u"?function(){var c=new Float64Array([-0]),d=new Uint8Array(c.buffer),u=d[7]===128;function m(S,C,R){c[0]=S,C[R]=d[0],C[R+1]=d[1],C[R+2]=d[2],C[R+3]=d[3],C[R+4]=d[4],C[R+5]=d[5],C[R+6]=d[6],C[R+7]=d[7]}function g(S,C,R){c[0]=S,C[R]=d[7],C[R+1]=d[6],C[R+2]=d[5],C[R+3]=d[4],C[R+4]=d[3],C[R+5]=d[2],C[R+6]=d[1],C[R+7]=d[0]}s.writeDoubleLE=u?m:g,s.writeDoubleBE=u?g:m;function _(S,C){return d[0]=S[C],d[1]=S[C+1],d[2]=S[C+2],d[3]=S[C+3],d[4]=S[C+4],d[5]=S[C+5],d[6]=S[C+6],d[7]=S[C+7],c[0]}function b(S,C){return d[7]=S[C],d[6]=S[C+1],d[5]=S[C+2],d[4]=S[C+3],d[3]=S[C+4],d[2]=S[C+5],d[1]=S[C+6],d[0]=S[C+7],c[0]}s.readDoubleLE=u?_:b,s.readDoubleBE=u?b:_}():function(){function c(u,m,g,_,b,S){var C=_<0?1:0;if(C&&(_=-_),_===0)u(0,b,S+m),u(1/_>0?0:2147483648,b,S+g);else if(isNaN(_))u(0,b,S+m),u(2146959360,b,S+g);else if(_>17976931348623157e292)u(0,b,S+m),u((C<<31|2146435072)>>>0,b,S+g);else{var R;if(_<22250738585072014e-324)R=_/5e-324,u(R>>>0,b,S+m),u((C<<31|R/4294967296)>>>0,b,S+g);else{var w=Math.floor(Math.log(_)/Math.LN2);w===1024&&(w=1023),R=_*Math.pow(2,-w),u(R*4503599627370496>>>0,b,S+m),u((C<<31|w+1023<<20|R*1048576&1048575)>>>0,b,S+g)}}}s.writeDoubleLE=c.bind(null,e,0,4),s.writeDoubleBE=c.bind(null,a,4,0);function d(u,m,g,_,b){var S=u(_,b+m),C=u(_,b+g),R=(C>>31)*2+1,w=C>>>20&2047,k=4294967296*(C&1048575)+S;return w===2047?k?NaN:R*(1/0):w===0?R*5e-324*k:R*Math.pow(2,w-1075)*(k+4503599627370496)}s.readDoubleLE=d.bind(null,t,0,4),s.readDoubleBE=d.bind(null,r,4,0)}(),s}function e(s,c,d){c[d]=s&255,c[d+1]=s>>>8&255,c[d+2]=s>>>16&255,c[d+3]=s>>>24}function a(s,c,d){c[d]=s>>>24,c[d+1]=s>>>16&255,c[d+2]=s>>>8&255,c[d+3]=s&255}function t(s,c){return(s[c]|s[c+1]<<8|s[c+2]<<16|s[c+3]<<24)>>>0}function r(s,c){return(s[c]<<24|s[c+1]<<16|s[c+2]<<8|s[c+3])>>>0}return float}var inquire_1,hasRequiredInquire;function requireInquire(){if(hasRequiredInquire)return inquire_1;hasRequiredInquire=1,inquire_1=inquire;function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(n){}return null}return inquire_1}var utf8$2={},hasRequiredUtf8;function requireUtf8(){return hasRequiredUtf8||(hasRequiredUtf8=1,function(n){var e=n;e.length=function(t){for(var r=0,s=0,c=0;c<t.length;++c)s=t.charCodeAt(c),s<128?r+=1:s<2048?r+=2:(s&64512)===55296&&(t.charCodeAt(c+1)&64512)===56320?(++c,r+=4):r+=3;return r},e.read=function(t,r,s){var c=s-r;if(c<1)return"";for(var d=null,u=[],m=0,g;r<s;)g=t[r++],g<128?u[m++]=g:g>191&&g<224?u[m++]=(g&31)<<6|t[r++]&63:g>239&&g<365?(g=((g&7)<<18|(t[r++]&63)<<12|(t[r++]&63)<<6|t[r++]&63)-65536,u[m++]=55296+(g>>10),u[m++]=56320+(g&1023)):u[m++]=(g&15)<<12|(t[r++]&63)<<6|t[r++]&63,m>8191&&((d||(d=[])).push(String.fromCharCode.apply(String,u)),m=0);return d?(m&&d.push(String.fromCharCode.apply(String,u.slice(0,m))),d.join("")):String.fromCharCode.apply(String,u.slice(0,m))},e.write=function(t,r,s){for(var c=s,d,u,m=0;m<t.length;++m)d=t.charCodeAt(m),d<128?r[s++]=d:d<2048?(r[s++]=d>>6|192,r[s++]=d&63|128):(d&64512)===55296&&((u=t.charCodeAt(m+1))&64512)===56320?(d=65536+((d&1023)<<10)+(u&1023),++m,r[s++]=d>>18|240,r[s++]=d>>12&63|128,r[s++]=d>>6&63|128,r[s++]=d&63|128):(r[s++]=d>>12|224,r[s++]=d>>6&63|128,r[s++]=d&63|128);return s-c}}(utf8$2)),utf8$2}var pool_1,hasRequiredPool;function requirePool(){if(hasRequiredPool)return pool_1;hasRequiredPool=1,pool_1=n;function n(e,a,t){var r=t||8192,s=r>>>1,c=null,d=r;return function(m){if(m<1||m>s)return e(m);d+m>r&&(c=e(r),d=0);var g=a.call(c,d,d+=m);return d&7&&(d=(d|7)+1),g}}return pool_1}var longbits,hasRequiredLongbits;function requireLongbits(){if(hasRequiredLongbits)return longbits;hasRequiredLongbits=1,longbits=e;var n=requireMinimal();function e(s,c){this.lo=s>>>0,this.hi=c>>>0}var a=e.zero=new e(0,0);a.toNumber=function(){return 0},a.zzEncode=a.zzDecode=function(){return this},a.length=function(){return 1};var t=e.zeroHash="\0\0\0\0\0\0\0\0";e.fromNumber=function(c){if(c===0)return a;var d=c<0;d&&(c=-c);var u=c>>>0,m=(c-u)/4294967296>>>0;return d&&(m=~m>>>0,u=~u>>>0,++u>4294967295&&(u=0,++m>4294967295&&(m=0))),new e(u,m)},e.from=function(c){if(typeof c=="number")return e.fromNumber(c);if(n.isString(c))if(n.Long)c=n.Long.fromString(c);else return e.fromNumber(parseInt(c,10));return c.low||c.high?new e(c.low>>>0,c.high>>>0):a},e.prototype.toNumber=function(c){if(!c&&this.hi>>>31){var d=~this.lo+1>>>0,u=~this.hi>>>0;return d||(u=u+1>>>0),-(d+u*4294967296)}return this.lo+this.hi*4294967296},e.prototype.toLong=function(c){return n.Long?new n.Long(this.lo|0,this.hi|0,Boolean(c)):{low:this.lo|0,high:this.hi|0,unsigned:Boolean(c)}};var r=String.prototype.charCodeAt;return e.fromHash=function(c){return c===t?a:new e((r.call(c,0)|r.call(c,1)<<8|r.call(c,2)<<16|r.call(c,3)<<24)>>>0,(r.call(c,4)|r.call(c,5)<<8|r.call(c,6)<<16|r.call(c,7)<<24)>>>0)},e.prototype.toHash=function(){return String.fromCharCode(this.lo&255,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,this.hi&255,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},e.prototype.zzEncode=function(){var c=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^c)>>>0,this.lo=(this.lo<<1^c)>>>0,this},e.prototype.zzDecode=function(){var c=-(this.lo&1);return this.lo=((this.lo>>>1|this.hi<<31)^c)>>>0,this.hi=(this.hi>>>1^c)>>>0,this},e.prototype.length=function(){var c=this.lo,d=(this.lo>>>28|this.hi<<4)>>>0,u=this.hi>>>24;return u===0?d===0?c<16384?c<128?1:2:c<2097152?3:4:d<16384?d<128?5:6:d<2097152?7:8:u<128?9:10},longbits}var hasRequiredMinimal;function requireMinimal(){return hasRequiredMinimal||(hasRequiredMinimal=1,function(n){var e=n;e.asPromise=requireAspromise(),e.base64=requireBase64(),e.EventEmitter=requireEventemitter(),e.float=requireFloat(),e.inquire=requireInquire(),e.utf8=requireUtf8(),e.pool=requirePool(),e.LongBits=requireLongbits(),e.isNode=Boolean(typeof commonjsGlobal<"u"&&commonjsGlobal&&commonjsGlobal.process&&commonjsGlobal.process.versions&&commonjsGlobal.process.versions.node),e.global=e.isNode&&commonjsGlobal||typeof window<"u"&&window||typeof self<"u"&&self||commonjsGlobal,e.emptyArray=Object.freeze?Object.freeze([]):[],e.emptyObject=Object.freeze?Object.freeze({}):{},e.isInteger=Number.isInteger||function(s){return typeof s=="number"&&isFinite(s)&&Math.floor(s)===s},e.isString=function(s){return typeof s=="string"||s instanceof String},e.isObject=function(s){return s&&typeof s=="object"},e.isset=e.isSet=function(s,c){var d=s[c];return d!=null&&s.hasOwnProperty(c)?typeof d!="object"||(Array.isArray(d)?d.length:Object.keys(d).length)>0:!1},e.Buffer=function(){try{var r=e.inquire("buffer").Buffer;return r.prototype.utf8Write?r:null}catch{return null}}(),e._Buffer_from=null,e._Buffer_allocUnsafe=null,e.newBuffer=function(s){return typeof s=="number"?e.Buffer?e._Buffer_allocUnsafe(s):new e.Array(s):e.Buffer?e._Buffer_from(s):typeof Uint8Array>"u"?s:new Uint8Array(s)},e.Array=typeof Uint8Array<"u"?Uint8Array:Array,e.Long=e.global.dcodeIO&&e.global.dcodeIO.Long||e.global.Long||e.inquire("long"),e.key2Re=/^true|false|0|1$/,e.key32Re=/^-?(?:0|[1-9][0-9]*)$/,e.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,e.longToHash=function(s){return s?e.LongBits.from(s).toHash():e.LongBits.zeroHash},e.longFromHash=function(s,c){var d=e.LongBits.fromHash(s);return e.Long?e.Long.fromBits(d.lo,d.hi,c):d.toNumber(Boolean(c))};function a(r,s,c){for(var d=Object.keys(s),u=0;u<d.length;++u)(r[d[u]]===void 0||!c)&&(r[d[u]]=s[d[u]]);return r}e.merge=a,e.lcFirst=function(s){return s.charAt(0).toLowerCase()+s.substring(1)};function t(r){function s(c,d){if(!(this instanceof s))return new s(c,d);Object.defineProperty(this,"message",{get:function(){return c}}),Error.captureStackTrace?Error.captureStackTrace(this,s):Object.defineProperty(this,"stack",{value:new Error().stack||""}),d&&a(this,d)}return s.prototype=Object.create(Error.prototype,{constructor:{value:s,writable:!0,enumerable:!1,configurable:!0},name:{get(){return r},set:void 0,enumerable:!1,configurable:!0},toString:{value(){return this.name+": "+this.message},writable:!0,enumerable:!1,configurable:!0}}),s}e.newError=t,e.ProtocolError=t("ProtocolError"),e.oneOfGetter=function(s){for(var c={},d=0;d<s.length;++d)c[s[d]]=1;return function(){for(var u=Object.keys(this),m=u.length-1;m>-1;--m)if(c[u[m]]===1&&this[u[m]]!==void 0&&this[u[m]]!==null)return u[m]}},e.oneOfSetter=function(s){return function(c){for(var d=0;d<s.length;++d)s[d]!==c&&delete this[s[d]]}},e.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},e._configure=function(){var r=e.Buffer;if(!r){e._Buffer_from=e._Buffer_allocUnsafe=null;return}e._Buffer_from=r.from!==Uint8Array.from&&r.from||function(c,d){return new r(c,d)},e._Buffer_allocUnsafe=r.allocUnsafe||function(c){return new r(c)}}}(minimal)),minimal}var writer=Writer$1,util$4=requireMinimal(),BufferWriter$1,LongBits$1=util$4.LongBits,base64=util$4.base64,utf8$1=util$4.utf8;function Op(n,e,a){this.fn=n,this.len=e,this.next=void 0,this.val=a}function noop(){}function State$1(n){this.head=n.head,this.tail=n.tail,this.len=n.len,this.next=n.states}function Writer$1(){this.len=0,this.head=new Op(noop,0,0),this.tail=this.head,this.states=null}var create$1=function n(){return util$4.Buffer?function(){return(Writer$1.create=function(){return new BufferWriter$1})()}:function(){return new Writer$1}};Writer$1.create=create$1();Writer$1.alloc=function n(e){return new util$4.Array(e)};util$4.Array!==Array&&(Writer$1.alloc=util$4.pool(Writer$1.alloc,util$4.Array.prototype.subarray));Writer$1.prototype._push=function n(e,a,t){return this.tail=this.tail.next=new Op(e,a,t),this.len+=a,this};function writeByte(n,e,a){e[a]=n&255}function writeVarint32(n,e,a){for(;n>127;)e[a++]=n&127|128,n>>>=7;e[a]=n}function VarintOp(n,e){this.len=n,this.next=void 0,this.val=e}VarintOp.prototype=Object.create(Op.prototype);VarintOp.prototype.fn=writeVarint32;Writer$1.prototype.uint32=function n(e){return this.len+=(this.tail=this.tail.next=new VarintOp((e=e>>>0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this};Writer$1.prototype.int32=function n(e){return e<0?this._push(writeVarint64,10,LongBits$1.fromNumber(e)):this.uint32(e)};Writer$1.prototype.sint32=function n(e){return this.uint32((e<<1^e>>31)>>>0)};function writeVarint64(n,e,a){for(;n.hi;)e[a++]=n.lo&127|128,n.lo=(n.lo>>>7|n.hi<<25)>>>0,n.hi>>>=7;for(;n.lo>127;)e[a++]=n.lo&127|128,n.lo=n.lo>>>7;e[a++]=n.lo}Writer$1.prototype.uint64=function n(e){var a=LongBits$1.from(e);return this._push(writeVarint64,a.length(),a)};Writer$1.prototype.int64=Writer$1.prototype.uint64;Writer$1.prototype.sint64=function n(e){var a=LongBits$1.from(e).zzEncode();return this._push(writeVarint64,a.length(),a)};Writer$1.prototype.bool=function n(e){return this._push(writeByte,1,e?1:0)};function writeFixed32(n,e,a){e[a]=n&255,e[a+1]=n>>>8&255,e[a+2]=n>>>16&255,e[a+3]=n>>>24}Writer$1.prototype.fixed32=function n(e){return this._push(writeFixed32,4,e>>>0)};Writer$1.prototype.sfixed32=Writer$1.prototype.fixed32;Writer$1.prototype.fixed64=function n(e){var a=LongBits$1.from(e);return this._push(writeFixed32,4,a.lo)._push(writeFixed32,4,a.hi)};Writer$1.prototype.sfixed64=Writer$1.prototype.fixed64;Writer$1.prototype.float=function n(e){return this._push(util$4.float.writeFloatLE,4,e)};Writer$1.prototype.double=function n(e){return this._push(util$4.float.writeDoubleLE,8,e)};var writeBytes=util$4.Array.prototype.set?function n(e,a,t){a.set(e,t)}:function n(e,a,t){for(var r=0;r<e.length;++r)a[t+r]=e[r]};Writer$1.prototype.bytes=function n(e){var a=e.length>>>0;if(!a)return this._push(writeByte,1,0);if(util$4.isString(e)){var t=Writer$1.alloc(a=base64.length(e));base64.decode(e,t,0),e=t}return this.uint32(a)._push(writeBytes,a,e)};Writer$1.prototype.string=function n(e){var a=utf8$1.length(e);return a?this.uint32(a)._push(utf8$1.write,a,e):this._push(writeByte,1,0)};Writer$1.prototype.fork=function n(){return this.states=new State$1(this),this.head=this.tail=new Op(noop,0,0),this.len=0,this};Writer$1.prototype.reset=function n(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new Op(noop,0,0),this.len=0),this};Writer$1.prototype.ldelim=function n(){var e=this.head,a=this.tail,t=this.len;return this.reset().uint32(t),t&&(this.tail.next=e.next,this.tail=a,this.len+=t),this};Writer$1.prototype.finish=function n(){for(var e=this.head.next,a=this.constructor.alloc(this.len),t=0;e;)e.fn(e.val,a,t),t+=e.len,e=e.next;return a};Writer$1._configure=function(n){BufferWriter$1=n,Writer$1.create=create$1(),BufferWriter$1._configure()};var writer_buffer=BufferWriter,Writer=writer;(BufferWriter.prototype=Object.create(Writer.prototype)).constructor=BufferWriter;var util$3=requireMinimal();function BufferWriter(){Writer.call(this)}BufferWriter._configure=function(){BufferWriter.alloc=util$3._Buffer_allocUnsafe,BufferWriter.writeBytesBuffer=util$3.Buffer&&util$3.Buffer.prototype instanceof Uint8Array&&util$3.Buffer.prototype.set.name==="set"?function(e,a,t){a.set(e,t)}:function(e,a,t){if(e.copy)e.copy(a,t,0,e.length);else for(var r=0;r<e.length;)a[t++]=e[r++]}};BufferWriter.prototype.bytes=function n(e){util$3.isString(e)&&(e=util$3._Buffer_from(e,"base64"));var a=e.length>>>0;return this.uint32(a),a&&this._push(BufferWriter.writeBytesBuffer,a,e),this};function writeStringBuffer(n,e,a){n.length<40?util$3.utf8.write(n,e,a):e.utf8Write?e.utf8Write(n,a):e.write(n,a)}BufferWriter.prototype.string=function n(e){var a=util$3.Buffer.byteLength(e);return this.uint32(a),a&&this._push(writeStringBuffer,a,e),this};BufferWriter._configure();var reader=Reader$1,util$2=requireMinimal(),BufferReader$1,LongBits=util$2.LongBits,utf8=util$2.utf8;function indexOutOfRange(n,e){return RangeError("index out of range: "+n.pos+" + "+(e||1)+" > "+n.len)}function Reader$1(n){this.buf=n,this.pos=0,this.len=n.length}var create_array=typeof Uint8Array<"u"?function n(e){if(e instanceof Uint8Array||Array.isArray(e))return new Reader$1(e);throw Error("illegal buffer")}:function n(e){if(Array.isArray(e))return new Reader$1(e);throw Error("illegal buffer")},create=function n(){return util$2.Buffer?function(a){return(Reader$1.create=function(r){return util$2.Buffer.isBuffer(r)?new BufferReader$1(r):create_array(r)})(a)}:create_array};Reader$1.create=create();Reader$1.prototype._slice=util$2.Array.prototype.subarray||util$2.Array.prototype.slice;Reader$1.prototype.uint32=function n(){var e=4294967295;return function(){if(e=(this.buf[this.pos]&127)>>>0,this.buf[this.pos++]<128||(e=(e|(this.buf[this.pos]&127)<<7)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&127)<<14)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&127)<<21)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&15)<<28)>>>0,this.buf[this.pos++]<128))return e;if((this.pos+=5)>this.len)throw this.pos=this.len,indexOutOfRange(this,10);return e}}();Reader$1.prototype.int32=function n(){return this.uint32()|0};Reader$1.prototype.sint32=function n(){var e=this.uint32();return e>>>1^-(e&1)|0};function readLongVarint(){var n=new LongBits(0,0),e=0;if(this.len-this.pos>4){for(;e<4;++e)if(n.lo=(n.lo|(this.buf[this.pos]&127)<<e*7)>>>0,this.buf[this.pos++]<128)return n;if(n.lo=(n.lo|(this.buf[this.pos]&127)<<28)>>>0,n.hi=(n.hi|(this.buf[this.pos]&127)>>4)>>>0,this.buf[this.pos++]<128)return n;e=0}else{for(;e<3;++e){if(this.pos>=this.len)throw indexOutOfRange(this);if(n.lo=(n.lo|(this.buf[this.pos]&127)<<e*7)>>>0,this.buf[this.pos++]<128)return n}return n.lo=(n.lo|(this.buf[this.pos++]&127)<<e*7)>>>0,n}if(this.len-this.pos>4){for(;e<5;++e)if(n.hi=(n.hi|(this.buf[this.pos]&127)<<e*7+3)>>>0,this.buf[this.pos++]<128)return n}else for(;e<5;++e){if(this.pos>=this.len)throw indexOutOfRange(this);if(n.hi=(n.hi|(this.buf[this.pos]&127)<<e*7+3)>>>0,this.buf[this.pos++]<128)return n}throw Error("invalid varint encoding")}Reader$1.prototype.bool=function n(){return this.uint32()!==0};function readFixed32_end(n,e){return(n[e-4]|n[e-3]<<8|n[e-2]<<16|n[e-1]<<24)>>>0}Reader$1.prototype.fixed32=function n(){if(this.pos+4>this.len)throw indexOutOfRange(this,4);return readFixed32_end(this.buf,this.pos+=4)};Reader$1.prototype.sfixed32=function n(){if(this.pos+4>this.len)throw indexOutOfRange(this,4);return readFixed32_end(this.buf,this.pos+=4)|0};function readFixed64(){if(this.pos+8>this.len)throw indexOutOfRange(this,8);return new LongBits(readFixed32_end(this.buf,this.pos+=4),readFixed32_end(this.buf,this.pos+=4))}Reader$1.prototype.float=function n(){if(this.pos+4>this.len)throw indexOutOfRange(this,4);var e=util$2.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e};Reader$1.prototype.double=function n(){if(this.pos+8>this.len)throw indexOutOfRange(this,4);var e=util$2.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e};Reader$1.prototype.bytes=function n(){var e=this.uint32(),a=this.pos,t=this.pos+e;if(t>this.len)throw indexOutOfRange(this,e);return this.pos+=e,Array.isArray(this.buf)?this.buf.slice(a,t):a===t?new this.buf.constructor(0):this._slice.call(this.buf,a,t)};Reader$1.prototype.string=function n(){var e=this.bytes();return utf8.read(e,0,e.length)};Reader$1.prototype.skip=function n(e){if(typeof e=="number"){if(this.pos+e>this.len)throw indexOutOfRange(this,e);this.pos+=e}else do if(this.pos>=this.len)throw indexOutOfRange(this);while(this.buf[this.pos++]&128);return this};Reader$1.prototype.skipType=function(n){switch(n){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(n=this.uint32()&7)!==4;)this.skipType(n);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+n+" at offset "+this.pos)}return this};Reader$1._configure=function(n){BufferReader$1=n,Reader$1.create=create(),BufferReader$1._configure();var e=util$2.Long?"toLong":"toNumber";util$2.merge(Reader$1.prototype,{int64:function(){return readLongVarint.call(this)[e](!1)},uint64:function(){return readLongVarint.call(this)[e](!0)},sint64:function(){return readLongVarint.call(this).zzDecode()[e](!1)},fixed64:function(){return readFixed64.call(this)[e](!0)},sfixed64:function(){return readFixed64.call(this)[e](!1)}})};var reader_buffer=BufferReader,Reader=reader;(BufferReader.prototype=Object.create(Reader.prototype)).constructor=BufferReader;var util$1=requireMinimal();function BufferReader(n){Reader.call(this,n)}BufferReader._configure=function(){util$1.Buffer&&(BufferReader.prototype._slice=util$1.Buffer.prototype.slice)};BufferReader.prototype.string=function n(){var e=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+e,this.len))};BufferReader._configure();var rpc={},service=Service,util=requireMinimal();(Service.prototype=Object.create(util.EventEmitter.prototype)).constructor=Service;function Service(n,e,a){if(typeof n!="function")throw TypeError("rpcImpl must be a function");util.EventEmitter.call(this),this.rpcImpl=n,this.requestDelimited=Boolean(e),this.responseDelimited=Boolean(a)}Service.prototype.rpcCall=function n(e,a,t,r,s){if(!r)throw TypeError("request must be specified");var c=this;if(!s)return util.asPromise(n,c,e,a,t,r);if(!c.rpcImpl){setTimeout(function(){s(Error("already ended"))},0);return}try{return c.rpcImpl(e,a[c.requestDelimited?"encodeDelimited":"encode"](r).finish(),function(u,m){if(u)return c.emit("error",u,e),s(u);if(m===null){c.end(!0);return}if(!(m instanceof t))try{m=t[c.responseDelimited?"decodeDelimited":"decode"](m)}catch(g){return c.emit("error",g,e),s(g)}return c.emit("data",m,e),s(null,m)})}catch(d){c.emit("error",d,e),setTimeout(function(){s(d)},0);return}};Service.prototype.end=function n(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this};(function(n){var e=n;e.Service=service})(rpc);var roots={};(function(n){var e=n;e.build="minimal",e.Writer=writer,e.BufferWriter=writer_buffer,e.Reader=reader,e.BufferReader=reader_buffer,e.util=requireMinimal(),e.rpc=rpc,e.roots=roots,e.configure=a;function a(){e.util._configure(),e.Writer._configure(e.BufferWriter),e.Reader._configure(e.BufferReader)}a()})(indexMinimal);(function(n){n.exports=indexMinimal})(minimal$1);const $Reader=minimal$1.exports.Reader,$Writer=minimal$1.exports.Writer,$util=minimal$1.exports.util,$root=minimal$1.exports.roots.default||(minimal$1.exports.roots.default={}),rov_action_api=$root.rov_action_api=(()=>{const n={};return n.SensorMeasurmentTypes=function(){const e={},a=Object.create(e);return a[e[0]="depth_meters"]=0,a[e[1]="water_temp_celsius"]=1,a[e[2]="pressure_mbar"]=2,a[e[3]="yaw_degrees"]=3,a[e[4]="pitch_degrees"]=4,a[e[5]="roll_degrees"]=5,a[e[6]="x_acceleration_m_s2"]=6,a[e[7]="y_acceleration_m_s2"]=7,a[e[8]="z_acceleration_m_s2"]=8,a[e[9]="battery_voltage"]=9,a[e[10]="battery_current_amps"]=10,a[e[11]="internal_temp_celsius"]=11,a}(),n.PingAction=function(){function e(a){if(a)for(let t=Object.keys(a),r=0;r<t.length;++r)a[t[r]]!=null&&(this[t[r]]=a[t[r]])}return e.prototype.Time=$util.Long?$util.Long.fromBits(0,0,!1):0,e.create=function(t){return new e(t)},e.encode=function(t,r){return r||(r=$Writer.create()),t.Time!=null&&Object.hasOwnProperty.call(t,"Time")&&r.uint32(8).int64(t.Time),r},e.encodeDelimited=function(t,r){return this.encode(t,r).ldelim()},e.decode=function(t,r){t instanceof $Reader||(t=$Reader.create(t));let s=r===void 0?t.len:t.pos+r,c=new $root.rov_action_api.PingAction;for(;t.pos<s;){let d=t.uint32();switch(d>>>3){case 1:{c.Time=t.int64();break}default:t.skipType(d&7);break}}return c},e.decodeDelimited=function(t){return t instanceof $Reader||(t=new $Reader(t)),this.decode(t,t.uint32())},e.verify=function(t){return typeof t!="object"||t===null?"object expected":t.Time!=null&&t.hasOwnProperty("Time")&&!$util.isInteger(t.Time)&&!(t.Time&&$util.isInteger(t.Time.low)&&$util.isInteger(t.Time.high))?"Time: integer|Long expected":null},e.fromObject=function(t){if(t instanceof $root.rov_action_api.PingAction)return t;let r=new $root.rov_action_api.PingAction;return t.Time!=null&&($util.Long?(r.Time=$util.Long.fromValue(t.Time)).unsigned=!1:typeof t.Time=="string"?r.Time=parseInt(t.Time,10):typeof t.Time=="number"?r.Time=t.Time:typeof t.Time=="object"&&(r.Time=new $util.LongBits(t.Time.low>>>0,t.Time.high>>>0).toNumber())),r},e.toObject=function(t,r){r||(r={});let s={};if(r.defaults)if($util.Long){let c=new $util.Long(0,0,!1);s.Time=r.longs===String?c.toString():r.longs===Number?c.toNumber():c}else s.Time=r.longs===String?"0":0;return t.Time!=null&&t.hasOwnProperty("Time")&&(typeof t.Time=="number"?s.Time=r.longs===String?String(t.Time):t.Time:s.Time=r.longs===String?$util.Long.prototype.toString.call(t.Time):r.longs===Number?new $util.LongBits(t.Time.low>>>0,t.Time.high>>>0).toNumber():t.Time),s},e.prototype.toJSON=function(){return this.constructor.toObject(this,minimal$1.exports.util.toJSONOptions)},e.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/rov_action_api.PingAction"},e}(),n.PasswordAttemptAction=function(){function e(a){if(a)for(let t=Object.keys(a),r=0;r<t.length;++r)a[t[r]]!=null&&(this[t[r]]=a[t[r]])}return e.prototype.Password="",e.create=function(t){return new e(t)},e.encode=function(t,r){return r||(r=$Writer.create()),t.Password!=null&&Object.hasOwnProperty.call(t,"Password")&&r.uint32(10).string(t.Password),r},e.encodeDelimited=function(t,r){return this.encode(t,r).ldelim()},e.decode=function(t,r){t instanceof $Reader||(t=$Reader.create(t));let s=r===void 0?t.len:t.pos+r,c=new $root.rov_action_api.PasswordAttemptAction;for(;t.pos<s;){let d=t.uint32();switch(d>>>3){case 1:{c.Password=t.string();break}default:t.skipType(d&7);break}}return c},e.decodeDelimited=function(t){return t instanceof $Reader||(t=new $Reader(t)),this.decode(t,t.uint32())},e.verify=function(t){return typeof t!="object"||t===null?"object expected":t.Password!=null&&t.hasOwnProperty("Password")&&!$util.isString(t.Password)?"Password: string expected":null},e.fromObject=function(t){if(t instanceof $root.rov_action_api.PasswordAttemptAction)return t;let r=new $root.rov_action_api.PasswordAttemptAction;return t.Password!=null&&(r.Password=String(t.Password)),r},e.toObject=function(t,r){r||(r={});let s={};return r.defaults&&(s.Password=""),t.Password!=null&&t.hasOwnProperty("Password")&&(s.Password=t.Password),s},e.prototype.toJSON=function(){return this.constructor.toObject(this,minimal$1.exports.util.toJSONOptions)},e.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/rov_action_api.PasswordAttemptAction"},e}(),n.AuthTokenAttemptAction=function(){function e(a){if(a)for(let t=Object.keys(a),r=0;r<t.length;++r)a[t[r]]!=null&&(this[t[r]]=a[t[r]])}return e.prototype.Token="",e.create=function(t){return new e(t)},e.encode=function(t,r){return r||(r=$Writer.create()),t.Token!=null&&Object.hasOwnProperty.call(t,"Token")&&r.uint32(10).string(t.Token),r},e.encodeDelimited=function(t,r){return this.encode(t,r).ldelim()},e.decode=function(t,r){t instanceof $Reader||(t=$Reader.create(t));let s=r===void 0?t.len:t.pos+r,c=new $root.rov_action_api.AuthTokenAttemptAction;for(;t.pos<s;){let d=t.uint32();switch(d>>>3){case 1:{c.Token=t.string();break}default:t.skipType(d&7);break}}return c},e.decodeDelimited=function(t){return t instanceof $Reader||(t=new $Reader(t)),this.decode(t,t.uint32())},e.verify=function(t){return typeof t!="object"||t===null?"object expected":t.Token!=null&&t.hasOwnProperty("Token")&&!$util.isString(t.Token)?"Token: string expected":null},e.fromObject=function(t){if(t instanceof $root.rov_action_api.AuthTokenAttemptAction)return t;let r=new $root.rov_action_api.AuthTokenAttemptAction;return t.Token!=null&&(r.Token=String(t.Token)),r},e.toObject=function(t,r){r||(r={});let s={};return r.defaults&&(s.Token=""),t.Token!=null&&t.hasOwnProperty("Token")&&(s.Token=t.Token),s},e.prototype.toJSON=function(){return this.constructor.toObject(this,minimal$1.exports.util.toJSONOptions)},e.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/rov_action_api.AuthTokenAttemptAction"},e}(),n.TakeControlAction=function(){function e(a){if(a)for(let t=Object.keys(a),r=0;r<t.length;++r)a[t[r]]!=null&&(this[t[r]]=a[t[r]])}return e.create=function(t){return new e(t)},e.encode=function(t,r){return r||(r=$Writer.create()),r},e.encodeDelimited=function(t,r){return this.encode(t,r).ldelim()},e.decode=function(t,r){t instanceof $Reader||(t=$Reader.create(t));let s=r===void 0?t.len:t.pos+r,c=new $root.rov_action_api.TakeControlAction;for(;t.pos<s;){let d=t.uint32();switch(d>>>3){default:t.skipType(d&7);break}}return c},e.decodeDelimited=function(t){return t instanceof $Reader||(t=new $Reader(t)),this.decode(t,t.uint32())},e.verify=function(t){return typeof t!="object"||t===null?"object expected":null},e.fromObject=function(t){return t instanceof $root.rov_action_api.TakeControlAction?t:new $root.rov_action_api.TakeControlAction},e.toObject=function(){return{}},e.prototype.toJSON=function(){return this.constructor.toObject(this,minimal$1.exports.util.toJSONOptions)},e.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/rov_action_api.TakeControlAction"},e}(),n.MoveAction=function(){function e(a){if(a)for(let t=Object.keys(a),r=0;r<t.length;++r)a[t[r]]!=null&&(this[t[r]]=a[t[r]])}return e.prototype.VelocityX=0,e.prototype.VelocityY=0,e.prototype.VelocityZ=0,e.prototype.AngularVelocityYaw=0,e.create=function(t){return new e(t)},e.encode=function(t,r){return r||(r=$Writer.create()),t.VelocityX!=null&&Object.hasOwnProperty.call(t,"VelocityX")&&r.uint32(13).float(t.VelocityX),t.VelocityY!=null&&Object.hasOwnProperty.call(t,"VelocityY")&&r.uint32(21).float(t.VelocityY),t.VelocityZ!=null&&Object.hasOwnProperty.call(t,"VelocityZ")&&r.uint32(29).float(t.VelocityZ),t.AngularVelocityYaw!=null&&Object.hasOwnProperty.call(t,"AngularVelocityYaw")&&r.uint32(37).float(t.AngularVelocityYaw),r},e.encodeDelimited=function(t,r){return this.encode(t,r).ldelim()},e.decode=function(t,r){t instanceof $Reader||(t=$Reader.create(t));let s=r===void 0?t.len:t.pos+r,c=new $root.rov_action_api.MoveAction;for(;t.pos<s;){let d=t.uint32();switch(d>>>3){case 1:{c.VelocityX=t.float();break}case 2:{c.VelocityY=t.float();break}case 3:{c.VelocityZ=t.float();break}case 4:{c.AngularVelocityYaw=t.float();break}default:t.skipType(d&7);break}}return c},e.decodeDelimited=function(t){return t instanceof $Reader||(t=new $Reader(t)),this.decode(t,t.uint32())},e.verify=function(t){return typeof t!="object"||t===null?"object expected":t.VelocityX!=null&&t.hasOwnProperty("VelocityX")&&typeof t.VelocityX!="number"?"VelocityX: number expected":t.VelocityY!=null&&t.hasOwnProperty("VelocityY")&&typeof t.VelocityY!="number"?"VelocityY: number expected":t.VelocityZ!=null&&t.hasOwnProperty("VelocityZ")&&typeof t.VelocityZ!="number"?"VelocityZ: number expected":t.AngularVelocityYaw!=null&&t.hasOwnProperty("AngularVelocityYaw")&&typeof t.AngularVelocityYaw!="number"?"AngularVelocityYaw: number expected":null},e.fromObject=function(t){if(t instanceof $root.rov_action_api.MoveAction)return t;let r=new $root.rov_action_api.MoveAction;return t.VelocityX!=null&&(r.VelocityX=Number(t.VelocityX)),t.VelocityY!=null&&(r.VelocityY=Number(t.VelocityY)),t.VelocityZ!=null&&(r.VelocityZ=Number(t.VelocityZ)),t.AngularVelocityYaw!=null&&(r.AngularVelocityYaw=Number(t.AngularVelocityYaw)),r},e.toObject=function(t,r){r||(r={});let s={};return r.defaults&&(s.VelocityX=0,s.VelocityY=0,s.VelocityZ=0,s.AngularVelocityYaw=0),t.VelocityX!=null&&t.hasOwnProperty("VelocityX")&&(s.VelocityX=r.json&&!isFinite(t.VelocityX)?String(t.VelocityX):t.VelocityX),t.VelocityY!=null&&t.hasOwnProperty("VelocityY")&&(s.VelocityY=r.json&&!isFinite(t.VelocityY)?String(t.VelocityY):t.VelocityY),t.VelocityZ!=null&&t.hasOwnProperty("VelocityZ")&&(s.VelocityZ=r.json&&!isFinite(t.VelocityZ)?String(t.VelocityZ):t.VelocityZ),t.AngularVelocityYaw!=null&&t.hasOwnProperty("AngularVelocityYaw")&&(s.AngularVelocityYaw=r.json&&!isFinite(t.AngularVelocityYaw)?String(t.AngularVelocityYaw):t.AngularVelocityYaw),s},e.prototype.toJSON=function(){return this.constructor.toObject(this,minimal$1.exports.util.toJSONOptions)},e.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/rov_action_api.MoveAction"},e}(),n.BeginVideoStreamAction=function(){function e(a){if(a)for(let t=Object.keys(a),r=0;r<t.length;++r)a[t[r]]!=null&&(this[t[r]]=a[t[r]])}return e.create=function(t){return new e(t)},e.encode=function(t,r){return r||(r=$Writer.create()),r},e.encodeDelimited=function(t,r){return this.encode(t,r).ldelim()},e.decode=function(t,r){t instanceof $Reader||(t=$Reader.create(t));let s=r===void 0?t.len:t.pos+r,c=new $root.rov_action_api.BeginVideoStreamAction;for(;t.pos<s;){let d=t.uint32();switch(d>>>3){default:t.skipType(d&7);break}}return c},e.decodeDelimited=function(t){return t instanceof $Reader||(t=new $Reader(t)),this.decode(t,t.uint32())},e.verify=function(t){return typeof t!="object"||t===null?"object expected":null},e.fromObject=function(t){return t instanceof $root.rov_action_api.BeginVideoStreamAction?t:new $root.rov_action_api.BeginVideoStreamAction},e.toObject=function(){return{}},e.prototype.toJSON=function(){return this.constructor.toObject(this,minimal$1.exports.util.toJSONOptions)},e.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/rov_action_api.BeginVideoStreamAction"},e}(),n.TakePhotoAction=function(){function e(a){if(a)for(let t=Object.keys(a),r=0;r<t.length;++r)a[t[r]]!=null&&(this[t[r]]=a[t[r]])}return e.create=function(t){return new e(t)},e.encode=function(t,r){return r||(r=$Writer.create()),r},e.encodeDelimited=function(t,r){return this.encode(t,r).ldelim()},e.decode=function(t,r){t instanceof $Reader||(t=$Reader.create(t));let s=r===void 0?t.len:t.pos+r,c=new $root.rov_action_api.TakePhotoAction;for(;t.pos<s;){let d=t.uint32();switch(d>>>3){default:t.skipType(d&7);break}}return c},e.decodeDelimited=function(t){return t instanceof $Reader||(t=new $Reader(t)),this.decode(t,t.uint32())},e.verify=function(t){return typeof t!="object"||t===null?"object expected":null},e.fromObject=function(t){return t instanceof $root.rov_action_api.TakePhotoAction?t:new $root.rov_action_api.TakePhotoAction},e.toObject=function(){return{}},e.prototype.toJSON=function(){return this.constructor.toObject(this,minimal$1.exports.util.toJSONOptions)},e.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/rov_action_api.TakePhotoAction"},e}(),n.StartVideoRecAction=function(){function e(a){if(a)for(let t=Object.keys(a),r=0;r<t.length;++r)a[t[r]]!=null&&(this[t[r]]=a[t[r]])}return e.create=function(t){return new e(t)},e.encode=function(t,r){return r||(r=$Writer.create()),r},e.encodeDelimited=function(t,r){return this.encode(t,r).ldelim()},e.decode=function(t,r){t instanceof $Reader||(t=$Reader.create(t));let s=r===void 0?t.len:t.pos+r,c=new $root.rov_action_api.StartVideoRecAction;for(;t.pos<s;){let d=t.uint32();switch(d>>>3){default:t.skipType(d&7);break}}return c},e.decodeDelimited=function(t){return t instanceof $Reader||(t=new $Reader(t)),this.decode(t,t.uint32())},e.verify=function(t){return typeof t!="object"||t===null?"object expected":null},e.fromObject=function(t){return t instanceof $root.rov_action_api.StartVideoRecAction?t:new $root.rov_action_api.StartVideoRecAction},e.toObject=function(){return{}},e.prototype.toJSON=function(){return this.constructor.toObject(this,minimal$1.exports.util.toJSONOptions)},e.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/rov_action_api.StartVideoRecAction"},e}(),n.StopVideoRecAction=function(){function e(a){if(a)for(let t=Object.keys(a),r=0;r<t.length;++r)a[t[r]]!=null&&(this[t[r]]=a[t[r]])}return e.create=function(t){return new e(t)},e.encode=function(t,r){return r||(r=$Writer.create()),r},e.encodeDelimited=function(t,r){return this.encode(t,r).ldelim()},e.decode=function(t,r){t instanceof $Reader||(t=$Reader.create(t));let s=r===void 0?t.len:t.pos+r,c=new $root.rov_action_api.StopVideoRecAction;for(;t.pos<s;){let d=t.uint32();switch(d>>>3){default:t.skipType(d&7);break}}return c},e.decodeDelimited=function(t){return t instanceof $Reader||(t=new $Reader(t)),this.decode(t,t.uint32())},e.verify=function(t){return typeof t!="object"||t===null?"object expected":null},e.fromObject=function(t){return t instanceof $root.rov_action_api.StopVideoRecAction?t:new $root.rov_action_api.StopVideoRecAction},e.toObject=function(){return{}},e.prototype.toJSON=function(){return this.constructor.toObject(this,minimal$1.exports.util.toJSONOptions)},e.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/rov_action_api.StopVideoRecAction"},e}(),n.ToogleLightsAction=function(){function e(a){if(a)for(let t=Object.keys(a),r=0;r<t.length;++r)a[t[r]]!=null&&(this[t[r]]=a[t[r]])}return e.create=function(t){return new e(t)},e.encode=function(t,r){return r||(r=$Writer.create()),r},e.encodeDelimited=function(t,r){return this.encode(t,r).ldelim()},e.decode=function(t,r){t instanceof $Reader||(t=$Reader.create(t));let s=r===void 0?t.len:t.pos+r,c=new $root.rov_action_api.ToogleLightsAction;for(;t.pos<s;){let d=t.uint32();switch(d>>>3){default:t.skipType(d&7);break}}return c},e.decodeDelimited=function(t){return t instanceof $Reader||(t=new $Reader(t)),this.decode(t,t.uint32())},e.verify=function(t){return typeof t!="object"||t===null?"object expected":null},e.fromObject=function(t){return t instanceof $root.rov_action_api.ToogleLightsAction?t:new $root.rov_action_api.ToogleLightsAction},e.toObject=function(){return{}},e.prototype.toJSON=function(){return this.constructor.toObject(this,minimal$1.exports.util.toJSONOptions)},e.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/rov_action_api.ToogleLightsAction"},e}(),n.ShutdownRovAction=function(){function e(a){if(a)for(let t=Object.keys(a),r=0;r<t.length;++r)a[t[r]]!=null&&(this[t[r]]=a[t[r]])}return e.create=function(t){return new e(t)},e.encode=function(t,r){return r||(r=$Writer.create()),r},e.encodeDelimited=function(t,r){return this.encode(t,r).ldelim()},e.decode=function(t,r){t instanceof $Reader||(t=$Reader.create(t));let s=r===void 0?t.len:t.pos+r,c=new $root.rov_action_api.ShutdownRovAction;for(;t.pos<s;){let d=t.uint32();switch(d>>>3){default:t.skipType(d&7);break}}return c},e.decodeDelimited=function(t){return t instanceof $Reader||(t=new $Reader(t)),this.decode(t,t.uint32())},e.verify=function(t){return typeof t!="object"||t===null?"object expected":null},e.fromObject=function(t){return t instanceof $root.rov_action_api.ShutdownRovAction?t:new $root.rov_action_api.ShutdownRovAction},e.toObject=function(){return{}},e.prototype.toJSON=function(){return this.constructor.toObject(this,minimal$1.exports.util.toJSONOptions)},e.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/rov_action_api.ShutdownRovAction"},e}(),n.RebootRovAction=function(){function e(a){if(a)for(let t=Object.keys(a),r=0;r<t.length;++r)a[t[r]]!=null&&(this[t[r]]=a[t[r]])}return e.create=function(t){return new e(t)},e.encode=function(t,r){return r||(r=$Writer.create()),r},e.encodeDelimited=function(t,r){return this.encode(t,r).ldelim()},e.decode=function(t,r){t instanceof $Reader||(t=$Reader.create(t));let s=r===void 0?t.len:t.pos+r,c=new $root.rov_action_api.RebootRovAction;for(;t.pos<s;){let d=t.uint32();switch(d>>>3){default:t.skipType(d&7);break}}return c},e.decodeDelimited=function(t){return t instanceof $Reader||(t=new $Reader(t)),this.decode(t,t.uint32())},e.verify=function(t){return typeof t!="object"||t===null?"object expected":null},e.fromObject=function(t){return t instanceof $root.rov_action_api.RebootRovAction?t:new $root.rov_action_api.RebootRovAction},e.toObject=function(){return{}},e.prototype.toJSON=function(){return this.constructor.toObject(this,minimal$1.exports.util.toJSONOptions)},e.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/rov_action_api.RebootRovAction"},e}(),n.EnableWifiAction=function(){function e(a){if(a)for(let t=Object.keys(a),r=0;r<t.length;++r)a[t[r]]!=null&&(this[t[r]]=a[t[r]])}return e.create=function(t){return new e(t)},e.encode=function(t,r){return r||(r=$Writer.create()),r},e.encodeDelimited=function(t,r){return this.encode(t,r).ldelim()},e.decode=function(t,r){t instanceof $Reader||(t=$Reader.create(t));let s=r===void 0?t.len:t.pos+r,c=new $root.rov_action_api.EnableWifiAction;for(;t.pos<s;){let d=t.uint32();switch(d>>>3){default:t.skipType(d&7);break}}return c},e.decodeDelimited=function(t){return t instanceof $Reader||(t=new $Reader(t)),this.decode(t,t.uint32())},e.verify=function(t){return typeof t!="object"||t===null?"object expected":null},e.fromObject=function(t){return t instanceof $root.rov_action_api.EnableWifiAction?t:new $root.rov_action_api.EnableWifiAction},e.toObject=function(){return{}},e.prototype.toJSON=function(){return this.constructor.toObject(this,minimal$1.exports.util.toJSONOptions)},e.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/rov_action_api.EnableWifiAction"},e}(),n.DisableWifiAction=function(){function e(a){if(a)for(let t=Object.keys(a),r=0;r<t.length;++r)a[t[r]]!=null&&(this[t[r]]=a[t[r]])}return e.create=function(t){return new e(t)},e.encode=function(t,r){return r||(r=$Writer.create()),r},e.encodeDelimited=function(t,r){return this.encode(t,r).ldelim()},e.decode=function(t,r){t instanceof $Reader||(t=$Reader.create(t));let s=r===void 0?t.len:t.pos+r,c=new $root.rov_action_api.DisableWifiAction;for(;t.pos<s;){let d=t.uint32();switch(d>>>3){default:t.skipType(d&7);break}}return c},e.decodeDelimited=function(t){return t instanceof $Reader||(t=new $Reader(t)),this.decode(t,t.uint32())},e.verify=function(t){return typeof t!="object"||t===null?"object expected":null},e.fromObject=function(t){return t instanceof $root.rov_action_api.DisableWifiAction?t:new $root.rov_action_api.DisableWifiAction},e.toObject=function(){return{}},e.prototype.toJSON=function(){return this.constructor.toObject(this,minimal$1.exports.util.toJSONOptions)},e.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/rov_action_api.DisableWifiAction"},e}(),n.RovStatusReportAction=function(){function e(a){if(a)for(let t=Object.keys(a),r=0;r<t.length;++r)a[t[r]]!=null&&(this[t[r]]=a[t[r]])}return e.create=function(t){return new e(t)},e.encode=function(t,r){return r||(r=$Writer.create()),r},e.encodeDelimited=function(t,r){return this.encode(t,r).ldelim()},e.decode=function(t,r){t instanceof $Reader||(t=$Reader.create(t));let s=r===void 0?t.len:t.pos+r,c=new $root.rov_action_api.RovStatusReportAction;for(;t.pos<s;){let d=t.uint32();switch(d>>>3){default:t.skipType(d&7);break}}return c},e.decodeDelimited=function(t){return t instanceof $Reader||(t=new $Reader(t)),this.decode(t,t.uint32())},e.verify=function(t){return typeof t!="object"||t===null?"object expected":null},e.fromObject=function(t){return t instanceof $root.rov_action_api.RovStatusReportAction?t:new $root.rov_action_api.RovStatusReportAction},e.toObject=function(){return{}},e.prototype.toJSON=function(){return this.constructor.toObject(this,minimal$1.exports.util.toJSONOptions)},e.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/rov_action_api.RovStatusReportAction"},e}(),n.RestartRovServicesAction=function(){function e(a){if(a)for(let t=Object.keys(a),r=0;r<t.length;++r)a[t[r]]!=null&&(this[t[r]]=a[t[r]])}return e.create=function(t){return new e(t)},e.encode=function(t,r){return r||(r=$Writer.create()),r},e.encodeDelimited=function(t,r){return this.encode(t,r).ldelim()},e.decode=function(t,r){t instanceof $Reader||(t=$Reader.create(t));let s=r===void 0?t.len:t.pos+r,c=new $root.rov_action_api.RestartRovServicesAction;for(;t.pos<s;){let d=t.uint32();switch(d>>>3){default:t.skipType(d&7);break}}return c},e.decodeDelimited=function(t){return t instanceof $Reader||(t=new $Reader(t)),this.decode(t,t.uint32())},e.verify=function(t){return typeof t!="object"||t===null?"object expected":null},e.fromObject=function(t){return t instanceof $root.rov_action_api.RestartRovServicesAction?t:new $root.rov_action_api.RestartRovServicesAction},e.toObject=function(){return{}},e.prototype.toJSON=function(){return this.constructor.toObject(this,minimal$1.exports.util.toJSONOptions)},e.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/rov_action_api.RestartRovServicesAction"},e}(),n.RovLogsAction=function(){function e(a){if(a)for(let t=Object.keys(a),r=0;r<t.length;++r)a[t[r]]!=null&&(this[t[r]]=a[t[r]])}return e.create=function(t){return new e(t)},e.encode=function(t,r){return r||(r=$Writer.create()),r},e.encodeDelimited=function(t,r){return this.encode(t,r).ldelim()},e.decode=function(t,r){t instanceof $Reader||(t=$Reader.create(t));let s=r===void 0?t.len:t.pos+r,c=new $root.rov_action_api.RovLogsAction;for(;t.pos<s;){let d=t.uint32();switch(d>>>3){default:t.skipType(d&7);break}}return c},e.decodeDelimited=function(t){return t instanceof $Reader||(t=new $Reader(t)),this.decode(t,t.uint32())},e.verify=function(t){return typeof t!="object"||t===null?"object expected":null},e.fromObject=function(t){return t instanceof $root.rov_action_api.RovLogsAction?t:new $root.rov_action_api.RovLogsAction},e.toObject=function(){return{}},e.prototype.toJSON=function(){return this.constructor.toObject(this,minimal$1.exports.util.toJSONOptions)},e.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/rov_action_api.RovLogsAction"},e}(),n.RefreshAllSensorsAction=function(){function e(a){if(a)for(let t=Object.keys(a),r=0;r<t.length;++r)a[t[r]]!=null&&(this[t[r]]=a[t[r]])}return e.create=function(t){return new e(t)},e.encode=function(t,r){return r||(r=$Writer.create()),r},e.encodeDelimited=function(t,r){return this.encode(t,r).ldelim()},e.decode=function(t,r){t instanceof $Reader||(t=$Reader.create(t));let s=r===void 0?t.len:t.pos+r,c=new $root.rov_action_api.RefreshAllSensorsAction;for(;t.pos<s;){let d=t.uint32();switch(d>>>3){default:t.skipType(d&7);break}}return c},e.decodeDelimited=function(t){return t instanceof $Reader||(t=new $Reader(t)),this.decode(t,t.uint32())},e.verify=function(t){return typeof t!="object"||t===null?"object expected":null},e.fromObject=function(t){return t instanceof $root.rov_action_api.RefreshAllSensorsAction?t:new $root.rov_action_api.RefreshAllSensorsAction},e.toObject=function(){return{}},e.prototype.toJSON=function(){return this.constructor.toObject(this,minimal$1.exports.util.toJSONOptions)},e.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/rov_action_api.RefreshAllSensorsAction"},e}(),n.RovAction=function(){function e(t){if(t)for(let r=Object.keys(t),s=0;s<r.length;++s)t[r[s]]!=null&&(this[r[s]]=t[r[s]])}e.prototype.RovExchangeId=0,e.prototype.Ping=null,e.prototype.PasswordAttempt=null,e.prototype.AuthTokenAttempt=null,e.prototype.TakeControl=null,e.prototype.Move=null,e.prototype.BeginVideoStream=null,e.prototype.TakePhoto=null,e.prototype.StartVideoRec=null,e.prototype.StopVideoRec=null,e.prototype.ToogleLights=null,e.prototype.ShutdownRov=null,e.prototype.RebootRov=null,e.prototype.EnableWifi=null,e.prototype.DisableWifi=null,e.prototype.RovStatusReport=null,e.prototype.RestartRovServices=null,e.prototype.RovLogs=null,e.prototype.RefreshAllSensors=null;let a;return Object.defineProperty(e.prototype,"Body",{get:$util.oneOfGetter(a=["Ping","PasswordAttempt","AuthTokenAttempt","TakeControl","Move","BeginVideoStream","TakePhoto","StartVideoRec","StopVideoRec","ToogleLights","ShutdownRov","RebootRov","EnableWifi","DisableWifi","RovStatusReport","RestartRovServices","RovLogs","RefreshAllSensors"]),set:$util.oneOfSetter(a)}),e.create=function(r){return new e(r)},e.encode=function(r,s){return s||(s=$Writer.create()),r.RovExchangeId!=null&&Object.hasOwnProperty.call(r,"RovExchangeId")&&s.uint32(16).int32(r.RovExchangeId),r.Ping!=null&&Object.hasOwnProperty.call(r,"Ping")&&$root.rov_action_api.PingAction.encode(r.Ping,s.uint32(26).fork()).ldelim(),r.PasswordAttempt!=null&&Object.hasOwnProperty.call(r,"PasswordAttempt")&&$root.rov_action_api.PasswordAttemptAction.encode(r.PasswordAttempt,s.uint32(34).fork()).ldelim(),r.AuthTokenAttempt!=null&&Object.hasOwnProperty.call(r,"AuthTokenAttempt")&&$root.rov_action_api.AuthTokenAttemptAction.encode(r.AuthTokenAttempt,s.uint32(42).fork()).ldelim(),r.TakeControl!=null&&Object.hasOwnProperty.call(r,"TakeControl")&&$root.rov_action_api.TakeControlAction.encode(r.TakeControl,s.uint32(50).fork()).ldelim(),r.Move!=null&&Object.hasOwnProperty.call(r,"Move")&&$root.rov_action_api.MoveAction.encode(r.Move,s.uint32(58).fork()).ldelim(),r.BeginVideoStream!=null&&Object.hasOwnProperty.call(r,"BeginVideoStream")&&$root.rov_action_api.BeginVideoStreamAction.encode(r.BeginVideoStream,s.uint32(66).fork()).ldelim(),r.TakePhoto!=null&&Object.hasOwnProperty.call(r,"TakePhoto")&&$root.rov_action_api.TakePhotoAction.encode(r.TakePhoto,s.uint32(74).fork()).ldelim(),r.StartVideoRec!=null&&Object.hasOwnProperty.call(r,"StartVideoRec")&&$root.rov_action_api.StartVideoRecAction.encode(r.StartVideoRec,s.uint32(82).fork()).ldelim(),r.StopVideoRec!=null&&Object.hasOwnProperty.call(r,"StopVideoRec")&&$root.rov_action_api.StopVideoRecAction.encode(r.StopVideoRec,s.uint32(90).fork()).ldelim(),r.ToogleLights!=null&&Object.hasOwnProperty.call(r,"ToogleLights")&&$root.rov_action_api.ToogleLightsAction.encode(r.ToogleLights,s.uint32(98).fork()).ldelim(),r.ShutdownRov!=null&&Object.hasOwnProperty.call(r,"ShutdownRov")&&$root.rov_action_api.ShutdownRovAction.encode(r.ShutdownRov,s.uint32(106).fork()).ldelim(),r.RebootRov!=null&&Object.hasOwnProperty.call(r,"RebootRov")&&$root.rov_action_api.RebootRovAction.encode(r.RebootRov,s.uint32(114).fork()).ldelim(),r.EnableWifi!=null&&Object.hasOwnProperty.call(r,"EnableWifi")&&$root.rov_action_api.EnableWifiAction.encode(r.EnableWifi,s.uint32(122).fork()).ldelim(),r.DisableWifi!=null&&Object.hasOwnProperty.call(r,"DisableWifi")&&$root.rov_action_api.DisableWifiAction.encode(r.DisableWifi,s.uint32(130).fork()).ldelim(),r.RovStatusReport!=null&&Object.hasOwnProperty.call(r,"RovStatusReport")&&$root.rov_action_api.RovStatusReportAction.encode(r.RovStatusReport,s.uint32(138).fork()).ldelim(),r.RestartRovServices!=null&&Object.hasOwnProperty.call(r,"RestartRovServices")&&$root.rov_action_api.RestartRovServicesAction.encode(r.RestartRovServices,s.uint32(146).fork()).ldelim(),r.RovLogs!=null&&Object.hasOwnProperty.call(r,"RovLogs")&&$root.rov_action_api.RovLogsAction.encode(r.RovLogs,s.uint32(154).fork()).ldelim(),r.RefreshAllSensors!=null&&Object.hasOwnProperty.call(r,"RefreshAllSensors")&&$root.rov_action_api.RefreshAllSensorsAction.encode(r.RefreshAllSensors,s.uint32(162).fork()).ldelim(),s},e.encodeDelimited=function(r,s){return this.encode(r,s).ldelim()},e.decode=function(r,s){r instanceof $Reader||(r=$Reader.create(r));let c=s===void 0?r.len:r.pos+s,d=new $root.rov_action_api.RovAction;for(;r.pos<c;){let u=r.uint32();switch(u>>>3){case 2:{d.RovExchangeId=r.int32();break}case 3:{d.Ping=$root.rov_action_api.PingAction.decode(r,r.uint32());break}case 4:{d.PasswordAttempt=$root.rov_action_api.PasswordAttemptAction.decode(r,r.uint32());break}case 5:{d.AuthTokenAttempt=$root.rov_action_api.AuthTokenAttemptAction.decode(r,r.uint32());break}case 6:{d.TakeControl=$root.rov_action_api.TakeControlAction.decode(r,r.uint32());break}case 7:{d.Move=$root.rov_action_api.MoveAction.decode(r,r.uint32());break}case 8:{d.BeginVideoStream=$root.rov_action_api.BeginVideoStreamAction.decode(r,r.uint32());break}case 9:{d.TakePhoto=$root.rov_action_api.TakePhotoAction.decode(r,r.uint32());break}case 10:{d.StartVideoRec=$root.rov_action_api.StartVideoRecAction.decode(r,r.uint32());break}case 11:{d.StopVideoRec=$root.rov_action_api.StopVideoRecAction.decode(r,r.uint32());break}case 12:{d.ToogleLights=$root.rov_action_api.ToogleLightsAction.decode(r,r.uint32());break}case 13:{d.ShutdownRov=$root.rov_action_api.ShutdownRovAction.decode(r,r.uint32());break}case 14:{d.RebootRov=$root.rov_action_api.RebootRovAction.decode(r,r.uint32());break}case 15:{d.EnableWifi=$root.rov_action_api.EnableWifiAction.decode(r,r.uint32());break}case 16:{d.DisableWifi=$root.rov_action_api.DisableWifiAction.decode(r,r.uint32());break}case 17:{d.RovStatusReport=$root.rov_action_api.RovStatusReportAction.decode(r,r.uint32());break}case 18:{d.RestartRovServices=$root.rov_action_api.RestartRovServicesAction.decode(r,r.uint32());break}case 19:{d.RovLogs=$root.rov_action_api.RovLogsAction.decode(r,r.uint32());break}case 20:{d.RefreshAllSensors=$root.rov_action_api.RefreshAllSensorsAction.decode(r,r.uint32());break}default:r.skipType(u&7);break}}return d},e.decodeDelimited=function(r){return r instanceof $Reader||(r=new $Reader(r)),this.decode(r,r.uint32())},e.verify=function(r){if(typeof r!="object"||r===null)return"object expected";let s={};if(r.RovExchangeId!=null&&r.hasOwnProperty("RovExchangeId")&&!$util.isInteger(r.RovExchangeId))return"RovExchangeId: integer expected";if(r.Ping!=null&&r.hasOwnProperty("Ping")){s.Body=1;{let c=$root.rov_action_api.PingAction.verify(r.Ping);if(c)return"Ping."+c}}if(r.PasswordAttempt!=null&&r.hasOwnProperty("PasswordAttempt")){if(s.Body===1)return"Body: multiple values";s.Body=1;{let c=$root.rov_action_api.PasswordAttemptAction.verify(r.PasswordAttempt);if(c)return"PasswordAttempt."+c}}if(r.AuthTokenAttempt!=null&&r.hasOwnProperty("AuthTokenAttempt")){if(s.Body===1)return"Body: multiple values";s.Body=1;{let c=$root.rov_action_api.AuthTokenAttemptAction.verify(r.AuthTokenAttempt);if(c)return"AuthTokenAttempt."+c}}if(r.TakeControl!=null&&r.hasOwnProperty("TakeControl")){if(s.Body===1)return"Body: multiple values";s.Body=1;{let c=$root.rov_action_api.TakeControlAction.verify(r.TakeControl);if(c)return"TakeControl."+c}}if(r.Move!=null&&r.hasOwnProperty("Move")){if(s.Body===1)return"Body: multiple values";s.Body=1;{let c=$root.rov_action_api.MoveAction.verify(r.Move);if(c)return"Move."+c}}if(r.BeginVideoStream!=null&&r.hasOwnProperty("BeginVideoStream")){if(s.Body===1)return"Body: multiple values";s.Body=1;{let c=$root.rov_action_api.BeginVideoStreamAction.verify(r.BeginVideoStream);if(c)return"BeginVideoStream."+c}}if(r.TakePhoto!=null&&r.hasOwnProperty("TakePhoto")){if(s.Body===1)return"Body: multiple values";s.Body=1;{let c=$root.rov_action_api.TakePhotoAction.verify(r.TakePhoto);if(c)return"TakePhoto."+c}}if(r.StartVideoRec!=null&&r.hasOwnProperty("StartVideoRec")){if(s.Body===1)return"Body: multiple values";s.Body=1;{let c=$root.rov_action_api.StartVideoRecAction.verify(r.StartVideoRec);if(c)return"StartVideoRec."+c}}if(r.StopVideoRec!=null&&r.hasOwnProperty("StopVideoRec")){if(s.Body===1)return"Body: multiple values";s.Body=1;{let c=$root.rov_action_api.StopVideoRecAction.verify(r.StopVideoRec);if(c)return"StopVideoRec."+c}}if(r.ToogleLights!=null&&r.hasOwnProperty("ToogleLights")){if(s.Body===1)return"Body: multiple values";s.Body=1;{let c=$root.rov_action_api.ToogleLightsAction.verify(r.ToogleLights);if(c)return"ToogleLights."+c}}if(r.ShutdownRov!=null&&r.hasOwnProperty("ShutdownRov")){if(s.Body===1)return"Body: multiple values";s.Body=1;{let c=$root.rov_action_api.ShutdownRovAction.verify(r.ShutdownRov);if(c)return"ShutdownRov."+c}}if(r.RebootRov!=null&&r.hasOwnProperty("RebootRov")){if(s.Body===1)return"Body: multiple values";s.Body=1;{let c=$root.rov_action_api.RebootRovAction.verify(r.RebootRov);if(c)return"RebootRov."+c}}if(r.EnableWifi!=null&&r.hasOwnProperty("EnableWifi")){if(s.Body===1)return"Body: multiple values";s.Body=1;{let c=$root.rov_action_api.EnableWifiAction.verify(r.EnableWifi);if(c)return"EnableWifi."+c}}if(r.DisableWifi!=null&&r.hasOwnProperty("DisableWifi")){if(s.Body===1)return"Body: multiple values";s.Body=1;{let c=$root.rov_action_api.DisableWifiAction.verify(r.DisableWifi);if(c)return"DisableWifi."+c}}if(r.RovStatusReport!=null&&r.hasOwnProperty("RovStatusReport")){if(s.Body===1)return"Body: multiple values";s.Body=1;{let c=$root.rov_action_api.RovStatusReportAction.verify(r.RovStatusReport);if(c)return"RovStatusReport."+c}}if(r.RestartRovServices!=null&&r.hasOwnProperty("RestartRovServices")){if(s.Body===1)return"Body: multiple values";s.Body=1;{let c=$root.rov_action_api.RestartRovServicesAction.verify(r.RestartRovServices);if(c)return"RestartRovServices."+c}}if(r.RovLogs!=null&&r.hasOwnProperty("RovLogs")){if(s.Body===1)return"Body: multiple values";s.Body=1;{let c=$root.rov_action_api.RovLogsAction.verify(r.RovLogs);if(c)return"RovLogs."+c}}if(r.RefreshAllSensors!=null&&r.hasOwnProperty("RefreshAllSensors")){if(s.Body===1)return"Body: multiple values";s.Body=1;{let c=$root.rov_action_api.RefreshAllSensorsAction.verify(r.RefreshAllSensors);if(c)return"RefreshAllSensors."+c}}return null},e.fromObject=function(r){if(r instanceof $root.rov_action_api.RovAction)return r;let s=new $root.rov_action_api.RovAction;if(r.RovExchangeId!=null&&(s.RovExchangeId=r.RovExchangeId|0),r.Ping!=null){if(typeof r.Ping!="object")throw TypeError(".rov_action_api.RovAction.Ping: object expected");s.Ping=$root.rov_action_api.PingAction.fromObject(r.Ping)}if(r.PasswordAttempt!=null){if(typeof r.PasswordAttempt!="object")throw TypeError(".rov_action_api.RovAction.PasswordAttempt: object expected");s.PasswordAttempt=$root.rov_action_api.PasswordAttemptAction.fromObject(r.PasswordAttempt)}if(r.AuthTokenAttempt!=null){if(typeof r.AuthTokenAttempt!="object")throw TypeError(".rov_action_api.RovAction.AuthTokenAttempt: object expected");s.AuthTokenAttempt=$root.rov_action_api.AuthTokenAttemptAction.fromObject(r.AuthTokenAttempt)}if(r.TakeControl!=null){if(typeof r.TakeControl!="object")throw TypeError(".rov_action_api.RovAction.TakeControl: object expected");s.TakeControl=$root.rov_action_api.TakeControlAction.fromObject(r.TakeControl)}if(r.Move!=null){if(typeof r.Move!="object")throw TypeError(".rov_action_api.RovAction.Move: object expected");s.Move=$root.rov_action_api.MoveAction.fromObject(r.Move)}if(r.BeginVideoStream!=null){if(typeof r.BeginVideoStream!="object")throw TypeError(".rov_action_api.RovAction.BeginVideoStream: object expected");s.BeginVideoStream=$root.rov_action_api.BeginVideoStreamAction.fromObject(r.BeginVideoStream)}if(r.TakePhoto!=null){if(typeof r.TakePhoto!="object")throw TypeError(".rov_action_api.RovAction.TakePhoto: object expected");s.TakePhoto=$root.rov_action_api.TakePhotoAction.fromObject(r.TakePhoto)}if(r.StartVideoRec!=null){if(typeof r.StartVideoRec!="object")throw TypeError(".rov_action_api.RovAction.StartVideoRec: object expected");s.StartVideoRec=$root.rov_action_api.StartVideoRecAction.fromObject(r.StartVideoRec)}if(r.StopVideoRec!=null){if(typeof r.StopVideoRec!="object")throw TypeError(".rov_action_api.RovAction.StopVideoRec: object expected");s.StopVideoRec=$root.rov_action_api.StopVideoRecAction.fromObject(r.StopVideoRec)}if(r.ToogleLights!=null){if(typeof r.ToogleLights!="object")throw TypeError(".rov_action_api.RovAction.ToogleLights: object expected");s.ToogleLights=$root.rov_action_api.ToogleLightsAction.fromObject(r.ToogleLights)}if(r.ShutdownRov!=null){if(typeof r.ShutdownRov!="object")throw TypeError(".rov_action_api.RovAction.ShutdownRov: object expected");s.ShutdownRov=$root.rov_action_api.ShutdownRovAction.fromObject(r.ShutdownRov)}if(r.RebootRov!=null){if(typeof r.RebootRov!="object")throw TypeError(".rov_action_api.RovAction.RebootRov: object expected");s.RebootRov=$root.rov_action_api.RebootRovAction.fromObject(r.RebootRov)}if(r.EnableWifi!=null){if(typeof r.EnableWifi!="object")throw TypeError(".rov_action_api.RovAction.EnableWifi: object expected");s.EnableWifi=$root.rov_action_api.EnableWifiAction.fromObject(r.EnableWifi)}if(r.DisableWifi!=null){if(typeof r.DisableWifi!="object")throw TypeError(".rov_action_api.RovAction.DisableWifi: object expected");s.DisableWifi=$root.rov_action_api.DisableWifiAction.fromObject(r.DisableWifi)}if(r.RovStatusReport!=null){if(typeof r.RovStatusReport!="object")throw TypeError(".rov_action_api.RovAction.RovStatusReport: object expected");s.RovStatusReport=$root.rov_action_api.RovStatusReportAction.fromObject(r.RovStatusReport)}if(r.RestartRovServices!=null){if(typeof r.RestartRovServices!="object")throw TypeError(".rov_action_api.RovAction.RestartRovServices: object expected");s.RestartRovServices=$root.rov_action_api.RestartRovServicesAction.fromObject(r.RestartRovServices)}if(r.RovLogs!=null){if(typeof r.RovLogs!="object")throw TypeError(".rov_action_api.RovAction.RovLogs: object expected");s.RovLogs=$root.rov_action_api.RovLogsAction.fromObject(r.RovLogs)}if(r.RefreshAllSensors!=null){if(typeof r.RefreshAllSensors!="object")throw TypeError(".rov_action_api.RovAction.RefreshAllSensors: object expected");s.RefreshAllSensors=$root.rov_action_api.RefreshAllSensorsAction.fromObject(r.RefreshAllSensors)}return s},e.toObject=function(r,s){s||(s={});let c={};return s.defaults&&(c.RovExchangeId=0),r.RovExchangeId!=null&&r.hasOwnProperty("RovExchangeId")&&(c.RovExchangeId=r.RovExchangeId),r.Ping!=null&&r.hasOwnProperty("Ping")&&(c.Ping=$root.rov_action_api.PingAction.toObject(r.Ping,s),s.oneofs&&(c.Body="Ping")),r.PasswordAttempt!=null&&r.hasOwnProperty("PasswordAttempt")&&(c.PasswordAttempt=$root.rov_action_api.PasswordAttemptAction.toObject(r.PasswordAttempt,s),s.oneofs&&(c.Body="PasswordAttempt")),r.AuthTokenAttempt!=null&&r.hasOwnProperty("AuthTokenAttempt")&&(c.AuthTokenAttempt=$root.rov_action_api.AuthTokenAttemptAction.toObject(r.AuthTokenAttempt,s),s.oneofs&&(c.Body="AuthTokenAttempt")),r.TakeControl!=null&&r.hasOwnProperty("TakeControl")&&(c.TakeControl=$root.rov_action_api.TakeControlAction.toObject(r.TakeControl,s),s.oneofs&&(c.Body="TakeControl")),r.Move!=null&&r.hasOwnProperty("Move")&&(c.Move=$root.rov_action_api.MoveAction.toObject(r.Move,s),s.oneofs&&(c.Body="Move")),r.BeginVideoStream!=null&&r.hasOwnProperty("BeginVideoStream")&&(c.BeginVideoStream=$root.rov_action_api.BeginVideoStreamAction.toObject(r.BeginVideoStream,s),s.oneofs&&(c.Body="BeginVideoStream")),r.TakePhoto!=null&&r.hasOwnProperty("TakePhoto")&&(c.TakePhoto=$root.rov_action_api.TakePhotoAction.toObject(r.TakePhoto,s),s.oneofs&&(c.Body="TakePhoto")),r.StartVideoRec!=null&&r.hasOwnProperty("StartVideoRec")&&(c.StartVideoRec=$root.rov_action_api.StartVideoRecAction.toObject(r.StartVideoRec,s),s.oneofs&&(c.Body="StartVideoRec")),r.StopVideoRec!=null&&r.hasOwnProperty("StopVideoRec")&&(c.StopVideoRec=$root.rov_action_api.StopVideoRecAction.toObject(r.StopVideoRec,s),s.oneofs&&(c.Body="StopVideoRec")),r.ToogleLights!=null&&r.hasOwnProperty("ToogleLights")&&(c.ToogleLights=$root.rov_action_api.ToogleLightsAction.toObject(r.ToogleLights,s),s.oneofs&&(c.Body="ToogleLights")),r.ShutdownRov!=null&&r.hasOwnProperty("ShutdownRov")&&(c.ShutdownRov=$root.rov_action_api.ShutdownRovAction.toObject(r.ShutdownRov,s),s.oneofs&&(c.Body="ShutdownRov")),r.RebootRov!=null&&r.hasOwnProperty("RebootRov")&&(c.RebootRov=$root.rov_action_api.RebootRovAction.toObject(r.RebootRov,s),s.oneofs&&(c.Body="RebootRov")),r.EnableWifi!=null&&r.hasOwnProperty("EnableWifi")&&(c.EnableWifi=$root.rov_action_api.EnableWifiAction.toObject(r.EnableWifi,s),s.oneofs&&(c.Body="EnableWifi")),r.DisableWifi!=null&&r.hasOwnProperty("DisableWifi")&&(c.DisableWifi=$root.rov_action_api.DisableWifiAction.toObject(r.DisableWifi,s),s.oneofs&&(c.Body="DisableWifi")),r.RovStatusReport!=null&&r.hasOwnProperty("RovStatusReport")&&(c.RovStatusReport=$root.rov_action_api.RovStatusReportAction.toObject(r.RovStatusReport,s),s.oneofs&&(c.Body="RovStatusReport")),r.RestartRovServices!=null&&r.hasOwnProperty("RestartRovServices")&&(c.RestartRovServices=$root.rov_action_api.RestartRovServicesAction.toObject(r.RestartRovServices,s),s.oneofs&&(c.Body="RestartRovServices")),r.RovLogs!=null&&r.hasOwnProperty("RovLogs")&&(c.RovLogs=$root.rov_action_api.RovLogsAction.toObject(r.RovLogs,s),s.oneofs&&(c.Body="RovLogs")),r.RefreshAllSensors!=null&&r.hasOwnProperty("RefreshAllSensors")&&(c.RefreshAllSensors=$root.rov_action_api.RefreshAllSensorsAction.toObject(r.RefreshAllSensors,s),s.oneofs&&(c.Body="RefreshAllSensors")),c},e.prototype.toJSON=function(){return this.constructor.toObject(this,minimal$1.exports.util.toJSONOptions)},e.getTypeUrl=function(r){return r===void 0&&(r="type.googleapis.com"),r+"/rov_action_api.RovAction"},e}(),n.DoneResponse=function(){function e(t){if(t)for(let r=Object.keys(t),s=0;s<r.length;++s)t[r[s]]!=null&&(this[r[s]]=t[r[s]])}e.prototype.Message=null;let a;return Object.defineProperty(e.prototype,"_Message",{get:$util.oneOfGetter(a=["Message"]),set:$util.oneOfSetter(a)}),e.create=function(r){return new e(r)},e.encode=function(r,s){return s||(s=$Writer.create()),r.Message!=null&&Object.hasOwnProperty.call(r,"Message")&&s.uint32(10).string(r.Message),s},e.encodeDelimited=function(r,s){return this.encode(r,s).ldelim()},e.decode=function(r,s){r instanceof $Reader||(r=$Reader.create(r));let c=s===void 0?r.len:r.pos+s,d=new $root.rov_action_api.DoneResponse;for(;r.pos<c;){let u=r.uint32();switch(u>>>3){case 1:{d.Message=r.string();break}default:r.skipType(u&7);break}}return d},e.decodeDelimited=function(r){return r instanceof $Reader||(r=new $Reader(r)),this.decode(r,r.uint32())},e.verify=function(r){return typeof r!="object"||r===null?"object expected":r.Message!=null&&r.hasOwnProperty("Message")&&!$util.isString(r.Message)?"Message: string expected":null},e.fromObject=function(r){if(r instanceof $root.rov_action_api.DoneResponse)return r;let s=new $root.rov_action_api.DoneResponse;return r.Message!=null&&(s.Message=String(r.Message)),s},e.toObject=function(r,s){s||(s={});let c={};return r.Message!=null&&r.hasOwnProperty("Message")&&(c.Message=r.Message,s.oneofs&&(c._Message="Message")),c},e.prototype.toJSON=function(){return this.constructor.toObject(this,minimal$1.exports.util.toJSONOptions)},e.getTypeUrl=function(r){return r===void 0&&(r="type.googleapis.com"),r+"/rov_action_api.DoneResponse"},e}(),n.ErrorResponse=function(){function e(a){if(a)for(let t=Object.keys(a),r=0;r<t.length;++r)a[t[r]]!=null&&(this[t[r]]=a[t[r]])}return e.prototype.Message="",e.create=function(t){return new e(t)},e.encode=function(t,r){return r||(r=$Writer.create()),t.Message!=null&&Object.hasOwnProperty.call(t,"Message")&&r.uint32(10).string(t.Message),r},e.encodeDelimited=function(t,r){return this.encode(t,r).ldelim()},e.decode=function(t,r){t instanceof $Reader||(t=$Reader.create(t));let s=r===void 0?t.len:t.pos+r,c=new $root.rov_action_api.ErrorResponse;for(;t.pos<s;){let d=t.uint32();switch(d>>>3){case 1:{c.Message=t.string();break}default:t.skipType(d&7);break}}return c},e.decodeDelimited=function(t){return t instanceof $Reader||(t=new $Reader(t)),this.decode(t,t.uint32())},e.verify=function(t){return typeof t!="object"||t===null?"object expected":t.Message!=null&&t.hasOwnProperty("Message")&&!$util.isString(t.Message)?"Message: string expected":null},e.fromObject=function(t){if(t instanceof $root.rov_action_api.ErrorResponse)return t;let r=new $root.rov_action_api.ErrorResponse;return t.Message!=null&&(r.Message=String(t.Message)),r},e.toObject=function(t,r){r||(r={});let s={};return r.defaults&&(s.Message=""),t.Message!=null&&t.hasOwnProperty("Message")&&(s.Message=t.Message),s},e.prototype.toJSON=function(){return this.constructor.toObject(this,minimal$1.exports.util.toJSONOptions)},e.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/rov_action_api.ErrorResponse"},e}(),n.ContinuedOutputResponse=function(){function e(a){if(a)for(let t=Object.keys(a),r=0;r<t.length;++r)a[t[r]]!=null&&(this[t[r]]=a[t[r]])}return e.prototype.Message="",e.create=function(t){return new e(t)},e.encode=function(t,r){return r||(r=$Writer.create()),t.Message!=null&&Object.hasOwnProperty.call(t,"Message")&&r.uint32(10).string(t.Message),r},e.encodeDelimited=function(t,r){return this.encode(t,r).ldelim()},e.decode=function(t,r){t instanceof $Reader||(t=$Reader.create(t));let s=r===void 0?t.len:t.pos+r,c=new $root.rov_action_api.ContinuedOutputResponse;for(;t.pos<s;){let d=t.uint32();switch(d>>>3){case 1:{c.Message=t.string();break}default:t.skipType(d&7);break}}return c},e.decodeDelimited=function(t){return t instanceof $Reader||(t=new $Reader(t)),this.decode(t,t.uint32())},e.verify=function(t){return typeof t!="object"||t===null?"object expected":t.Message!=null&&t.hasOwnProperty("Message")&&!$util.isString(t.Message)?"Message: string expected":null},e.fromObject=function(t){if(t instanceof $root.rov_action_api.ContinuedOutputResponse)return t;let r=new $root.rov_action_api.ContinuedOutputResponse;return t.Message!=null&&(r.Message=String(t.Message)),r},e.toObject=function(t,r){r||(r={});let s={};return r.defaults&&(s.Message=""),t.Message!=null&&t.hasOwnProperty("Message")&&(s.Message=t.Message),s},e.prototype.toJSON=function(){return this.constructor.toObject(this,minimal$1.exports.util.toJSONOptions)},e.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/rov_action_api.ContinuedOutputResponse"},e}(),n.PongResponse=function(){function e(a){if(a)for(let t=Object.keys(a),r=0;r<t.length;++r)a[t[r]]!=null&&(this[t[r]]=a[t[r]])}return e.prototype.Time=$util.Long?$util.Long.fromBits(0,0,!1):0,e.create=function(t){return new e(t)},e.encode=function(t,r){return r||(r=$Writer.create()),t.Time!=null&&Object.hasOwnProperty.call(t,"Time")&&r.uint32(8).int64(t.Time),r},e.encodeDelimited=function(t,r){return this.encode(t,r).ldelim()},e.decode=function(t,r){t instanceof $Reader||(t=$Reader.create(t));let s=r===void 0?t.len:t.pos+r,c=new $root.rov_action_api.PongResponse;for(;t.pos<s;){let d=t.uint32();switch(d>>>3){case 1:{c.Time=t.int64();break}default:t.skipType(d&7);break}}return c},e.decodeDelimited=function(t){return t instanceof $Reader||(t=new $Reader(t)),this.decode(t,t.uint32())},e.verify=function(t){return typeof t!="object"||t===null?"object expected":t.Time!=null&&t.hasOwnProperty("Time")&&!$util.isInteger(t.Time)&&!(t.Time&&$util.isInteger(t.Time.low)&&$util.isInteger(t.Time.high))?"Time: integer|Long expected":null},e.fromObject=function(t){if(t instanceof $root.rov_action_api.PongResponse)return t;let r=new $root.rov_action_api.PongResponse;return t.Time!=null&&($util.Long?(r.Time=$util.Long.fromValue(t.Time)).unsigned=!1:typeof t.Time=="string"?r.Time=parseInt(t.Time,10):typeof t.Time=="number"?r.Time=t.Time:typeof t.Time=="object"&&(r.Time=new $util.LongBits(t.Time.low>>>0,t.Time.high>>>0).toNumber())),r},e.toObject=function(t,r){r||(r={});let s={};if(r.defaults)if($util.Long){let c=new $util.Long(0,0,!1);s.Time=r.longs===String?c.toString():r.longs===Number?c.toNumber():c}else s.Time=r.longs===String?"0":0;return t.Time!=null&&t.hasOwnProperty("Time")&&(typeof t.Time=="number"?s.Time=r.longs===String?String(t.Time):t.Time:s.Time=r.longs===String?$util.Long.prototype.toString.call(t.Time):r.longs===Number?new $util.LongBits(t.Time.low>>>0,t.Time.high>>>0).toNumber():t.Time),s},e.prototype.toJSON=function(){return this.constructor.toObject(this,minimal$1.exports.util.toJSONOptions)},e.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/rov_action_api.PongResponse"},e}(),n.Measurement=function(){function e(a){if(a)for(let t=Object.keys(a),r=0;r<t.length;++r)a[t[r]]!=null&&(this[t[r]]=a[t[r]])}return e.prototype.MeasurementType=0,e.prototype.Value=0,e.create=function(t){return new e(t)},e.encode=function(t,r){return r||(r=$Writer.create()),t.MeasurementType!=null&&Object.hasOwnProperty.call(t,"MeasurementType")&&r.uint32(8).int32(t.MeasurementType),t.Value!=null&&Object.hasOwnProperty.call(t,"Value")&&r.uint32(21).float(t.Value),r},e.encodeDelimited=function(t,r){return this.encode(t,r).ldelim()},e.decode=function(t,r){t instanceof $Reader||(t=$Reader.create(t));let s=r===void 0?t.len:t.pos+r,c=new $root.rov_action_api.Measurement;for(;t.pos<s;){let d=t.uint32();switch(d>>>3){case 1:{c.MeasurementType=t.int32();break}case 2:{c.Value=t.float();break}default:t.skipType(d&7);break}}return c},e.decodeDelimited=function(t){return t instanceof $Reader||(t=new $Reader(t)),this.decode(t,t.uint32())},e.verify=function(t){if(typeof t!="object"||t===null)return"object expected";if(t.MeasurementType!=null&&t.hasOwnProperty("MeasurementType"))switch(t.MeasurementType){default:return"MeasurementType: enum value expected";case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:break}return t.Value!=null&&t.hasOwnProperty("Value")&&typeof t.Value!="number"?"Value: number expected":null},e.fromObject=function(t){if(t instanceof $root.rov_action_api.Measurement)return t;let r=new $root.rov_action_api.Measurement;switch(t.MeasurementType){default:if(typeof t.MeasurementType=="number"){r.MeasurementType=t.MeasurementType;break}break;case"depth_meters":case 0:r.MeasurementType=0;break;case"water_temp_celsius":case 1:r.MeasurementType=1;break;case"pressure_mbar":case 2:r.MeasurementType=2;break;case"yaw_degrees":case 3:r.MeasurementType=3;break;case"pitch_degrees":case 4:r.MeasurementType=4;break;case"roll_degrees":case 5:r.MeasurementType=5;break;case"x_acceleration_m_s2":case 6:r.MeasurementType=6;break;case"y_acceleration_m_s2":case 7:r.MeasurementType=7;break;case"z_acceleration_m_s2":case 8:r.MeasurementType=8;break;case"battery_voltage":case 9:r.MeasurementType=9;break;case"battery_current_amps":case 10:r.MeasurementType=10;break;case"internal_temp_celsius":case 11:r.MeasurementType=11;break}return t.Value!=null&&(r.Value=Number(t.Value)),r},e.toObject=function(t,r){r||(r={});let s={};return r.defaults&&(s.MeasurementType=r.enums===String?"depth_meters":0,s.Value=0),t.MeasurementType!=null&&t.hasOwnProperty("MeasurementType")&&(s.MeasurementType=r.enums===String?$root.rov_action_api.SensorMeasurmentTypes[t.MeasurementType]===void 0?t.MeasurementType:$root.rov_action_api.SensorMeasurmentTypes[t.MeasurementType]:t.MeasurementType),t.Value!=null&&t.hasOwnProperty("Value")&&(s.Value=r.json&&!isFinite(t.Value)?String(t.Value):t.Value),s},e.prototype.toJSON=function(){return this.constructor.toObject(this,minimal$1.exports.util.toJSONOptions)},e.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/rov_action_api.Measurement"},e}(),n.SensorUpdatesResponse=function(){function e(a){if(this.MeasurementUpdates=[],a)for(let t=Object.keys(a),r=0;r<t.length;++r)a[t[r]]!=null&&(this[t[r]]=a[t[r]])}return e.prototype.MeasurementUpdates=$util.emptyArray,e.create=function(t){return new e(t)},e.encode=function(t,r){if(r||(r=$Writer.create()),t.MeasurementUpdates!=null&&t.MeasurementUpdates.length)for(let s=0;s<t.MeasurementUpdates.length;++s)$root.rov_action_api.Measurement.encode(t.MeasurementUpdates[s],r.uint32(10).fork()).ldelim();return r},e.encodeDelimited=function(t,r){return this.encode(t,r).ldelim()},e.decode=function(t,r){t instanceof $Reader||(t=$Reader.create(t));let s=r===void 0?t.len:t.pos+r,c=new $root.rov_action_api.SensorUpdatesResponse;for(;t.pos<s;){let d=t.uint32();switch(d>>>3){case 1:{c.MeasurementUpdates&&c.MeasurementUpdates.length||(c.MeasurementUpdates=[]),c.MeasurementUpdates.push($root.rov_action_api.Measurement.decode(t,t.uint32()));break}default:t.skipType(d&7);break}}return c},e.decodeDelimited=function(t){return t instanceof $Reader||(t=new $Reader(t)),this.decode(t,t.uint32())},e.verify=function(t){if(typeof t!="object"||t===null)return"object expected";if(t.MeasurementUpdates!=null&&t.hasOwnProperty("MeasurementUpdates")){if(!Array.isArray(t.MeasurementUpdates))return"MeasurementUpdates: array expected";for(let r=0;r<t.MeasurementUpdates.length;++r){let s=$root.rov_action_api.Measurement.verify(t.MeasurementUpdates[r]);if(s)return"MeasurementUpdates."+s}}return null},e.fromObject=function(t){if(t instanceof $root.rov_action_api.SensorUpdatesResponse)return t;let r=new $root.rov_action_api.SensorUpdatesResponse;if(t.MeasurementUpdates){if(!Array.isArray(t.MeasurementUpdates))throw TypeError(".rov_action_api.SensorUpdatesResponse.MeasurementUpdates: array expected");r.MeasurementUpdates=[];for(let s=0;s<t.MeasurementUpdates.length;++s){if(typeof t.MeasurementUpdates[s]!="object")throw TypeError(".rov_action_api.SensorUpdatesResponse.MeasurementUpdates: object expected");r.MeasurementUpdates[s]=$root.rov_action_api.Measurement.fromObject(t.MeasurementUpdates[s])}}return r},e.toObject=function(t,r){r||(r={});let s={};if((r.arrays||r.defaults)&&(s.MeasurementUpdates=[]),t.MeasurementUpdates&&t.MeasurementUpdates.length){s.MeasurementUpdates=[];for(let c=0;c<t.MeasurementUpdates.length;++c)s.MeasurementUpdates[c]=$root.rov_action_api.Measurement.toObject(t.MeasurementUpdates[c],r)}return s},e.prototype.toJSON=function(){return this.constructor.toObject(this,minimal$1.exports.util.toJSONOptions)},e.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/rov_action_api.SensorUpdatesResponse"},e}(),n.PasswordRequiredResponse=function(){function e(a){if(a)for(let t=Object.keys(a),r=0;r<t.length;++r)a[t[r]]!=null&&(this[t[r]]=a[t[r]])}return e.prototype.RovId="",e.create=function(t){return new e(t)},e.encode=function(t,r){return r||(r=$Writer.create()),t.RovId!=null&&Object.hasOwnProperty.call(t,"RovId")&&r.uint32(10).string(t.RovId),r},e.encodeDelimited=function(t,r){return this.encode(t,r).ldelim()},e.decode=function(t,r){t instanceof $Reader||(t=$Reader.create(t));let s=r===void 0?t.len:t.pos+r,c=new $root.rov_action_api.PasswordRequiredResponse;for(;t.pos<s;){let d=t.uint32();switch(d>>>3){case 1:{c.RovId=t.string();break}default:t.skipType(d&7);break}}return c},e.decodeDelimited=function(t){return t instanceof $Reader||(t=new $Reader(t)),this.decode(t,t.uint32())},e.verify=function(t){return typeof t!="object"||t===null?"object expected":t.RovId!=null&&t.hasOwnProperty("RovId")&&!$util.isString(t.RovId)?"RovId: string expected":null},e.fromObject=function(t){if(t instanceof $root.rov_action_api.PasswordRequiredResponse)return t;let r=new $root.rov_action_api.PasswordRequiredResponse;return t.RovId!=null&&(r.RovId=String(t.RovId)),r},e.toObject=function(t,r){r||(r={});let s={};return r.defaults&&(s.RovId=""),t.RovId!=null&&t.hasOwnProperty("RovId")&&(s.RovId=t.RovId),s},e.prototype.toJSON=function(){return this.constructor.toObject(this,minimal$1.exports.util.toJSONOptions)},e.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/rov_action_api.PasswordRequiredResponse"},e}(),n.PasswordAcceptedResponse=function(){function e(a){if(a)for(let t=Object.keys(a),r=0;r<t.length;++r)a[t[r]]!=null&&(this[t[r]]=a[t[r]])}return e.prototype.AuthToken="",e.create=function(t){return new e(t)},e.encode=function(t,r){return r||(r=$Writer.create()),t.AuthToken!=null&&Object.hasOwnProperty.call(t,"AuthToken")&&r.uint32(10).string(t.AuthToken),r},e.encodeDelimited=function(t,r){return this.encode(t,r).ldelim()},e.decode=function(t,r){t instanceof $Reader||(t=$Reader.create(t));let s=r===void 0?t.len:t.pos+r,c=new $root.rov_action_api.PasswordAcceptedResponse;for(;t.pos<s;){let d=t.uint32();switch(d>>>3){case 1:{c.AuthToken=t.string();break}default:t.skipType(d&7);break}}return c},e.decodeDelimited=function(t){return t instanceof $Reader||(t=new $Reader(t)),this.decode(t,t.uint32())},e.verify=function(t){return typeof t!="object"||t===null?"object expected":t.AuthToken!=null&&t.hasOwnProperty("AuthToken")&&!$util.isString(t.AuthToken)?"AuthToken: string expected":null},e.fromObject=function(t){if(t instanceof $root.rov_action_api.PasswordAcceptedResponse)return t;let r=new $root.rov_action_api.PasswordAcceptedResponse;return t.AuthToken!=null&&(r.AuthToken=String(t.AuthToken)),r},e.toObject=function(t,r){r||(r={});let s={};return r.defaults&&(s.AuthToken=""),t.AuthToken!=null&&t.hasOwnProperty("AuthToken")&&(s.AuthToken=t.AuthToken),s},e.prototype.toJSON=function(){return this.constructor.toObject(this,minimal$1.exports.util.toJSONOptions)},e.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/rov_action_api.PasswordAcceptedResponse"},e}(),n.PasswordInvalidResponse=function(){function e(a){if(a)for(let t=Object.keys(a),r=0;r<t.length;++r)a[t[r]]!=null&&(this[t[r]]=a[t[r]])}return e.create=function(t){return new e(t)},e.encode=function(t,r){return r||(r=$Writer.create()),r},e.encodeDelimited=function(t,r){return this.encode(t,r).ldelim()},e.decode=function(t,r){t instanceof $Reader||(t=$Reader.create(t));let s=r===void 0?t.len:t.pos+r,c=new $root.rov_action_api.PasswordInvalidResponse;for(;t.pos<s;){let d=t.uint32();switch(d>>>3){default:t.skipType(d&7);break}}return c},e.decodeDelimited=function(t){return t instanceof $Reader||(t=new $Reader(t)),this.decode(t,t.uint32())},e.verify=function(t){return typeof t!="object"||t===null?"object expected":null},e.fromObject=function(t){return t instanceof $root.rov_action_api.PasswordInvalidResponse?t:new $root.rov_action_api.PasswordInvalidResponse},e.toObject=function(){return{}},e.prototype.toJSON=function(){return this.constructor.toObject(this,minimal$1.exports.util.toJSONOptions)},e.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/rov_action_api.PasswordInvalidResponse"},e}(),n.TokenAcceptedResponse=function(){function e(a){if(a)for(let t=Object.keys(a),r=0;r<t.length;++r)a[t[r]]!=null&&(this[t[r]]=a[t[r]])}return e.create=function(t){return new e(t)},e.encode=function(t,r){return r||(r=$Writer.create()),r},e.encodeDelimited=function(t,r){return this.encode(t,r).ldelim()},e.decode=function(t,r){t instanceof $Reader||(t=$Reader.create(t));let s=r===void 0?t.len:t.pos+r,c=new $root.rov_action_api.TokenAcceptedResponse;for(;t.pos<s;){let d=t.uint32();switch(d>>>3){default:t.skipType(d&7);break}}return c},e.decodeDelimited=function(t){return t instanceof $Reader||(t=new $Reader(t)),this.decode(t,t.uint32())},e.verify=function(t){return typeof t!="object"||t===null?"object expected":null},e.fromObject=function(t){return t instanceof $root.rov_action_api.TokenAcceptedResponse?t:new $root.rov_action_api.TokenAcceptedResponse},e.toObject=function(){return{}},e.prototype.toJSON=function(){return this.constructor.toObject(this,minimal$1.exports.util.toJSONOptions)},e.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/rov_action_api.TokenAcceptedResponse"},e}(),n.TokenInvalidResponse=function(){function e(a){if(a)for(let t=Object.keys(a),r=0;r<t.length;++r)a[t[r]]!=null&&(this[t[r]]=a[t[r]])}return e.create=function(t){return new e(t)},e.encode=function(t,r){return r||(r=$Writer.create()),r},e.encodeDelimited=function(t,r){return this.encode(t,r).ldelim()},e.decode=function(t,r){t instanceof $Reader||(t=$Reader.create(t));let s=r===void 0?t.len:t.pos+r,c=new $root.rov_action_api.TokenInvalidResponse;for(;t.pos<s;){let d=t.uint32();switch(d>>>3){default:t.skipType(d&7);break}}return c},e.decodeDelimited=function(t){return t instanceof $Reader||(t=new $Reader(t)),this.decode(t,t.uint32())},e.verify=function(t){return typeof t!="object"||t===null?"object expected":null},e.fromObject=function(t){return t instanceof $root.rov_action_api.TokenInvalidResponse?t:new $root.rov_action_api.TokenInvalidResponse},e.toObject=function(){return{}},e.prototype.toJSON=function(){return this.constructor.toObject(this,minimal$1.exports.util.toJSONOptions)},e.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/rov_action_api.TokenInvalidResponse"},e}(),n.DriverChangedResponse=function(){function e(a){if(a)for(let t=Object.keys(a),r=0;r<t.length;++r)a[t[r]]!=null&&(this[t[r]]=a[t[r]])}return e.prototype.DriverPeerId="",e.create=function(t){return new e(t)},e.encode=function(t,r){return r||(r=$Writer.create()),t.DriverPeerId!=null&&Object.hasOwnProperty.call(t,"DriverPeerId")&&r.uint32(10).string(t.DriverPeerId),r},e.encodeDelimited=function(t,r){return this.encode(t,r).ldelim()},e.decode=function(t,r){t instanceof $Reader||(t=$Reader.create(t));let s=r===void 0?t.len:t.pos+r,c=new $root.rov_action_api.DriverChangedResponse;for(;t.pos<s;){let d=t.uint32();switch(d>>>3){case 1:{c.DriverPeerId=t.string();break}default:t.skipType(d&7);break}}return c},e.decodeDelimited=function(t){return t instanceof $Reader||(t=new $Reader(t)),this.decode(t,t.uint32())},e.verify=function(t){return typeof t!="object"||t===null?"object expected":t.DriverPeerId!=null&&t.hasOwnProperty("DriverPeerId")&&!$util.isString(t.DriverPeerId)?"DriverPeerId: string expected":null},e.fromObject=function(t){if(t instanceof $root.rov_action_api.DriverChangedResponse)return t;let r=new $root.rov_action_api.DriverChangedResponse;return t.DriverPeerId!=null&&(r.DriverPeerId=String(t.DriverPeerId)),r},e.toObject=function(t,r){r||(r={});let s={};return r.defaults&&(s.DriverPeerId=""),t.DriverPeerId!=null&&t.hasOwnProperty("DriverPeerId")&&(s.DriverPeerId=t.DriverPeerId),s},e.prototype.toJSON=function(){return this.constructor.toObject(this,minimal$1.exports.util.toJSONOptions)},e.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/rov_action_api.DriverChangedResponse"},e}(),n.ClientConnectedResponse=function(){function e(a){if(a)for(let t=Object.keys(a),r=0;r<t.length;++r)a[t[r]]!=null&&(this[t[r]]=a[t[r]])}return e.prototype.ClientPeerId="",e.create=function(t){return new e(t)},e.encode=function(t,r){return r||(r=$Writer.create()),t.ClientPeerId!=null&&Object.hasOwnProperty.call(t,"ClientPeerId")&&r.uint32(10).string(t.ClientPeerId),r},e.encodeDelimited=function(t,r){return this.encode(t,r).ldelim()},e.decode=function(t,r){t instanceof $Reader||(t=$Reader.create(t));let s=r===void 0?t.len:t.pos+r,c=new $root.rov_action_api.ClientConnectedResponse;for(;t.pos<s;){let d=t.uint32();switch(d>>>3){case 1:{c.ClientPeerId=t.string();break}default:t.skipType(d&7);break}}return c},e.decodeDelimited=function(t){return t instanceof $Reader||(t=new $Reader(t)),this.decode(t,t.uint32())},e.verify=function(t){return typeof t!="object"||t===null?"object expected":t.ClientPeerId!=null&&t.hasOwnProperty("ClientPeerId")&&!$util.isString(t.ClientPeerId)?"ClientPeerId: string expected":null},e.fromObject=function(t){if(t instanceof $root.rov_action_api.ClientConnectedResponse)return t;let r=new $root.rov_action_api.ClientConnectedResponse;return t.ClientPeerId!=null&&(r.ClientPeerId=String(t.ClientPeerId)),r},e.toObject=function(t,r){r||(r={});let s={};return r.defaults&&(s.ClientPeerId=""),t.ClientPeerId!=null&&t.hasOwnProperty("ClientPeerId")&&(s.ClientPeerId=t.ClientPeerId),s},e.prototype.toJSON=function(){return this.constructor.toObject(this,minimal$1.exports.util.toJSONOptions)},e.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/rov_action_api.ClientConnectedResponse"},e}(),n.ClientDisconnectedResponse=function(){function e(a){if(a)for(let t=Object.keys(a),r=0;r<t.length;++r)a[t[r]]!=null&&(this[t[r]]=a[t[r]])}return e.prototype.ClientPeerId="",e.create=function(t){return new e(t)},e.encode=function(t,r){return r||(r=$Writer.create()),t.ClientPeerId!=null&&Object.hasOwnProperty.call(t,"ClientPeerId")&&r.uint32(10).string(t.ClientPeerId),r},e.encodeDelimited=function(t,r){return this.encode(t,r).ldelim()},e.decode=function(t,r){t instanceof $Reader||(t=$Reader.create(t));let s=r===void 0?t.len:t.pos+r,c=new $root.rov_action_api.ClientDisconnectedResponse;for(;t.pos<s;){let d=t.uint32();switch(d>>>3){case 1:{c.ClientPeerId=t.string();break}default:t.skipType(d&7);break}}return c},e.decodeDelimited=function(t){return t instanceof $Reader||(t=new $Reader(t)),this.decode(t,t.uint32())},e.verify=function(t){return typeof t!="object"||t===null?"object expected":t.ClientPeerId!=null&&t.hasOwnProperty("ClientPeerId")&&!$util.isString(t.ClientPeerId)?"ClientPeerId: string expected":null},e.fromObject=function(t){if(t instanceof $root.rov_action_api.ClientDisconnectedResponse)return t;let r=new $root.rov_action_api.ClientDisconnectedResponse;return t.ClientPeerId!=null&&(r.ClientPeerId=String(t.ClientPeerId)),r},e.toObject=function(t,r){r||(r={});let s={};return r.defaults&&(s.ClientPeerId=""),t.ClientPeerId!=null&&t.hasOwnProperty("ClientPeerId")&&(s.ClientPeerId=t.ClientPeerId),s},e.prototype.toJSON=function(){return this.constructor.toObject(this,minimal$1.exports.util.toJSONOptions)},e.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/rov_action_api.ClientDisconnectedResponse"},e}(),n.HeartbeatResponse=function(){function e(a){if(a)for(let t=Object.keys(a),r=0;r<t.length;++r)a[t[r]]!=null&&(this[t[r]]=a[t[r]])}return e.prototype.Time=$util.Long?$util.Long.fromBits(0,0,!1):0,e.create=function(t){return new e(t)},e.encode=function(t,r){return r||(r=$Writer.create()),t.Time!=null&&Object.hasOwnProperty.call(t,"Time")&&r.uint32(8).int64(t.Time),r},e.encodeDelimited=function(t,r){return this.encode(t,r).ldelim()},e.decode=function(t,r){t instanceof $Reader||(t=$Reader.create(t));let s=r===void 0?t.len:t.pos+r,c=new $root.rov_action_api.HeartbeatResponse;for(;t.pos<s;){let d=t.uint32();switch(d>>>3){case 1:{c.Time=t.int64();break}default:t.skipType(d&7);break}}return c},e.decodeDelimited=function(t){return t instanceof $Reader||(t=new $Reader(t)),this.decode(t,t.uint32())},e.verify=function(t){return typeof t!="object"||t===null?"object expected":t.Time!=null&&t.hasOwnProperty("Time")&&!$util.isInteger(t.Time)&&!(t.Time&&$util.isInteger(t.Time.low)&&$util.isInteger(t.Time.high))?"Time: integer|Long expected":null},e.fromObject=function(t){if(t instanceof $root.rov_action_api.HeartbeatResponse)return t;let r=new $root.rov_action_api.HeartbeatResponse;return t.Time!=null&&($util.Long?(r.Time=$util.Long.fromValue(t.Time)).unsigned=!1:typeof t.Time=="string"?r.Time=parseInt(t.Time,10):typeof t.Time=="number"?r.Time=t.Time:typeof t.Time=="object"&&(r.Time=new $util.LongBits(t.Time.low>>>0,t.Time.high>>>0).toNumber())),r},e.toObject=function(t,r){r||(r={});let s={};if(r.defaults)if($util.Long){let c=new $util.Long(0,0,!1);s.Time=r.longs===String?c.toString():r.longs===Number?c.toNumber():c}else s.Time=r.longs===String?"0":0;return t.Time!=null&&t.hasOwnProperty("Time")&&(typeof t.Time=="number"?s.Time=r.longs===String?String(t.Time):t.Time:s.Time=r.longs===String?$util.Long.prototype.toString.call(t.Time):r.longs===Number?new $util.LongBits(t.Time.low>>>0,t.Time.high>>>0).toNumber():t.Time),s},e.prototype.toJSON=function(){return this.constructor.toObject(this,minimal$1.exports.util.toJSONOptions)},e.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/rov_action_api.HeartbeatResponse"},e}(),n.RovResponse=function(){function e(t){if(t)for(let r=Object.keys(t),s=0;s<r.length;++s)t[r[s]]!=null&&(this[r[s]]=t[r[s]])}e.prototype.RovExchangeId=0,e.prototype.Done=null,e.prototype.Error=null,e.prototype.Pong=null,e.prototype.ContinuedOutput=null,e.prototype.SensorUpdates=null,e.prototype.PasswordRequired=null,e.prototype.PasswordAccepted=null,e.prototype.PasswordInvalid=null,e.prototype.TokenAccepted=null,e.prototype.TokenInvalid=null,e.prototype.DriverChanged=null,e.prototype.ClientConnected=null,e.prototype.ClientDisconnected=null,e.prototype.Heartbeat=null;let a;return Object.defineProperty(e.prototype,"Body",{get:$util.oneOfGetter(a=["Done","Error","Pong","ContinuedOutput","SensorUpdates","PasswordRequired","PasswordAccepted","PasswordInvalid","TokenAccepted","TokenInvalid","DriverChanged","ClientConnected","ClientDisconnected","Heartbeat"]),set:$util.oneOfSetter(a)}),e.create=function(r){return new e(r)},e.encode=function(r,s){return s||(s=$Writer.create()),r.RovExchangeId!=null&&Object.hasOwnProperty.call(r,"RovExchangeId")&&s.uint32(16).int32(r.RovExchangeId),r.Done!=null&&Object.hasOwnProperty.call(r,"Done")&&$root.rov_action_api.DoneResponse.encode(r.Done,s.uint32(26).fork()).ldelim(),r.Error!=null&&Object.hasOwnProperty.call(r,"Error")&&$root.rov_action_api.ErrorResponse.encode(r.Error,s.uint32(34).fork()).ldelim(),r.Pong!=null&&Object.hasOwnProperty.call(r,"Pong")&&$root.rov_action_api.PongResponse.encode(r.Pong,s.uint32(42).fork()).ldelim(),r.ContinuedOutput!=null&&Object.hasOwnProperty.call(r,"ContinuedOutput")&&$root.rov_action_api.ContinuedOutputResponse.encode(r.ContinuedOutput,s.uint32(50).fork()).ldelim(),r.SensorUpdates!=null&&Object.hasOwnProperty.call(r,"SensorUpdates")&&$root.rov_action_api.SensorUpdatesResponse.encode(r.SensorUpdates,s.uint32(58).fork()).ldelim(),r.PasswordRequired!=null&&Object.hasOwnProperty.call(r,"PasswordRequired")&&$root.rov_action_api.PasswordRequiredResponse.encode(r.PasswordRequired,s.uint32(66).fork()).ldelim(),r.PasswordAccepted!=null&&Object.hasOwnProperty.call(r,"PasswordAccepted")&&$root.rov_action_api.PasswordAcceptedResponse.encode(r.PasswordAccepted,s.uint32(74).fork()).ldelim(),r.PasswordInvalid!=null&&Object.hasOwnProperty.call(r,"PasswordInvalid")&&$root.rov_action_api.PasswordInvalidResponse.encode(r.PasswordInvalid,s.uint32(82).fork()).ldelim(),r.TokenAccepted!=null&&Object.hasOwnProperty.call(r,"TokenAccepted")&&$root.rov_action_api.TokenAcceptedResponse.encode(r.TokenAccepted,s.uint32(90).fork()).ldelim(),r.TokenInvalid!=null&&Object.hasOwnProperty.call(r,"TokenInvalid")&&$root.rov_action_api.TokenInvalidResponse.encode(r.TokenInvalid,s.uint32(98).fork()).ldelim(),r.DriverChanged!=null&&Object.hasOwnProperty.call(r,"DriverChanged")&&$root.rov_action_api.DriverChangedResponse.encode(r.DriverChanged,s.uint32(106).fork()).ldelim(),r.ClientConnected!=null&&Object.hasOwnProperty.call(r,"ClientConnected")&&$root.rov_action_api.ClientConnectedResponse.encode(r.ClientConnected,s.uint32(114).fork()).ldelim(),r.ClientDisconnected!=null&&Object.hasOwnProperty.call(r,"ClientDisconnected")&&$root.rov_action_api.ClientDisconnectedResponse.encode(r.ClientDisconnected,s.uint32(122).fork()).ldelim(),r.Heartbeat!=null&&Object.hasOwnProperty.call(r,"Heartbeat")&&$root.rov_action_api.HeartbeatResponse.encode(r.Heartbeat,s.uint32(130).fork()).ldelim(),s},e.encodeDelimited=function(r,s){return this.encode(r,s).ldelim()},e.decode=function(r,s){r instanceof $Reader||(r=$Reader.create(r));let c=s===void 0?r.len:r.pos+s,d=new $root.rov_action_api.RovResponse;for(;r.pos<c;){let u=r.uint32();switch(u>>>3){case 2:{d.RovExchangeId=r.int32();break}case 3:{d.Done=$root.rov_action_api.DoneResponse.decode(r,r.uint32());break}case 4:{d.Error=$root.rov_action_api.ErrorResponse.decode(r,r.uint32());break}case 5:{d.Pong=$root.rov_action_api.PongResponse.decode(r,r.uint32());break}case 6:{d.ContinuedOutput=$root.rov_action_api.ContinuedOutputResponse.decode(r,r.uint32());break}case 7:{d.SensorUpdates=$root.rov_action_api.SensorUpdatesResponse.decode(r,r.uint32());break}case 8:{d.PasswordRequired=$root.rov_action_api.PasswordRequiredResponse.decode(r,r.uint32());break}case 9:{d.PasswordAccepted=$root.rov_action_api.PasswordAcceptedResponse.decode(r,r.uint32());break}case 10:{d.PasswordInvalid=$root.rov_action_api.PasswordInvalidResponse.decode(r,r.uint32());break}case 11:{d.TokenAccepted=$root.rov_action_api.TokenAcceptedResponse.decode(r,r.uint32());break}case 12:{d.TokenInvalid=$root.rov_action_api.TokenInvalidResponse.decode(r,r.uint32());break}case 13:{d.DriverChanged=$root.rov_action_api.DriverChangedResponse.decode(r,r.uint32());break}case 14:{d.ClientConnected=$root.rov_action_api.ClientConnectedResponse.decode(r,r.uint32());break}case 15:{d.ClientDisconnected=$root.rov_action_api.ClientDisconnectedResponse.decode(r,r.uint32());break}case 16:{d.Heartbeat=$root.rov_action_api.HeartbeatResponse.decode(r,r.uint32());break}default:r.skipType(u&7);break}}return d},e.decodeDelimited=function(r){return r instanceof $Reader||(r=new $Reader(r)),this.decode(r,r.uint32())},e.verify=function(r){if(typeof r!="object"||r===null)return"object expected";let s={};if(r.RovExchangeId!=null&&r.hasOwnProperty("RovExchangeId")&&!$util.isInteger(r.RovExchangeId))return"RovExchangeId: integer expected";if(r.Done!=null&&r.hasOwnProperty("Done")){s.Body=1;{let c=$root.rov_action_api.DoneResponse.verify(r.Done);if(c)return"Done."+c}}if(r.Error!=null&&r.hasOwnProperty("Error")){if(s.Body===1)return"Body: multiple values";s.Body=1;{let c=$root.rov_action_api.ErrorResponse.verify(r.Error);if(c)return"Error."+c}}if(r.Pong!=null&&r.hasOwnProperty("Pong")){if(s.Body===1)return"Body: multiple values";s.Body=1;{let c=$root.rov_action_api.PongResponse.verify(r.Pong);if(c)return"Pong."+c}}if(r.ContinuedOutput!=null&&r.hasOwnProperty("ContinuedOutput")){if(s.Body===1)return"Body: multiple values";s.Body=1;{let c=$root.rov_action_api.ContinuedOutputResponse.verify(r.ContinuedOutput);if(c)return"ContinuedOutput."+c}}if(r.SensorUpdates!=null&&r.hasOwnProperty("SensorUpdates")){if(s.Body===1)return"Body: multiple values";s.Body=1;{let c=$root.rov_action_api.SensorUpdatesResponse.verify(r.SensorUpdates);if(c)return"SensorUpdates."+c}}if(r.PasswordRequired!=null&&r.hasOwnProperty("PasswordRequired")){if(s.Body===1)return"Body: multiple values";s.Body=1;{let c=$root.rov_action_api.PasswordRequiredResponse.verify(r.PasswordRequired);if(c)return"PasswordRequired."+c}}if(r.PasswordAccepted!=null&&r.hasOwnProperty("PasswordAccepted")){if(s.Body===1)return"Body: multiple values";s.Body=1;{let c=$root.rov_action_api.PasswordAcceptedResponse.verify(r.PasswordAccepted);if(c)return"PasswordAccepted."+c}}if(r.PasswordInvalid!=null&&r.hasOwnProperty("PasswordInvalid")){if(s.Body===1)return"Body: multiple values";s.Body=1;{let c=$root.rov_action_api.PasswordInvalidResponse.verify(r.PasswordInvalid);if(c)return"PasswordInvalid."+c}}if(r.TokenAccepted!=null&&r.hasOwnProperty("TokenAccepted")){if(s.Body===1)return"Body: multiple values";s.Body=1;{let c=$root.rov_action_api.TokenAcceptedResponse.verify(r.TokenAccepted);if(c)return"TokenAccepted."+c}}if(r.TokenInvalid!=null&&r.hasOwnProperty("TokenInvalid")){if(s.Body===1)return"Body: multiple values";s.Body=1;{let c=$root.rov_action_api.TokenInvalidResponse.verify(r.TokenInvalid);if(c)return"TokenInvalid."+c}}if(r.DriverChanged!=null&&r.hasOwnProperty("DriverChanged")){if(s.Body===1)return"Body: multiple values";s.Body=1;{let c=$root.rov_action_api.DriverChangedResponse.verify(r.DriverChanged);if(c)return"DriverChanged."+c}}if(r.ClientConnected!=null&&r.hasOwnProperty("ClientConnected")){if(s.Body===1)return"Body: multiple values";s.Body=1;{let c=$root.rov_action_api.ClientConnectedResponse.verify(r.ClientConnected);if(c)return"ClientConnected."+c}}if(r.ClientDisconnected!=null&&r.hasOwnProperty("ClientDisconnected")){if(s.Body===1)return"Body: multiple values";s.Body=1;{let c=$root.rov_action_api.ClientDisconnectedResponse.verify(r.ClientDisconnected);if(c)return"ClientDisconnected."+c}}if(r.Heartbeat!=null&&r.hasOwnProperty("Heartbeat")){if(s.Body===1)return"Body: multiple values";s.Body=1;{let c=$root.rov_action_api.HeartbeatResponse.verify(r.Heartbeat);if(c)return"Heartbeat."+c}}return null},e.fromObject=function(r){if(r instanceof $root.rov_action_api.RovResponse)return r;let s=new $root.rov_action_api.RovResponse;if(r.RovExchangeId!=null&&(s.RovExchangeId=r.RovExchangeId|0),r.Done!=null){if(typeof r.Done!="object")throw TypeError(".rov_action_api.RovResponse.Done: object expected");s.Done=$root.rov_action_api.DoneResponse.fromObject(r.Done)}if(r.Error!=null){if(typeof r.Error!="object")throw TypeError(".rov_action_api.RovResponse.Error: object expected");s.Error=$root.rov_action_api.ErrorResponse.fromObject(r.Error)}if(r.Pong!=null){if(typeof r.Pong!="object")throw TypeError(".rov_action_api.RovResponse.Pong: object expected");s.Pong=$root.rov_action_api.PongResponse.fromObject(r.Pong)}if(r.ContinuedOutput!=null){if(typeof r.ContinuedOutput!="object")throw TypeError(".rov_action_api.RovResponse.ContinuedOutput: object expected");s.ContinuedOutput=$root.rov_action_api.ContinuedOutputResponse.fromObject(r.ContinuedOutput)}if(r.SensorUpdates!=null){if(typeof r.SensorUpdates!="object")throw TypeError(".rov_action_api.RovResponse.SensorUpdates: object expected");s.SensorUpdates=$root.rov_action_api.SensorUpdatesResponse.fromObject(r.SensorUpdates)}if(r.PasswordRequired!=null){if(typeof r.PasswordRequired!="object")throw TypeError(".rov_action_api.RovResponse.PasswordRequired: object expected");s.PasswordRequired=$root.rov_action_api.PasswordRequiredResponse.fromObject(r.PasswordRequired)}if(r.PasswordAccepted!=null){if(typeof r.PasswordAccepted!="object")throw TypeError(".rov_action_api.RovResponse.PasswordAccepted: object expected");s.PasswordAccepted=$root.rov_action_api.PasswordAcceptedResponse.fromObject(r.PasswordAccepted)}if(r.PasswordInvalid!=null){if(typeof r.PasswordInvalid!="object")throw TypeError(".rov_action_api.RovResponse.PasswordInvalid: object expected");s.PasswordInvalid=$root.rov_action_api.PasswordInvalidResponse.fromObject(r.PasswordInvalid)}if(r.TokenAccepted!=null){if(typeof r.TokenAccepted!="object")throw TypeError(".rov_action_api.RovResponse.TokenAccepted: object expected");s.TokenAccepted=$root.rov_action_api.TokenAcceptedResponse.fromObject(r.TokenAccepted)}if(r.TokenInvalid!=null){if(typeof r.TokenInvalid!="object")throw TypeError(".rov_action_api.RovResponse.TokenInvalid: object expected");s.TokenInvalid=$root.rov_action_api.TokenInvalidResponse.fromObject(r.TokenInvalid)}if(r.DriverChanged!=null){if(typeof r.DriverChanged!="object")throw TypeError(".rov_action_api.RovResponse.DriverChanged: object expected");s.DriverChanged=$root.rov_action_api.DriverChangedResponse.fromObject(r.DriverChanged)}if(r.ClientConnected!=null){if(typeof r.ClientConnected!="object")throw TypeError(".rov_action_api.RovResponse.ClientConnected: object expected");s.ClientConnected=$root.rov_action_api.ClientConnectedResponse.fromObject(r.ClientConnected)}if(r.ClientDisconnected!=null){if(typeof r.ClientDisconnected!="object")throw TypeError(".rov_action_api.RovResponse.ClientDisconnected: object expected");s.ClientDisconnected=$root.rov_action_api.ClientDisconnectedResponse.fromObject(r.ClientDisconnected)}if(r.Heartbeat!=null){if(typeof r.Heartbeat!="object")throw TypeError(".rov_action_api.RovResponse.Heartbeat: object expected");s.Heartbeat=$root.rov_action_api.HeartbeatResponse.fromObject(r.Heartbeat)}return s},e.toObject=function(r,s){s||(s={});let c={};return s.defaults&&(c.RovExchangeId=0),r.RovExchangeId!=null&&r.hasOwnProperty("RovExchangeId")&&(c.RovExchangeId=r.RovExchangeId),r.Done!=null&&r.hasOwnProperty("Done")&&(c.Done=$root.rov_action_api.DoneResponse.toObject(r.Done,s),s.oneofs&&(c.Body="Done")),r.Error!=null&&r.hasOwnProperty("Error")&&(c.Error=$root.rov_action_api.ErrorResponse.toObject(r.Error,s),s.oneofs&&(c.Body="Error")),r.Pong!=null&&r.hasOwnProperty("Pong")&&(c.Pong=$root.rov_action_api.PongResponse.toObject(r.Pong,s),s.oneofs&&(c.Body="Pong")),r.ContinuedOutput!=null&&r.hasOwnProperty("ContinuedOutput")&&(c.ContinuedOutput=$root.rov_action_api.ContinuedOutputResponse.toObject(r.ContinuedOutput,s),s.oneofs&&(c.Body="ContinuedOutput")),r.SensorUpdates!=null&&r.hasOwnProperty("SensorUpdates")&&(c.SensorUpdates=$root.rov_action_api.SensorUpdatesResponse.toObject(r.SensorUpdates,s),s.oneofs&&(c.Body="SensorUpdates")),r.PasswordRequired!=null&&r.hasOwnProperty("PasswordRequired")&&(c.PasswordRequired=$root.rov_action_api.PasswordRequiredResponse.toObject(r.PasswordRequired,s),s.oneofs&&(c.Body="PasswordRequired")),r.PasswordAccepted!=null&&r.hasOwnProperty("PasswordAccepted")&&(c.PasswordAccepted=$root.rov_action_api.PasswordAcceptedResponse.toObject(r.PasswordAccepted,s),s.oneofs&&(c.Body="PasswordAccepted")),r.PasswordInvalid!=null&&r.hasOwnProperty("PasswordInvalid")&&(c.PasswordInvalid=$root.rov_action_api.PasswordInvalidResponse.toObject(r.PasswordInvalid,s),s.oneofs&&(c.Body="PasswordInvalid")),r.TokenAccepted!=null&&r.hasOwnProperty("TokenAccepted")&&(c.TokenAccepted=$root.rov_action_api.TokenAcceptedResponse.toObject(r.TokenAccepted,s),s.oneofs&&(c.Body="TokenAccepted")),r.TokenInvalid!=null&&r.hasOwnProperty("TokenInvalid")&&(c.TokenInvalid=$root.rov_action_api.TokenInvalidResponse.toObject(r.TokenInvalid,s),s.oneofs&&(c.Body="TokenInvalid")),r.DriverChanged!=null&&r.hasOwnProperty("DriverChanged")&&(c.DriverChanged=$root.rov_action_api.DriverChangedResponse.toObject(r.DriverChanged,s),s.oneofs&&(c.Body="DriverChanged")),r.ClientConnected!=null&&r.hasOwnProperty("ClientConnected")&&(c.ClientConnected=$root.rov_action_api.ClientConnectedResponse.toObject(r.ClientConnected,s),s.oneofs&&(c.Body="ClientConnected")),r.ClientDisconnected!=null&&r.hasOwnProperty("ClientDisconnected")&&(c.ClientDisconnected=$root.rov_action_api.ClientDisconnectedResponse.toObject(r.ClientDisconnected,s),s.oneofs&&(c.Body="ClientDisconnected")),r.Heartbeat!=null&&r.hasOwnProperty("Heartbeat")&&(c.Heartbeat=$root.rov_action_api.HeartbeatResponse.toObject(r.Heartbeat,s),s.oneofs&&(c.Body="Heartbeat")),c},e.prototype.toJSON=function(){return this.constructor.toObject(this,minimal$1.exports.util.toJSONOptions)},e.getTypeUrl=function(r){return r===void 0&&(r="type.googleapis.com"),r+"/rov_action_api.RovResponse"},e}(),n})(),LoadingIndicator_svelte_svelte_type_style_lang="";function create_if_block$6(n){let e,a,t,r,s;return{c(){e=element("div"),a=element("div"),t=space(),r=element("span"),s=text(n[0]),attr(a,"class","svelte-19tuhcz"),attr(r,"id","site_loading_text"),attr(r,"class","svelte-19tuhcz"),attr(e,"id","site_loading_indicator"),attr(e,"class","lds-circle svelte-19tuhcz")},m(c,d){insert(c,e,d),append(e,a),append(e,t),append(e,r),append(r,s)},p(c,d){d&1&&set_data(s,c[0])},d(c){c&&detach(e)}}}function create_fragment$q(n){let e,a=n[0]!=null&&create_if_block$6(n);return{c(){a&&a.c(),e=empty()},m(t,r){a&&a.m(t,r),insert(t,e,r)},p(t,[r]){t[0]!=null?a?a.p(t,r):(a=create_if_block$6(t),a.c(),a.m(e.parentNode,e)):a&&(a.d(1),a=null)},i:noop$1,o:noop$1,d(t){a&&a.d(t),t&&detach(e)}}}let currentMsg=nStore(null),loadingStack={};const showLoadingUi=(n,e)=>{const a=e||n||LOADING_MESSAGE.default;currentMsg.set(a),console.debug("showLoadingUi",a),loadingStack[n]=a},hideLoadingUi=n=>{n===LOADING_MESSAGE.clearAll?loadingStack={}:delete loadingStack[n];const e=Object.keys(loadingStack);e.length===0?currentMsg.set(null):(currentMsg.set(loadingStack[e[e.length-1]]),console.debug("hideLoadingUi Nonempty stack",n))};function instance$q(n,e,a){let t;return component_subscribe(n,currentMsg,r=>a(0,t=r)),[t]}class LoadingIndicator extends SvelteComponent{constructor(e){super(),init$1(this,e,instance$q,create_fragment$q,safe_not_equal,{})}}function getROVName(n){return ROV_PEERID_BASE+getUniqueName(n,MEMORABLE_PEER_ID_OFFSET)}function calculateDesiredMotion(n){var e=Number(n[0].toFixed(3)),a=-1*Number(n[1].toFixed(3)),t=Number(n[2].toFixed(3)),r=-1*Number(n[3].toFixed(3));return{VelocityX:t,VelocityY:a,VelocityZ:r,AngularVelocityYaw:e}}var State;(function(n){n[n.Open=0]="Open",n[n.Closed=1]="Closed"})(State||(State={}));const OPEN_CLOSED_CONTEXT_NAME="headlessui-open-closed-context";function useOpenClosed(){return getContext(OPEN_CLOSED_CONTEXT_NAME)}function match(n,e,...a){if(n in e){let r=e[n];return typeof r=="function"?r(...a):r}let t=new Error(`Tried to handle "${n}" but there is no handler defined. Only defined handlers are: ${Object.keys(e).map(r=>`"${r}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,match),t}let id=0;function generateId(){return++id}function useId(){return generateId()}let interactables=new Set,originals=new Map;function inert(n){n.setAttribute("aria-hidden","true"),n.inert=!0}function restore(n){let e=originals.get(n);!e||(e["aria-hidden"]===null?n.removeAttribute("aria-hidden"):n.setAttribute("aria-hidden",e["aria-hidden"]),n.inert=e.inert)}function useInertOthers(n,e=!0){if(!e||!n)return;let a=n;interactables.add(a);for(let t of originals.keys())t.contains(a)&&(restore(t),originals.delete(t));return document.querySelectorAll("body > *").forEach(t=>{if(t instanceof HTMLElement){for(let r of interactables)if(t.contains(r))return;interactables.size===1&&(originals.set(t,{"aria-hidden":t.getAttribute("aria-hidden"),inert:t.inert}),inert(t))}}),()=>{if(interactables.delete(a),interactables.size>0)document.querySelectorAll("body > *").forEach(t=>{if(t instanceof HTMLElement&&!originals.has(t)){for(let r of interactables)if(t.contains(r))return;originals.set(t,{"aria-hidden":t.getAttribute("aria-hidden"),inert:t.inert}),inert(t)}});else for(let t of originals.keys())restore(t),originals.delete(t)}}function contains$1(n,e){for(let a of n)if(a.contains(e))return!0;return!1}var Keys;(function(n){n.Space=" ",n.Enter="Enter",n.Escape="Escape",n.Backspace="Backspace",n.ArrowLeft="ArrowLeft",n.ArrowUp="ArrowUp",n.ArrowRight="ArrowRight",n.ArrowDown="ArrowDown",n.Home="Home",n.End="End",n.PageUp="PageUp",n.PageDown="PageDown",n.Tab="Tab"})(Keys||(Keys={}));let focusableSelector=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(n=>`${n}:not([tabindex='-1'])`).join(",");var Focus$1;(function(n){n[n.First=1]="First",n[n.Previous=2]="Previous",n[n.Next=4]="Next",n[n.Last=8]="Last",n[n.WrapAround=16]="WrapAround",n[n.NoScroll=32]="NoScroll"})(Focus$1||(Focus$1={}));var FocusResult;(function(n){n[n.Error=0]="Error",n[n.Overflow=1]="Overflow",n[n.Success=2]="Success",n[n.Underflow=3]="Underflow"})(FocusResult||(FocusResult={}));var Direction;(function(n){n[n.Previous=-1]="Previous",n[n.Next=1]="Next"})(Direction||(Direction={}));function getFocusableElements(n=document.body){return n==null?[]:Array.from(n.querySelectorAll(focusableSelector))}var FocusableMode;(function(n){n[n.Strict=0]="Strict",n[n.Loose=1]="Loose"})(FocusableMode||(FocusableMode={}));function focusElement(n){n==null||n.focus({preventScroll:!0})}function focusIn(n,e){let a=Array.isArray(n)?n:getFocusableElements(n),t=document.activeElement,r=(()=>{if(e&(Focus$1.First|Focus$1.Next))return Direction.Next;if(e&(Focus$1.Previous|Focus$1.Last))return Direction.Previous;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),s=(()=>{if(e&Focus$1.First)return 0;if(e&Focus$1.Previous)return Math.max(0,a.indexOf(t))-1;if(e&Focus$1.Next)return Math.max(0,a.indexOf(t))+1;if(e&Focus$1.Last)return a.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),c=e&Focus$1.NoScroll?{preventScroll:!0}:{},d=0,u=a.length,m;do{if(d>=u||d+u<=0)return FocusResult.Error;let g=s+d;if(e&Focus$1.WrapAround)g=(g+u)%u;else{if(g<0)return FocusResult.Underflow;if(g>=u)return FocusResult.Overflow}m=a[g],m==null||m.focus(c),d+=r}while(m!==document.activeElement);return m.hasAttribute("tabindex")||m.setAttribute("tabindex","0"),FocusResult.Success}const{window:window_1$1}=globals;function create_fragment$p(n){let e,a;return{c:noop$1,m(t,r){e||(a=[listen(window_1$1,"keydown",n[0]),listen(window_1$1,"focus",n[1],!0)],e=!0)},p:noop$1,i:noop$1,o:noop$1,d(t){e=!1,run_all(a)}}}function instance$p(n,e,a){let{containers:t}=e,{enabled:r=!0}=e,{options:s={}}=e,c=typeof window<"u"?document.activeElement:null,d=null;async function u(){if(!r||t.size!==1)return;let{initialFocus:S}=s;await tick();let C=document.activeElement;if(S){if(S===C)return}else if(contains$1(t,C))return;if(c=C,S)focusElement(S);else{let R=!1;for(let w of t)if(focusIn(w,Focus$1.First)===FocusResult.Success){R=!0;break}R||console.warn("There are no focusable elements inside the <FocusTrap />")}d=document.activeElement}function m(){focusElement(c),c=null,d=null}onMount(u);let g=!1;onDestroy(()=>{g=!0,m()});function _(S){if(!!r&&S.key===Keys.Tab&&!!document.activeElement&&t.size===1){S.preventDefault();for(let C of t)if(focusIn(C,(S.shiftKey?Focus$1.Previous:Focus$1.Next)|Focus$1.WrapAround)===FocusResult.Success){d=document.activeElement;break}}}function b(S){if(S.target===window.document.body||!r||t.size!==1||g)return;let C=d;if(!C)return;let R=S.target;R&&R instanceof HTMLElement?contains$1(t,R)?(d=R,focusElement(R)):(S.preventDefault(),S.stopPropagation(),focusElement(C)):focusElement(d)}return n.$$set=S=>{"containers"in S&&a(2,t=S.containers),"enabled"in S&&a(3,r=S.enabled),"options"in S&&a(4,s=S.options)},n.$$.update=()=>{n.$$.dirty&12&&(r&&t?u():m())},[_,b,t,r,s]}class FocusTrap extends SvelteComponent{constructor(e){super(),init$1(this,e,instance$p,create_fragment$p,safe_not_equal,{containers:2,enabled:3,options:4})}}function create_fragment$o(n){let e;const a=n[4].default,t=create_slot(a,n,n[3],null);return{c(){t&&t.c()},m(r,s){t&&t.m(r,s),e=!0},p(r,[s]){t&&t.p&&(!e||s&8)&&update_slot_base(t,a,r,r[3],e?get_slot_changes(a,r[3],s,null):get_all_dirty_from_scope(r[3]),null)},i(r){e||(transition_in(t,r),e=!0)},o(r){transition_out(t,r),e=!1},d(r){t&&t.d(r)}}}var StackMessage;(function(n){n[n.Add=0]="Add",n[n.Remove=1]="Remove"})(StackMessage||(StackMessage={}));const STACK_CONTEXT_NAME="headlessui-stack-context";function instance$o(n,e,a){let t,{$$slots:r={},$$scope:s}=e,{onUpdate:c}=e,{element:d}=e;function u(...g){c==null||c(...g),m==null||m(...g)}let m=getContext(STACK_CONTEXT_NAME);return setContext(STACK_CONTEXT_NAME,u),onDestroy(()=>{t&&t()}),n.$$set=g=>{"onUpdate"in g&&a(0,c=g.onUpdate),"element"in g&&a(1,d=g.element),"$$scope"in g&&a(3,s=g.$$scope)},n.$$.update=()=>{n.$$.dirty&6&&a(2,t=(()=>{if(t&&t(),!d)return null;let g=d;return u(StackMessage.Add,g),()=>u(StackMessage.Remove,g)})())},[c,d,t,s,r]}class StackContextProvider extends SvelteComponent{constructor(e){super(),init$1(this,e,instance$o,create_fragment$o,safe_not_equal,{onUpdate:0,element:1})}}const get_default_slot_changes$4=n=>({describedby:n&1}),get_default_slot_context$4=n=>({describedby:n[0].descriptionIds});function create_fragment$n(n){let e;const a=n[6].default,t=create_slot(a,n,n[5],get_default_slot_context$4);return{c(){t&&t.c()},m(r,s){t&&t.m(r,s),e=!0},p(r,[s]){t&&t.p&&(!e||s&33)&&update_slot_base(t,a,r,r[5],e?get_slot_changes(a,r[5],s,get_default_slot_changes$4):get_all_dirty_from_scope(r[5]),get_default_slot_context$4)},i(r){e||(transition_in(t,r),e=!0)},o(r){transition_out(t,r),e=!1},d(r){t&&t.d(r)}}}const DESCRIPTION_CONTEXT_NAME="headlessui-description-context";function useDescriptionContext(){return getContext(DESCRIPTION_CONTEXT_NAME)}function instance$n(n,e,a){const t=["name","slotProps"];let r=compute_rest_props(e,t),s,{$$slots:c={},$$scope:d}=e,{name:u}=e,{slotProps:m={}}=e,g=[],_=writable({name:u,slotProps:m,props:r,register:b});component_subscribe(n,_,S=>a(0,s=S)),setContext(DESCRIPTION_CONTEXT_NAME,_);function b(S){return a(4,g=[...g,S]),()=>{a(4,g=g.filter(C=>C!==S))}}return n.$$set=S=>{e=assign$3(assign$3({},e),exclude_internal_props(S)),a(8,r=compute_rest_props(e,t)),"name"in S&&a(2,u=S.name),"slotProps"in S&&a(3,m=S.slotProps),"$$scope"in S&&a(5,d=S.$$scope)},n.$$.update=()=>{_.set({name:u,slotProps:m,props:r,register:b,descriptionIds:g.length>0?g.join(" "):void 0})},[s,_,u,m,g,d,c]}class DescriptionProvider extends SvelteComponent{constructor(e){super(),init$1(this,e,instance$n,create_fragment$n,safe_not_equal,{name:2,slotProps:3})}}function create_fragment$m(n){let e;const a=n[2].default,t=create_slot(a,n,n[1],null);return{c(){t&&t.c()},m(r,s){t&&t.m(r,s),e=!0},p(r,[s]){t&&t.p&&(!e||s&2)&&update_slot_base(t,a,r,r[1],e?get_slot_changes(a,r[1],s,null):get_all_dirty_from_scope(r[1]),null)},i(r){e||(transition_in(t,r),e=!0)},o(r){transition_out(t,r),e=!1},d(r){t&&t.d(r)}}}const FORCE_PORTAL_ROOT_CONTEXT_NAME="headlessui-force-portal-root-context";function usePortalRoot(){return getContext(FORCE_PORTAL_ROOT_CONTEXT_NAME)}function instance$m(n,e,a){let{$$slots:t={},$$scope:r}=e,{force:s}=e;return setContext(FORCE_PORTAL_ROOT_CONTEXT_NAME,writable(s)),n.$$set=c=>{"force"in c&&a(0,s=c.force),"$$scope"in c&&a(1,r=c.$$scope)},[s,r,t]}class ForcePortalRootContext extends SvelteComponent{constructor(e){super(),init$1(this,e,instance$m,create_fragment$m,safe_not_equal,{force:0})}}function create_fragment$l(n){let e;const a=n[2].default,t=create_slot(a,n,n[1],null);return{c(){t&&t.c()},m(r,s){t&&t.m(r,s),e=!0},p(r,[s]){t&&t.p&&(!e||s&2)&&update_slot_base(t,a,r,r[1],e?get_slot_changes(a,r[1],s,null):get_all_dirty_from_scope(r[1]),null)},i(r){e||(transition_in(t,r),e=!0)},o(r){transition_out(t,r),e=!1},d(r){t&&t.d(r)}}}const PORTAL_GROUP_CONTEXT_NAME="headlessui-portal-group-context";function usePortalGroupContext(){return getContext(PORTAL_GROUP_CONTEXT_NAME)}function instance$l(n,e,a){let{$$slots:t={},$$scope:r}=e,{target:s}=e,c=writable(s);return setContext(PORTAL_GROUP_CONTEXT_NAME,c),n.$$set=d=>{"target"in d&&a(0,s=d.target),"$$scope"in d&&a(1,r=d.$$scope)},n.$$.update=()=>{n.$$.dirty&1&&c.set(s)},[s,r,t]}class PortalGroup extends SvelteComponent{constructor(e){super(),init$1(this,e,instance$l,create_fragment$l,safe_not_equal,{target:0})}}function portal(n,e){return e&&e.append(n),{update(a){e=a,a.append(n)},destroy(){var a;e!=null&&e.contains(n)&&e.removeChild(n),e&&e.childNodes.length<=0&&((a=e.parentElement)==null||a.removeChild(e))}}}function create_fragment$k(n){let e,a,t,r,s;const c=n[6].default,d=create_slot(c,n,n[5],null);return{c(){e=element("div"),d&&d.c()},m(u,m){insert(u,e,m),d&&d.m(e,null),t=!0,r||(s=action_destroyer(a=portal.call(null,e,n[0])),r=!0)},p(u,[m]){d&&d.p&&(!t||m&32)&&update_slot_base(d,c,u,u[5],t?get_slot_changes(c,u[5],m,null):get_all_dirty_from_scope(u[5]),null),a&&is_function(a.update)&&m&1&&a.update.call(null,u[0])},i(u){t||(transition_in(d,u),t=!0)},o(u){transition_out(d,u),t=!1},d(u){u&&detach(e),d&&d.d(u),r=!1,s()}}}function instance$k(n,e,a){let t,r,s,{$$slots:c={},$$scope:d}=e,u=usePortalRoot();component_subscribe(n,u,g=>a(4,s=g));let m=usePortalGroupContext();return component_subscribe(n,m,g=>a(3,r=g)),n.$$set=g=>{"$$scope"in g&&a(5,d=g.$$scope)},n.$$.update=()=>{n.$$.dirty&24&&a(0,t=(()=>{if(!(u&&s)&&m!==void 0&&r!==null)return r;if(typeof window>"u")return null;let g=document.getElementById("headlessui-portal-root");if(g)return g;let _=document.createElement("div");return _.setAttribute("id","headlessui-portal-root"),tick().then(()=>{_!==document.body.lastChild&&document.body.appendChild(_)}),document.body.appendChild(_)})())},[t,u,m,r,s,d,c]}class Portal extends SvelteComponent{constructor(e){super(),init$1(this,e,instance$k,create_fragment$k,safe_not_equal,{})}}const MODIFIER_DIVIDER="!",modifierRegex=new RegExp(`^[^${MODIFIER_DIVIDER}]+(?:${MODIFIER_DIVIDER}(?:preventDefault|stopPropagation|passive|nonpassive|capture|once|self))+$`);function forwardEventsBuilder(n,e=[]){let a,t=[];n.$on=(s,c)=>{let d=s,u=()=>{};for(let m of e){if(typeof m=="string"&&m===d){const g=n.$$.callbacks[d]||(n.$$.callbacks[d]=[]);return g.push(c),()=>{const _=g.indexOf(c);_!==-1&&g.splice(_,1)}}if(typeof m=="object"&&m.name===d){let g=c;c=(..._)=>{typeof m=="object"&&m.shouldExclude()||g(..._)}}}return a?u=a(d,c):t.push([d,c]),()=>{u()}};function r(s){bubble(n,s)}return s=>{const c=[],d={};a=(u,m)=>{let g=u,_=m,b=!1;if(g.match(modifierRegex)){const w=g.split(MODIFIER_DIVIDER);g=w[0];const k=Object.fromEntries(w.slice(1).map($=>[$,!0]));k.passive&&(b=b||{},b.passive=!0),k.nonpassive&&(b=b||{},b.passive=!1),k.capture&&(b=b||{},b.capture=!0),k.once&&(b=b||{},b.once=!0),k.preventDefault&&(_=prevent_default(_)),k.stopPropagation&&(_=stop_propagation(_))}const C=listen(s,g,_,b),R=()=>{C();const w=c.indexOf(R);w>-1&&c.splice(w,1)};return c.push(R),g in d||(d[g]=listen(s,g,r)),R};for(let u=0;u<t.length;u++)a(t[u][0],t[u][1]);return{destroy:()=>{for(let u=0;u<c.length;u++)c[u]();for(let u of Object.entries(d))u[1]()}}}}const components=["a","address","article","aside","b","bdi","bdo","blockquote","button","cite","code","data","datalist","dd","dl","dt","div","em","footer","form","h1","h2","h3","h4","h5","h6","header","i","input","label","li","main","nav","ol","p","section","span","strong","ul"];function isValidElement(n){return!(typeof n=="string"&&!components.includes(n))}function useActions(n,e){let a=[];if(e)for(let t=0;t<e.length;t++){const r=e[t],s=Array.isArray(r)?r[0]:r;Array.isArray(r)&&r.length>1?a.push(s(n,r[1])):a.push(s(n))}return{update(t){if((t&&t.length||0)!=a.length)throw new Error("You must not change the length of an actions array.");if(t)for(let r=0;r<t.length;r++){const s=a[r];if(s&&s.update){const c=t[r];Array.isArray(c)&&c.length>1?s.update(c[1]):s.update()}}},destroy(){for(let t=0;t<a.length;t++){const r=a[t];r&&r.destroy&&r.destroy()}}}}var Features;(function(n){n[n.None=0]="None",n[n.RenderStrategy=1]="RenderStrategy",n[n.Static=2]="Static"})(Features||(Features={}));function create_if_block$5(n){let e,a,t,r;const s=[create_if_block_1$3,create_if_block_2$2,create_if_block_3$1,create_if_block_4,create_if_block_5,create_if_block_6,create_if_block_7,create_if_block_8,create_if_block_9,create_if_block_10,create_if_block_11,create_if_block_12,create_if_block_13,create_if_block_14,create_if_block_15,create_if_block_16,create_if_block_17,create_if_block_18,create_if_block_19,create_if_block_20,create_if_block_21,create_if_block_22,create_if_block_23,create_if_block_24,create_if_block_25,create_if_block_26,create_if_block_27,create_if_block_28,create_if_block_29,create_if_block_30,create_if_block_31,create_if_block_32,create_if_block_33,create_if_block_34,create_if_block_35,create_if_block_36,create_if_block_37,create_if_block_38,create_if_block_39,create_else_block$1],c=[];function d(u,m){return u[1]==="a"?0:u[1]==="address"?1:u[1]==="article"?2:u[1]==="aside"?3:u[1]==="b"?4:u[1]==="bdi"?5:u[1]==="bdo"?6:u[1]==="blockquote"?7:u[1]==="button"?8:u[1]==="cite"?9:u[1]==="code"?10:u[1]==="data"?11:u[1]==="datalist"?12:u[1]==="dd"?13:u[1]==="dl"?14:u[1]==="dt"?15:u[1]==="div"?16:u[1]==="em"?17:u[1]==="footer"?18:u[1]==="form"?19:u[1]==="h1"?20:u[1]==="h2"?21:u[1]==="h3"?22:u[1]==="h4"?23:u[1]==="h5"?24:u[1]==="h6"?25:u[1]==="header"?26:u[1]==="i"?27:u[1]==="input"?28:u[1]==="label"?29:u[1]==="li"?30:u[1]==="main"?31:u[1]==="nav"?32:u[1]==="ol"?33:u[1]==="p"?34:u[1]==="section"?35:u[1]==="span"?36:u[1]==="strong"?37:u[1]==="ul"?38:39}return e=d(n),a=c[e]=s[e](n),{c(){a.c(),t=empty()},m(u,m){c[e].m(u,m),insert(u,t,m),r=!0},p(u,m){let g=e;e=d(u),e===g?c[e].p(u,m):(group_outros(),transition_out(c[g],1,1,()=>{c[g]=null}),check_outros(),a=c[e],a?a.p(u,m):(a=c[e]=s[e](u),a.c()),transition_in(a,1),a.m(t.parentNode,t))},i(u){r||(transition_in(a),r=!0)},o(u){transition_out(a),r=!1},d(u){c[e].d(u),u&&detach(t)}}}function create_else_block$1(n){let e,a,t,r;const s=[{use:[...n[2],n[6]]},n[7],n[3],{hidden:n[4]||void 0}];function c(m){n[58](m)}var d=n[1];function u(m){let g={$$slots:{default:[create_default_slot$8]},$$scope:{ctx:m}};for(let _=0;_<s.length;_+=1)g=assign$3(g,s[_]);return m[0]!==void 0&&(g.el=m[0]),{props:g}}return d&&(e=construct_svelte_component(d,u(n)),binding_callbacks.push(()=>bind(e,"el",c,n[0]))),{c(){e&&create_component(e.$$.fragment),t=empty()},m(m,g){e&&mount_component(e,m,g),insert(m,t,g),r=!0},p(m,g){const _=g[0]&220?get_spread_update(s,[g[0]&68&&{use:[...m[2],m[6]]},g[0]&128&&get_spread_object(m[7]),g[0]&8&&get_spread_object(m[3]),g[0]&16&&{hidden:m[4]||void 0}]):{};if(g[1]&268435456&&(_.$$scope={dirty:g,ctx:m}),!a&&g[0]&1&&(a=!0,_.el=m[0],add_flush_callback(()=>a=!1)),d!==(d=m[1])){if(e){group_outros();const b=e;transition_out(b.$$.fragment,1,0,()=>{destroy_component(b,1)}),check_outros()}d?(e=construct_svelte_component(d,u(m)),binding_callbacks.push(()=>bind(e,"el",c,m[0])),create_component(e.$$.fragment),transition_in(e.$$.fragment,1),mount_component(e,t.parentNode,t)):e=null}else d&&e.$set(_)},i(m){r||(e&&transition_in(e.$$.fragment,m),r=!0)},o(m){e&&transition_out(e.$$.fragment,m),r=!1},d(m){m&&detach(t),e&&destroy_component(e,m)}}}function create_if_block_39(n){let e,a,t,r,s,c;const d=n[18].default,u=create_slot(d,n,n[59],null);let m=[n[7],n[3],{hidden:a=n[4]||void 0}],g={};for(let _=0;_<m.length;_+=1)g=assign$3(g,m[_]);return{c(){e=element("ul"),u&&u.c(),set_attributes(e,g)},m(_,b){insert(_,e,b),u&&u.m(e,null),n[57](e),r=!0,s||(c=[action_destroyer(t=useActions.call(null,e,n[2])),action_destroyer(n[6].call(null,e))],s=!0)},p(_,b){u&&u.p&&(!r||b[1]&268435456)&&update_slot_base(u,d,_,_[59],r?get_slot_changes(d,_[59],b,null):get_all_dirty_from_scope(_[59]),null),set_attributes(e,g=get_spread_update(m,[b[0]&128&&_[7],b[0]&8&&_[3],(!r||b[0]&16&&a!==(a=_[4]||void 0))&&{hidden:a}])),t&&is_function(t.update)&&b[0]&4&&t.update.call(null,_[2])},i(_){r||(transition_in(u,_),r=!0)},o(_){transition_out(u,_),r=!1},d(_){_&&detach(e),u&&u.d(_),n[57](null),s=!1,run_all(c)}}}function create_if_block_38(n){let e,a,t,r,s,c;const d=n[18].default,u=create_slot(d,n,n[59],null);let m=[n[7],n[3],{hidden:a=n[4]||void 0}],g={};for(let _=0;_<m.length;_+=1)g=assign$3(g,m[_]);return{c(){e=element("strong"),u&&u.c(),set_attributes(e,g)},m(_,b){insert(_,e,b),u&&u.m(e,null),n[56](e),r=!0,s||(c=[action_destroyer(t=useActions.call(null,e,n[2])),action_destroyer(n[6].call(null,e))],s=!0)},p(_,b){u&&u.p&&(!r||b[1]&268435456)&&update_slot_base(u,d,_,_[59],r?get_slot_changes(d,_[59],b,null):get_all_dirty_from_scope(_[59]),null),set_attributes(e,g=get_spread_update(m,[b[0]&128&&_[7],b[0]&8&&_[3],(!r||b[0]&16&&a!==(a=_[4]||void 0))&&{hidden:a}])),t&&is_function(t.update)&&b[0]&4&&t.update.call(null,_[2])},i(_){r||(transition_in(u,_),r=!0)},o(_){transition_out(u,_),r=!1},d(_){_&&detach(e),u&&u.d(_),n[56](null),s=!1,run_all(c)}}}function create_if_block_37(n){let e,a,t,r,s,c;const d=n[18].default,u=create_slot(d,n,n[59],null);let m=[n[7],n[3],{hidden:a=n[4]||void 0}],g={};for(let _=0;_<m.length;_+=1)g=assign$3(g,m[_]);return{c(){e=element("span"),u&&u.c(),set_attributes(e,g)},m(_,b){insert(_,e,b),u&&u.m(e,null),n[55](e),r=!0,s||(c=[action_destroyer(t=useActions.call(null,e,n[2])),action_destroyer(n[6].call(null,e))],s=!0)},p(_,b){u&&u.p&&(!r||b[1]&268435456)&&update_slot_base(u,d,_,_[59],r?get_slot_changes(d,_[59],b,null):get_all_dirty_from_scope(_[59]),null),set_attributes(e,g=get_spread_update(m,[b[0]&128&&_[7],b[0]&8&&_[3],(!r||b[0]&16&&a!==(a=_[4]||void 0))&&{hidden:a}])),t&&is_function(t.update)&&b[0]&4&&t.update.call(null,_[2])},i(_){r||(transition_in(u,_),r=!0)},o(_){transition_out(u,_),r=!1},d(_){_&&detach(e),u&&u.d(_),n[55](null),s=!1,run_all(c)}}}function create_if_block_36(n){let e,a,t,r,s,c;const d=n[18].default,u=create_slot(d,n,n[59],null);let m=[n[7],n[3],{hidden:a=n[4]||void 0}],g={};for(let _=0;_<m.length;_+=1)g=assign$3(g,m[_]);return{c(){e=element("section"),u&&u.c(),set_attributes(e,g)},m(_,b){insert(_,e,b),u&&u.m(e,null),n[54](e),r=!0,s||(c=[action_destroyer(t=useActions.call(null,e,n[2])),action_destroyer(n[6].call(null,e))],s=!0)},p(_,b){u&&u.p&&(!r||b[1]&268435456)&&update_slot_base(u,d,_,_[59],r?get_slot_changes(d,_[59],b,null):get_all_dirty_from_scope(_[59]),null),set_attributes(e,g=get_spread_update(m,[b[0]&128&&_[7],b[0]&8&&_[3],(!r||b[0]&16&&a!==(a=_[4]||void 0))&&{hidden:a}])),t&&is_function(t.update)&&b[0]&4&&t.update.call(null,_[2])},i(_){r||(transition_in(u,_),r=!0)},o(_){transition_out(u,_),r=!1},d(_){_&&detach(e),u&&u.d(_),n[54](null),s=!1,run_all(c)}}}function create_if_block_35(n){let e,a,t,r,s,c;const d=n[18].default,u=create_slot(d,n,n[59],null);let m=[n[7],n[3],{hidden:a=n[4]||void 0}],g={};for(let _=0;_<m.length;_+=1)g=assign$3(g,m[_]);return{c(){e=element("p"),u&&u.c(),set_attributes(e,g)},m(_,b){insert(_,e,b),u&&u.m(e,null),n[53](e),r=!0,s||(c=[action_destroyer(t=useActions.call(null,e,n[2])),action_destroyer(n[6].call(null,e))],s=!0)},p(_,b){u&&u.p&&(!r||b[1]&268435456)&&update_slot_base(u,d,_,_[59],r?get_slot_changes(d,_[59],b,null):get_all_dirty_from_scope(_[59]),null),set_attributes(e,g=get_spread_update(m,[b[0]&128&&_[7],b[0]&8&&_[3],(!r||b[0]&16&&a!==(a=_[4]||void 0))&&{hidden:a}])),t&&is_function(t.update)&&b[0]&4&&t.update.call(null,_[2])},i(_){r||(transition_in(u,_),r=!0)},o(_){transition_out(u,_),r=!1},d(_){_&&detach(e),u&&u.d(_),n[53](null),s=!1,run_all(c)}}}function create_if_block_34(n){let e,a,t,r,s,c;const d=n[18].default,u=create_slot(d,n,n[59],null);let m=[n[7],n[3],{hidden:a=n[4]||void 0}],g={};for(let _=0;_<m.length;_+=1)g=assign$3(g,m[_]);return{c(){e=element("ol"),u&&u.c(),set_attributes(e,g)},m(_,b){insert(_,e,b),u&&u.m(e,null),n[52](e),r=!0,s||(c=[action_destroyer(t=useActions.call(null,e,n[2])),action_destroyer(n[6].call(null,e))],s=!0)},p(_,b){u&&u.p&&(!r||b[1]&268435456)&&update_slot_base(u,d,_,_[59],r?get_slot_changes(d,_[59],b,null):get_all_dirty_from_scope(_[59]),null),set_attributes(e,g=get_spread_update(m,[b[0]&128&&_[7],b[0]&8&&_[3],(!r||b[0]&16&&a!==(a=_[4]||void 0))&&{hidden:a}])),t&&is_function(t.update)&&b[0]&4&&t.update.call(null,_[2])},i(_){r||(transition_in(u,_),r=!0)},o(_){transition_out(u,_),r=!1},d(_){_&&detach(e),u&&u.d(_),n[52](null),s=!1,run_all(c)}}}function create_if_block_33(n){let e,a,t,r,s,c;const d=n[18].default,u=create_slot(d,n,n[59],null);let m=[n[7],n[3],{hidden:a=n[4]||void 0}],g={};for(let _=0;_<m.length;_+=1)g=assign$3(g,m[_]);return{c(){e=element("nav"),u&&u.c(),set_attributes(e,g)},m(_,b){insert(_,e,b),u&&u.m(e,null),n[51](e),r=!0,s||(c=[action_destroyer(t=useActions.call(null,e,n[2])),action_destroyer(n[6].call(null,e))],s=!0)},p(_,b){u&&u.p&&(!r||b[1]&268435456)&&update_slot_base(u,d,_,_[59],r?get_slot_changes(d,_[59],b,null):get_all_dirty_from_scope(_[59]),null),set_attributes(e,g=get_spread_update(m,[b[0]&128&&_[7],b[0]&8&&_[3],(!r||b[0]&16&&a!==(a=_[4]||void 0))&&{hidden:a}])),t&&is_function(t.update)&&b[0]&4&&t.update.call(null,_[2])},i(_){r||(transition_in(u,_),r=!0)},o(_){transition_out(u,_),r=!1},d(_){_&&detach(e),u&&u.d(_),n[51](null),s=!1,run_all(c)}}}function create_if_block_32(n){let e,a,t,r,s,c;const d=n[18].default,u=create_slot(d,n,n[59],null);let m=[n[7],n[3],{hidden:a=n[4]||void 0}],g={};for(let _=0;_<m.length;_+=1)g=assign$3(g,m[_]);return{c(){e=element("main"),u&&u.c(),set_attributes(e,g)},m(_,b){insert(_,e,b),u&&u.m(e,null),n[50](e),r=!0,s||(c=[action_destroyer(t=useActions.call(null,e,n[2])),action_destroyer(n[6].call(null,e))],s=!0)},p(_,b){u&&u.p&&(!r||b[1]&268435456)&&update_slot_base(u,d,_,_[59],r?get_slot_changes(d,_[59],b,null):get_all_dirty_from_scope(_[59]),null),set_attributes(e,g=get_spread_update(m,[b[0]&128&&_[7],b[0]&8&&_[3],(!r||b[0]&16&&a!==(a=_[4]||void 0))&&{hidden:a}])),t&&is_function(t.update)&&b[0]&4&&t.update.call(null,_[2])},i(_){r||(transition_in(u,_),r=!0)},o(_){transition_out(u,_),r=!1},d(_){_&&detach(e),u&&u.d(_),n[50](null),s=!1,run_all(c)}}}function create_if_block_31(n){let e,a,t,r,s,c;const d=n[18].default,u=create_slot(d,n,n[59],null);let m=[n[7],n[3],{hidden:a=n[4]||void 0}],g={};for(let _=0;_<m.length;_+=1)g=assign$3(g,m[_]);return{c(){e=element("li"),u&&u.c(),set_attributes(e,g)},m(_,b){insert(_,e,b),u&&u.m(e,null),n[49](e),r=!0,s||(c=[action_destroyer(t=useActions.call(null,e,n[2])),action_destroyer(n[6].call(null,e))],s=!0)},p(_,b){u&&u.p&&(!r||b[1]&268435456)&&update_slot_base(u,d,_,_[59],r?get_slot_changes(d,_[59],b,null):get_all_dirty_from_scope(_[59]),null),set_attributes(e,g=get_spread_update(m,[b[0]&128&&_[7],b[0]&8&&_[3],(!r||b[0]&16&&a!==(a=_[4]||void 0))&&{hidden:a}])),t&&is_function(t.update)&&b[0]&4&&t.update.call(null,_[2])},i(_){r||(transition_in(u,_),r=!0)},o(_){transition_out(u,_),r=!1},d(_){_&&detach(e),u&&u.d(_),n[49](null),s=!1,run_all(c)}}}function create_if_block_30(n){let e,a,t,r,s,c;const d=n[18].default,u=create_slot(d,n,n[59],null);let m=[n[7],n[3],{hidden:a=n[4]||void 0}],g={};for(let _=0;_<m.length;_+=1)g=assign$3(g,m[_]);return{c(){e=element("label"),u&&u.c(),set_attributes(e,g)},m(_,b){insert(_,e,b),u&&u.m(e,null),n[48](e),r=!0,s||(c=[action_destroyer(t=useActions.call(null,e,n[2])),action_destroyer(n[6].call(null,e))],s=!0)},p(_,b){u&&u.p&&(!r||b[1]&268435456)&&update_slot_base(u,d,_,_[59],r?get_slot_changes(d,_[59],b,null):get_all_dirty_from_scope(_[59]),null),set_attributes(e,g=get_spread_update(m,[b[0]&128&&_[7],b[0]&8&&_[3],(!r||b[0]&16&&a!==(a=_[4]||void 0))&&{hidden:a}])),t&&is_function(t.update)&&b[0]&4&&t.update.call(null,_[2])},i(_){r||(transition_in(u,_),r=!0)},o(_){transition_out(u,_),r=!1},d(_){_&&detach(e),u&&u.d(_),n[48](null),s=!1,run_all(c)}}}function create_if_block_29(n){let e,a,t,r,s,c=[n[7],n[3],{hidden:a=n[4]||void 0}],d={};for(let u=0;u<c.length;u+=1)d=assign$3(d,c[u]);return{c(){e=element("input"),set_attributes(e,d)},m(u,m){insert(u,e,m),e.autofocus&&e.focus(),n[47](e),r||(s=[action_destroyer(t=useActions.call(null,e,n[2])),action_destroyer(n[6].call(null,e))],r=!0)},p(u,m){set_attributes(e,d=get_spread_update(c,[m[0]&128&&u[7],m[0]&8&&u[3],m[0]&16&&a!==(a=u[4]||void 0)&&{hidden:a}])),t&&is_function(t.update)&&m[0]&4&&t.update.call(null,u[2])},i:noop$1,o:noop$1,d(u){u&&detach(e),n[47](null),r=!1,run_all(s)}}}function create_if_block_28(n){let e,a,t,r,s,c;const d=n[18].default,u=create_slot(d,n,n[59],null);let m=[n[7],n[3],{hidden:a=n[4]||void 0}],g={};for(let _=0;_<m.length;_+=1)g=assign$3(g,m[_]);return{c(){e=element("i"),u&&u.c(),set_attributes(e,g)},m(_,b){insert(_,e,b),u&&u.m(e,null),n[46](e),r=!0,s||(c=[action_destroyer(t=useActions.call(null,e,n[2])),action_destroyer(n[6].call(null,e))],s=!0)},p(_,b){u&&u.p&&(!r||b[1]&268435456)&&update_slot_base(u,d,_,_[59],r?get_slot_changes(d,_[59],b,null):get_all_dirty_from_scope(_[59]),null),set_attributes(e,g=get_spread_update(m,[b[0]&128&&_[7],b[0]&8&&_[3],(!r||b[0]&16&&a!==(a=_[4]||void 0))&&{hidden:a}])),t&&is_function(t.update)&&b[0]&4&&t.update.call(null,_[2])},i(_){r||(transition_in(u,_),r=!0)},o(_){transition_out(u,_),r=!1},d(_){_&&detach(e),u&&u.d(_),n[46](null),s=!1,run_all(c)}}}function create_if_block_27(n){let e,a,t,r,s,c;const d=n[18].default,u=create_slot(d,n,n[59],null);let m=[n[7],n[3],{hidden:a=n[4]||void 0}],g={};for(let _=0;_<m.length;_+=1)g=assign$3(g,m[_]);return{c(){e=element("header"),u&&u.c(),set_attributes(e,g)},m(_,b){insert(_,e,b),u&&u.m(e,null),n[45](e),r=!0,s||(c=[action_destroyer(t=useActions.call(null,e,n[2])),action_destroyer(n[6].call(null,e))],s=!0)},p(_,b){u&&u.p&&(!r||b[1]&268435456)&&update_slot_base(u,d,_,_[59],r?get_slot_changes(d,_[59],b,null):get_all_dirty_from_scope(_[59]),null),set_attributes(e,g=get_spread_update(m,[b[0]&128&&_[7],b[0]&8&&_[3],(!r||b[0]&16&&a!==(a=_[4]||void 0))&&{hidden:a}])),t&&is_function(t.update)&&b[0]&4&&t.update.call(null,_[2])},i(_){r||(transition_in(u,_),r=!0)},o(_){transition_out(u,_),r=!1},d(_){_&&detach(e),u&&u.d(_),n[45](null),s=!1,run_all(c)}}}function create_if_block_26(n){let e,a,t,r,s,c;const d=n[18].default,u=create_slot(d,n,n[59],null);let m=[n[7],n[3],{hidden:a=n[4]||void 0}],g={};for(let _=0;_<m.length;_+=1)g=assign$3(g,m[_]);return{c(){e=element("h6"),u&&u.c(),set_attributes(e,g)},m(_,b){insert(_,e,b),u&&u.m(e,null),n[44](e),r=!0,s||(c=[action_destroyer(t=useActions.call(null,e,n[2])),action_destroyer(n[6].call(null,e))],s=!0)},p(_,b){u&&u.p&&(!r||b[1]&268435456)&&update_slot_base(u,d,_,_[59],r?get_slot_changes(d,_[59],b,null):get_all_dirty_from_scope(_[59]),null),set_attributes(e,g=get_spread_update(m,[b[0]&128&&_[7],b[0]&8&&_[3],(!r||b[0]&16&&a!==(a=_[4]||void 0))&&{hidden:a}])),t&&is_function(t.update)&&b[0]&4&&t.update.call(null,_[2])},i(_){r||(transition_in(u,_),r=!0)},o(_){transition_out(u,_),r=!1},d(_){_&&detach(e),u&&u.d(_),n[44](null),s=!1,run_all(c)}}}function create_if_block_25(n){let e,a,t,r,s,c;const d=n[18].default,u=create_slot(d,n,n[59],null);let m=[n[7],n[3],{hidden:a=n[4]||void 0}],g={};for(let _=0;_<m.length;_+=1)g=assign$3(g,m[_]);return{c(){e=element("h5"),u&&u.c(),set_attributes(e,g)},m(_,b){insert(_,e,b),u&&u.m(e,null),n[43](e),r=!0,s||(c=[action_destroyer(t=useActions.call(null,e,n[2])),action_destroyer(n[6].call(null,e))],s=!0)},p(_,b){u&&u.p&&(!r||b[1]&268435456)&&update_slot_base(u,d,_,_[59],r?get_slot_changes(d,_[59],b,null):get_all_dirty_from_scope(_[59]),null),set_attributes(e,g=get_spread_update(m,[b[0]&128&&_[7],b[0]&8&&_[3],(!r||b[0]&16&&a!==(a=_[4]||void 0))&&{hidden:a}])),t&&is_function(t.update)&&b[0]&4&&t.update.call(null,_[2])},i(_){r||(transition_in(u,_),r=!0)},o(_){transition_out(u,_),r=!1},d(_){_&&detach(e),u&&u.d(_),n[43](null),s=!1,run_all(c)}}}function create_if_block_24(n){let e,a,t,r,s,c;const d=n[18].default,u=create_slot(d,n,n[59],null);let m=[n[7],n[3],{hidden:a=n[4]||void 0}],g={};for(let _=0;_<m.length;_+=1)g=assign$3(g,m[_]);return{c(){e=element("h4"),u&&u.c(),set_attributes(e,g)},m(_,b){insert(_,e,b),u&&u.m(e,null),n[42](e),r=!0,s||(c=[action_destroyer(t=useActions.call(null,e,n[2])),action_destroyer(n[6].call(null,e))],s=!0)},p(_,b){u&&u.p&&(!r||b[1]&268435456)&&update_slot_base(u,d,_,_[59],r?get_slot_changes(d,_[59],b,null):get_all_dirty_from_scope(_[59]),null),set_attributes(e,g=get_spread_update(m,[b[0]&128&&_[7],b[0]&8&&_[3],(!r||b[0]&16&&a!==(a=_[4]||void 0))&&{hidden:a}])),t&&is_function(t.update)&&b[0]&4&&t.update.call(null,_[2])},i(_){r||(transition_in(u,_),r=!0)},o(_){transition_out(u,_),r=!1},d(_){_&&detach(e),u&&u.d(_),n[42](null),s=!1,run_all(c)}}}function create_if_block_23(n){let e,a,t,r,s,c;const d=n[18].default,u=create_slot(d,n,n[59],null);let m=[n[7],n[3],{hidden:a=n[4]||void 0}],g={};for(let _=0;_<m.length;_+=1)g=assign$3(g,m[_]);return{c(){e=element("h3"),u&&u.c(),set_attributes(e,g)},m(_,b){insert(_,e,b),u&&u.m(e,null),n[41](e),r=!0,s||(c=[action_destroyer(t=useActions.call(null,e,n[2])),action_destroyer(n[6].call(null,e))],s=!0)},p(_,b){u&&u.p&&(!r||b[1]&268435456)&&update_slot_base(u,d,_,_[59],r?get_slot_changes(d,_[59],b,null):get_all_dirty_from_scope(_[59]),null),set_attributes(e,g=get_spread_update(m,[b[0]&128&&_[7],b[0]&8&&_[3],(!r||b[0]&16&&a!==(a=_[4]||void 0))&&{hidden:a}])),t&&is_function(t.update)&&b[0]&4&&t.update.call(null,_[2])},i(_){r||(transition_in(u,_),r=!0)},o(_){transition_out(u,_),r=!1},d(_){_&&detach(e),u&&u.d(_),n[41](null),s=!1,run_all(c)}}}function create_if_block_22(n){let e,a,t,r,s,c;const d=n[18].default,u=create_slot(d,n,n[59],null);let m=[n[7],n[3],{hidden:a=n[4]||void 0}],g={};for(let _=0;_<m.length;_+=1)g=assign$3(g,m[_]);return{c(){e=element("h2"),u&&u.c(),set_attributes(e,g)},m(_,b){insert(_,e,b),u&&u.m(e,null),n[40](e),r=!0,s||(c=[action_destroyer(t=useActions.call(null,e,n[2])),action_destroyer(n[6].call(null,e))],s=!0)},p(_,b){u&&u.p&&(!r||b[1]&268435456)&&update_slot_base(u,d,_,_[59],r?get_slot_changes(d,_[59],b,null):get_all_dirty_from_scope(_[59]),null),set_attributes(e,g=get_spread_update(m,[b[0]&128&&_[7],b[0]&8&&_[3],(!r||b[0]&16&&a!==(a=_[4]||void 0))&&{hidden:a}])),t&&is_function(t.update)&&b[0]&4&&t.update.call(null,_[2])},i(_){r||(transition_in(u,_),r=!0)},o(_){transition_out(u,_),r=!1},d(_){_&&detach(e),u&&u.d(_),n[40](null),s=!1,run_all(c)}}}function create_if_block_21(n){let e,a,t,r,s,c;const d=n[18].default,u=create_slot(d,n,n[59],null);let m=[n[7],n[3],{hidden:a=n[4]||void 0}],g={};for(let _=0;_<m.length;_+=1)g=assign$3(g,m[_]);return{c(){e=element("h1"),u&&u.c(),set_attributes(e,g)},m(_,b){insert(_,e,b),u&&u.m(e,null),n[39](e),r=!0,s||(c=[action_destroyer(t=useActions.call(null,e,n[2])),action_destroyer(n[6].call(null,e))],s=!0)},p(_,b){u&&u.p&&(!r||b[1]&268435456)&&update_slot_base(u,d,_,_[59],r?get_slot_changes(d,_[59],b,null):get_all_dirty_from_scope(_[59]),null),set_attributes(e,g=get_spread_update(m,[b[0]&128&&_[7],b[0]&8&&_[3],(!r||b[0]&16&&a!==(a=_[4]||void 0))&&{hidden:a}])),t&&is_function(t.update)&&b[0]&4&&t.update.call(null,_[2])},i(_){r||(transition_in(u,_),r=!0)},o(_){transition_out(u,_),r=!1},d(_){_&&detach(e),u&&u.d(_),n[39](null),s=!1,run_all(c)}}}function create_if_block_20(n){let e,a,t,r,s,c;const d=n[18].default,u=create_slot(d,n,n[59],null);let m=[n[7],n[3],{hidden:a=n[4]||void 0}],g={};for(let _=0;_<m.length;_+=1)g=assign$3(g,m[_]);return{c(){e=element("form"),u&&u.c(),set_attributes(e,g)},m(_,b){insert(_,e,b),u&&u.m(e,null),n[38](e),r=!0,s||(c=[action_destroyer(t=useActions.call(null,e,n[2])),action_destroyer(n[6].call(null,e))],s=!0)},p(_,b){u&&u.p&&(!r||b[1]&268435456)&&update_slot_base(u,d,_,_[59],r?get_slot_changes(d,_[59],b,null):get_all_dirty_from_scope(_[59]),null),set_attributes(e,g=get_spread_update(m,[b[0]&128&&_[7],b[0]&8&&_[3],(!r||b[0]&16&&a!==(a=_[4]||void 0))&&{hidden:a}])),t&&is_function(t.update)&&b[0]&4&&t.update.call(null,_[2])},i(_){r||(transition_in(u,_),r=!0)},o(_){transition_out(u,_),r=!1},d(_){_&&detach(e),u&&u.d(_),n[38](null),s=!1,run_all(c)}}}function create_if_block_19(n){let e,a,t,r,s,c;const d=n[18].default,u=create_slot(d,n,n[59],null);let m=[n[7],n[3],{hidden:a=n[4]||void 0}],g={};for(let _=0;_<m.length;_+=1)g=assign$3(g,m[_]);return{c(){e=element("footer"),u&&u.c(),set_attributes(e,g)},m(_,b){insert(_,e,b),u&&u.m(e,null),n[37](e),r=!0,s||(c=[action_destroyer(t=useActions.call(null,e,n[2])),action_destroyer(n[6].call(null,e))],s=!0)},p(_,b){u&&u.p&&(!r||b[1]&268435456)&&update_slot_base(u,d,_,_[59],r?get_slot_changes(d,_[59],b,null):get_all_dirty_from_scope(_[59]),null),set_attributes(e,g=get_spread_update(m,[b[0]&128&&_[7],b[0]&8&&_[3],(!r||b[0]&16&&a!==(a=_[4]||void 0))&&{hidden:a}])),t&&is_function(t.update)&&b[0]&4&&t.update.call(null,_[2])},i(_){r||(transition_in(u,_),r=!0)},o(_){transition_out(u,_),r=!1},d(_){_&&detach(e),u&&u.d(_),n[37](null),s=!1,run_all(c)}}}function create_if_block_18(n){let e,a,t,r,s,c;const d=n[18].default,u=create_slot(d,n,n[59],null);let m=[n[7],n[3],{hidden:a=n[4]||void 0}],g={};for(let _=0;_<m.length;_+=1)g=assign$3(g,m[_]);return{c(){e=element("em"),u&&u.c(),set_attributes(e,g)},m(_,b){insert(_,e,b),u&&u.m(e,null),n[36](e),r=!0,s||(c=[action_destroyer(t=useActions.call(null,e,n[2])),action_destroyer(n[6].call(null,e))],s=!0)},p(_,b){u&&u.p&&(!r||b[1]&268435456)&&update_slot_base(u,d,_,_[59],r?get_slot_changes(d,_[59],b,null):get_all_dirty_from_scope(_[59]),null),set_attributes(e,g=get_spread_update(m,[b[0]&128&&_[7],b[0]&8&&_[3],(!r||b[0]&16&&a!==(a=_[4]||void 0))&&{hidden:a}])),t&&is_function(t.update)&&b[0]&4&&t.update.call(null,_[2])},i(_){r||(transition_in(u,_),r=!0)},o(_){transition_out(u,_),r=!1},d(_){_&&detach(e),u&&u.d(_),n[36](null),s=!1,run_all(c)}}}function create_if_block_17(n){let e,a,t,r,s,c;const d=n[18].default,u=create_slot(d,n,n[59],null);let m=[n[7],n[3],{hidden:a=n[4]||void 0}],g={};for(let _=0;_<m.length;_+=1)g=assign$3(g,m[_]);return{c(){e=element("div"),u&&u.c(),set_attributes(e,g)},m(_,b){insert(_,e,b),u&&u.m(e,null),n[35](e),r=!0,s||(c=[action_destroyer(t=useActions.call(null,e,n[2])),action_destroyer(n[6].call(null,e))],s=!0)},p(_,b){u&&u.p&&(!r||b[1]&268435456)&&update_slot_base(u,d,_,_[59],r?get_slot_changes(d,_[59],b,null):get_all_dirty_from_scope(_[59]),null),set_attributes(e,g=get_spread_update(m,[b[0]&128&&_[7],b[0]&8&&_[3],(!r||b[0]&16&&a!==(a=_[4]||void 0))&&{hidden:a}])),t&&is_function(t.update)&&b[0]&4&&t.update.call(null,_[2])},i(_){r||(transition_in(u,_),r=!0)},o(_){transition_out(u,_),r=!1},d(_){_&&detach(e),u&&u.d(_),n[35](null),s=!1,run_all(c)}}}function create_if_block_16(n){let e,a,t,r,s,c;const d=n[18].default,u=create_slot(d,n,n[59],null);let m=[n[7],n[3],{hidden:a=n[4]||void 0}],g={};for(let _=0;_<m.length;_+=1)g=assign$3(g,m[_]);return{c(){e=element("dt"),u&&u.c(),set_attributes(e,g)},m(_,b){insert(_,e,b),u&&u.m(e,null),n[34](e),r=!0,s||(c=[action_destroyer(t=useActions.call(null,e,n[2])),action_destroyer(n[6].call(null,e))],s=!0)},p(_,b){u&&u.p&&(!r||b[1]&268435456)&&update_slot_base(u,d,_,_[59],r?get_slot_changes(d,_[59],b,null):get_all_dirty_from_scope(_[59]),null),set_attributes(e,g=get_spread_update(m,[b[0]&128&&_[7],b[0]&8&&_[3],(!r||b[0]&16&&a!==(a=_[4]||void 0))&&{hidden:a}])),t&&is_function(t.update)&&b[0]&4&&t.update.call(null,_[2])},i(_){r||(transition_in(u,_),r=!0)},o(_){transition_out(u,_),r=!1},d(_){_&&detach(e),u&&u.d(_),n[34](null),s=!1,run_all(c)}}}function create_if_block_15(n){let e,a,t,r,s,c;const d=n[18].default,u=create_slot(d,n,n[59],null);let m=[n[7],n[3],{hidden:a=n[4]||void 0}],g={};for(let _=0;_<m.length;_+=1)g=assign$3(g,m[_]);return{c(){e=element("dl"),u&&u.c(),set_attributes(e,g)},m(_,b){insert(_,e,b),u&&u.m(e,null),n[33](e),r=!0,s||(c=[action_destroyer(t=useActions.call(null,e,n[2])),action_destroyer(n[6].call(null,e))],s=!0)},p(_,b){u&&u.p&&(!r||b[1]&268435456)&&update_slot_base(u,d,_,_[59],r?get_slot_changes(d,_[59],b,null):get_all_dirty_from_scope(_[59]),null),set_attributes(e,g=get_spread_update(m,[b[0]&128&&_[7],b[0]&8&&_[3],(!r||b[0]&16&&a!==(a=_[4]||void 0))&&{hidden:a}])),t&&is_function(t.update)&&b[0]&4&&t.update.call(null,_[2])},i(_){r||(transition_in(u,_),r=!0)},o(_){transition_out(u,_),r=!1},d(_){_&&detach(e),u&&u.d(_),n[33](null),s=!1,run_all(c)}}}function create_if_block_14(n){let e,a,t,r,s,c;const d=n[18].default,u=create_slot(d,n,n[59],null);let m=[n[7],n[3],{hidden:a=n[4]||void 0}],g={};for(let _=0;_<m.length;_+=1)g=assign$3(g,m[_]);return{c(){e=element("dd"),u&&u.c(),set_attributes(e,g)},m(_,b){insert(_,e,b),u&&u.m(e,null),n[32](e),r=!0,s||(c=[action_destroyer(t=useActions.call(null,e,n[2])),action_destroyer(n[6].call(null,e))],s=!0)},p(_,b){u&&u.p&&(!r||b[1]&268435456)&&update_slot_base(u,d,_,_[59],r?get_slot_changes(d,_[59],b,null):get_all_dirty_from_scope(_[59]),null),set_attributes(e,g=get_spread_update(m,[b[0]&128&&_[7],b[0]&8&&_[3],(!r||b[0]&16&&a!==(a=_[4]||void 0))&&{hidden:a}])),t&&is_function(t.update)&&b[0]&4&&t.update.call(null,_[2])},i(_){r||(transition_in(u,_),r=!0)},o(_){transition_out(u,_),r=!1},d(_){_&&detach(e),u&&u.d(_),n[32](null),s=!1,run_all(c)}}}function create_if_block_13(n){let e,a,t,r,s,c;const d=n[18].default,u=create_slot(d,n,n[59],null);let m=[n[7],n[3],{hidden:a=n[4]||void 0}],g={};for(let _=0;_<m.length;_+=1)g=assign$3(g,m[_]);return{c(){e=element("datalist"),u&&u.c(),set_attributes(e,g)},m(_,b){insert(_,e,b),u&&u.m(e,null),n[31](e),r=!0,s||(c=[action_destroyer(t=useActions.call(null,e,n[2])),action_destroyer(n[6].call(null,e))],s=!0)},p(_,b){u&&u.p&&(!r||b[1]&268435456)&&update_slot_base(u,d,_,_[59],r?get_slot_changes(d,_[59],b,null):get_all_dirty_from_scope(_[59]),null),set_attributes(e,g=get_spread_update(m,[b[0]&128&&_[7],b[0]&8&&_[3],(!r||b[0]&16&&a!==(a=_[4]||void 0))&&{hidden:a}])),t&&is_function(t.update)&&b[0]&4&&t.update.call(null,_[2])},i(_){r||(transition_in(u,_),r=!0)},o(_){transition_out(u,_),r=!1},d(_){_&&detach(e),u&&u.d(_),n[31](null),s=!1,run_all(c)}}}function create_if_block_12(n){let e,a,t,r,s,c;const d=n[18].default,u=create_slot(d,n,n[59],null);let m=[n[7],n[3],{hidden:a=n[4]||void 0}],g={};for(let _=0;_<m.length;_+=1)g=assign$3(g,m[_]);return{c(){e=element("data"),u&&u.c(),set_attributes(e,g)},m(_,b){insert(_,e,b),u&&u.m(e,null),n[30](e),r=!0,s||(c=[action_destroyer(t=useActions.call(null,e,n[2])),action_destroyer(n[6].call(null,e))],s=!0)},p(_,b){u&&u.p&&(!r||b[1]&268435456)&&update_slot_base(u,d,_,_[59],r?get_slot_changes(d,_[59],b,null):get_all_dirty_from_scope(_[59]),null),set_attributes(e,g=get_spread_update(m,[b[0]&128&&_[7],b[0]&8&&_[3],(!r||b[0]&16&&a!==(a=_[4]||void 0))&&{hidden:a}])),t&&is_function(t.update)&&b[0]&4&&t.update.call(null,_[2])},i(_){r||(transition_in(u,_),r=!0)},o(_){transition_out(u,_),r=!1},d(_){_&&detach(e),u&&u.d(_),n[30](null),s=!1,run_all(c)}}}function create_if_block_11(n){let e,a,t,r,s,c;const d=n[18].default,u=create_slot(d,n,n[59],null);let m=[n[7],n[3],{hidden:a=n[4]||void 0}],g={};for(let _=0;_<m.length;_+=1)g=assign$3(g,m[_]);return{c(){e=element("code"),u&&u.c(),set_attributes(e,g)},m(_,b){insert(_,e,b),u&&u.m(e,null),n[29](e),r=!0,s||(c=[action_destroyer(t=useActions.call(null,e,n[2])),action_destroyer(n[6].call(null,e))],s=!0)},p(_,b){u&&u.p&&(!r||b[1]&268435456)&&update_slot_base(u,d,_,_[59],r?get_slot_changes(d,_[59],b,null):get_all_dirty_from_scope(_[59]),null),set_attributes(e,g=get_spread_update(m,[b[0]&128&&_[7],b[0]&8&&_[3],(!r||b[0]&16&&a!==(a=_[4]||void 0))&&{hidden:a}])),t&&is_function(t.update)&&b[0]&4&&t.update.call(null,_[2])},i(_){r||(transition_in(u,_),r=!0)},o(_){transition_out(u,_),r=!1},d(_){_&&detach(e),u&&u.d(_),n[29](null),s=!1,run_all(c)}}}function create_if_block_10(n){let e,a,t,r,s,c;const d=n[18].default,u=create_slot(d,n,n[59],null);let m=[n[7],n[3],{hidden:a=n[4]||void 0}],g={};for(let _=0;_<m.length;_+=1)g=assign$3(g,m[_]);return{c(){e=element("cite"),u&&u.c(),set_attributes(e,g)},m(_,b){insert(_,e,b),u&&u.m(e,null),n[28](e),r=!0,s||(c=[action_destroyer(t=useActions.call(null,e,n[2])),action_destroyer(n[6].call(null,e))],s=!0)},p(_,b){u&&u.p&&(!r||b[1]&268435456)&&update_slot_base(u,d,_,_[59],r?get_slot_changes(d,_[59],b,null):get_all_dirty_from_scope(_[59]),null),set_attributes(e,g=get_spread_update(m,[b[0]&128&&_[7],b[0]&8&&_[3],(!r||b[0]&16&&a!==(a=_[4]||void 0))&&{hidden:a}])),t&&is_function(t.update)&&b[0]&4&&t.update.call(null,_[2])},i(_){r||(transition_in(u,_),r=!0)},o(_){transition_out(u,_),r=!1},d(_){_&&detach(e),u&&u.d(_),n[28](null),s=!1,run_all(c)}}}function create_if_block_9(n){let e,a,t,r,s,c;const d=n[18].default,u=create_slot(d,n,n[59],null);let m=[n[7],n[3],{hidden:a=n[4]||void 0}],g={};for(let _=0;_<m.length;_+=1)g=assign$3(g,m[_]);return{c(){e=element("button"),u&&u.c(),set_attributes(e,g)},m(_,b){insert(_,e,b),u&&u.m(e,null),e.autofocus&&e.focus(),n[27](e),r=!0,s||(c=[action_destroyer(t=useActions.call(null,e,n[2])),action_destroyer(n[6].call(null,e))],s=!0)},p(_,b){u&&u.p&&(!r||b[1]&268435456)&&update_slot_base(u,d,_,_[59],r?get_slot_changes(d,_[59],b,null):get_all_dirty_from_scope(_[59]),null),set_attributes(e,g=get_spread_update(m,[b[0]&128&&_[7],b[0]&8&&_[3],(!r||b[0]&16&&a!==(a=_[4]||void 0))&&{hidden:a}])),t&&is_function(t.update)&&b[0]&4&&t.update.call(null,_[2])},i(_){r||(transition_in(u,_),r=!0)},o(_){transition_out(u,_),r=!1},d(_){_&&detach(e),u&&u.d(_),n[27](null),s=!1,run_all(c)}}}function create_if_block_8(n){let e,a,t,r,s,c;const d=n[18].default,u=create_slot(d,n,n[59],null);let m=[n[7],n[3],{hidden:a=n[4]||void 0}],g={};for(let _=0;_<m.length;_+=1)g=assign$3(g,m[_]);return{c(){e=element("blockquote"),u&&u.c(),set_attributes(e,g)},m(_,b){insert(_,e,b),u&&u.m(e,null),n[26](e),r=!0,s||(c=[action_destroyer(t=useActions.call(null,e,n[2])),action_destroyer(n[6].call(null,e))],s=!0)},p(_,b){u&&u.p&&(!r||b[1]&268435456)&&update_slot_base(u,d,_,_[59],r?get_slot_changes(d,_[59],b,null):get_all_dirty_from_scope(_[59]),null),set_attributes(e,g=get_spread_update(m,[b[0]&128&&_[7],b[0]&8&&_[3],(!r||b[0]&16&&a!==(a=_[4]||void 0))&&{hidden:a}])),t&&is_function(t.update)&&b[0]&4&&t.update.call(null,_[2])},i(_){r||(transition_in(u,_),r=!0)},o(_){transition_out(u,_),r=!1},d(_){_&&detach(e),u&&u.d(_),n[26](null),s=!1,run_all(c)}}}function create_if_block_7(n){let e,a,t,r,s,c;const d=n[18].default,u=create_slot(d,n,n[59],null);let m=[n[7],n[3],{hidden:a=n[4]||void 0}],g={};for(let _=0;_<m.length;_+=1)g=assign$3(g,m[_]);return{c(){e=element("bdo"),u&&u.c(),set_attributes(e,g)},m(_,b){insert(_,e,b),u&&u.m(e,null),n[25](e),r=!0,s||(c=[action_destroyer(t=useActions.call(null,e,n[2])),action_destroyer(n[6].call(null,e))],s=!0)},p(_,b){u&&u.p&&(!r||b[1]&268435456)&&update_slot_base(u,d,_,_[59],r?get_slot_changes(d,_[59],b,null):get_all_dirty_from_scope(_[59]),null),set_attributes(e,g=get_spread_update(m,[b[0]&128&&_[7],b[0]&8&&_[3],(!r||b[0]&16&&a!==(a=_[4]||void 0))&&{hidden:a}])),t&&is_function(t.update)&&b[0]&4&&t.update.call(null,_[2])},i(_){r||(transition_in(u,_),r=!0)},o(_){transition_out(u,_),r=!1},d(_){_&&detach(e),u&&u.d(_),n[25](null),s=!1,run_all(c)}}}function create_if_block_6(n){let e,a,t,r,s,c;const d=n[18].default,u=create_slot(d,n,n[59],null);let m=[n[7],n[3],{hidden:a=n[4]||void 0}],g={};for(let _=0;_<m.length;_+=1)g=assign$3(g,m[_]);return{c(){e=element("bdi"),u&&u.c(),set_attributes(e,g)},m(_,b){insert(_,e,b),u&&u.m(e,null),n[24](e),r=!0,s||(c=[action_destroyer(t=useActions.call(null,e,n[2])),action_destroyer(n[6].call(null,e))],s=!0)},p(_,b){u&&u.p&&(!r||b[1]&268435456)&&update_slot_base(u,d,_,_[59],r?get_slot_changes(d,_[59],b,null):get_all_dirty_from_scope(_[59]),null),set_attributes(e,g=get_spread_update(m,[b[0]&128&&_[7],b[0]&8&&_[3],(!r||b[0]&16&&a!==(a=_[4]||void 0))&&{hidden:a}])),t&&is_function(t.update)&&b[0]&4&&t.update.call(null,_[2])},i(_){r||(transition_in(u,_),r=!0)},o(_){transition_out(u,_),r=!1},d(_){_&&detach(e),u&&u.d(_),n[24](null),s=!1,run_all(c)}}}function create_if_block_5(n){let e,a,t,r,s,c;const d=n[18].default,u=create_slot(d,n,n[59],null);let m=[n[7],n[3],{hidden:a=n[4]||void 0}],g={};for(let _=0;_<m.length;_+=1)g=assign$3(g,m[_]);return{c(){e=element("b"),u&&u.c(),set_attributes(e,g)},m(_,b){insert(_,e,b),u&&u.m(e,null),n[23](e),r=!0,s||(c=[action_destroyer(t=useActions.call(null,e,n[2])),action_destroyer(n[6].call(null,e))],s=!0)},p(_,b){u&&u.p&&(!r||b[1]&268435456)&&update_slot_base(u,d,_,_[59],r?get_slot_changes(d,_[59],b,null):get_all_dirty_from_scope(_[59]),null),set_attributes(e,g=get_spread_update(m,[b[0]&128&&_[7],b[0]&8&&_[3],(!r||b[0]&16&&a!==(a=_[4]||void 0))&&{hidden:a}])),t&&is_function(t.update)&&b[0]&4&&t.update.call(null,_[2])},i(_){r||(transition_in(u,_),r=!0)},o(_){transition_out(u,_),r=!1},d(_){_&&detach(e),u&&u.d(_),n[23](null),s=!1,run_all(c)}}}function create_if_block_4(n){let e,a,t,r,s,c;const d=n[18].default,u=create_slot(d,n,n[59],null);let m=[n[7],n[3],{hidden:a=n[4]||void 0}],g={};for(let _=0;_<m.length;_+=1)g=assign$3(g,m[_]);return{c(){e=element("aside"),u&&u.c(),set_attributes(e,g)},m(_,b){insert(_,e,b),u&&u.m(e,null),n[22](e),r=!0,s||(c=[action_destroyer(t=useActions.call(null,e,n[2])),action_destroyer(n[6].call(null,e))],s=!0)},p(_,b){u&&u.p&&(!r||b[1]&268435456)&&update_slot_base(u,d,_,_[59],r?get_slot_changes(d,_[59],b,null):get_all_dirty_from_scope(_[59]),null),set_attributes(e,g=get_spread_update(m,[b[0]&128&&_[7],b[0]&8&&_[3],(!r||b[0]&16&&a!==(a=_[4]||void 0))&&{hidden:a}])),t&&is_function(t.update)&&b[0]&4&&t.update.call(null,_[2])},i(_){r||(transition_in(u,_),r=!0)},o(_){transition_out(u,_),r=!1},d(_){_&&detach(e),u&&u.d(_),n[22](null),s=!1,run_all(c)}}}function create_if_block_3$1(n){let e,a,t,r,s,c;const d=n[18].default,u=create_slot(d,n,n[59],null);let m=[n[7],n[3],{hidden:a=n[4]||void 0}],g={};for(let _=0;_<m.length;_+=1)g=assign$3(g,m[_]);return{c(){e=element("article"),u&&u.c(),set_attributes(e,g)},m(_,b){insert(_,e,b),u&&u.m(e,null),n[21](e),r=!0,s||(c=[action_destroyer(t=useActions.call(null,e,n[2])),action_destroyer(n[6].call(null,e))],s=!0)},p(_,b){u&&u.p&&(!r||b[1]&268435456)&&update_slot_base(u,d,_,_[59],r?get_slot_changes(d,_[59],b,null):get_all_dirty_from_scope(_[59]),null),set_attributes(e,g=get_spread_update(m,[b[0]&128&&_[7],b[0]&8&&_[3],(!r||b[0]&16&&a!==(a=_[4]||void 0))&&{hidden:a}])),t&&is_function(t.update)&&b[0]&4&&t.update.call(null,_[2])},i(_){r||(transition_in(u,_),r=!0)},o(_){transition_out(u,_),r=!1},d(_){_&&detach(e),u&&u.d(_),n[21](null),s=!1,run_all(c)}}}function create_if_block_2$2(n){let e,a,t,r,s,c;const d=n[18].default,u=create_slot(d,n,n[59],null);let m=[n[7],n[3],{hidden:a=n[4]||void 0}],g={};for(let _=0;_<m.length;_+=1)g=assign$3(g,m[_]);return{c(){e=element("address"),u&&u.c(),set_attributes(e,g)},m(_,b){insert(_,e,b),u&&u.m(e,null),n[20](e),r=!0,s||(c=[action_destroyer(t=useActions.call(null,e,n[2])),action_destroyer(n[6].call(null,e))],s=!0)},p(_,b){u&&u.p&&(!r||b[1]&268435456)&&update_slot_base(u,d,_,_[59],r?get_slot_changes(d,_[59],b,null):get_all_dirty_from_scope(_[59]),null),set_attributes(e,g=get_spread_update(m,[b[0]&128&&_[7],b[0]&8&&_[3],(!r||b[0]&16&&a!==(a=_[4]||void 0))&&{hidden:a}])),t&&is_function(t.update)&&b[0]&4&&t.update.call(null,_[2])},i(_){r||(transition_in(u,_),r=!0)},o(_){transition_out(u,_),r=!1},d(_){_&&detach(e),u&&u.d(_),n[20](null),s=!1,run_all(c)}}}function create_if_block_1$3(n){let e,a,t,r,s,c;const d=n[18].default,u=create_slot(d,n,n[59],null);let m=[n[7],n[3],{hidden:a=n[4]||void 0}],g={};for(let _=0;_<m.length;_+=1)g=assign$3(g,m[_]);return{c(){e=element("a"),u&&u.c(),set_attributes(e,g)},m(_,b){insert(_,e,b),u&&u.m(e,null),n[19](e),r=!0,s||(c=[action_destroyer(t=useActions.call(null,e,n[2])),action_destroyer(n[6].call(null,e))],s=!0)},p(_,b){u&&u.p&&(!r||b[1]&268435456)&&update_slot_base(u,d,_,_[59],r?get_slot_changes(d,_[59],b,null):get_all_dirty_from_scope(_[59]),null),set_attributes(e,g=get_spread_update(m,[b[0]&128&&_[7],b[0]&8&&_[3],(!r||b[0]&16&&a!==(a=_[4]||void 0))&&{hidden:a}])),t&&is_function(t.update)&&b[0]&4&&t.update.call(null,_[2])},i(_){r||(transition_in(u,_),r=!0)},o(_){transition_out(u,_),r=!1},d(_){_&&detach(e),u&&u.d(_),n[19](null),s=!1,run_all(c)}}}function create_default_slot$8(n){let e;const a=n[18].default,t=create_slot(a,n,n[59],null);return{c(){t&&t.c()},m(r,s){t&&t.m(r,s),e=!0},p(r,s){t&&t.p&&(!e||s[1]&268435456)&&update_slot_base(t,a,r,r[59],e?get_slot_changes(a,r[59],s,null):get_all_dirty_from_scope(r[59]),null)},i(r){e||(transition_in(t,r),e=!0)},o(r){transition_out(t,r),e=!1},d(r){t&&t.d(r)}}}function create_fragment$j(n){let e,a,t=n[5]&&create_if_block$5(n);return{c(){t&&t.c(),e=empty()},m(r,s){t&&t.m(r,s),insert(r,e,s),a=!0},p(r,s){r[5]?t?(t.p(r,s),s[0]&32&&transition_in(t,1)):(t=create_if_block$5(r),t.c(),transition_in(t,1),t.m(e.parentNode,e)):t&&(group_outros(),transition_out(t,1,1,()=>{t=null}),check_outros())},i(r){a||(transition_in(t),a=!0)},o(r){transition_out(t),a=!1},d(r){t&&t.d(r),r&&detach(e)}}}var RenderStrategy;(function(n){n[n.Unmount=0]="Unmount",n[n.Hidden=1]="Hidden"})(RenderStrategy||(RenderStrategy={}));function instance$j(n,e,a){let t,r,s,c,d;const u=["name","as","slotProps","el","use","visible","features","unmount","static","class","style"];let m=compute_rest_props(e,u),{$$slots:g={},$$scope:_}=e;const b=forwardEventsBuilder(get_current_component());let{name:S}=e,{as:C}=e,{slotProps:R}=e,{el:w=null}=e,{use:k=[]}=e,{visible:$=!0}=e,{features:O=Features.None}=e,{unmount:P=!0}=e,{static:x=!1}=e,{class:I=void 0}=e,{style:B=void 0}=e;if(!C)throw new Error(`<${S}> did not provide an \`as\` value to <Render>`);if(!isValidElement(C))throw new Error(`<${S}> has an invalid or unsupported \`as\` prop: ${C}`);function j(N){binding_callbacks[N?"unshift":"push"](()=>{w=N,a(0,w)})}function W(N){binding_callbacks[N?"unshift":"push"](()=>{w=N,a(0,w)})}function U(N){binding_callbacks[N?"unshift":"push"](()=>{w=N,a(0,w)})}function z(N){binding_callbacks[N?"unshift":"push"](()=>{w=N,a(0,w)})}function F(N){binding_callbacks[N?"unshift":"push"](()=>{w=N,a(0,w)})}function X(N){binding_callbacks[N?"unshift":"push"](()=>{w=N,a(0,w)})}function q(N){binding_callbacks[N?"unshift":"push"](()=>{w=N,a(0,w)})}function K(N){binding_callbacks[N?"unshift":"push"](()=>{w=N,a(0,w)})}function te(N){binding_callbacks[N?"unshift":"push"](()=>{w=N,a(0,w)})}function Z(N){binding_callbacks[N?"unshift":"push"](()=>{w=N,a(0,w)})}function H(N){binding_callbacks[N?"unshift":"push"](()=>{w=N,a(0,w)})}function Q(N){binding_callbacks[N?"unshift":"push"](()=>{w=N,a(0,w)})}function ne(N){binding_callbacks[N?"unshift":"push"](()=>{w=N,a(0,w)})}function V(N){binding_callbacks[N?"unshift":"push"](()=>{w=N,a(0,w)})}function J(N){binding_callbacks[N?"unshift":"push"](()=>{w=N,a(0,w)})}function ae(N){binding_callbacks[N?"unshift":"push"](()=>{w=N,a(0,w)})}function ee(N){binding_callbacks[N?"unshift":"push"](()=>{w=N,a(0,w)})}function re(N){binding_callbacks[N?"unshift":"push"](()=>{w=N,a(0,w)})}function oe(N){binding_callbacks[N?"unshift":"push"](()=>{w=N,a(0,w)})}function le(N){binding_callbacks[N?"unshift":"push"](()=>{w=N,a(0,w)})}function se(N){binding_callbacks[N?"unshift":"push"](()=>{w=N,a(0,w)})}function ie(N){binding_callbacks[N?"unshift":"push"](()=>{w=N,a(0,w)})}function fe(N){binding_callbacks[N?"unshift":"push"](()=>{w=N,a(0,w)})}function ue(N){binding_callbacks[N?"unshift":"push"](()=>{w=N,a(0,w)})}function Se(N){binding_callbacks[N?"unshift":"push"](()=>{w=N,a(0,w)})}function he(N){binding_callbacks[N?"unshift":"push"](()=>{w=N,a(0,w)})}function Te(N){binding_callbacks[N?"unshift":"push"](()=>{w=N,a(0,w)})}function Ce(N){binding_callbacks[N?"unshift":"push"](()=>{w=N,a(0,w)})}function _e(N){binding_callbacks[N?"unshift":"push"](()=>{w=N,a(0,w)})}function me(N){binding_callbacks[N?"unshift":"push"](()=>{w=N,a(0,w)})}function Re(N){binding_callbacks[N?"unshift":"push"](()=>{w=N,a(0,w)})}function Ee(N){binding_callbacks[N?"unshift":"push"](()=>{w=N,a(0,w)})}function ce(N){binding_callbacks[N?"unshift":"push"](()=>{w=N,a(0,w)})}function de(N){binding_callbacks[N?"unshift":"push"](()=>{w=N,a(0,w)})}function ge(N){binding_callbacks[N?"unshift":"push"](()=>{w=N,a(0,w)})}function ve(N){binding_callbacks[N?"unshift":"push"](()=>{w=N,a(0,w)})}function pe(N){binding_callbacks[N?"unshift":"push"](()=>{w=N,a(0,w)})}function ye(N){binding_callbacks[N?"unshift":"push"](()=>{w=N,a(0,w)})}function be(N){binding_callbacks[N?"unshift":"push"](()=>{w=N,a(0,w)})}function Ae(N){w=N,a(0,w)}return n.$$set=N=>{e=assign$3(assign$3({},e),exclude_internal_props(N)),a(7,m=compute_rest_props(e,u)),"name"in N&&a(8,S=N.name),"as"in N&&a(1,C=N.as),"slotProps"in N&&a(9,R=N.slotProps),"el"in N&&a(0,w=N.el),"use"in N&&a(2,k=N.use),"visible"in N&&a(10,$=N.visible),"features"in N&&a(11,O=N.features),"unmount"in N&&a(12,P=N.unmount),"static"in N&&a(13,x=N.static),"class"in N&&a(14,I=N.class),"style"in N&&a(15,B=N.style),"$$scope"in N&&a(59,_=N.$$scope)},n.$$.update=()=>{n.$$.dirty[0]&16896&&a(17,t=typeof I=="function"?I(R):I),n.$$.dirty[0]&33280&&a(16,r=typeof B=="function"?B(R):B),n.$$.dirty[0]&15360&&a(5,s=$||O&Features.Static&&x||!(O&Features.RenderStrategy&&P)),n.$$.dirty[0]&15360&&a(4,c=!$&&!(O&Features.Static&&x)&&O&Features.RenderStrategy&&!P),n.$$.dirty[0]&196624&&a(3,d={class:t,style:`${r??""}${c?" display: none":""}`||void 0}),n.$$.dirty[0]&8&&d.style===void 0&&delete d.style},[w,C,k,d,c,s,b,m,S,R,$,O,P,x,I,B,r,t,g,j,W,U,z,F,X,q,K,te,Z,H,Q,ne,V,J,ae,ee,re,oe,le,se,ie,fe,ue,Se,he,Te,Ce,_e,me,Re,Ee,ce,de,ge,ve,pe,ye,be,Ae,_]}class Render extends SvelteComponent{constructor(e){super(),init$1(this,e,instance$j,create_fragment$j,safe_not_equal,{name:8,as:1,slotProps:9,el:0,use:2,visible:10,features:11,unmount:12,static:13,class:14,style:15},null,[-1,-1])}}const{window:window_1}=globals,get_default_slot_spread_changes$3=n=>n&64,get_default_slot_changes$3=n=>({}),get_default_slot_context$3=n=>({...n[6]});function create_default_slot_6(n){let e;const a=n[24].default,t=create_slot(a,n,n[27],get_default_slot_context$3);return{c(){t&&t.c()},m(r,s){t&&t.m(r,s),e=!0},p(r,s){t&&t.p&&(!e||s&134217792)&&update_slot_base(t,a,r,r[27],get_default_slot_spread_changes$3(s)||!e?get_all_dirty_from_scope(r[27]):get_slot_changes(a,r[27],s,get_default_slot_changes$3),get_default_slot_context$3)},i(r){e||(transition_in(t,r),e=!0)},o(r){transition_out(t,r),e=!1},d(r){t&&t.d(r)}}}function create_default_slot_5(n){let e,a,t;const r=[{...n[14],...n[7]},{as:n[0]},{slotProps:n[6]},{use:[...n[1],n[9]]},{name:"Dialog"},{"aria-describedby":n[30]},{visible:n[8]},{features:Features.RenderStrategy|Features.Static}];function s(d){n[25](d)}let c={$$slots:{default:[create_default_slot_6]},$$scope:{ctx:n}};for(let d=0;d<r.length;d+=1)c=assign$3(c,r[d]);return n[3]!==void 0&&(c.el=n[3]),e=new Render({props:c}),binding_callbacks.push(()=>bind(e,"el",s,n[3])),e.$on("click",handleClick),{c(){create_component(e.$$.fragment)},m(d,u){mount_component(e,d,u),t=!0},p(d,u){const m=u&1073759171?get_spread_update(r,[u&16512&&{...d[14],...d[7]},u&1&&{as:d[0]},u&64&&{slotProps:d[6]},u&514&&{use:[...d[1],d[9]]},r[4],u&1073741824&&{"aria-describedby":d[30]},u&256&&{visible:d[8]},u&0&&{features:Features.RenderStrategy|Features.Static}]):{};u&134217792&&(m.$$scope={dirty:u,ctx:d}),!a&&u&8&&(a=!0,m.el=d[3],add_flush_callback(()=>a=!1)),e.$set(m)},i(d){t||(transition_in(e.$$.fragment,d),t=!0)},o(d){transition_out(e.$$.fragment,d),t=!1},d(d){destroy_component(e,d)}}}function create_default_slot_4(n){let e,a;return e=new DescriptionProvider({props:{name:"DialogDescription",slotProps:n[6],$$slots:{default:[create_default_slot_5,({describedby:t})=>({30:t}),({describedby:t})=>t?1073741824:0]},$$scope:{ctx:n}}}),{c(){create_component(e.$$.fragment)},m(t,r){mount_component(e,t,r),a=!0},p(t,r){const s={};r&64&&(s.slotProps=t[6]),r&1207976395&&(s.$$scope={dirty:r,ctx:t}),e.$set(s)},i(t){a||(transition_in(e.$$.fragment,t),a=!0)},o(t){transition_out(e.$$.fragment,t),a=!1},d(t){destroy_component(e,t)}}}function create_default_slot_3(n){let e,a;return e=new ForcePortalRootContext({props:{force:!1,$$slots:{default:[create_default_slot_4]},$$scope:{ctx:n}}}),{c(){create_component(e.$$.fragment)},m(t,r){mount_component(e,t,r),a=!0},p(t,r){const s={};r&134234571&&(s.$$scope={dirty:r,ctx:t}),e.$set(s)},i(t){a||(transition_in(e.$$.fragment,t),a=!0)},o(t){transition_out(e.$$.fragment,t),a=!1},d(t){destroy_component(e,t)}}}function create_default_slot_2$1(n){let e,a;return e=new PortalGroup({props:{target:n[3],$$slots:{default:[create_default_slot_3]},$$scope:{ctx:n}}}),{c(){create_component(e.$$.fragment)},m(t,r){mount_component(e,t,r),a=!0},p(t,r){const s={};r&8&&(s.target=t[3]),r&134234571&&(s.$$scope={dirty:r,ctx:t}),e.$set(s)},i(t){a||(transition_in(e.$$.fragment,t),a=!0)},o(t){transition_out(e.$$.fragment,t),a=!1},d(t){destroy_component(e,t)}}}function create_default_slot_1$4(n){let e,a;return e=new Portal({props:{$$slots:{default:[create_default_slot_2$1]},$$scope:{ctx:n}}}),{c(){create_component(e.$$.fragment)},m(t,r){mount_component(e,t,r),a=!0},p(t,r){const s={};r&134234571&&(s.$$scope={dirty:r,ctx:t}),e.$set(s)},i(t){a||(transition_in(e.$$.fragment,t),a=!0)},o(t){transition_out(e.$$.fragment,t),a=!1},d(t){destroy_component(e,t)}}}function create_default_slot$7(n){let e,a;return e=new ForcePortalRootContext({props:{force:!0,$$slots:{default:[create_default_slot_1$4]},$$scope:{ctx:n}}}),{c(){create_component(e.$$.fragment)},m(t,r){mount_component(e,t,r),a=!0},p(t,r){const s={};r&134234571&&(s.$$scope={dirty:r,ctx:t}),e.$set(s)},i(t){a||(transition_in(e.$$.fragment,t),a=!0)},o(t){transition_out(e.$$.fragment,t),a=!1},d(t){destroy_component(e,t)}}}function create_fragment$i(n){let e,a,t,r,s,c;return e=new FocusTrap({props:{containers:n[5],enabled:n[4],options:{initialFocus:n[2]}}}),t=new StackContextProvider({props:{element:n[3],onUpdate:n[26],$$slots:{default:[create_default_slot$7]},$$scope:{ctx:n}}}),{c(){create_component(e.$$.fragment),a=space(),create_component(t.$$.fragment)},m(d,u){mount_component(e,d,u),insert(d,a,u),mount_component(t,d,u),r=!0,s||(c=[listen(window_1,"mousedown",n[12]),listen(window_1,"keydown",n[13])],s=!0)},p(d,[u]){const m={};u&32&&(m.containers=d[5]),u&16&&(m.enabled=d[4]),u&4&&(m.options={initialFocus:d[2]}),e.$set(m);const g={};u&8&&(g.element=d[3]),u&32&&(g.onUpdate=d[26]),u&134234571&&(g.$$scope={dirty:u,ctx:d}),t.$set(g)},i(d){r||(transition_in(e.$$.fragment,d),transition_in(t.$$.fragment,d),r=!0)},o(d){transition_out(e.$$.fragment,d),transition_out(t.$$.fragment,d),r=!1},d(d){destroy_component(e,d),d&&detach(a),destroy_component(t,d),s=!1,run_all(c)}}}var DialogStates;(function(n){n[n.Open=0]="Open",n[n.Closed=1]="Closed"})(DialogStates||(DialogStates={}));const DIALOG_CONTEXT_NAME="headlessui-dialog-context";function useDialogContext(n){let e=getContext(DIALOG_CONTEXT_NAME);if(e===void 0)throw new Error(`<${n} /> is missing a parent <Dialog /> component.`);return e}function handleClick(n){n.stopPropagation()}function instance$i(n,e,a){let t,r,s,c,d,u,m,g;const _=["as","use","open","initialFocus"];let b=compute_rest_props(e,_),S,C,{$$slots:R={},$$scope:w}=e,{as:k="div"}=e,{use:$=[]}=e,{open:O=void 0}=e,{initialFocus:P=null}=e;const x=forwardEventsBuilder(get_current_component(),["close"]),I=createEventDispatcher();let B=new Set,j=useOpenClosed();component_subscribe(n,j,H=>a(23,C=H));let W=null;const U=`headlessui-dialog-${useId()}`;onDestroy(()=>{c&&c()});let z,F=writable({titleId:z,dialogState:t,setTitleId(H){z!==H&&a(16,z=H)},close(){I("close",!1)}});component_subscribe(n,F,H=>a(22,S=H)),setContext(DIALOG_CONTEXT_NAME,F);async function X(H){let Q=H.target;t===DialogStates.Open&&B.size===1&&(contains$1(B,Q)||(S.close(),await tick(),Q==null||Q.focus()))}function q(H){H.key===Keys.Escape&&t===DialogStates.Open&&(B.size>1||(H.preventDefault(),H.stopPropagation(),S.close()))}let K=!1;onMount(()=>a(17,K=!0)),onDestroy(()=>{d&&d()}),onDestroy(()=>{u&&u()});function te(H){W=H,a(3,W)}const Z=(H,Q)=>match(H,{[StackMessage.Add](){a(5,B=new Set([...B,Q]))},[StackMessage.Remove](){B.delete(Q),a(5,B=new Set([...B]))}});return n.$$set=H=>{e=assign$3(assign$3({},e),exclude_internal_props(H)),a(14,b=compute_rest_props(e,_)),"as"in H&&a(0,k=H.as),"use"in H&&a(1,$=H.use),"open"in H&&a(15,O=H.open),"initialFocus"in H&&a(2,P=H.initialFocus),"$$scope"in H&&a(27,w=H.$$scope)},n.$$.update=()=>{if(n.$$.dirty&8421376){if(a(15,O=O===void 0&&j!==void 0?match(C,{[State.Open]:!0,[State.Closed]:!1}):O),!(O!==void 0||j!==void 0))throw new Error("You forgot to provide an `open` prop to the `Dialog` component.");if(typeof O!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${O}`)}n.$$.dirty&32768&&a(18,t=O?DialogStates.Open:DialogStates.Closed),n.$$.dirty&8650752&&a(8,r=j!==void 0?C===State.Open:t===DialogStates.Open),n.$$.dirty&262144&&a(4,s=t===DialogStates.Open),n.$$.dirty&2097176&&a(21,c=(()=>(c&&c(),useInertOthers(W,s)))()),n.$$.dirty&327680&&F.update(H=>({...H,titleId:z,dialogState:t})),n.$$.dirty&1441792&&a(20,d=(()=>{if(d&&d(),t!==DialogStates.Open||!K)return;let H=document.documentElement.style.overflow,Q=document.documentElement.style.paddingRight,ne=window.innerWidth-document.documentElement.clientWidth;return document.documentElement.style.overflow="hidden",document.documentElement.style.paddingRight=`${ne}px`,()=>{document.documentElement.style.overflow=H,document.documentElement.style.paddingRight=Q}})()),n.$$.dirty&4980744&&a(19,u=(()=>{if(u&&u(),t!==DialogStates.Open)return;let H=W;if(!H)return;let Q=new IntersectionObserver(ne=>{for(let V of ne)V.boundingClientRect.x===0&&V.boundingClientRect.y===0&&V.boundingClientRect.width===0&&V.boundingClientRect.height===0&&S.close()});return Q.observe(H),()=>Q.disconnect()})()),n.$$.dirty&327680&&a(7,m={id:U,role:"dialog","aria-modal":t===DialogStates.Open?!0:void 0,"aria-labelledby":z}),n.$$.dirty&32768&&a(6,g={open:O})},[k,$,P,W,s,B,g,m,r,x,j,F,X,q,b,O,z,K,t,u,d,c,S,C,R,te,Z,w]}class Dialog extends SvelteComponent{constructor(e){super(),init$1(this,e,instance$i,create_fragment$i,safe_not_equal,{as:0,use:1,open:15,initialFocus:2})}}const get_default_slot_spread_changes$2=n=>n&4,get_default_slot_changes$2=n=>({}),get_default_slot_context$2=n=>({...n[2]});function create_default_slot$6(n){let e;const a=n[8].default,t=create_slot(a,n,n[9],get_default_slot_context$2);return{c(){t&&t.c()},m(r,s){t&&t.m(r,s),e=!0},p(r,s){t&&t.p&&(!e||s&516)&&update_slot_base(t,a,r,r[9],get_default_slot_spread_changes$2(s)||!e?get_all_dirty_from_scope(r[9]):get_slot_changes(a,r[9],s,get_default_slot_changes$2),get_default_slot_context$2)},i(r){e||(transition_in(t,r),e=!0)},o(r){transition_out(t,r),e=!1},d(r){t&&t.d(r)}}}function create_fragment$h(n){let e,a;const t=[{...n[6],...n[3]},{as:n[0]},{slotProps:n[2]},{use:[...n[1],n[4]]},{name:"DialogTitle"}];let r={$$slots:{default:[create_default_slot$6]},$$scope:{ctx:n}};for(let s=0;s<t.length;s+=1)r=assign$3(r,t[s]);return e=new Render({props:r}),{c(){create_component(e.$$.fragment)},m(s,c){mount_component(e,s,c),a=!0},p(s,[c]){const d=c&95?get_spread_update(t,[c&72&&{...s[6],...s[3]},c&1&&{as:s[0]},c&4&&{slotProps:s[2]},c&18&&{use:[...s[1],s[4]]},t[4]]):{};c&516&&(d.$$scope={dirty:c,ctx:s}),e.$set(d)},i(s){a||(transition_in(e.$$.fragment,s),a=!0)},o(s){transition_out(e.$$.fragment,s),a=!1},d(s){destroy_component(e,s)}}}function instance$h(n,e,a){let t,r;const s=["as","use"];let c=compute_rest_props(e,s),d,{$$slots:u={},$$scope:m}=e,{as:g="h2"}=e,{use:_=[]}=e;const b=forwardEventsBuilder(get_current_component());let S=useDialogContext("DialogTitle");component_subscribe(n,S,R=>a(7,d=R));let C=`headlessui-dialog-title-${useId()}`;return onMount(()=>(d.setTitleId(C),()=>d.setTitleId(void 0))),n.$$set=R=>{e=assign$3(assign$3({},e),exclude_internal_props(R)),a(6,c=compute_rest_props(e,s)),"as"in R&&a(0,g=R.as),"use"in R&&a(1,_=R.use),"$$scope"in R&&a(9,m=R.$$scope)},n.$$.update=()=>{n.$$.dirty&128&&a(2,r={open:d.dialogState===DialogStates.Open})},a(3,t={id:C}),[g,_,r,t,b,S,c,d,u,m]}class DialogTitle extends SvelteComponent{constructor(e){super(),init$1(this,e,instance$h,create_fragment$h,safe_not_equal,{as:0,use:1})}}const get_default_slot_spread_changes$1=n=>n&4,get_default_slot_changes$1=n=>({}),get_default_slot_context$1=n=>({...n[2]});function create_default_slot$5(n){let e;const a=n[9].default,t=create_slot(a,n,n[10],get_default_slot_context$1);return{c(){t&&t.c()},m(r,s){t&&t.m(r,s),e=!0},p(r,s){t&&t.p&&(!e||s&1028)&&update_slot_base(t,a,r,r[10],get_default_slot_spread_changes$1(s)||!e?get_all_dirty_from_scope(r[10]):get_slot_changes(a,r[10],s,get_default_slot_changes$1),get_default_slot_context$1)},i(r){e||(transition_in(t,r),e=!0)},o(r){transition_out(t,r),e=!1},d(r){t&&t.d(r)}}}function create_fragment$g(n){let e,a;const t=[{...n[7],...n[3]},{as:n[0]},{slotProps:n[2]},{use:[...n[1],n[4]]},{name:"DialogOverlay"}];let r={$$slots:{default:[create_default_slot$5]},$$scope:{ctx:n}};for(let s=0;s<t.length;s+=1)r=assign$3(r,t[s]);return e=new Render({props:r}),e.$on("click",n[6]),{c(){create_component(e.$$.fragment)},m(s,c){mount_component(e,s,c),a=!0},p(s,[c]){const d=c&159?get_spread_update(t,[c&136&&{...s[7],...s[3]},c&1&&{as:s[0]},c&4&&{slotProps:s[2]},c&18&&{use:[...s[1],s[4]]},t[4]]):{};c&1028&&(d.$$scope={dirty:c,ctx:s}),e.$set(d)},i(s){a||(transition_in(e.$$.fragment,s),a=!0)},o(s){transition_out(e.$$.fragment,s),a=!1},d(s){destroy_component(e,s)}}}function instance$g(n,e,a){let t,r;const s=["as","use"];let c=compute_rest_props(e,s),d,{$$slots:u={},$$scope:m}=e,{as:g="div"}=e,{use:_=[]}=e;const b=forwardEventsBuilder(get_current_component());let S=useDialogContext("DialogOverlay");component_subscribe(n,S,w=>a(8,d=w));let C=`headlessui-dialog-overlay-${useId()}`;function R(w){let k=w;k.target===k.currentTarget&&(k.preventDefault(),k.stopPropagation(),d.close())}return n.$$set=w=>{e=assign$3(assign$3({},e),exclude_internal_props(w)),a(7,c=compute_rest_props(e,s)),"as"in w&&a(0,g=w.as),"use"in w&&a(1,_=w.use),"$$scope"in w&&a(10,m=w.$$scope)},n.$$.update=()=>{n.$$.dirty&256&&a(2,r={open:d.dialogState===DialogStates.Open})},a(3,t={id:C,"aria-hidden":!0}),[g,_,r,t,b,S,R,c,d,u,m]}class DialogOverlay extends SvelteComponent{constructor(e){super(),init$1(this,e,instance$g,create_fragment$g,safe_not_equal,{as:0,use:1})}}const get_default_slot_spread_changes=n=>n&8,get_default_slot_changes=n=>({}),get_default_slot_context=n=>({...n[3]});function create_default_slot$4(n){let e;const a=n[8].default,t=create_slot(a,n,n[9],get_default_slot_context);return{c(){t&&t.c()},m(r,s){t&&t.m(r,s),e=!0},p(r,s){t&&t.p&&(!e||s&520)&&update_slot_base(t,a,r,r[9],get_default_slot_spread_changes(s)||!e?get_all_dirty_from_scope(r[9]):get_slot_changes(a,r[9],s,get_default_slot_changes),get_default_slot_context)},i(r){e||(transition_in(t,r),e=!0)},o(r){transition_out(t,r),e=!1},d(r){t&&t.d(r)}}}function create_fragment$f(n){var s;let e,a;const t=[{name:"Description"},n[7],{as:n[0]},{slotProps:n[3]},(s=n[2])==null?void 0:s.props,{id:n[5]},{use:[...n[1],n[4]]}];let r={$$slots:{default:[create_default_slot$4]},$$scope:{ctx:n}};for(let c=0;c<t.length;c+=1)r=assign$3(r,t[c]);return e=new Render({props:r}),{c(){create_component(e.$$.fragment)},m(c,d){mount_component(e,c,d),a=!0},p(c,[d]){var m;const u=d&191?get_spread_update(t,[t[0],d&128&&get_spread_object(c[7]),d&1&&{as:c[0]},d&8&&{slotProps:c[3]},d&4&&get_spread_object((m=c[2])==null?void 0:m.props),d&32&&{id:c[5]},d&18&&{use:[...c[1],c[4]]}]):{};d&520&&(u.$$scope={dirty:d,ctx:c}),e.$set(u)},i(c){a||(transition_in(e.$$.fragment,c),a=!0)},o(c){transition_out(e.$$.fragment,c),a=!1},d(c){destroy_component(e,c)}}}function instance$f(n,e,a){let t;const r=["as","use"];let s=compute_rest_props(e,r),c,{$$slots:d={},$$scope:u}=e;const m=forwardEventsBuilder(get_current_component());let{as:g="p"}=e,{use:_=[]}=e;const b=`headlessui-description-${useId()}`;let S=useDescriptionContext();if(component_subscribe(n,S,C=>a(2,c=C)),!S)throw new Error("You used a <Description /> component, but it is not inside a relevant parent.");return onMount(()=>c==null?void 0:c.register(b)),n.$$set=C=>{e=assign$3(assign$3({},e),exclude_internal_props(C)),a(7,s=compute_rest_props(e,r)),"as"in C&&a(0,g=C.as),"use"in C&&a(1,_=C.use),"$$scope"in C&&a(9,u=C.$$scope)},n.$$.update=()=>{n.$$.dirty&4&&a(3,t=c.slotProps||{})},[g,_,c,t,m,b,S,s,d,u]}class Description extends SvelteComponent{constructor(e){super(),init$1(this,e,instance$f,create_fragment$f,safe_not_equal,{as:0,use:1})}}var DisclosureStates;(function(n){n[n.Open=0]="Open",n[n.Closed=1]="Closed"})(DisclosureStates||(DisclosureStates={}));var Focus;(function(n){n[n.First=0]="First",n[n.Previous=1]="Previous",n[n.Next=2]="Next",n[n.Last=3]="Last",n[n.Specific=4]="Specific",n[n.Nothing=5]="Nothing"})(Focus||(Focus={}));var ListboxStates;(function(n){n[n.Open=0]="Open",n[n.Closed=1]="Closed"})(ListboxStates||(ListboxStates={}));var MenuStates;(function(n){n[n.Open=0]="Open",n[n.Closed=1]="Closed"})(MenuStates||(MenuStates={}));var PopoverStates;(function(n){n[n.Open=0]="Open",n[n.Closed=1]="Closed"})(PopoverStates||(PopoverStates={}));var Reason;(function(n){n.Finished="finished",n.Cancelled="cancelled"})(Reason||(Reason={}));var TreeStates;(function(n){n.Visible="visible",n.Hidden="hidden"})(TreeStates||(TreeStates={}));function create_default_slot_2(n){let e;return{c(){e=text("Dialog w/o content")},m(a,t){insert(a,e,t)},d(a){a&&detach(e)}}}function create_default_slot_1$3(n){let e;return{c(){e=text("Please add some content")},m(a,t){insert(a,e,t)},d(a){a&&detach(e)}}}function fallback_block(n){let e,a,t,r,s,c,d,u,m,g,_;return e=new DialogTitle({props:{as:"h3",class:"font-bold text-lg",$$slots:{default:[create_default_slot_2]},$$scope:{ctx:n}}}),t=new Description({props:{class:"py-",$$slots:{default:[create_default_slot_1$3]},$$scope:{ctx:n}}}),{c(){create_component(e.$$.fragment),a=space(),create_component(t.$$.fragment),r=space(),s=element("button"),s.textContent="",c=space(),d=element("div"),u=element("button"),u.textContent="Got it, thanks!",attr(s,"class","btn btn-sm btn-circle absolute right-2 top-2"),attr(u,"type","button"),attr(u,"class","btn"),attr(d,"class","modal-action")},m(b,S){mount_component(e,b,S),insert(b,a,S),mount_component(t,b,S),insert(b,r,S),insert(b,s,S),insert(b,c,S),insert(b,d,S),append(d,u),m=!0,g||(_=[listen(s,"click",n[4]),listen(u,"click",n[4])],g=!0)},p(b,S){const C={};S&256&&(C.$$scope={dirty:S,ctx:b}),e.$set(C);const R={};S&256&&(R.$$scope={dirty:S,ctx:b}),t.$set(R)},i(b){m||(transition_in(e.$$.fragment,b),transition_in(t.$$.fragment,b),m=!0)},o(b){transition_out(e.$$.fragment,b),transition_out(t.$$.fragment,b),m=!1},d(b){destroy_component(e,b),b&&detach(a),destroy_component(t,b),b&&detach(r),b&&detach(s),b&&detach(c),b&&detach(d),g=!1,run_all(_)}}}function create_default_slot$3(n){let e,a,t,r,s,c,d,u,m,g;a=new DialogOverlay({props:{class:"absolute inset-0 bg-black opacity-70"}});const _=n[5].default,b=create_slot(_,n,n[8],null),S=b||fallback_block(n);return{c(){e=element("div"),create_component(a.$$.fragment),r=space(),s=element("div"),S&&S.c(),attr(e,"class","inset-0 absolute"),attr(s,"class",c="modal-box mx-3 "+n[0]),attr(s,"style",n[1])},m(C,R){insert(C,e,R),mount_component(a,e,null),insert(C,r,R),insert(C,s,R),S&&S.m(s,null),u=!0,m||(g=[listen(s,"introstart",n[6]),listen(s,"outroend",n[7])],m=!0)},p(C,R){b&&b.p&&(!u||R&256)&&update_slot_base(b,_,C,C[8],u?get_slot_changes(_,C[8],R,null):get_all_dirty_from_scope(C[8]),null),(!u||R&1&&c!==(c="modal-box mx-3 "+C[0]))&&attr(s,"class",c),(!u||R&2)&&attr(s,"style",C[1])},i(C){u||(transition_in(a.$$.fragment,C),add_render_callback(()=>{t||(t=create_bidirectional_transition(e,fade,{duration:300},!0)),t.run(1)}),transition_in(S,C),add_render_callback(()=>{d||(d=create_bidirectional_transition(s,slide,{duration:300},!0)),d.run(1)}),u=!0)},o(C){transition_out(a.$$.fragment,C),t||(t=create_bidirectional_transition(e,fade,{duration:300},!1)),t.run(0),transition_out(S,C),d||(d=create_bidirectional_transition(s,slide,{duration:300},!1)),d.run(0),u=!1},d(C){C&&detach(e),destroy_component(a),C&&t&&t.end(),C&&detach(r),C&&detach(s),S&&S.d(C),C&&d&&d.end(),m=!1,run_all(g)}}}function create_fragment$e(n){let e,a;return e=new Dialog({props:{class:"inset-0 absolute modal modal-bottom modal-open",open:n[3],static:!0,initialFocus:n[2],$$slots:{default:[create_default_slot$3]},$$scope:{ctx:n}}}),e.$on("close",n[4]),{c(){create_component(e.$$.fragment)},m(t,r){mount_component(e,t,r),a=!0},p(t,[r]){const s={};r&8&&(s.open=t[3]),r&4&&(s.initialFocus=t[2]),r&267&&(s.$$scope={dirty:r,ctx:t}),e.$set(s)},i(t){a||(transition_in(e.$$.fragment,t),a=!0)},o(t){transition_out(e.$$.fragment,t),a=!1},d(t){destroy_component(e,t)}}}function instance$e(n,e,a){let{$$slots:t={},$$scope:r}=e,{modalClass:s="mx-10"}=e,{modalStyle:c=""}=e,{initialFocus:d=null}=e,u=!0;const m=createEventDispatcher();function g(){m("close")}onDestroy(()=>{});const _=()=>a(3,u=!0),b=()=>a(3,u=!1);return n.$$set=S=>{"modalClass"in S&&a(0,s=S.modalClass),"modalStyle"in S&&a(1,c=S.modalStyle),"initialFocus"in S&&a(2,d=S.initialFocus),"$$scope"in S&&a(8,r=S.$$scope)},[s,c,d,u,g,t,_,b,r]}class Dialog_1 extends SvelteComponent{constructor(e){super(),init$1(this,e,instance$e,create_fragment$e,safe_not_equal,{modalClass:0,modalStyle:1,initialFocus:2})}}function get_each_context$3(n,e,a){const t=n.slice();return t[8]=e[a],t}function create_default_slot_1$2(n){let e;return{c(){e=text(n[2])},m(a,t){insert(a,e,t)},p(a,t){t&4&&set_data(e,a[2])},d(a){a&&detach(e)}}}function create_each_block$3(n){let e=n[8]+"",a;return{c(){a=text(e)},m(t,r){insert(t,a,r)},p(t,r){r&2&&e!==(e=t[8]+"")&&set_data(a,e)},d(t){t&&detach(a)}}}function create_default_slot$2(n){let e,a,t,r,s,c,d,u,m,g;t=new DialogTitle({props:{as:"h3",class:"font-bold text-lg mb-5",$$slots:{default:[create_default_slot_1$2]},$$scope:{ctx:n}}});let _=n[1],b=[];for(let S=0;S<_.length;S+=1)b[S]=create_each_block$3(get_each_context$3(n,_,S));return{c(){e=element("button"),e.textContent="",a=space(),create_component(t.$$.fragment),r=space(),s=element("pre"),c=text("    ");for(let S=0;S<b.length;S+=1)b[S].c();d=text(`
  `),attr(e,"class","btn btn-sm btn-circle absolute right-2 top-2"),attr(s,"class","overflow-auto flex-1 -mx-5 px-6 -mb-2 pb-2")},m(S,C){insert(S,e,C),insert(S,a,C),mount_component(t,S,C),insert(S,r,C),insert(S,s,C),append(s,c);for(let R=0;R<b.length;R+=1)b[R].m(s,null);append(s,d),n[5](s),u=!0,m||(g=listen(e,"click",n[3]),m=!0)},p(S,C){const R={};if(C&2052&&(R.$$scope={dirty:C,ctx:S}),t.$set(R),C&2){_=S[1];let w;for(w=0;w<_.length;w+=1){const k=get_each_context$3(S,_,w);b[w]?b[w].p(k,C):(b[w]=create_each_block$3(k),b[w].c(),b[w].m(s,d))}for(;w<b.length;w+=1)b[w].d(1);b.length=_.length}},i(S){u||(transition_in(t.$$.fragment,S),u=!0)},o(S){transition_out(t.$$.fragment,S),u=!1},d(S){S&&detach(e),S&&detach(a),destroy_component(t,S),S&&detach(r),S&&detach(s),destroy_each(b,S),n[5](null),m=!1,g()}}}function create_fragment$d(n){let e,a;return e=new Dialog_1({props:{modalClass:"flex-col flex",$$slots:{default:[create_default_slot$2]},$$scope:{ctx:n}}}),e.$on("close",n[6]),{c(){create_component(e.$$.fragment)},m(t,r){mount_component(e,t,r),a=!0},p(t,[r]){const s={};r&2055&&(s.$$scope={dirty:r,ctx:t}),e.$set(s)},i(t){a||(transition_in(e.$$.fragment,t),a=!0)},o(t){transition_out(e.$$.fragment,t),a=!1},d(t){destroy_component(e,t)}}}function instance$d(n,e,a){let t,r;const s=createEventDispatcher();let{extraData:c={title:"Title",messageLines:[]}}=e,d=null;function u(){s("close",null)}function m(_){binding_callbacks[_?"unshift":"push"](()=>{d=_,a(0,d),a(1,r),a(4,c)})}const g=()=>u();return n.$$set=_=>{"extraData"in _&&a(4,c=_.extraData)},n.$$.update=()=>{n.$$.dirty&16&&a(2,t=c.title||""),n.$$.dirty&16&&a(1,r=c.messageLines||[]),n.$$.dirty&3&&r.length>0&&d!=null&&d.scrollTop!=null&&d.scrollTop+d.clientHeight+100>d.scrollHeight&&a(0,d.scrollTop=d.scrollHeight,d)},[d,r,t,u,c,m,g]}class ScrollingTextDialog extends SvelteComponent{constructor(e){super(),init$1(this,e,instance$d,create_fragment$d,safe_not_equal,{extraData:4})}}function create_default_slot_1$1(n){let e;return{c(){e=text("Please enter the driver password")},m(a,t){insert(a,e,t)},d(a){a&&detach(e)}}}function create_default_slot$1(n){let e,a,t,r,s,c,d,u,m,g,_;return e=new DialogTitle({props:{as:"h3",class:"font-bold text-lg",$$slots:{default:[create_default_slot_1$1]},$$scope:{ctx:n}}}),{c(){create_component(e.$$.fragment),a=space(),t=element("form"),r=element("input"),s=space(),c=element("button"),c.textContent="Ok",d=space(),u=element("button"),u.textContent="Cancel",attr(r,"type","password"),attr(r,"autocomplete","current-password"),attr(r,"placeholder","Password"),attr(r,"class","input input-bordered block w-full my-5"),attr(c,"type","submit"),attr(c,"class","btn btn-primary btn-block btn-shadow flex-1 mb-2"),attr(u,"type","button"),attr(u,"class","btn btn-outline btn-block flex-1")},m(b,S){mount_component(e,b,S),insert(b,a,S),insert(b,t,S),append(t,r),n[4](r),set_input_value(r,n[0]),append(t,s),append(t,c),append(t,d),append(t,u),m=!0,g||(_=[listen(r,"input",n[5]),listen(u,"click",n[6]),listen(t,"submit",prevent_default(n[3]))],g=!0)},p(b,S){const C={};S&512&&(C.$$scope={dirty:S,ctx:b}),e.$set(C),S&1&&r.value!==b[0]&&set_input_value(r,b[0])},i(b){m||(transition_in(e.$$.fragment,b),m=!0)},o(b){transition_out(e.$$.fragment,b),m=!1},d(b){destroy_component(e,b),b&&detach(a),b&&detach(t),n[4](null),g=!1,run_all(_)}}}function create_fragment$c(n){let e,a,t,r;return t=new Dialog_1({props:{modalStyle:"max-width:16rem; text-align:center",modalClass:"modal-bottom",initialFocus:n[1],$$slots:{default:[create_default_slot$1]},$$scope:{ctx:n}}}),t.$on("close",n[7]),{c(){e=element("br"),a=space(),create_component(t.$$.fragment)},m(s,c){insert(s,e,c),insert(s,a,c),mount_component(t,s,c),r=!0},p(s,[c]){const d={};c&2&&(d.initialFocus=s[1]),c&515&&(d.$$scope={dirty:c,ctx:s}),t.$set(d)},i(s){r||(transition_in(t.$$.fragment,s),r=!0)},o(s){transition_out(t.$$.fragment,s),r=!1},d(s){s&&detach(e),s&&detach(a),destroy_component(t,s)}}}function instance$c(n,e,a){let t="",r=null;const s=createEventDispatcher();function c(b){b&&t.length==0||(b?s("close",t):s("close",null))}function d(b){c(!0)}function u(b){binding_callbacks[b?"unshift":"push"](()=>{r=b,a(1,r)})}function m(){t=this.value,a(0,t)}return[t,r,c,d,u,m,()=>c(!1),()=>c(!1)]}class PasswordDialog extends SvelteComponent{constructor(e){super(),init$1(this,e,instance$c,create_fragment$c,safe_not_equal,{})}}function create_default_slot_1(n){let e;return{c(){e=text(n[0])},m(a,t){insert(a,e,t)},p(a,t){t&1&&set_data(e,a[0])},d(a){a&&detach(e)}}}function create_default_slot(n){let e,a,t,r,s,c,d,u;return e=new DialogTitle({props:{as:"h3",class:"font-bold text-lg mb-5",$$slots:{default:[create_default_slot_1]},$$scope:{ctx:n}}}),{c(){create_component(e.$$.fragment),a=space(),t=element("button"),t.textContent="Ok",r=space(),s=element("button"),s.textContent="Cancel",attr(t,"type","button"),attr(t,"class","btn btn-primary btn-block flex-1 mb-2"),attr(s,"type","button"),attr(s,"class","btn btn-outline btn-block flex-1")},m(m,g){mount_component(e,m,g),insert(m,a,g),insert(m,t,g),insert(m,r,g),insert(m,s,g),c=!0,d||(u=[listen(t,"click",n[3]),listen(s,"click",n[4])],d=!0)},p(m,g){const _={};g&129&&(_.$$scope={dirty:g,ctx:m}),e.$set(_)},i(m){c||(transition_in(e.$$.fragment,m),c=!0)},o(m){transition_out(e.$$.fragment,m),c=!1},d(m){destroy_component(e,m),m&&detach(a),m&&detach(t),m&&detach(r),m&&detach(s),d=!1,run_all(u)}}}function create_fragment$b(n){let e,a;return e=new Dialog_1({props:{modalStyle:"max-width:16rem; text-align:center",modalClass:"modal-bottom",$$slots:{default:[create_default_slot]},$$scope:{ctx:n}}}),e.$on("close",n[5]),{c(){create_component(e.$$.fragment)},m(t,r){mount_component(e,t,r),a=!0},p(t,[r]){const s={};r&129&&(s.$$scope={dirty:r,ctx:t}),e.$set(s)},i(t){a||(transition_in(e.$$.fragment,t),a=!0)},o(t){transition_out(e.$$.fragment,t),a=!1},d(t){destroy_component(e,t)}}}function instance$b(n,e,a){let t;const r=createEventDispatcher();let{extraData:s={}}=e;function c(g){r("close",g)}const d=()=>c(!0),u=()=>c(!1),m=()=>c(!1);return n.$$set=g=>{"extraData"in g&&a(2,s=g.extraData)},n.$$.update=()=>{n.$$.dirty&4&&a(0,t=s.title||"Are you sure?")},[t,c,s,d,u,m]}class AlertDialog extends SvelteComponent{constructor(e){super(),init$1(this,e,instance$b,create_fragment$b,safe_not_equal,{extraData:2})}}function create_if_block_2$1(n){let e,a;return e=new ScrollingTextDialog({props:{extraData:n[0].extraData}}),e.$on("close",closeTopDialog),{c(){create_component(e.$$.fragment)},m(t,r){mount_component(e,t,r),a=!0},p(t,r){const s={};r&1&&(s.extraData=t[0].extraData),e.$set(s)},i(t){a||(transition_in(e.$$.fragment,t),a=!0)},o(t){transition_out(e.$$.fragment,t),a=!1},d(t){destroy_component(e,t)}}}function create_if_block_1$2(n){let e,a;return e=new AlertDialog({props:{extraData:n[0].extraData}}),e.$on("close",closeTopDialog),{c(){create_component(e.$$.fragment)},m(t,r){mount_component(e,t,r),a=!0},p(t,r){const s={};r&1&&(s.extraData=t[0].extraData),e.$set(s)},i(t){a||(transition_in(e.$$.fragment,t),a=!0)},o(t){transition_out(e.$$.fragment,t),a=!1},d(t){destroy_component(e,t)}}}function create_if_block$4(n){let e,a;return e=new PasswordDialog({}),e.$on("close",closeTopDialog),{c(){create_component(e.$$.fragment)},m(t,r){mount_component(e,t,r),a=!0},p:noop$1,i(t){a||(transition_in(e.$$.fragment,t),a=!0)},o(t){transition_out(e.$$.fragment,t),a=!1},d(t){destroy_component(e,t)}}}function create_fragment$a(n){let e,a,t,r;const s=[create_if_block$4,create_if_block_1$2,create_if_block_2$1],c=[];function d(u,m){return u[0]&&u[0].dialogType==DIALOG_TYPE.Password?0:u[0]&&u[0].dialogType==DIALOG_TYPE.Alert?1:u[0]&&u[0].dialogType==DIALOG_TYPE.ScrollingText?2:-1}return~(e=d(n))&&(a=c[e]=s[e](n)),{c(){a&&a.c(),t=empty()},m(u,m){~e&&c[e].m(u,m),insert(u,t,m),r=!0},p(u,[m]){let g=e;e=d(u),e===g?~e&&c[e].p(u,m):(a&&(group_outros(),transition_out(c[g],1,1,()=>{c[g]=null}),check_outros()),~e?(a=c[e],a?a.p(u,m):(a=c[e]=s[e](u),a.c()),transition_in(a,1),a.m(t.parentNode,t)):a=null)},i(u){r||(transition_in(a),r=!0)},o(u){transition_out(a),r=!1},d(u){~e&&c[e].d(u),u&&detach(t)}}}let dialogStack=[],topDialog=nStore(null);const openDialog=(n,e,a)=>{const t=topDialog.get(),r={dialogType:n,callback:a,extraData:e};return t&&(dialogStack=[...dialogStack,t]),topDialog.set(r),s=>{r.extraData=s(r.extraData),console.log("newDialog.extraData",r.extraData,r===dialogStack[dialogStack.length-1],dialogStack[dialogStack.length-1],topDialog.get()===r,topDialog.get()),topDialog.get()===r&&topDialog.set(r)}},closeTopDialog=n=>{const e=topDialog.get();e.callback&&e.callback(n.detail),dialogStack.length>0?topDialog.set(dialogStack.pop()):topDialog.set(null)};function instance$a(n,e,a){let t;return component_subscribe(n,topDialog,r=>a(0,t=r)),[t]}class DialogSpawner extends SvelteComponent{constructor(e){super(),init$1(this,e,instance$a,create_fragment$a,safe_not_equal,{})}}let toastDeduplicationCache={};function showToastMessage(n,e=2e3,a=null){if(toastDeduplicationCache[n])return;let r=toast.push({msg:n,duration:e});return toastDeduplicationCache[n]=r,toast.subscribe(s=>{s.find(d=>d.msg===n)||(delete toastDeduplicationCache[n],a&&a())}),r}function showConfirmationMsg(n,e){openDialog(DIALOG_TYPE.Alert,{title:n},a=>{e&&a&&e(a)})}let passwordPromptOpen=!1;function showPasswordPrompt(n,e){passwordPromptOpen||(passwordPromptOpen=!0,openDialog(DIALOG_TYPE.Password,{},a=>{passwordPromptOpen=!1,a!=null&&e&&e(a)}))}function showScrollableTextPopup(n,e){let a=openDialog(DIALOG_TYPE.ScrollingText,{title:n,messageLines:[]},r=>{e&&e(null)});return r=>{console.log("addTextToPopup",r),a(s=>({...s,messageLines:[...s.messageLines,r]}))}}const connectBtn=document.getElementById("connect_btn");document.getElementById("connect_btn_options");document.getElementById("disconnect_btn");const connectedRovLabel=document.getElementById("connected_rov_label");document.getElementById("rov_connection_bar");function setCurrentRovName(){let n=rovPeerIdEndNumber.get(),e=getROVName(n),a="ROV "+n+" ("+e.replace(ROV_PEERID_BASE,"")+")";connectBtn.innerText="Connect to "+a,connectedRovLabel.innerText=a}document.getElementById("role_display_text");document.getElementById("take_control_btn");function updateRoleDisplay(n){n?document.body.classList.add("rov-driver"):document.body.classList.remove("rov-driver")}class OurPeerMachine{constructor(e){Y(this,"eventHandlers",{});Y(this,"connectionTimeout");Y(this,"runningMachine",null);Y(this,"peer",null);Y(this,"ourPeerId",null);Y(this,"onStateChangeCallback",e=>{});Y(this,"xstateMachineLayout",createMachine({predictableActionArguments:!0,preserveActionOrder:!0,id:"DataConnection",initial:"Connecting",states:{Connecting:{entry:"onConnectingFunction",on:{ON_CONNECTED:{target:"Connected"},ON_DESTROY:{target:"Destroyed"}}},Reconnecting:{entry:"onReConnectingFunction",on:{ON_CONNECTED:{target:"Connected"},ON_DESTROY:{target:"Destroyed"}}},Connected:{entry:"onConnectedFunction",on:{ON_DISCONNECTED:{target:"Reconnecting"},ON_DESTROY:{target:"Destroyed"}}},Destroyed:{entry:"onDestoyedFunction",type:"final"}}},{actions:{onConnectingFunction:()=>{this.onConnecting()},onReConnectingFunction:()=>{this.onReConnecting()},onConnectedFunction:()=>{this.onConnected()},onDestoyedFunction:()=>{this.cleanup()}}}));this.currentState=this.xstateMachineLayout.config.initial,this.onStateChangeCallback=e}start(){this.runningMachine=interpret(this.xstateMachineLayout,{devTools:debugXstateMode.get()}),this.runningMachine.onTransition(t=>{this.currentState=t.value,this.onStateChangeCallback(this.currentState)}),this.runningMachine.start(),this.ourPeerId=ourPeerId.get(),this.ourPeerId||(this.ourPeerId=getRandomName(),localStorage.setItem("ourPeerId",this.ourPeerId),ourPeerId.set(this.ourPeerId));let e=localStorage.getItem("peerToken"),a=e?{...peerServerCloudOptions,token:e}:peerServerCloudOptions;this.peer=new $70d766613f57b014$export$2e2bcd8739ae039(this.ourPeerId,a),console.log("Our PeerToken:",this.peer.options.token),!e&&this.peer.options.token&&localStorage.setItem("peerToken",this.peer.options.token),this.eventHandlers.onOpen=()=>{this.sendEventToMachine("ON_CONNECTED"),showToastMessage("OurPeer Open!")},this.peer.on("open",this.eventHandlers.onOpen),this.eventHandlers.onError=t=>{t.type!="peer-unavailable"&&(t.type=="unavailable-id"?(showToastMessage("peer id "+this.ourPeerId+" already taken"),this.ourPeerId=getRandomName(),ourPeerId.set(this.ourPeerId)):t.type=="webrtc"&&t.message.indexOf("No remoteDescription")==-1?showToastMessage("Webrtc Error: "+t.message):console.log("!!!UNHANDLED!! OURPEER_ERROR:"+t.message+" | "+t.type),this.sendEventToMachine("ON_DESTROY"))},this.peer.on("error",this.eventHandlers.onError),this.eventHandlers.onClose=t=>{console.warn("!!UNHANDLED!! OURPEER_CLOSE:",t),this.sendEventToMachine("ON_DESTROY")},this.peer.on("close",this.eventHandlers.onClose),this.eventHandlers.onDisconnected=t=>{console.warn("!!UNHANDLED!! OURPEER_CLOSE:",t),this.sendEventToMachine("ON_DISCONNECTED")},this.peer.on("disconnected",this.eventHandlers.onDisconnected)}sendEventToMachine(e){this.runningMachine&&this.runningMachine.send(e)}onConnecting(){console.log("OnConnecting...."),this.connectionTimeout=setTimeout(()=>{this.sendEventToMachine("ON_DESTROY")},12e3)}onReConnecting(){console.log("OnReConnecting...."),this.peer.reconnect(),this.onConnecting()}onConnected(){clearTimeout(this.connectionTimeout),this.connectionTimeout=void 0}cleanup(){clearTimeout(this.connectionTimeout),this.runningMachine.stop(),this.currentState="Destroyed",this.onStateChangeCallback(this.currentState),this.peer&&(this.peer.off("open",this.eventHandlers.onOpen),this.peer.off("error",this.eventHandlers.onError),this.peer.off("close",this.eventHandlers.onClose),this.peer.off("disconnected",this.eventHandlers.onDisconnected),this.peer.destroy(),this.peer=null)}}const INITIAL_CONNECTION_TIMEOUT=12e3,CONNECTION_TIMEOUT=2e3,RETRY_CONNECTION_TIMEOUT=5e3;new TextEncoder;new TextDecoder;class DataConnectionMachine{constructor(e,a,t,r){Y(this,"closed",!1);Y(this,"rovPeerId",null);Y(this,"currentPeer",null);Y(this,"dataConnection",null);Y(this,"lastRecivedMessageTime",0);Y(this,"connectionTimeoutId",-1);Y(this,"currentState",ConnectionState.disconnected);Y(this,"onMessageRecived");Y(this,"onStateChange");Y(this,"eventHandlers",null);this.onMessageRecived=t,this.onStateChange=r,this.currentPeer=e,this.rovPeerId=a}setCurrentPeer(e){this.currentPeer=e}restart(){this.closed||(this._changeState(ConnectionState.reconnecting),this.cleanup(),this.start())}start(){if(this.closed||this.eventHandlers!=null){console.warn("start called on running DataConnectionMachine");return}if(this.eventHandlers={},this._changeState(ConnectionState.connecting),console.info("Connecting to rov peer: "+this.rovPeerId),this.dataConnection=this.currentPeer.connect(this.rovPeerId,{reliable:!0,serialization:"none"}),!this.dataConnection){console.warn("Failed to connect to peer: "+this.rovPeerId),this.connectionTimeoutId=window.setTimeout(()=>{this.restart()},INITIAL_CONNECTION_TIMEOUT);return}this.connectionTimeoutId=window.setTimeout(()=>{this.restart()},INITIAL_CONNECTION_TIMEOUT),console.log("Setting connection timeout",this.connectionTimeoutId),this.dataConnection.on("open",this.eventHandlers.onOpen=()=>{console.info("DataConnection Open!"),this._changeState(ConnectionState.connected),this.resetConnectionTimeout()}),this.dataConnection.on("iceStateChanged",this.eventHandlers.onIceChange=e=>{console.info("DATACHANNEL_ICE_CHANGE:",e)}),this.dataConnection.on("error",this.eventHandlers.onError=e=>{console.warn("!!!UNHANDLED!! DATACHANNEL_ERROR:",e),this.restart()}),this.dataConnection.on("close",this.eventHandlers.onClose=()=>{console.warn("!!UNHANDLED!! DATACHANNEL_CLOSE:"),this.restart()}),this.currentPeer.on("error",this.eventHandlers.onPeerError=e=>{e.type=="peer-unavailable"&&(this.connectionTimeoutId=window.setTimeout(()=>{this.restart()},CONNECTION_TIMEOUT))}),this.dataConnection.on("data",this.eventHandlers.onData=e=>{this._changeState(ConnectionState.connected),this.resetConnectionTimeout(),this.onMessageRecived(e)})}resetConnectionTimeout(){window.clearTimeout(this.connectionTimeoutId),this.connectionTimeoutId=setTimeout(()=>{this._changeState(ConnectionState.reconnecting),this.connectionTimeoutId=setTimeout(()=>{this.restart()},RETRY_CONNECTION_TIMEOUT)},CONNECTION_TIMEOUT)}sendMessage(e){return this.dataConnection&&this.dataConnection.open&&this.currentState==ConnectionState.connected?(this.dataConnection.send(e),!0):!1}cleanup(){console.debug("Cleaning up data connection",this.rovPeerId,this.connectionTimeoutId),window.clearTimeout(this.connectionTimeoutId),this.eventHandlers&&(this.currentPeer&&this.currentPeer.off("error",this.eventHandlers.onPeerError),this.dataConnection&&(this.dataConnection.off("open",this.eventHandlers.onOpen),this.dataConnection.off("error",this.eventHandlers.onError),this.dataConnection.off("close",this.eventHandlers.onClose),this.dataConnection.off("data",this.eventHandlers.onData),this.dataConnection.close()),this.eventHandlers=null)}close(){this.closed=!0,this.cleanup()}_changeState(e){this.currentState!=e&&(this.currentState=e,this.onStateChange(e))}}const FROZEN_VIDEO_TIMEOUT=6e3;class MediaConnectionMachine{constructor(e,a,t){Y(this,"closed",!1);Y(this,"rovPeerId",null);Y(this,"currentPeer",null);Y(this,"lastRecivedFrameTime",0);Y(this,"frozenVideoTimeoutId",null);Y(this,"mediaChannel",null);Y(this,"mainTrack",null);Y(this,"currentState",ConnectionState.disconnected);Y(this,"onStateChange");Y(this,"eventHandlers",null);this.onStateChange=t,this.currentPeer=e,this.rovPeerId=a,this.mediaChannel=null}setCurrentPeer(e){this.currentPeer=e}restart(){this.closed||(this._changeState(ConnectionState.reconnecting),this.cleanup(),this.start())}start(){if(this.closed||this.eventHandlers!=null){console.warn("Start() called on running MediaConnectionMachine");return}this.eventHandlers={},console.info("Waiting for "+this.rovPeerId+" to media call us..."),this.eventHandlers.onCall=e=>{window.clearTimeout(this.frozenVideoTimeoutId),console.info(e.peer+" media called us!"),!(this.mediaChannel&&this.mediaChannel.peer!=this.rovPeerId)&&(this.mediaChannel&&this.cleanup(),this.eventHandlers={},this.mediaChannel=e,e.answer(),console.log("streamb4",this.eventHandlers),e.on("stream",this.eventHandlers.onStream=a=>{rovVideoStream.set(a),this.mainTrack=a.getVideoTracks()[0],this._changeState(ConnectionState.connected),this.mainTrack.addEventListener("mute",this.eventHandlers.onStreamMute=()=>{console.info("Frozen video stream timeout started!"),this.frozenVideoTimeoutId=setTimeout(()=>{console.info("Frozen video stream timeout reached!"),this.cleanup()},FROZEN_VIDEO_TIMEOUT)}),this.mainTrack.addEventListener("unmute",this.eventHandlers.onStreamUnMute=()=>{console.info("Frozen video stream timeout cleared!"),clearTimeout(this.frozenVideoTimeoutId)})}),e.on("error",this.eventHandlers.onError=a=>{console.log("MediaChannel Error: ",a),this.restart()}),e.on("close",this.eventHandlers.onClose=a=>{this.restart()}))},this.currentPeer.on("call",this.eventHandlers.onCall)}cleanup(){console.debug("Cleaning up media connection",this.rovPeerId,this.frozenVideoTimeoutId),this.eventHandlers&&(this.currentPeer&&this.currentPeer.off("call",this.eventHandlers.onCall),this.mediaChannel&&(this.mediaChannel.off("stream",this.eventHandlers.onStream),this.mediaChannel.off("error",this.eventHandlers.onError),this.mediaChannel.off("close",this.eventHandlers.onClose),this.mediaChannel.close(),this.mediaChannel=null),this.mainTrack&&(this.mainTrack.removeEventListener("mute",this.eventHandlers.onStreamMute),this.mainTrack.removeEventListener("unmute",this.eventHandlers.onStreamMute),this.mainTrack=null),this.eventHandlers=null)}close(){this.closed=!0,this.cleanup()}_changeState(e){this.currentState!=e&&(this.currentState=e,this.onStateChange(e))}}class RovConnection{constructor(e,a,t,r){Y(this,"closed",!1);Y(this,"rovPeerId");Y(this,"ourPeerMachine");Y(this,"dataConnection",null);Y(this,"mediaConnection",null);Y(this,"msgQueue",new Queue);Y(this,"connectionFailureCount",0);Y(this,"onMesssageRecived");Y(this,"onOverallStateChange");this.rovPeerId=e,this.ourPeerMachine=a,this.onMesssageRecived=s=>t(s,e),this.onOverallStateChange=r}start(){this.mediaConnection&&this.mediaConnection.cleanup(),(this.mediaConnection=new MediaConnectionMachine(this.ourPeerMachine.peer,this.rovPeerId,this.mcStateChange.bind(this))).start(),this.dataConnection&&this.dataConnection.cleanup(),(this.dataConnection=new DataConnectionMachine(this.ourPeerMachine.peer,this.rovPeerId,this.onMesssageRecived,this.dcStateChange.bind(this))).start()}_sendMsgToRov(e){return this.dataConnection.sendMessage(e.msgBytes)?(e.onSendCallback&&e.onSendCallback(e.msgBytes),!0):(console.info('Failed to send "{}" to rov: {}',e.msgBytes,this.rovPeerId),!1)}emptyMsgQueue(){if(this.dataConnection.currentState==ConnectionState.connected)for(;!this.msgQueue.isEmpty();){let e=this.msgQueue.peak();if(!this._sendMsgToRov(e))break;this.msgQueue.pop()}}sendMessage(e,a,t=!1){let r={msgBytes:e,onSendCallback:a};t?this._sendMsgToRov(r):(this.msgQueue.push(r),setTimeout(this.emptyMsgQueue.bind(this),0))}dcStateChange(e){this.closed||(rovDataChannelConnState.set(e),console.debug("dcStateChange",e),this.onOverallStateChange(this.dataConnection.currentState,this.mediaConnection.currentState,this.rovPeerId),e==ConnectionState.connected?(this.emptyMsgQueue(),this.connectionFailureCount=0):e==ConnectionState.reconnecting?this.connectionFailureCount++:e==ConnectionState.disconnected&&this.close())}mcStateChange(e){this.closed||(rovVideoStreamConnState.set(e),console.debug("mcStateChange",e),e==ConnectionState.connected||(e==ConnectionState.reconnecting?this.connectionFailureCount++:e==ConnectionState.disconnected&&this.close()))}_checkForTooManyFailures(){this.connectionFailureCount>5&&(console.info("Too many connection failures, closing connection"),this.close())}switchOutThisPeer(e){this.ourPeerMachine=e,this.dataConnection.setCurrentPeer(e.peer)}close(){console.info("Closing Rov Connection: ",this.rovPeerId),this.closed=!0,this.mediaConnection.close(),this.dataConnection.close()}}const networkLatencyMs=nStore(0),depthM=nStore(0),waterTempC=nStore(0),internalTempC=nStore(0),pressureMbar=nStore(0),rovHeading=nStore(0),rovPitch=nStore(0),rovRoll=nStore(0),SEA_LEVEL_PRESSURE=1013.25;function updateSensorValues(n){for(let e of n)e.MeasurementType==rov_action_api.SensorMeasurmentTypes.pressure_mbar?(pressureMbar.set(e.Value),depthM.set((e.Value-SEA_LEVEL_PRESSURE)*.009962143853)):e.MeasurementType==rov_action_api.SensorMeasurmentTypes.water_temp_celsius?waterTempC.set(e.Value):e.MeasurementType==rov_action_api.SensorMeasurmentTypes.internal_temp_celsius?internalTempC.set(e.Value):e.MeasurementType==rov_action_api.SensorMeasurmentTypes.yaw_degrees?rovHeading.set(e.Value):e.MeasurementType==rov_action_api.SensorMeasurmentTypes.pitch_degrees?rovPitch.set(e.Value):e.MeasurementType==rov_action_api.SensorMeasurmentTypes.roll_degrees&&rovRoll.set(e.Value)}let lastTimeRecvdPong=NaN;class RovMsgHandlerClass{constructor(){Y(this,"replyContinuityCallbacks",[]);Y(this,"sendMessageCallback",null);Y(this,"setSendMessageCallback",e=>{this.sendMessageCallback=e})}handleRecivedMessage(e){const a=rov_action_api.RovResponse.decode(new Uint8Array(e));if(this.runExchangeCallback(a.RovExchangeId,a),a.Done)return this.handleDoneMsgRecived(a.RovExchangeId,a.Done);if(a.Error)return this.handleErrorMsgRecived(a.RovExchangeId,a.Error);if(a.Pong)return this.handlePongMsgRecived(a.RovExchangeId,a.Pong);if(a.ContinuedOutput)return this.handleContinuedOutputMsgRecived(a.RovExchangeId,a.ContinuedOutput);if(a.SensorUpdates)return this.handleSensorUpdatesMsgRecived(a.RovExchangeId,a.SensorUpdates);if(a.PasswordRequired)return this.handlePasswordRequiredMsgRecived(a.RovExchangeId,a.PasswordRequired);if(a.PasswordAccepted)return this.handlePasswordAcceptedMsgRecived(a.RovExchangeId,a.PasswordAccepted);if(a.PasswordInvalid)return this.handlePasswordInvalidMsgRecived(a.RovExchangeId,a.PasswordInvalid);if(a.TokenAccepted)return this.handleTokenAcceptedMsgRecived(a.RovExchangeId,a.TokenAccepted);if(a.TokenInvalid)return this.handleTokenInvalidMsgRecived(a.RovExchangeId,a.TokenInvalid);if(a.DriverChanged)return this.handleDriverChangedMsgRecived(a.RovExchangeId,a.DriverChanged);if(a.ClientConnected)return this.handleClientConnectedMsgRecived(a.RovExchangeId,a.ClientConnected);if(a.ClientDisconnected)return this.handleClientDisconnectedMsgRecived(a.RovExchangeId,a.ClientDisconnected)}handleDoneMsgRecived(e,a){console.log("Done: ",a)}handleErrorMsgRecived(e,a){console.warn("ROV Error: ",a),showToastMessage("ROV Error: "+a.Message,2e3,null)}handlePongMsgRecived(e,a){lastTimeRecvdPong=Date.now();const t=lastTimeRecvdPong-Number.parseFloat(a.Time);networkLatencyMs.set(t)}handleContinuedOutputMsgRecived(e,a){console.log("ContinuedOutput: ",e,a)}handleSensorUpdatesMsgRecived(e,a){updateSensorValues(a.MeasurementUpdates)}handlePasswordRequiredMsgRecived(e,a){console.log("PasswordRequired for rovId:",a.RovId),showPasswordPrompt("Enter Driver Password",t=>{t?this.sendRovMessage({PasswordAttempt:{Password:t},RovExchangeId:e},null):delete this.replyContinuityCallbacks[e]})}handlePasswordAcceptedMsgRecived(e,a){showToastMessage("Password Accepted",1e3,null),console.log("TODO: Got AuthToken:",a.AuthToken)}handlePasswordInvalidMsgRecived(e,a){showToastMessage("Wrong Password",1e3,null),this.handlePasswordRequiredMsgRecived(e,a)}handleTokenAcceptedMsgRecived(e,a){console.debug("Token Accepted: ",a),this.resendMessage(e)}handleTokenInvalidMsgRecived(e,a){console.debug("Token Invalid: ",a),this.handlePasswordRequiredMsgRecived(e,a)}handleDriverChangedMsgRecived(e,a){console.info("Driver Changed: ",a);let t=connectionManager.getThisPeerId();a.DriverPeerId==t?(showToastMessage("You are now the driver"),updateRoleDisplay(!0),isRovDriver.set(!0)):(showToastMessage("ROV Driver is now "+a.DriverPeerId),updateRoleDisplay(!1),isRovDriver.set(!1))}handleClientConnectedMsgRecived(e,a){showToastMessage(a.ClientPeerId+" Connected to ROV",1500,null)}handleClientDisconnectedMsgRecived(e,a){showToastMessage(a.ClientPeerId+" Disconnected from ROV",1500,null)}sendRovMessage(e,a=null){!e.RovExchangeId&&a&&(e.RovExchangeId=this.replyContinuityCallbacks.length+1),this.replyContinuityCallbacks[e.RovExchangeId]||(this.replyContinuityCallbacks[e.RovExchangeId]={callback:a,originalMsgData:e}),console.info("Sending RovMessage: ",e);const t=rov_action_api.RovAction.encode(e).finish();this.sendMessageCallback(t)}resendMessage(e){const a=this.replyContinuityCallbacks[e];a&&a.originalMsgData?(console.info("Resending message: ",a.originalMsgData),this.sendRovMessage(a.originalMsgData,a.callback)):console.info("No message to resend for rovExchangeId: ",e)}runExchangeCallback(e,a){const t=this.replyContinuityCallbacks[e];t&&(t.callback&&t.callback(a),(a.Done||a.Error)&&delete this.replyContinuityCallbacks[e])}}const rovMessageHandler=new RovMsgHandlerClass;class RovActionsClass{constructor(e){Y(this,"pingLoopIntervalId",null);Y(this,"lastMove",{VelocityX:0,VelocityY:0,VelocityZ:0,AngularVelocityYaw:0});Y(this,"rovMsgHandler",null);Y(this,"shutdownRov",()=>{showConfirmationMsg("Are you sure you want to shutdown the ROV?",e=>{showToastMessage("Sending Shutdown Request..."),this.sendActionAndWaitForDone({ShutdownRov:{}},a=>{a.Error?showToastMessage("ROV Shutdown Error: "+a.Error.Message):a.Done&&(showToastMessage("Please wait 20 seconds before unplugging"),showToastMessage("ROV: "+a.Done.Message),this.disconnectFromRov())})})});Y(this,"rebootRov",()=>{showConfirmationMsg("Are you sure you want to reboot the ROV?",e=>{showToastMessage("Sending Reboot Request..."),this.sendActionAndWaitForDone({RebootRov:{}},a=>{a.Error?showToastMessage("ROV Reboot Error: "+a.Error.Message):a.Done&&(showToastMessage("Press Connect again in about 30 seconds"),showToastMessage("ROV: "+a.Done.Message),this.disconnectFromRov())})})});Y(this,"restartRovServices",()=>{showConfirmationMsg("Are you sure you want to restart services? - The ROV will stop responding for about a minute and then you can re-connect.",()=>{let e=this.showCommandOutputPopup("Restarting ROV Services",`Sending Service Restart Request (Please Wait)...
`,`

Done.`);this.rovMsgHandler.sendRovMessage({RestartRovServices:{}},e)})});Y(this,"getRovStatusReport",()=>{let e=this.showCommandOutputPopup("ROV Status Report",`Sending Status Request (Please Wait)...
`,`

Done.`);this.rovMsgHandler.sendRovMessage({RovStatusReport:{}},e)});Y(this,"getRovLogs",()=>{let e=this.showCommandOutputPopup("ROV Logs",`Sending Request (Please Wait)...
`,`

Done.`);this.rovMsgHandler.sendRovMessage({RovLogs:{}},e)});Y(this,"enableRovWifi",()=>{showToastMessage("Sending Enable Wifi Command..."),this.sendActionAndWaitForDone({EnableWifi:{}},e=>{e.Error?showToastMessage("Enable Wifi Error: "+e.Error.Message):e.Done&&showToastMessage("Wifi Enable: "+e.Done.Message)})});Y(this,"disableRovWifi",()=>{showConfirmationMsg("Are you sure you want to disable rov wifi? If the ROV is connected via wifi, don't do this!",()=>{showToastMessage("Sending Disable Wifi Command..."),this.sendActionAndWaitForDone({DisableWifi:{}},e=>{e.Error?showToastMessage("Disable Wifi Error: "+e.Error.Message):e.Done&&showToastMessage("Wifi Disable: "+e.Done.Message)})})});this.rovMsgHandler=e}sendActionAndWaitForDone(e,a){this.rovMsgHandler.sendRovMessage(e,t=>{a&&(t.Done||t.Error||t.ContinuedOutput)&&a(t)})}startPingLoop(){this.pingLoopIntervalId||(this.pingLoopIntervalId=setInterval(()=>{this.rovMsgHandler.sendRovMessage({Ping:{Time:Date.now()}},null)},3e3))}stopPingLoop(){clearInterval(this.pingLoopIntervalId),this.pingLoopIntervalId=null}showCommandOutputPopup(e,a,t){let r=showScrollableTextPopup(e,null);return r(a),s=>{s.ContinuedOutput?r(s.ContinuedOutput.Message+`
`):s.Done?r(s.Done.Message+`
`+t):s.Error&&r(s.Error.Message+`
`)}}connectToRov(){connectionManager.connectToCurrentTargetRov()}disconnectFromRov(){connectionManager.disconnectFromCurrentRov()}switchToNextRovPeerId(){rovPeerIdEndNumber.update(e=>(e++,localStorage.setItem("rovPeerIdEndNumber",e.toString()),e)),setCurrentRovName(),this.disconnectFromRov()}switchToPrevRovPeerId(){rovPeerIdEndNumber.update(e=>(e=Math.max(e-1,0),localStorage.setItem("rovPeerIdEndNumber",e.toString()),e)),setCurrentRovName(),this.disconnectFromRov()}takeControl(){this.rovMsgHandler.sendRovMessage({TakeControl:{}},null)}moveRov(e,a,t,r){if(e==this.lastMove.VelocityX&&a==this.lastMove.VelocityY&&t==this.lastMove.VelocityZ&&r==this.lastMove.AngularVelocityYaw)return;const s={VelocityX:e,VelocityY:a,VelocityZ:t,AngularVelocityYaw:r};this.rovMsgHandler.sendRovMessage({Move:s},null),this.lastMove=s}refreshAllSensorData(){this.rovMsgHandler.sendRovMessage({RefreshAllSensors:{}},null)}toggleLights(){this.rovMsgHandler.sendRovMessage({ToogleLights:{}},null)}}const RovActions=new RovActionsClass(rovMessageHandler);class ConnectionManagerClass{constructor(e){Y(this,"ROVs",{});Y(this,"currentTargetRovId",getROVName(rovPeerIdEndNumber.get()));Y(this,"ourPeerMachines",[]);Y(this,"overallPeerServerState",ConnectionState.disconnected);Y(this,"reconnectFailureCount",0);Y(this,"onMessageRecivedCallback",e=>{console.debug("msg recived:"+e)});this.onMessageRecivedCallback=e}start(){if(this.ourPeerMachines.length!==0)return;const e=new OurPeerMachine(this.peerConnStateChange.bind(this));this.ourPeerMachines=[e],e.start()}getThisPeerId(){return ourPeerId.get()}peerConnStateChange(){let e=this.ourPeerMachines.map(t=>t.currentState);console.debug("PeerStatesChange: ",e);let a=0;for(let t=0;t<e.length;t++)e[t]==ConnectionState.connected&&(a++,a>1?(this.ourPeerMachines[t].cleanup(),this.ourPeerMachines.splice(t,1)):this.connectToCurrentTargetRov(),this.reconnectFailureCount=0);if(a!=-1)if(console.debug("peer states:",e,a),a>0){if(this.overallPeerServerState==ConnectionState.connected)return;peerServerConnState.set(ConnectionState.connected)}else if(e.indexOf(ConnectionState.reconnecting)!=-1){if(this.overallPeerServerState==ConnectionState.reconnecting)return;peerServerConnState.set(ConnectionState.reconnecting)}else if(e.indexOf(ConnectionState.connecting)!=-1){if(this.overallPeerServerState==ConnectionState.connecting)return;peerServerConnState.set(ConnectionState.connecting)}else this.overallPeerServerState!=ConnectionState.disconnected&&peerServerConnState.set(ConnectionState.disconnected)}rovConnStateChange(e,a,t){t==this.currentTargetRovId&&(rovDataChannelConnState.set(e),rovVideoStreamConnState.set(a),e==ConnectionState.connected&&RovActions.refreshAllSensorData())}messageRecived(e,a){a===this.currentTargetRovId?this.onMessageRecivedCallback(e):console.warn("Message Recived from wrong ROV Peer "+a,e)}connectToRov(e){this.ROVs[e]||(this.ROVs[e]=new RovConnection(e,this.ourPeerMachines[0],this.messageRecived.bind(this),this.rovConnStateChange.bind(this))),this.ROVs[e].start()}connectToCurrentTargetRov(){this.currentTargetRovId=getROVName(rovPeerIdEndNumber.get()),this.connectToRov(this.currentTargetRovId)}disconnectFromRov(e){if(e==this.currentTargetRovId&&(rovDataChannelConnState.set(ConnectionState.disconnected),rovVideoStreamConnState.set(ConnectionState.disconnected)),this.ROVs[e]===void 0){console.warn("Tried to disconnect from a rov that is not connected: ",e);return}this.ROVs[e].close(),delete this.ROVs[e]}disconnectFromCurrentRov(){this.disconnectFromRov(this.currentTargetRovId)}sendMessageToRov(e,a,t=!1){this.ROVs[a].sendMessage(e,null,t)}sendMessageToCurrentRov(e,a=!1){this.sendMessageToRov(e,this.currentTargetRovId,a)}cleanup(){for(const e in this.ROVs)this.disconnectFromRov(e);for(const e of this.ourPeerMachines)e.cleanup();this.ourPeerMachines=[]}}const connectionManager=new ConnectionManagerClass(rovMessageHandler.handleRecivedMessage.bind(rovMessageHandler));class GamepadUi{constructor(){this.gpadButtonHighlightElements=ONSCREEN_GPAD_BUTTON_LABELS.map(e=>document.getElementById(e+"_highlight")),this.gamepadHelpTooltip=document.querySelector("#gamepad-help-tooltip"),this.gamepadHelpTooltipText=document.querySelector("#gamepad-help-text"),this.defaultTooltipTarget=document.querySelector("#select_button"),this.gamepadConnectNotice=document.getElementById("gamepad-connect-notice"),this.tooManyGamepadsNotice=document.getElementById("too-many-gamepads-notice"),this.currentPopperTarget=this.defaultTooltipTarget,this.touchingButtonsCount=0,this.someAxiesNotCentered=!1,this.someButtonsPressed=!1,this.gamepadContainer=document.getElementById("gamepad-container"),this.gamepadHelpVisible=!1}showExtraniousGamepadsConnected(e){this.tooManyGamepadsNotice.style.display=e?"block":"none"}showGamepadConnected(e){e?this.gamepadContainer.classList.add("gamepad-connected"):this.gamepadContainer.classList.remove("gamepad-connected")}showNoGamepads(e){this.gamepadConnectNotice.style.display=e?"block":"none"}toggleGamepadHelpScreen(){this.gamepadHelpVisible=!this.gamepadHelpVisible,this.gamepadHelpVisible?(document.body.classList.add("gamepad-help-open"),document.body.classList.remove("driving-now")):document.body.classList.remove("gamepad-help-open")}showGamepadStatus(e){}showNotSupported(){alert("Gamepad interface not supported, please use a more modern browser.")}showHelpTooltip(e,a){}handleGamepadVisualFeedbackAxisEvents(e,a){e.forEach(r=>{var s=r.thumbStickElement,c=r.axisRange,d=r.xValue||0,u=r.yValue||0;s.style.transform=`rotateY(${-d*30}deg) rotateX(${u*30}deg) translate(${d*c}px,${u*c}px)`,this.gamepadHelpVisible&&(r.upIndicatorElement&&r.downIndicatorElement&&(Math.abs(d)<a?u<-a?(r.upIndicatorElement.style.opacity=Math.max(-u,0),r.downIndicatorElement.style.opacity=0,this.showHelpTooltip(r.upIndicatorElement,r.upHelpText||"None")):u>a?(r.upIndicatorElement.style.opacity=0,r.downIndicatorElement.style.opacity=Math.max(u,0),this.showHelpTooltip(r.downIndicatorElement,r.downHelpText||"None")):(r.upIndicatorElement.style.opacity=0,r.downIndicatorElement.style.opacity=0):(r.upIndicatorElement.style.opacity=0,r.downIndicatorElement.style.opacity=0)),r.leftIndicatorElement&&r.rightIndicatorElement&&(Math.abs(u)<a?d<-a?(r.leftIndicatorElement.style.opacity=Math.max(-d,0),r.rightIndicatorElement.style.opacity=0,this.showHelpTooltip(r.leftIndicatorElement,r.leftHelpText||"None")):d>a?(r.leftIndicatorElement.style.opacity=0,r.rightIndicatorElement.style.opacity=Math.max(d,0),this.showHelpTooltip(r.rightIndicatorElement,r.rightHelpText||"None")):(r.leftIndicatorElement.style.opacity=0,r.rightIndicatorElement.style.opacity=0):(r.leftIndicatorElement.style.opacity=0,r.rightIndicatorElement.style.opacity=0)))});let t=e.reduce((r,s)=>r+Math.abs(s.xValue)+Math.abs(s.yValue)>.05?1:0,0);!this.gamepadHelpVisible&&t>0&&this.someAxiesNotCentered==!1?(this.someAxiesNotCentered=!0,this.setGamepadVisability()):this.someAxiesNotCentered==!0&&t==0&&(this.someAxiesNotCentered=!1,this.setGamepadVisability())}setGamepadVisability(){!this.gamepadHelpVisible&&(this.someAxiesNotCentered||this.someButtonsPressed)?document.body.classList.add("driving-now"):document.body.classList.remove("driving-now")}setGamepadButtonClass(e,a){var t=a[e],r=this.gpadButtonHighlightElements[e];!t||!r||(t.touched?r.classList.add(ONSCREEN_GPAD_BUTTON_TOUCHED_CLASS):r.classList.remove(ONSCREEN_GPAD_BUTTON_TOUCHED_CLASS),t.pressed?r.classList.add(ONSCREEN_GPAD_BUTTON_PRESSED_CLASS):r.classList.remove(ONSCREEN_GPAD_BUTTON_PRESSED_CLASS))}handleGamepadVisualFeedbackButtonEvents(e){let a=0;for(var t=0;t<e.length;t++)this.setGamepadButtonClass(t,e),a+=e[t].pressed?1:0;!this.gamepadHelpVisible&&a>0&&this.someButtonsPressed==!1?(this.someButtonsPressed=!0,this.setGamepadVisability()):this.someButtonsPressed==!0&&(this.someButtonsPressed=!1,this.setGamepadVisability())}handleGamepadVisualFeedbackVariableTriggerButtonEvents(e,a){for(var t=0;t<a.length;t++){const s=a[t],c=s.buttonIndex;this.setGamepadButtonClass(c,e);var r=e[c]?e[c].value:0;s.buttonElement.style.transform=`rotateX(${r*30}deg) translateY(${r*s.axisRange}px)`}}getButtonHighlightElements(){return console.log("getButtonHighlightElements",this.gpadButtonHighlightElements),this.gpadButtonHighlightElements}}var l$2=(n=>(n.up="up",n.down="down",n.left="left",n.right="right",n))(l$2||{}),v=(n=>(n.onOff="onOff",n.variable="variable",n))(v||{}),f$2=(n=>(n.real="real",n.emulated="emulated",n.overlay="overlay",n))(f$2||{});function i(n,e,a){const t=Math.sqrt(n*n+e*e);return t>a?{x:n/t,y:e/t}:{x:n/a,y:e/a}}function o$1(n){if(n instanceof SVGGraphicsElement){n.getAttribute("transform")&&console.warn("Setting Transform origin on an element that already has a transform attribute. This may break the transform!",n);const e=n.getBBox();n.style.transformOrigin=`${e.x+e.width/2}px ${e.y+e.height/2}px`}else if(n instanceof HTMLElement){console.warn("Setting Transform origin on an element that is not an SVG element. This may break the transform!",n);const e=n.getBoundingClientRect();n.style.transformOrigin=`${e.width/2}px ${e.height/2}px`}}var L=Object.defineProperty,M=(n,e,a)=>e in n?L(n,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):n[e]=a,h=(n,e,a)=>(M(n,typeof e!="symbol"?e+"":e,a),a);const T=18,A=4,E=class{constructor(n){if(h(this,"getNativeGamepads",()=>[]),h(this,"buttonPressThreshold",.1),h(this,"realGpadToPatchedIndexMap",[]),h(this,"patchedGpadToRealIndexMap",[]),h(this,"emulatedGamepads",[]),h(this,"emulatedGamepadsMetadata",[]),h(this,"undoEventPatch",()=>{}),this.buttonPressThreshold=n||this.buttonPressThreshold,E.instanceRunning)throw new Error("Only one GamepadEmulator instance may exist at a time!");E.instanceRunning=!0,this.undoEventPatch=this.monkeyPatchGamepadEvents(),this.monkeyPatchGetGamepads()}AddEmulatedGamepad(n,e,a=T,t=A){if((n===-1||!n&&n!==0)&&(n=this.nextEmptyEGpadIndex(e)),this.emulatedGamepads[n])return!1;const r={emulation:f$2.emulated,connected:!0,timestamp:Math.floor(Date.now()/1e3),displayId:"Emulated Gamepad "+n,id:"Emulated Gamepad "+n+" (Xinput STANDARD GAMEPAD)",mapping:"standard",index:n,buttons:new Array(a).fill({pressed:!1,value:0,touched:!1},0,a),axes:new Array(t).fill(0,0,t),hapticActuators:[]};this.emulatedGamepads[n]=r,this.emulatedGamepadsMetadata[n]={overlayMode:e};const s=new Event("gamepadconnected");return s.gamepad=r,window.dispatchEvent(s),r}RemoveEmulatedGamepad(n){this.ClearDisplayButtonEventListeners(n),this.ClearDisplayJoystickEventListeners(n);var e=this.emulatedGamepads[n];if(e){delete this.emulatedGamepads[n],delete this.emulatedGamepadsMetadata[n];const a={...e,connected:!1,timestamp:Math.floor(Date.now()/1e3)},t=new Event("gamepaddisconnected");t.gamepad=a,window.dispatchEvent(t)}else console.warn("Error: removing emulated gamepad. No emulated gamepad exists at index "+n)}PressButton(n,e,a,t){if(this.emulatedGamepads[n]===void 0)throw new Error("Error: PressButton() - no emulated gamepad at index "+n+", pass a valid index, or call AddEmulatedGamepad() first to create an emulated gamepad at that index");var r=a>this.buttonPressThreshold;this.emulatedGamepads[n].buttons[e]={pressed:r,value:a||0,touched:r||t||!1}}MoveAxis(n,e,a){if(!this.emulatedGamepads[n])throw new Error("Error: MoveAxis() - no emulated gamepad at index "+n+", pass a valid index, or call AddEmulatedGamepad() first to create an emulated gamepad at that index");this.emulatedGamepads[n].axes[e]=a}AddDisplayButtonEventListeners(n,e){if(!this.emulatedGamepads[n])throw new Error("Error: AddDisplayJoystickEventListeners() - no emulated gamepad at index "+n+", pass a valid index, or call AddEmulatedGamepad() first to create an emulated gamepad at that index");let a=[];for(var t=0;t<e.length;t++){const r=e[t],s=r.buttonIndex,c=r.tapTarget;if(!c){console.warn("AddDisplayButtonEventListeners() - no tap target in button config "+s+", skipping...");continue}const d=_=>{_.changedTouches[0].target==c&&_.preventDefault()};window.addEventListener("touchstart",d,{passive:!1});const u=_=>{const b=_.buttons==1?1:0;(!r.lockTargetWhilePressed||b==0)&&this.PressButton(n,s,b,!0)};c.addEventListener("pointerenter",u);const m=_=>{const b=_.buttons==1?1:0;(!r.lockTargetWhilePressed||b==0)&&this.PressButton(n,s,0,!1)};c.addEventListener("pointerleave",m);const g=_=>{};if(c.addEventListener("pointercancel",g),r.type==v.onOff){const _=S=>{S.preventDefault(),this.PressButton(n,s,1,!0),r.lockTargetWhilePressed?c.setPointerCapture(S.pointerId):c.releasePointerCapture(S.pointerId),console.log("on/off pointer down",c.hasPointerCapture(S.pointerId))};c.addEventListener("pointerdown",_);const b=()=>{this.PressButton(n,s,0,!0)};c.addEventListener("pointerup",b),a.push(function(){window.removeEventListener("touchstart",d),c.removeEventListener("pointerenter",u),c.removeEventListener("pointerleave",m),c.removeEventListener("pointerdown",_),c.removeEventListener("pointerup",b),c.removeEventListener("pointercancel",g)})}else if(r.type==v.variable){const _={...r},b=this.AddDragControlListener(_,(S,C,R)=>{let w=S?this.buttonPressThreshold+1e-5:0;w+=r.directions[l$2.left]||r.directions[l$2.right]?Math.abs(C):0,w+=r.directions[l$2.up]||r.directions[l$2.down]?Math.abs(R):0,this.PressButton(n,r.buttonIndex,Math.min(w,1),S)});a.push(function(){window.removeEventListener("touchstart",d),c.removeEventListener("pointerenter",u),c.removeEventListener("pointerleave",m),c.removeEventListener("pointercancel",g),b()})}}this.emulatedGamepadsMetadata[n].removeButtonListenersFunc=()=>{a.forEach(r=>r())}}AddDisplayJoystickEventListeners(n,e){if(!this.emulatedGamepads[n])throw new Error("Error: AddDisplayJoystickEventListeners() - no emulated gamepad at index "+n+", pass a valid index, or call AddEmulatedGamepad() first to create an emulated gamepad at that index");let a=[];for(let t=0;t<e.length;t++){const r=e[t];if(r.tapTarget==null){console.warn(`AddDisplayJoystickEventListeners() - no tap target in joystick config ${t}, skipping...`);continue}const s=this.AddDragControlListener(r,(c,d,u)=>{r.xAxisIndex!==void 0&&this.MoveAxis(n,r.xAxisIndex,d),r.yAxisIndex!==void 0&&this.MoveAxis(n,r.yAxisIndex,u)});a.push(s)}this.emulatedGamepadsMetadata[n].removeJoystickListenersFunc=()=>{a.forEach(t=>t())}}ClearDisplayButtonEventListeners(n){var e;this.emulatedGamepadsMetadata[n]&&((e=this.emulatedGamepadsMetadata[n])==null?void 0:e.removeButtonListenersFunc)&&this.emulatedGamepadsMetadata[n].removeButtonListenersFunc()}ClearDisplayJoystickEventListeners(n){var e;this.emulatedGamepadsMetadata[n]&&((e=this.emulatedGamepadsMetadata[n])==null?void 0:e.removeJoystickListenersFunc)&&this.emulatedGamepadsMetadata[n].removeJoystickListenersFunc()}AddDragControlListener(n,e){let a={startX:0,startY:0},t=-1;const r=d=>{var u=d.pointerId;if(t===u){const m=n.directions[l$2.left]?-1:0,g=n.directions[l$2.right]?1:0,_=n.directions[l$2.up]?-1:0,b=n.directions[l$2.down]?1:0,S=d.clientX-a.startX,C=d.clientY-a.startY;let{x:R,y:w}=i(S,C,n.dragDistance);R=Math.max(Math.min(R,g),m),w=Math.max(Math.min(w,b),_),e(!0,R,w)}},s=d=>{t==d.pointerId&&(document.removeEventListener("pointermove",r,!1),document.removeEventListener("pointerup",s,!1),t=-1,e(!1,0,0))};n.tapTarget.addEventListener("pointerdown",d=>{d.preventDefault(),a.startX=d.clientX,a.startY=d.clientY,t=d.pointerId,n.lockTargetWhilePressed?n.tapTarget.setPointerCapture(d.pointerId):n.tapTarget.releasePointerCapture(d.pointerId),console.log("stick pointer down",n.tapTarget.hasPointerCapture(d.pointerId)),e(!0,0,0),document.addEventListener("pointermove",r,!1),document.addEventListener("pointerup",s,!1)});const c=d=>{d.changedTouches[0].target==n.tapTarget&&d.preventDefault()};return window.addEventListener("touchstart",c,{passive:!1}),function(){window.removeEventListener("touchstart",c),n.tapTarget.removeEventListener("pointerdown",r)}}cloneGamepad(n){if(!n)return n;const e=n.axes?n.axes.length:0,a=n.buttons?n.buttons.length:0,t={};for(let r in n)if(r==="axes"){const s=new Array(e);for(let c=0;c<e;c++)s[c]=Number(n.axes[c]);Object.defineProperty(t,"axes",{value:s,enumerable:!0})}else if(r==="buttons"){const s=new Array(a);for(let c=0;c<a;c++){const d=n.buttons[c];if(d==null)s[c]=d;else{const u=d.pressed,m=d.value,g=d.touched||!1;s[c]={pressed:u,value:m,touched:g}}}Object.defineProperty(t,"buttons",{value:s,enumerable:!0})}else Object.defineProperty(t,r,{get:()=>n[r],configurable:!0,enumerable:!0});return t.emulation||(t.emulation=f$2.real),t}nextEmptyEGpadIndex(n){let e=0;if(n)do{if(!this.emulatedGamepads[e])break;e++}while(e<this.emulatedGamepads.length);else{const a=Math.max(this.emulatedGamepads.length,this.patchedGpadToRealIndexMap.length);do{if(!this.emulatedGamepads[e]&&this.patchedGpadToRealIndexMap[e]==null)break;console.log("nextEmptyEGpadIndex",e,!this.emulatedGamepads[e],this.patchedGpadToRealIndexMap[e]==null),e++}while(e<a)}return e}nextEmptyRealGpadIndex(n){let e=n;const a=Math.max(this.emulatedGamepads.length,this.patchedGpadToRealIndexMap.length);do{const t=this.emulatedGamepadsMetadata[e],r=this.realGpadToPatchedIndexMap[e]==null&&this.patchedGpadToRealIndexMap[e]==null;if(!!t&&t.overlayMode||!t&&r)break;e++}while(e<a);return e}monkeyPatchGamepadEvents(){let n,e,a,t;window.hasOwnProperty("ongamepadconnected")&&(n=Object.getOwnPropertyDescriptor(window,"ongamepadconnected"),a=window.ongamepadconnected,window.ongamepadconnected=null,Object.defineProperty(window,"ongamepadconnected",{get:()=>function(c){},set:c=>{a=c},configurable:!0})),window.hasOwnProperty("ongamepaddisconnected")&&(e=Object.getOwnPropertyDescriptor(window,"ongamepaddisconnected"),t=window.ongamepaddisconnected,window.ongamepaddisconnected=null,Object.defineProperty(window,"ongamepaddisconnected",{get:()=>function(c){},set:c=>{a=c},configurable:!0}));const r=c=>{const d=c.gamepad;if(d&&d.emulation===void 0){c.stopImmediatePropagation();const u=this.cloneGamepad(c.gamepad),m=u.index,g=this.nextEmptyRealGpadIndex(m);this.realGpadToPatchedIndexMap[m]=g,this.patchedGpadToRealIndexMap[g]=m,Object.defineProperty(u,"index",{get:()=>g}),Object.defineProperty(u,"emulation",{get:()=>f$2.real}),console.log(`real gamepad connected ${u.id} (${m}>${g})`,this.realGpadToPatchedIndexMap,this.emulatedGamepads,this.emulatedGamepadsMetadata),c=new Event("gamepadconnected"),c.gamepad=u,window.dispatchEvent(c)}console.log("windowOngamepadconnected",a),a&&a.call(window,c)};window.addEventListener("gamepadconnected",r);const s=c=>{const d=c.gamepad;if(d&&d.emulation===void 0){c.stopImmediatePropagation();const u=this.cloneGamepad(c.gamepad),m=this.realGpadToPatchedIndexMap[u.index]||u.index;Object.defineProperty(u,"index",{get:()=>m}),delete this.realGpadToPatchedIndexMap[u.index],delete this.patchedGpadToRealIndexMap[m],c=new Event("gamepaddisconnected"),c.gamepad=u,window.dispatchEvent(c)}t&&t.call(window,c)};return window.addEventListener("gamepaddisconnected",s),function(){window.removeEventListener("gamepadconnected",r),window.hasOwnProperty("ongamepadconnected")&&(Object.defineProperty(window,"ongamepadconnected",n),window.ongamepadconnected=a),window.removeEventListener("gamepaddisconnected",s),window.hasOwnProperty("ongamepaddisconnected")&&(Object.defineProperty(window,"ongamepaddisconnected",e),window.ongamepaddisconnected=t)}}monkeyPatchGetGamepads(){const n=this;let e=navigator.getGamepads||navigator.webkitGetGamepads||navigator.mozGetGamepads||navigator.msGetGamepads;e&&(this.getNativeGamepads=e),navigator.getGamepads=function(){let a=[],t=e!=null?n.getNativeGamepads.apply(navigator):[];for(let s=0;s<t.length;s++){const c=t[s];if(!c)continue;let d=n.cloneGamepad(c),u=n.realGpadToPatchedIndexMap[d.index]||d.index;Object.defineProperty(d,"index",{get:()=>u}),a[u]=d}let r=n.emulatedGamepads;for(let s=0;s<r.length;s++){let c=a[s],d=r[s];if(d&&c){c.emulation=f$2.overlay;let u=Math.max(c.buttons.length,d.buttons.length);for(let g=0;g<u;g++){const _=d.buttons[g]||{touched:!1,pressed:!1,value:0},b=c.buttons[g]||{touched:!1,pressed:!1,value:0};a[s].buttons[g]={touched:_.touched||b.touched||!1,pressed:_.pressed||b.pressed||!1,value:Math.max(_.value,b.value)||0}}let m=Math.max(d.axes.length,c.axes.length);for(let g=0;g<m;g++){const _=d.axes[g]||0,b=c.axes[g]||0;a[s].axes[g]=Math.abs(_||0)>Math.abs(b||0)?_||0:b||0}}else d&&(d.emulation=f$2.emulated,d.timestamp=Math.floor(Date.now()/1e3),a[s]=n.cloneGamepad(d))}return a}}cleanup(){for(let n=0;n<this.emulatedGamepads.length;n++)this.ClearDisplayButtonEventListeners(n),this.ClearDisplayJoystickEventListeners(n);this.emulatedGamepads=[],this.undoEventPatch(),navigator.getGamepads=this.getNativeGamepads,E.instanceRunning=!1}};let y=E;h(y,"instanceRunning",!1);var f$1=Object.defineProperty,l$1=(n,e,a)=>e in n?f$1(n,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):n[e]=a,o=(n,e,a)=>(l$1(n,typeof e!="symbol"?e+"":e,a),a);class G{constructor(e){o(this,"updateDelay"),o(this,"axisDeadZone"),o(this,"buttonConfigs"),o(this,"currentStateOfGamepads"),o(this,"gamepadConnectListeners"),o(this,"gamepadDisconnectListeners"),o(this,"gamepadButtonChangeListeners"),o(this,"gamepadAxisChangeListeners"),this.updateDelay=e.updateDelay||0,this.axisDeadZone=e.axisDeadZone||0,this.buttonConfigs=e.buttonConfigs||[],this.currentStateOfGamepads=[],this.gamepadConnectListeners=[],this.gamepadDisconnectListeners=[],this.gamepadButtonChangeListeners=[],this.gamepadAxisChangeListeners=[],navigator.gamepadInputEmulation="gamepad",window.requestAnimationFrame=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,navigator.getGamepads=navigator.getGamepads||navigator.webkitGetGamepads||navigator.mozGetGamepads||navigator.msGetGamepads,this.gamepadApiSupported()&&this.tickLoop()}setButtonsConfig(e){this.buttonConfigs=e}onGamepadConnect(e){return this.gamepadConnectListeners.push(e),window.addEventListener("gamepadconnected",e,!0),e}offGamepadConnect(e){this.gamepadConnectListeners=this.gamepadConnectListeners.filter(a=>a!==e),window.removeEventListener("gamepadconnected",e,!0)}onGamepadDisconnect(e){return this.gamepadDisconnectListeners.push(e),window.addEventListener("gamepaddisconnected",e,!0),e}offGamepadDisconnect(e){this.gamepadDisconnectListeners=this.gamepadDisconnectListeners.filter(a=>a!==e),window.removeEventListener("gamepaddisconnected",e,!0)}onGamepadAxisChange(e){return this.gamepadAxisChangeListeners.push(e),e}offGamepadAxisChange(e){this.gamepadAxisChangeListeners=this.gamepadAxisChangeListeners.filter(a=>a!==e)}onGamepadButtonChange(e){return this.gamepadButtonChangeListeners.push(e),e}offGamepadButtonChange(e){this.gamepadButtonChangeListeners=this.gamepadButtonChangeListeners.filter(a=>a!==e)}gamepadApiSupported(){return!!navigator.getGamepads&&!!navigator.getGamepads()}getCurrentGamepadStates(e=!1){return e&&this.checkForGamepadChanges(),this.currentStateOfGamepads}tickLoop(){this.checkForGamepadChanges(),this.updateDelay==0?requestAnimationFrame(this.tickLoop.bind(this)):setTimeout(()=>{requestAnimationFrame(this.tickLoop.bind(this))},this.updateDelay)}checkForGamepadChanges(){let e=navigator.getGamepads();for(var a=0;a<e.length;a++){let t=e[a];!t||(this.currentStateOfGamepads[a]||(this.currentStateOfGamepads[a]=t),this.checkForAxisChanges(a,t),this.checkForButtonChanges(a,t),this.currentStateOfGamepads[a]=t)}}checkForAxisChanges(e,a){let t=a.axes;if(t.length==0)return;let r=this.currentStateOfGamepads[e].axes||[],s=[],c,d=!1;for(c=0;c<t.length;c++){let u=t[c]||0,m=r[c]||0;if(u!=m){if(Math.abs(u)<this.axisDeadZone&&Math.abs(m)<this.axisDeadZone)continue;s[c]=!0,d=!0}else s[c]=!1}d&&this.gamepadAxisChangeListeners.forEach(u=>u(e,a,s))}checkForButtonChanges(e,a){let t=a.buttons;if(t.length==0)return;const r=this.currentStateOfGamepads[e].buttons||t;let s=[],c,d=!1;for(c=0;c<t.length;c++){let u=!1;const m=t[c]||{pressed:!1,value:0,touched:!1},g=r[c]||{pressed:!1,value:0,touched:!1},_=this.buttonConfigs[c]||{},b={};m.touched&&!g.touched?(b.touchDown=!0,u=!0):!m.touched&&g.touched&&(b.touchUp=!0,u=!0),m.pressed&&!g.pressed?(b.pressed=!0,u=!0):!m.pressed&&g.pressed&&(b.released=!0,u=!0),_.fireWhileHolding&&m.pressed&&g.pressed&&(b.heldDown=!0,u=!0),m.value!=g.value&&(b.valueChanged=!0,u=!0),u?(d=!0,s[c]=b):s[c]=!1}d&&this.gamepadButtonChangeListeners.forEach(u=>u(e,a,s))}}var p=Object.defineProperty,f=(n,e,a)=>e in n?p(n,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):n[e]=a,l=(n,e,a)=>(f(n,typeof e!="symbol"?e+"":e,a),a);class D{constructor(e,a){l(this,"config"),l(this,"apiWrapper"),l(this,"btnChangeListener"),l(this,"axisChangeListener"),l(this,"DefaultJoystickDisplayFunction",(t,r,s)=>{const c=t.movementRange;if(t.joystickElement.style.transform=`translate(${r*c}px,${s*c}px)`,t.highlights&&this.config.moveDirectionHighlightClass){const d=t.highlights[l$2.up],u=t.highlights[l$2.down],m=t.highlights[l$2.left],g=t.highlights[l$2.right];d&&s<-.1?d.classList.add(this.config.moveDirectionHighlightClass||""):d&&d.classList.remove(this.config.moveDirectionHighlightClass||""),u&&s>.1?u.classList.add(this.config.moveDirectionHighlightClass||""):u&&u.classList.remove(this.config.moveDirectionHighlightClass||""),m&&r<-.1?m.classList.add(this.config.moveDirectionHighlightClass||""):m&&m.classList.remove(this.config.moveDirectionHighlightClass||""),g&&r>.1?g.classList.add(this.config.moveDirectionHighlightClass||""):g&&g.classList.remove(this.config.moveDirectionHighlightClass||"")}}),l(this,"DefaultButtonDisplayFunction",(t,r,s,c,d,u)=>{const m=t.highlight;if(this.config.touchedHighlightClass&&m&&(d.touchDown?m.classList.add(this.config.touchedHighlightClass):d.touchUp&&m.classList.remove(this.config.touchedHighlightClass)),this.config.pressedHighlightClass&&m&&(d.pressed?m.classList.add(this.config.pressedHighlightClass):d.released&&m.classList.remove(this.config.pressedHighlightClass)),t.type==v.variable){const g=t.directionHighlight;if(this.config.moveDirectionHighlightClass&&g&&(d.pressed?g.classList.add(this.config.moveDirectionHighlightClass):d.released&&g.classList.remove(this.config.moveDirectionHighlightClass)),t.buttonElement){const _=t.direction==l$2.left||t.direction==l$2.right,b=t.direction==l$2.right||t.direction==l$2.down;t.buttonElement.style.transform=`translate${_?"X":"Y"}(${b?"":"-"}${r*t.movementRange}px)`}}}),l(this,"displayButtonChanges",(t,r,s)=>{if(t!=this.config.gamepadIndex)return;const c=this.config.buttons;for(let d=0;d<c.length;d++){const u=s[d];if(!u||Object.keys(u).length==0)continue;const m=c[d],g=r.buttons[d].value,_=r.buttons[d].touched,b=r.buttons[d].pressed;this.config.buttonDisplayFunction?this.config.buttonDisplayFunction(m,g,_,b,u,d):this.DefaultButtonDisplayFunction(m,g,_,b,u,d)}}),this.config=e,this.apiWrapper=a||new G({buttonConfigs:[],updateDelay:0}),this.btnChangeListener=this.apiWrapper.onGamepadButtonChange(this.displayButtonChanges.bind(this)),this.axisChangeListener=this.apiWrapper.onGamepadAxisChange(this.displayJoystickChanges.bind(this))}displayJoystickChanges(e,a,t){if(e!=this.config.gamepadIndex)return;const r=this.config.sticks;for(let s=0;s<r.length;s++){const c=r[s];if(c.xAxisIndex!==void 0&&t[c.xAxisIndex]||c.yAxisIndex!==void 0&&t[c.yAxisIndex]){const d=a.axes,u=c.xAxisIndex!==void 0&&d[c.xAxisIndex]||0,m=c.yAxisIndex!==void 0&&d[c.yAxisIndex]||0;this.config.joystickDisplayFunction?this.config.joystickDisplayFunction(c,u,m):this.DefaultJoystickDisplayFunction(c,u,m)}}}Cleanup(){this.apiWrapper.offGamepadButtonChange(this.btnChangeListener),this.apiWrapper.offGamepadAxisChange(this.axisChangeListener)}}var top="top",bottom="bottom",right="right",left="left",auto="auto",basePlacements=[top,bottom,right,left],start="start",end="end",clippingParents="clippingParents",viewport="viewport",popper="popper",reference="reference",variationPlacements=basePlacements.reduce(function(n,e){return n.concat([e+"-"+start,e+"-"+end])},[]),placements=[].concat(basePlacements,[auto]).reduce(function(n,e){return n.concat([e,e+"-"+start,e+"-"+end])},[]),beforeRead="beforeRead",read="read",afterRead="afterRead",beforeMain="beforeMain",main="main",afterMain="afterMain",beforeWrite="beforeWrite",write="write",afterWrite="afterWrite",modifierPhases=[beforeRead,read,afterRead,beforeMain,main,afterMain,beforeWrite,write,afterWrite];function getNodeName(n){return n?(n.nodeName||"").toLowerCase():null}function getWindow(n){if(n==null)return window;if(n.toString()!=="[object Window]"){var e=n.ownerDocument;return e&&e.defaultView||window}return n}function isElement(n){var e=getWindow(n).Element;return n instanceof e||n instanceof Element}function isHTMLElement(n){var e=getWindow(n).HTMLElement;return n instanceof e||n instanceof HTMLElement}function isShadowRoot(n){if(typeof ShadowRoot>"u")return!1;var e=getWindow(n).ShadowRoot;return n instanceof e||n instanceof ShadowRoot}function applyStyles(n){var e=n.state;Object.keys(e.elements).forEach(function(a){var t=e.styles[a]||{},r=e.attributes[a]||{},s=e.elements[a];!isHTMLElement(s)||!getNodeName(s)||(Object.assign(s.style,t),Object.keys(r).forEach(function(c){var d=r[c];d===!1?s.removeAttribute(c):s.setAttribute(c,d===!0?"":d)}))})}function effect$2(n){var e=n.state,a={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,a.popper),e.styles=a,e.elements.arrow&&Object.assign(e.elements.arrow.style,a.arrow),function(){Object.keys(e.elements).forEach(function(t){var r=e.elements[t],s=e.attributes[t]||{},c=Object.keys(e.styles.hasOwnProperty(t)?e.styles[t]:a[t]),d=c.reduce(function(u,m){return u[m]="",u},{});!isHTMLElement(r)||!getNodeName(r)||(Object.assign(r.style,d),Object.keys(s).forEach(function(u){r.removeAttribute(u)}))})}}const applyStyles$1={name:"applyStyles",enabled:!0,phase:"write",fn:applyStyles,effect:effect$2,requires:["computeStyles"]};function getBasePlacement(n){return n.split("-")[0]}var max=Math.max,min=Math.min,round=Math.round;function getUAString(){var n=navigator.userAgentData;return n!=null&&n.brands?n.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function isLayoutViewport(){return!/^((?!chrome|android).)*safari/i.test(getUAString())}function getBoundingClientRect(n,e,a){e===void 0&&(e=!1),a===void 0&&(a=!1);var t=n.getBoundingClientRect(),r=1,s=1;e&&isHTMLElement(n)&&(r=n.offsetWidth>0&&round(t.width)/n.offsetWidth||1,s=n.offsetHeight>0&&round(t.height)/n.offsetHeight||1);var c=isElement(n)?getWindow(n):window,d=c.visualViewport,u=!isLayoutViewport()&&a,m=(t.left+(u&&d?d.offsetLeft:0))/r,g=(t.top+(u&&d?d.offsetTop:0))/s,_=t.width/r,b=t.height/s;return{width:_,height:b,top:g,right:m+_,bottom:g+b,left:m,x:m,y:g}}function getLayoutRect(n){var e=getBoundingClientRect(n),a=n.offsetWidth,t=n.offsetHeight;return Math.abs(e.width-a)<=1&&(a=e.width),Math.abs(e.height-t)<=1&&(t=e.height),{x:n.offsetLeft,y:n.offsetTop,width:a,height:t}}function contains(n,e){var a=e.getRootNode&&e.getRootNode();if(n.contains(e))return!0;if(a&&isShadowRoot(a)){var t=e;do{if(t&&n.isSameNode(t))return!0;t=t.parentNode||t.host}while(t)}return!1}function getComputedStyle$1(n){return getWindow(n).getComputedStyle(n)}function isTableElement(n){return["table","td","th"].indexOf(getNodeName(n))>=0}function getDocumentElement(n){return((isElement(n)?n.ownerDocument:n.document)||window.document).documentElement}function getParentNode(n){return getNodeName(n)==="html"?n:n.assignedSlot||n.parentNode||(isShadowRoot(n)?n.host:null)||getDocumentElement(n)}function getTrueOffsetParent(n){return!isHTMLElement(n)||getComputedStyle$1(n).position==="fixed"?null:n.offsetParent}function getContainingBlock(n){var e=/firefox/i.test(getUAString()),a=/Trident/i.test(getUAString());if(a&&isHTMLElement(n)){var t=getComputedStyle$1(n);if(t.position==="fixed")return null}var r=getParentNode(n);for(isShadowRoot(r)&&(r=r.host);isHTMLElement(r)&&["html","body"].indexOf(getNodeName(r))<0;){var s=getComputedStyle$1(r);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||e&&s.willChange==="filter"||e&&s.filter&&s.filter!=="none")return r;r=r.parentNode}return null}function getOffsetParent(n){for(var e=getWindow(n),a=getTrueOffsetParent(n);a&&isTableElement(a)&&getComputedStyle$1(a).position==="static";)a=getTrueOffsetParent(a);return a&&(getNodeName(a)==="html"||getNodeName(a)==="body"&&getComputedStyle$1(a).position==="static")?e:a||getContainingBlock(n)||e}function getMainAxisFromPlacement(n){return["top","bottom"].indexOf(n)>=0?"x":"y"}function within(n,e,a){return max(n,min(e,a))}function withinMaxClamp(n,e,a){var t=within(n,e,a);return t>a?a:t}function getFreshSideObject(){return{top:0,right:0,bottom:0,left:0}}function mergePaddingObject(n){return Object.assign({},getFreshSideObject(),n)}function expandToHashMap(n,e){return e.reduce(function(a,t){return a[t]=n,a},{})}var toPaddingObject=function n(e,a){return e=typeof e=="function"?e(Object.assign({},a.rects,{placement:a.placement})):e,mergePaddingObject(typeof e!="number"?e:expandToHashMap(e,basePlacements))};function arrow(n){var e,a=n.state,t=n.name,r=n.options,s=a.elements.arrow,c=a.modifiersData.popperOffsets,d=getBasePlacement(a.placement),u=getMainAxisFromPlacement(d),m=[left,right].indexOf(d)>=0,g=m?"height":"width";if(!(!s||!c)){var _=toPaddingObject(r.padding,a),b=getLayoutRect(s),S=u==="y"?top:left,C=u==="y"?bottom:right,R=a.rects.reference[g]+a.rects.reference[u]-c[u]-a.rects.popper[g],w=c[u]-a.rects.reference[u],k=getOffsetParent(s),$=k?u==="y"?k.clientHeight||0:k.clientWidth||0:0,O=R/2-w/2,P=_[S],x=$-b[g]-_[C],I=$/2-b[g]/2+O,B=within(P,I,x),j=u;a.modifiersData[t]=(e={},e[j]=B,e.centerOffset=B-I,e)}}function effect$1(n){var e=n.state,a=n.options,t=a.element,r=t===void 0?"[data-popper-arrow]":t;r!=null&&(typeof r=="string"&&(r=e.elements.popper.querySelector(r),!r)||!contains(e.elements.popper,r)||(e.elements.arrow=r))}const arrow$1={name:"arrow",enabled:!0,phase:"main",fn:arrow,effect:effect$1,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function getVariation(n){return n.split("-")[1]}var unsetSides={top:"auto",right:"auto",bottom:"auto",left:"auto"};function roundOffsetsByDPR(n){var e=n.x,a=n.y,t=window,r=t.devicePixelRatio||1;return{x:round(e*r)/r||0,y:round(a*r)/r||0}}function mapToStyles(n){var e,a=n.popper,t=n.popperRect,r=n.placement,s=n.variation,c=n.offsets,d=n.position,u=n.gpuAcceleration,m=n.adaptive,g=n.roundOffsets,_=n.isFixed,b=c.x,S=b===void 0?0:b,C=c.y,R=C===void 0?0:C,w=typeof g=="function"?g({x:S,y:R}):{x:S,y:R};S=w.x,R=w.y;var k=c.hasOwnProperty("x"),$=c.hasOwnProperty("y"),O=left,P=top,x=window;if(m){var I=getOffsetParent(a),B="clientHeight",j="clientWidth";if(I===getWindow(a)&&(I=getDocumentElement(a),getComputedStyle$1(I).position!=="static"&&d==="absolute"&&(B="scrollHeight",j="scrollWidth")),I=I,r===top||(r===left||r===right)&&s===end){P=bottom;var W=_&&I===x&&x.visualViewport?x.visualViewport.height:I[B];R-=W-t.height,R*=u?1:-1}if(r===left||(r===top||r===bottom)&&s===end){O=right;var U=_&&I===x&&x.visualViewport?x.visualViewport.width:I[j];S-=U-t.width,S*=u?1:-1}}var z=Object.assign({position:d},m&&unsetSides),F=g===!0?roundOffsetsByDPR({x:S,y:R}):{x:S,y:R};if(S=F.x,R=F.y,u){var X;return Object.assign({},z,(X={},X[P]=$?"0":"",X[O]=k?"0":"",X.transform=(x.devicePixelRatio||1)<=1?"translate("+S+"px, "+R+"px)":"translate3d("+S+"px, "+R+"px, 0)",X))}return Object.assign({},z,(e={},e[P]=$?R+"px":"",e[O]=k?S+"px":"",e.transform="",e))}function computeStyles(n){var e=n.state,a=n.options,t=a.gpuAcceleration,r=t===void 0?!0:t,s=a.adaptive,c=s===void 0?!0:s,d=a.roundOffsets,u=d===void 0?!0:d,m={placement:getBasePlacement(e.placement),variation:getVariation(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:r,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,mapToStyles(Object.assign({},m,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:c,roundOffsets:u})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,mapToStyles(Object.assign({},m,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:u})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const computeStyles$1={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:computeStyles,data:{}};var passive={passive:!0};function effect(n){var e=n.state,a=n.instance,t=n.options,r=t.scroll,s=r===void 0?!0:r,c=t.resize,d=c===void 0?!0:c,u=getWindow(e.elements.popper),m=[].concat(e.scrollParents.reference,e.scrollParents.popper);return s&&m.forEach(function(g){g.addEventListener("scroll",a.update,passive)}),d&&u.addEventListener("resize",a.update,passive),function(){s&&m.forEach(function(g){g.removeEventListener("scroll",a.update,passive)}),d&&u.removeEventListener("resize",a.update,passive)}}const eventListeners={name:"eventListeners",enabled:!0,phase:"write",fn:function n(){},effect,data:{}};var hash$1={left:"right",right:"left",bottom:"top",top:"bottom"};function getOppositePlacement(n){return n.replace(/left|right|bottom|top/g,function(e){return hash$1[e]})}var hash={start:"end",end:"start"};function getOppositeVariationPlacement(n){return n.replace(/start|end/g,function(e){return hash[e]})}function getWindowScroll(n){var e=getWindow(n),a=e.pageXOffset,t=e.pageYOffset;return{scrollLeft:a,scrollTop:t}}function getWindowScrollBarX(n){return getBoundingClientRect(getDocumentElement(n)).left+getWindowScroll(n).scrollLeft}function getViewportRect(n,e){var a=getWindow(n),t=getDocumentElement(n),r=a.visualViewport,s=t.clientWidth,c=t.clientHeight,d=0,u=0;if(r){s=r.width,c=r.height;var m=isLayoutViewport();(m||!m&&e==="fixed")&&(d=r.offsetLeft,u=r.offsetTop)}return{width:s,height:c,x:d+getWindowScrollBarX(n),y:u}}function getDocumentRect(n){var e,a=getDocumentElement(n),t=getWindowScroll(n),r=(e=n.ownerDocument)==null?void 0:e.body,s=max(a.scrollWidth,a.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),c=max(a.scrollHeight,a.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),d=-t.scrollLeft+getWindowScrollBarX(n),u=-t.scrollTop;return getComputedStyle$1(r||a).direction==="rtl"&&(d+=max(a.clientWidth,r?r.clientWidth:0)-s),{width:s,height:c,x:d,y:u}}function isScrollParent(n){var e=getComputedStyle$1(n),a=e.overflow,t=e.overflowX,r=e.overflowY;return/auto|scroll|overlay|hidden/.test(a+r+t)}function getScrollParent(n){return["html","body","#document"].indexOf(getNodeName(n))>=0?n.ownerDocument.body:isHTMLElement(n)&&isScrollParent(n)?n:getScrollParent(getParentNode(n))}function listScrollParents(n,e){var a;e===void 0&&(e=[]);var t=getScrollParent(n),r=t===((a=n.ownerDocument)==null?void 0:a.body),s=getWindow(t),c=r?[s].concat(s.visualViewport||[],isScrollParent(t)?t:[]):t,d=e.concat(c);return r?d:d.concat(listScrollParents(getParentNode(c)))}function rectToClientRect(n){return Object.assign({},n,{left:n.x,top:n.y,right:n.x+n.width,bottom:n.y+n.height})}function getInnerBoundingClientRect(n,e){var a=getBoundingClientRect(n,!1,e==="fixed");return a.top=a.top+n.clientTop,a.left=a.left+n.clientLeft,a.bottom=a.top+n.clientHeight,a.right=a.left+n.clientWidth,a.width=n.clientWidth,a.height=n.clientHeight,a.x=a.left,a.y=a.top,a}function getClientRectFromMixedType(n,e,a){return e===viewport?rectToClientRect(getViewportRect(n,a)):isElement(e)?getInnerBoundingClientRect(e,a):rectToClientRect(getDocumentRect(getDocumentElement(n)))}function getClippingParents(n){var e=listScrollParents(getParentNode(n)),a=["absolute","fixed"].indexOf(getComputedStyle$1(n).position)>=0,t=a&&isHTMLElement(n)?getOffsetParent(n):n;return isElement(t)?e.filter(function(r){return isElement(r)&&contains(r,t)&&getNodeName(r)!=="body"}):[]}function getClippingRect(n,e,a,t){var r=e==="clippingParents"?getClippingParents(n):[].concat(e),s=[].concat(r,[a]),c=s[0],d=s.reduce(function(u,m){var g=getClientRectFromMixedType(n,m,t);return u.top=max(g.top,u.top),u.right=min(g.right,u.right),u.bottom=min(g.bottom,u.bottom),u.left=max(g.left,u.left),u},getClientRectFromMixedType(n,c,t));return d.width=d.right-d.left,d.height=d.bottom-d.top,d.x=d.left,d.y=d.top,d}function computeOffsets(n){var e=n.reference,a=n.element,t=n.placement,r=t?getBasePlacement(t):null,s=t?getVariation(t):null,c=e.x+e.width/2-a.width/2,d=e.y+e.height/2-a.height/2,u;switch(r){case top:u={x:c,y:e.y-a.height};break;case bottom:u={x:c,y:e.y+e.height};break;case right:u={x:e.x+e.width,y:d};break;case left:u={x:e.x-a.width,y:d};break;default:u={x:e.x,y:e.y}}var m=r?getMainAxisFromPlacement(r):null;if(m!=null){var g=m==="y"?"height":"width";switch(s){case start:u[m]=u[m]-(e[g]/2-a[g]/2);break;case end:u[m]=u[m]+(e[g]/2-a[g]/2);break}}return u}function detectOverflow(n,e){e===void 0&&(e={});var a=e,t=a.placement,r=t===void 0?n.placement:t,s=a.strategy,c=s===void 0?n.strategy:s,d=a.boundary,u=d===void 0?clippingParents:d,m=a.rootBoundary,g=m===void 0?viewport:m,_=a.elementContext,b=_===void 0?popper:_,S=a.altBoundary,C=S===void 0?!1:S,R=a.padding,w=R===void 0?0:R,k=mergePaddingObject(typeof w!="number"?w:expandToHashMap(w,basePlacements)),$=b===popper?reference:popper,O=n.rects.popper,P=n.elements[C?$:b],x=getClippingRect(isElement(P)?P:P.contextElement||getDocumentElement(n.elements.popper),u,g,c),I=getBoundingClientRect(n.elements.reference),B=computeOffsets({reference:I,element:O,strategy:"absolute",placement:r}),j=rectToClientRect(Object.assign({},O,B)),W=b===popper?j:I,U={top:x.top-W.top+k.top,bottom:W.bottom-x.bottom+k.bottom,left:x.left-W.left+k.left,right:W.right-x.right+k.right},z=n.modifiersData.offset;if(b===popper&&z){var F=z[r];Object.keys(U).forEach(function(X){var q=[right,bottom].indexOf(X)>=0?1:-1,K=[top,bottom].indexOf(X)>=0?"y":"x";U[X]+=F[K]*q})}return U}function computeAutoPlacement(n,e){e===void 0&&(e={});var a=e,t=a.placement,r=a.boundary,s=a.rootBoundary,c=a.padding,d=a.flipVariations,u=a.allowedAutoPlacements,m=u===void 0?placements:u,g=getVariation(t),_=g?d?variationPlacements:variationPlacements.filter(function(C){return getVariation(C)===g}):basePlacements,b=_.filter(function(C){return m.indexOf(C)>=0});b.length===0&&(b=_);var S=b.reduce(function(C,R){return C[R]=detectOverflow(n,{placement:R,boundary:r,rootBoundary:s,padding:c})[getBasePlacement(R)],C},{});return Object.keys(S).sort(function(C,R){return S[C]-S[R]})}function getExpandedFallbackPlacements(n){if(getBasePlacement(n)===auto)return[];var e=getOppositePlacement(n);return[getOppositeVariationPlacement(n),e,getOppositeVariationPlacement(e)]}function flip(n){var e=n.state,a=n.options,t=n.name;if(!e.modifiersData[t]._skip){for(var r=a.mainAxis,s=r===void 0?!0:r,c=a.altAxis,d=c===void 0?!0:c,u=a.fallbackPlacements,m=a.padding,g=a.boundary,_=a.rootBoundary,b=a.altBoundary,S=a.flipVariations,C=S===void 0?!0:S,R=a.allowedAutoPlacements,w=e.options.placement,k=getBasePlacement(w),$=k===w,O=u||($||!C?[getOppositePlacement(w)]:getExpandedFallbackPlacements(w)),P=[w].concat(O).reduce(function(ee,re){return ee.concat(getBasePlacement(re)===auto?computeAutoPlacement(e,{placement:re,boundary:g,rootBoundary:_,padding:m,flipVariations:C,allowedAutoPlacements:R}):re)},[]),x=e.rects.reference,I=e.rects.popper,B=new Map,j=!0,W=P[0],U=0;U<P.length;U++){var z=P[U],F=getBasePlacement(z),X=getVariation(z)===start,q=[top,bottom].indexOf(F)>=0,K=q?"width":"height",te=detectOverflow(e,{placement:z,boundary:g,rootBoundary:_,altBoundary:b,padding:m}),Z=q?X?right:left:X?bottom:top;x[K]>I[K]&&(Z=getOppositePlacement(Z));var H=getOppositePlacement(Z),Q=[];if(s&&Q.push(te[F]<=0),d&&Q.push(te[Z]<=0,te[H]<=0),Q.every(function(ee){return ee})){W=z,j=!1;break}B.set(z,Q)}if(j)for(var ne=C?3:1,V=function(re){var oe=P.find(function(le){var se=B.get(le);if(se)return se.slice(0,re).every(function(ie){return ie})});if(oe)return W=oe,"break"},J=ne;J>0;J--){var ae=V(J);if(ae==="break")break}e.placement!==W&&(e.modifiersData[t]._skip=!0,e.placement=W,e.reset=!0)}}const flip$1={name:"flip",enabled:!0,phase:"main",fn:flip,requiresIfExists:["offset"],data:{_skip:!1}};function getSideOffsets(n,e,a){return a===void 0&&(a={x:0,y:0}),{top:n.top-e.height-a.y,right:n.right-e.width+a.x,bottom:n.bottom-e.height+a.y,left:n.left-e.width-a.x}}function isAnySideFullyClipped(n){return[top,right,bottom,left].some(function(e){return n[e]>=0})}function hide(n){var e=n.state,a=n.name,t=e.rects.reference,r=e.rects.popper,s=e.modifiersData.preventOverflow,c=detectOverflow(e,{elementContext:"reference"}),d=detectOverflow(e,{altBoundary:!0}),u=getSideOffsets(c,t),m=getSideOffsets(d,r,s),g=isAnySideFullyClipped(u),_=isAnySideFullyClipped(m);e.modifiersData[a]={referenceClippingOffsets:u,popperEscapeOffsets:m,isReferenceHidden:g,hasPopperEscaped:_},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":g,"data-popper-escaped":_})}const hide$1={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:hide};function distanceAndSkiddingToXY(n,e,a){var t=getBasePlacement(n),r=[left,top].indexOf(t)>=0?-1:1,s=typeof a=="function"?a(Object.assign({},e,{placement:n})):a,c=s[0],d=s[1];return c=c||0,d=(d||0)*r,[left,right].indexOf(t)>=0?{x:d,y:c}:{x:c,y:d}}function offset(n){var e=n.state,a=n.options,t=n.name,r=a.offset,s=r===void 0?[0,0]:r,c=placements.reduce(function(g,_){return g[_]=distanceAndSkiddingToXY(_,e.rects,s),g},{}),d=c[e.placement],u=d.x,m=d.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=u,e.modifiersData.popperOffsets.y+=m),e.modifiersData[t]=c}const offset$1={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:offset};function popperOffsets(n){var e=n.state,a=n.name;e.modifiersData[a]=computeOffsets({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}const popperOffsets$1={name:"popperOffsets",enabled:!0,phase:"read",fn:popperOffsets,data:{}};function getAltAxis(n){return n==="x"?"y":"x"}function preventOverflow(n){var e=n.state,a=n.options,t=n.name,r=a.mainAxis,s=r===void 0?!0:r,c=a.altAxis,d=c===void 0?!1:c,u=a.boundary,m=a.rootBoundary,g=a.altBoundary,_=a.padding,b=a.tether,S=b===void 0?!0:b,C=a.tetherOffset,R=C===void 0?0:C,w=detectOverflow(e,{boundary:u,rootBoundary:m,padding:_,altBoundary:g}),k=getBasePlacement(e.placement),$=getVariation(e.placement),O=!$,P=getMainAxisFromPlacement(k),x=getAltAxis(P),I=e.modifiersData.popperOffsets,B=e.rects.reference,j=e.rects.popper,W=typeof R=="function"?R(Object.assign({},e.rects,{placement:e.placement})):R,U=typeof W=="number"?{mainAxis:W,altAxis:W}:Object.assign({mainAxis:0,altAxis:0},W),z=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,F={x:0,y:0};if(!!I){if(s){var X,q=P==="y"?top:left,K=P==="y"?bottom:right,te=P==="y"?"height":"width",Z=I[P],H=Z+w[q],Q=Z-w[K],ne=S?-j[te]/2:0,V=$===start?B[te]:j[te],J=$===start?-j[te]:-B[te],ae=e.elements.arrow,ee=S&&ae?getLayoutRect(ae):{width:0,height:0},re=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:getFreshSideObject(),oe=re[q],le=re[K],se=within(0,B[te],ee[te]),ie=O?B[te]/2-ne-se-oe-U.mainAxis:V-se-oe-U.mainAxis,fe=O?-B[te]/2+ne+se+le+U.mainAxis:J+se+le+U.mainAxis,ue=e.elements.arrow&&getOffsetParent(e.elements.arrow),Se=ue?P==="y"?ue.clientTop||0:ue.clientLeft||0:0,he=(X=z==null?void 0:z[P])!=null?X:0,Te=Z+ie-he-Se,Ce=Z+fe-he,_e=within(S?min(H,Te):H,Z,S?max(Q,Ce):Q);I[P]=_e,F[P]=_e-Z}if(d){var me,Re=P==="x"?top:left,Ee=P==="x"?bottom:right,ce=I[x],de=x==="y"?"height":"width",ge=ce+w[Re],ve=ce-w[Ee],pe=[top,left].indexOf(k)!==-1,ye=(me=z==null?void 0:z[x])!=null?me:0,be=pe?ge:ce-B[de]-j[de]-ye+U.altAxis,Ae=pe?ce+B[de]+j[de]-ye-U.altAxis:ve,N=S&&pe?withinMaxClamp(be,ce,Ae):within(S?be:ge,ce,S?Ae:ve);I[x]=N,F[x]=N-ce}e.modifiersData[t]=F}}const preventOverflow$1={name:"preventOverflow",enabled:!0,phase:"main",fn:preventOverflow,requiresIfExists:["offset"]};function getHTMLElementScroll(n){return{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}}function getNodeScroll(n){return n===getWindow(n)||!isHTMLElement(n)?getWindowScroll(n):getHTMLElementScroll(n)}function isElementScaled(n){var e=n.getBoundingClientRect(),a=round(e.width)/n.offsetWidth||1,t=round(e.height)/n.offsetHeight||1;return a!==1||t!==1}function getCompositeRect(n,e,a){a===void 0&&(a=!1);var t=isHTMLElement(e),r=isHTMLElement(e)&&isElementScaled(e),s=getDocumentElement(e),c=getBoundingClientRect(n,r,a),d={scrollLeft:0,scrollTop:0},u={x:0,y:0};return(t||!t&&!a)&&((getNodeName(e)!=="body"||isScrollParent(s))&&(d=getNodeScroll(e)),isHTMLElement(e)?(u=getBoundingClientRect(e,!0),u.x+=e.clientLeft,u.y+=e.clientTop):s&&(u.x=getWindowScrollBarX(s))),{x:c.left+d.scrollLeft-u.x,y:c.top+d.scrollTop-u.y,width:c.width,height:c.height}}function order(n){var e=new Map,a=new Set,t=[];n.forEach(function(s){e.set(s.name,s)});function r(s){a.add(s.name);var c=[].concat(s.requires||[],s.requiresIfExists||[]);c.forEach(function(d){if(!a.has(d)){var u=e.get(d);u&&r(u)}}),t.push(s)}return n.forEach(function(s){a.has(s.name)||r(s)}),t}function orderModifiers(n){var e=order(n);return modifierPhases.reduce(function(a,t){return a.concat(e.filter(function(r){return r.phase===t}))},[])}function debounce(n){var e;return function(){return e||(e=new Promise(function(a){Promise.resolve().then(function(){e=void 0,a(n())})})),e}}function mergeByName(n){var e=n.reduce(function(a,t){var r=a[t.name];return a[t.name]=r?Object.assign({},r,t,{options:Object.assign({},r.options,t.options),data:Object.assign({},r.data,t.data)}):t,a},{});return Object.keys(e).map(function(a){return e[a]})}var DEFAULT_OPTIONS={placement:"bottom",modifiers:[],strategy:"absolute"};function areValidElements(){for(var n=arguments.length,e=new Array(n),a=0;a<n;a++)e[a]=arguments[a];return!e.some(function(t){return!(t&&typeof t.getBoundingClientRect=="function")})}function popperGenerator(n){n===void 0&&(n={});var e=n,a=e.defaultModifiers,t=a===void 0?[]:a,r=e.defaultOptions,s=r===void 0?DEFAULT_OPTIONS:r;return function(d,u,m){m===void 0&&(m=s);var g={placement:"bottom",orderedModifiers:[],options:Object.assign({},DEFAULT_OPTIONS,s),modifiersData:{},elements:{reference:d,popper:u},attributes:{},styles:{}},_=[],b=!1,S={state:g,setOptions:function(k){var $=typeof k=="function"?k(g.options):k;R(),g.options=Object.assign({},s,g.options,$),g.scrollParents={reference:isElement(d)?listScrollParents(d):d.contextElement?listScrollParents(d.contextElement):[],popper:listScrollParents(u)};var O=orderModifiers(mergeByName([].concat(t,g.options.modifiers)));return g.orderedModifiers=O.filter(function(P){return P.enabled}),C(),S.update()},forceUpdate:function(){if(!b){var k=g.elements,$=k.reference,O=k.popper;if(!!areValidElements($,O)){g.rects={reference:getCompositeRect($,getOffsetParent(O),g.options.strategy==="fixed"),popper:getLayoutRect(O)},g.reset=!1,g.placement=g.options.placement,g.orderedModifiers.forEach(function(U){return g.modifiersData[U.name]=Object.assign({},U.data)});for(var P=0;P<g.orderedModifiers.length;P++){if(g.reset===!0){g.reset=!1,P=-1;continue}var x=g.orderedModifiers[P],I=x.fn,B=x.options,j=B===void 0?{}:B,W=x.name;typeof I=="function"&&(g=I({state:g,options:j,name:W,instance:S})||g)}}}},update:debounce(function(){return new Promise(function(w){S.forceUpdate(),w(g)})}),destroy:function(){R(),b=!0}};if(!areValidElements(d,u))return S;S.setOptions(m).then(function(w){!b&&m.onFirstUpdate&&m.onFirstUpdate(w)});function C(){g.orderedModifiers.forEach(function(w){var k=w.name,$=w.options,O=$===void 0?{}:$,P=w.effect;if(typeof P=="function"){var x=P({state:g,name:k,instance:S,options:O}),I=function(){};_.push(x||I)}})}function R(){_.forEach(function(w){return w()}),_=[]}return S}}var defaultModifiers=[eventListeners,popperOffsets$1,computeStyles$1,applyStyles$1,offset$1,flip$1,preventOverflow$1,arrow$1,hide$1],createPopper=popperGenerator({defaultModifiers});function createPopperActions(n){let e=null,a,t,r=n;const s=()=>{a!==void 0&&t!==void 0&&(e=createPopper(a,t,r))},c=()=>{e!==null&&(e.destroy(),e=null)},d=g=>"subscribe"in g?(u(g),{}):(a=g,s(),{destroy(){c()}}),u=g=>{const _=g.subscribe(b=>{a===void 0?(a=b,s()):(Object.assign(a,b),e==null||e.update())});onDestroy(_)};return[d,(g,_)=>(t=g,r={...n,..._},s(),{update(b){r={...n,...b},e==null||e.setOptions(r)},destroy(){c()}}),()=>e]}const HelpTooltips_svelte_svelte_type_style_lang="";function get_each_context$2(n,e,a){const t=n.slice();return t[1]=e[a],t}function create_if_block$3(n){let e,a=n[1].label+"",t,r,s,c,d,u;return{c(){e=element("div"),t=text(a),r=space(),attr(e,"class","popper-tooltip help-tooltip svelte-xhlzif")},m(m,g){insert(m,e,g),append(e,t),append(e,r),c=!0,d||(u=action_destroyer(n[1].popperContent(e)),d=!0)},p(m,g){(!c||g&1)&&a!==(a=m[1].label+"")&&set_data(t,a)},i(m){c||(add_render_callback(()=>{s||(s=create_bidirectional_transition(e,fade,{duration:300},!0)),s.run(1)}),c=!0)},o(m){s||(s=create_bidirectional_transition(e,fade,{duration:300},!1)),s.run(0),c=!1},d(m){m&&detach(e),m&&s&&s.end(),d=!1,u()}}}function create_each_block$2(n){let e,a,t=n[1].visible&&create_if_block$3(n);return{c(){t&&t.c(),e=empty()},m(r,s){t&&t.m(r,s),insert(r,e,s),a=!0},p(r,s){r[1].visible?t?(t.p(r,s),s&1&&transition_in(t,1)):(t=create_if_block$3(r),t.c(),transition_in(t,1),t.m(e.parentNode,e)):t&&(group_outros(),transition_out(t,1,1,()=>{t=null}),check_outros())},i(r){a||(transition_in(t),a=!0)},o(r){transition_out(t),a=!1},d(r){t&&t.d(r),r&&detach(e)}}}function create_fragment$9(n){let e,a,t=n[0],r=[];for(let c=0;c<t.length;c+=1)r[c]=create_each_block$2(get_each_context$2(n,t,c));const s=c=>transition_out(r[c],1,1,()=>{r[c]=null});return{c(){for(let c=0;c<r.length;c+=1)r[c].c();e=empty()},m(c,d){for(let u=0;u<r.length;u+=1)r[u].m(c,d);insert(c,e,d),a=!0},p(c,[d]){if(d&1){t=c[0];let u;for(u=0;u<t.length;u+=1){const m=get_each_context$2(c,t,u);r[u]?(r[u].p(m,d),transition_in(r[u],1)):(r[u]=create_each_block$2(m),r[u].c(),transition_in(r[u],1),r[u].m(e.parentNode,e))}for(group_outros(),u=t.length;u<r.length;u+=1)s(u);check_outros()}},i(c){if(!a){for(let d=0;d<t.length;d+=1)transition_in(r[d]);a=!0}},o(c){r=r.filter(Boolean);for(let d=0;d<r.length;d+=1)transition_out(r[d]);a=!1},d(c){destroy_each(r,c),c&&detach(e)}}}let tooltips=nStore([]);const addTooltip=(n,e,a=!0)=>{const{tooltip:t,showTooltip:r,showTooltipTimeout:s,hideTooltip:c,destroyTooltip:d}=newTooltip(n,e);return a&&(n.addEventListener("pointerenter",s),n.addEventListener("pointerout",c),n.addEventListener("focusin",s),n.addEventListener("focusout",c),n.addEventListener("mousedown",c)),{tooltip:t,showTooltip:r,showTooltipTimeout:s,hideTooltip:c,destroyTooltip:d,destroy(){a&&(n.removeEventListener("pointerenter",r),n.removeEventListener("pointerout",c),n.removeEventListener("focusin",r),n.removeEventListener("focusout",c),n.removeEventListener("mousedown",c)),d()}}},newTooltip=(n,e)=>{const[a,t]=createPopperActions({placement:e.placement||"top",strategy:"absolute",modifiers:[{name:"offset",options:{offset:[0,10]}}]});a(n);const r={label:e.label,visible:!1,popperContent:t};tooltips.update(d=>(d.push(r),d));let s=null;const c=()=>{r.visible=!0,tooltips.update(d=>d)};return{tooltip:r,showTooltip:c,showTooltipTimeout:()=>{s=setTimeout(c,e.timeout!=null?e.timeout:750)},hideTooltip:()=>{clearTimeout(s),r.visible=!1,n.blur(),tooltips.update(d=>d)},destroyTooltip:()=>{clearTimeout(s),tooltips.update(d=>d.filter(u=>u!=r))}}};function instance$9(n,e,a){let t;return component_subscribe(n,tooltips,r=>a(0,t=r)),[t]}class HelpTooltips extends SvelteComponent{constructor(e){super(),init$1(this,e,instance$9,create_fragment$9,safe_not_equal,{})}}const LEFT_X_AXIS_INDEX=0,LEFT_Y_AXIS_INDEX=1,RIGHT_X_AXIS_INDEX=2,RIGHT_Y_AXIS_INDEX=3,gpadHelpTooltips=[];class GamepadController{constructor(e=10){this.gpadUi=new GamepadUi,this.touchedGpadButtonCount=0,this.throttleDelay=e,this.gpadEmulator=new y(.1),this.gpadApiWrapper=new G({axisDeadZone:.05,updateDelay:0,buttonConfigs:[]}),this.gpadApiWrapper.gamepadApiSupported()||this.gpadUi.showNotSupported(),this.gpadApiWrapper.onGamepadConnect(this.gamepadConnectDisconnectHandler.bind(this)),this.gpadApiWrapper.onGamepadDisconnect(this.gamepadConnectDisconnectHandler.bind(this)),this.gpadApiWrapper.onGamepadAxisChange(this.handleAxisChange.bind(this)),this.gpadApiWrapper.onGamepadButtonChange(this.handleButtonChange.bind(this)),this.setupGamepadEvents(this.throttleDelay)}setupOnscreenGamepad(e){this.gpadEmulator.AddEmulatedGamepad(0,!0,T,A),this.setupGamepadDisplay(0,e),this.setupEmulatedGamepadInput(0,e),this.addEmulatedGamepadKeyboardBindings(0),this.addHelpTooltips()}setupGamepadEvents(e){showToastMessage("gamepad throttle delay: "+e),this.throttleDelay=e,this.clearExternalEventListenerCallbacks(),this.setupExternalEventListenerCallbacks((a,t)=>{if(a.buttons[12].pressed){let r=this.throttleDelay+1;this.setupGamepadEvents(r)}else if(a.buttons[13].pressed){let r=Math.max(this.throttleDelay-1,1);this.setupGamepadEvents(r)}else a.buttons[14].pressed?this.setupGamepadEvents(10):a.buttons[15].pressed&&this.setupGamepadEvents(100)},a=>{var{VelocityX:t,VelocityY:r,VelocityZ:s,AngularVelocityYaw:c}=calculateDesiredMotion(a.axes);t==0&&r==0&&s==0&&c==0&&console.info("GAMEPAD MOTION: STOPed"),RovActions.moveRov(t,r,s,c)})}gamepadConnectDisconnectHandler(){const e=navigator.getGamepads();var a=e.reduce((t,r)=>r?t+1:t,0);a!=0&&e[0].emulated&&(a-=1),this.gpadUi.showGamepadStatus(a),a>1&&console.log("WARNING: More than one gamepad connected!",e)}setupExternalEventListenerCallbacks(e,a){this.onButtonChange=throttle(e,this.throttleDelay,{trailing:!0,leading:!0}),this.onAxisChange=throttle(a,this.throttleDelay,{trailing:!0,leading:!0})}clearExternalEventListenerCallbacks(){this.onButtonChange=null,this.onAxisChange=null}handleButtonChange(e,a,t){if(!(e!=0||!a||!a.buttons)){this.onButtonChange&&this.onButtonChange(a,t),(t[8]&&t[8].released||t[9]&&t[9].released)&&this.gpadUi.toggleGamepadHelpScreen();for(let r=0;r<t.length;r++)t[r]&&t[r].touchDown?gpadHelpTooltips[r]&&gpadHelpTooltips[r].showTooltipTimeout():t[r]&&t[r].touchUp&&gpadHelpTooltips[r]&&gpadHelpTooltips[r].hideTooltip()}}handleAxisChange(e,a){if(e!=0||!a||!a.axes)return;this.onAxisChange&&this.onAxisChange(a);const t=[{axisRange:14,xValue:a.axes[0]||0,yValue:a.axes[1]||0,thumbStickElement:document.getElementById("stick_left"),upIndicatorElement:document.getElementById("l_stick_up_direction_highlight"),downIndicatorElement:document.getElementById("l_stick_down_direction_highlight"),leftIndicatorElement:document.getElementById("l_stick_left_direction_highlight"),rightIndicatorElement:document.getElementById("l_stick_right_direction_highlight"),upHelpText:"Forward",downHelpText:"Back",leftHelpText:"Turn Left",rightHelpText:"Turn Right"},{axisRange:14,xValue:a.axes[2]||0,yValue:a.axes[3]||0,thumbStickElement:document.getElementById("stick_right"),upIndicatorElement:document.getElementById("r_stick_up_direction_highlight"),downIndicatorElement:document.getElementById("r_stick_down_direction_highlight"),leftIndicatorElement:document.getElementById("r_stick_left_direction_highlight"),rightIndicatorElement:document.getElementById("r_stick_right_direction_highlight"),upHelpText:"Up",downHelpText:"Down",leftHelpText:"Strafe Left",rightHelpText:"Strafe Right"}];this.gpadUi.handleGamepadVisualFeedbackAxisEvents(t,.4)}setupGamepadDisplay(e,a){a.querySelectorAll("#stick_right, #stick_left").forEach(s=>{o$1(s)});const t=ONSCREEN_GPAD_BUTTON_LABELS.map((s,c)=>s.includes("trigger")?{type:v.variable,highlight:a.querySelector("#"+s+"_highlight"),buttonElement:a.querySelector("#"+s),direction:l$2.down,directionHighlight:a.querySelector("#"+s+"_direction_highlight"),movementRange:10}:{type:v.onOff,highlight:a.querySelector("#"+s+"_highlight")}),r=[{joystickElement:a.querySelector("#stick_left"),xAxisIndex:0,yAxisIndex:1,movementRange:10,highlights:{[l$2.up]:a.querySelector("#l_stick_up_direction_highlight"),[l$2.down]:a.querySelector("#l_stick_down_direction_highlight"),[l$2.left]:a.querySelector("#l_stick_left_direction_highlight"),[l$2.right]:a.querySelector("#l_stick_right_direction_highlight")}},{joystickElement:a.querySelector("#stick_right"),xAxisIndex:2,yAxisIndex:3,movementRange:10,highlights:{[l$2.up]:a.querySelector("#r_stick_up_direction_highlight"),[l$2.down]:a.querySelector("#r_stick_down_direction_highlight"),[l$2.left]:a.querySelector("#r_stick_left_direction_highlight"),[l$2.right]:a.querySelector("#r_stick_right_direction_highlight")}}];new D({gamepadIndex:e,pressedHighlightClass:"pressed",touchedHighlightClass:"touched",moveDirectionHighlightClass:"moved",buttons:t,sticks:r},this.gpadApiWrapper)}setupEmulatedGamepadInput(e,a){const t=ONSCREEN_GPAD_BUTTON_LABELS.map((s,c)=>s.includes("trigger")?{type:v.variable,buttonIndex:c,tapTarget:a.querySelector("#"+s+"_touch_target"),dragDistance:50,lockTargetWhilePressed:!0,directions:{[l$2.up]:!1,[l$2.down]:!0,[l$2.left]:!1,[l$2.right]:!1}}:{type:v.onOff,buttonIndex:c,lockTargetWhilePressed:s.includes("stick"),tapTarget:a.querySelector("#"+s+"_touch_target")});this.gpadEmulator.AddDisplayButtonEventListeners(e,t);const r=[{tapTarget:a.querySelector("#gamepad-joystick-touch-area-left"),dragDistance:30,xAxisIndex:0,yAxisIndex:1,lockTargetWhilePressed:!0,directions:{[l$2.up]:!0,[l$2.down]:!0,[l$2.left]:!0,[l$2.right]:!0}},{tapTarget:a.querySelector("#gamepad-joystick-touch-area-right"),dragDistance:30,xAxisIndex:2,yAxisIndex:3,lockTargetWhilePressed:!0,directions:{[l$2.up]:!0,[l$2.down]:!0,[l$2.left]:!0,[l$2.right]:!0}},{tapTarget:a.querySelector("#stick_button_left_touch_target"),dragDistance:30,xAxisIndex:0,yAxisIndex:1,lockTargetWhilePressed:!0,directions:{[l$2.up]:!0,[l$2.down]:!0,[l$2.left]:!0,[l$2.right]:!0}},{tapTarget:a.querySelector("#stick_button_right_touch_target"),dragDistance:30,xAxisIndex:2,yAxisIndex:3,lockTargetWhilePressed:!0,directions:{[l$2.up]:!0,[l$2.down]:!0,[l$2.left]:!0,[l$2.right]:!0}}];this.gpadEmulator.AddDisplayJoystickEventListeners(e,r)}addEmulatedGamepadKeyboardBindings(e){const a=(t,r)=>{const s=parseInt(r.key);r.key==="a"?this.gpadEmulator.MoveAxis(e,LEFT_X_AXIS_INDEX,t?-1:0):r.key==="d"?this.gpadEmulator.MoveAxis(e,LEFT_X_AXIS_INDEX,t?1:0):r.key==="w"?this.gpadEmulator.MoveAxis(e,LEFT_Y_AXIS_INDEX,t?-1:0):r.key==="s"?this.gpadEmulator.MoveAxis(e,LEFT_Y_AXIS_INDEX,t?1:0):r.key==="ArrowLeft"?(this.gpadEmulator.MoveAxis(e,RIGHT_X_AXIS_INDEX,t?-1:0),r.preventDefault()):r.key==="ArrowRight"?(this.gpadEmulator.MoveAxis(e,RIGHT_X_AXIS_INDEX,t?1:0),r.preventDefault()):r.key==="ArrowUp"?(this.gpadEmulator.MoveAxis(e,RIGHT_Y_AXIS_INDEX,t?-1:0),r.preventDefault()):r.key==="ArrowDown"?(this.gpadEmulator.MoveAxis(e,RIGHT_Y_AXIS_INDEX,t?1:0),r.preventDefault()):isNaN(s)?r.keyCode&&this.gpadEmulator.PressButton(e,r.keyCode-66+10,t?1:0,t):this.gpadEmulator.PressButton(e,s,t?1:0,t)};window.onkeydown=t=>a(!0,t),window.onkeyup=t=>a(!1,t)}testGamepadJoysticks(){setInterval(()=>{this.gpadEmulator.MoveAxis(0,0,Math.random()*2-1),this.gpadEmulator.MoveAxis(0,1,Math.random()*2-1),this.gpadEmulator.MoveAxis(0,2,Math.random()*2-1),this.gpadEmulator.MoveAxis(0,3,Math.random()*2-1)},10)}addHelpTooltips(){ONSCREEN_GPAD_BUTTON_LABELS.forEach((e,a)=>{const t=document.getElementById(e+"_touch_target");t&&(gpadHelpTooltips[a]=addTooltip(t,{label:GAME_CONTROLLER_BUTTON_CONFIG[a].helpLabel,placement:GAME_CONTROLLER_BUTTON_CONFIG[a].tooltipPlacement},!1))})}}const runSiteInitMachine=n=>{function e(r){t&&t.send(r)}const a=createMachine({context:{peerServerConfig:{},rovIpAddr:null},predictableActionArguments:!0,preserveActionOrder:!0,id:"siteInit",initial:"Checking_Internet_Access",states:{Checking_Internet_Access:{entry:"checkInternetAvailable",on:{URL_IS_ROV_IP:{actions:["setLocalPeerServerConfig","showHttpGamepadSupportDisabledAlert"],target:"#siteInit.Site_Ready"},INTERNET_AVAILABLE:{actions:"setCloudPeerServerConfig",target:"#siteInit.Site_Ready"},INTERNET_OFFLINE:{actions:["showIpScanButton","hideLoadingUi"],target:"#siteInit.Waiting_For_User_Scan_Button_Press"}}},Waiting_For_User_Scan_Button_Press:{entry:"setupWaitForUserScanButtonPress",on:{SCAN_BUTTON_CLICKED:{actions:["showIpScanningUi","hideIpScanButton"],target:"#siteInit.Scanning_For_ROV_IP"}}},Scanning_For_ROV_IP:{entry:"scanForRovIP",on:{ROV_IP_FOUND:{actions:"setRovIpAddr",target:"#siteInit.Redirect_Browser_To_ROV_IP"},IP_SCANNING_ERROR:{actions:["showIpScanButton","hideLoadingUi"],target:"#siteInit.Waiting_For_User_Scan_Button_Press"}}},Redirect_Browser_To_ROV_IP:{entry:"redirectBrowserToRovIp"},Site_Ready:{entry:"siteReady",type:"final"}}},{actions:{setCloudPeerServerConfig:()=>{peerServerConfig.set(peerServerCloudOptions)},setLocalPeerServerConfig:()=>{peerServerConfig.set(peerServerLocalOptions)},setRovIpAddr:(r,s)=>{rovIpAddr.set(s.data)},showIpScanButton:()=>{showToastMessage("Click scan to find the ROV locally."),showToastMessage("No internet connection.")},hideIpScanButton:()=>{},hideLoadingUi:()=>{hideLoadingUi(LOADING_MESSAGE.ipScan),hideLoadingUi(LOADING_MESSAGE.internetCheck)},showIpScanningUi:()=>{showLoadingUi(LOADING_MESSAGE.ipScan)},redirectBrowserToRovIp:(r,s)=>{window.location.href=`http://${s.data}`},siteReady:()=>{n("SITE_READY")},checkInternetAvailable:()=>{showLoadingUi(LOADING_MESSAGE.internetCheck);const r=peerServerCloudOptions;isInternetAvailable((r.secure?"https://":"http://")+r.host+":"+r.port).then(s=>{if(s)e("INTERNET_AVAILABLE");else{const c=window.location.host.split(".");c.length==4&&!isNaN(Number(c[3]))||c.length==2&&c[1]=="local"?e("URL_IS_ROV_IP"):e("INTERNET_OFFLINE")}})},setupWaitForUserScanButtonPress:()=>{const r=()=>{e("SCAN_BUTTON_CLICKED")},s=document.getElementById("scan_for_ip_btn");return s.addEventListener("click",r),()=>{s.removeEventListener("click",r)}},scanForRovIP:()=>{showLoadingUi(LOADING_MESSAGE.ipScan)}},guards:{}}),t=interpret(a,{devTools:debugXstateMode.get()}).start();return t};function get_each_context$1(n,e,a){const t=n.slice();return t[5]=e[a],t}function get_each_context_1$1(n,e,a){const t=n.slice();return t[5]=e[a],t}function get_each_context_2(n,e,a){const t=n.slice();return t[5]=e[a],t}function get_each_context_3(n,e,a){const t=n.slice();return t[5]=e[a],t}function get_each_context_4(n,e,a){const t=n.slice();return t[5]=e[a],t}function get_each_context_5(n,e,a){const t=n.slice();return t[5]=e[a],t}function create_each_block_5(n){let e,a=[n[5]],t={};for(let r=0;r<a.length;r+=1)t=assign$3(t,a[r]);return{c(){e=svg_element("path"),set_svg_attributes(e,t)},m(r,s){insert(r,e,s)},p(r,s){set_svg_attributes(e,t=get_spread_update(a,[s&2&&r[5]]))},d(r){r&&detach(e)}}}function create_each_block_4(n){let e,a=[n[5]],t={};for(let r=0;r<a.length;r+=1)t=assign$3(t,a[r]);return{c(){e=svg_element("rect"),set_svg_attributes(e,t)},m(r,s){insert(r,e,s)},p(r,s){set_svg_attributes(e,t=get_spread_update(a,[s&2&&r[5]]))},d(r){r&&detach(e)}}}function create_each_block_3(n){let e,a=[n[5]],t={};for(let r=0;r<a.length;r+=1)t=assign$3(t,a[r]);return{c(){e=svg_element("circle"),set_svg_attributes(e,t)},m(r,s){insert(r,e,s)},p(r,s){set_svg_attributes(e,t=get_spread_update(a,[s&2&&r[5]]))},d(r){r&&detach(e)}}}function create_each_block_2(n){let e,a=[n[5]],t={};for(let r=0;r<a.length;r+=1)t=assign$3(t,a[r]);return{c(){e=svg_element("polygon"),set_svg_attributes(e,t)},m(r,s){insert(r,e,s)},p(r,s){set_svg_attributes(e,t=get_spread_update(a,[s&2&&r[5]]))},d(r){r&&detach(e)}}}function create_each_block_1$1(n){let e,a=[n[5]],t={};for(let r=0;r<a.length;r+=1)t=assign$3(t,a[r]);return{c(){e=svg_element("polyline"),set_svg_attributes(e,t)},m(r,s){insert(r,e,s)},p(r,s){set_svg_attributes(e,t=get_spread_update(a,[s&2&&r[5]]))},d(r){r&&detach(e)}}}function create_each_block$1(n){let e,a=[n[5]],t={};for(let r=0;r<a.length;r+=1)t=assign$3(t,a[r]);return{c(){e=svg_element("line"),set_svg_attributes(e,t)},m(r,s){insert(r,e,s)},p(r,s){set_svg_attributes(e,t=get_spread_update(a,[s&2&&r[5]]))},d(r){r&&detach(e)}}}function create_fragment$8(n){var x,I,B,j,W,U,z;let e,a,t,r,s,c,d=((x=n[1])==null?void 0:x.path)??[],u=[];for(let F=0;F<d.length;F+=1)u[F]=create_each_block_5(get_each_context_5(n,d,F));let m=((I=n[1])==null?void 0:I.rect)??[],g=[];for(let F=0;F<m.length;F+=1)g[F]=create_each_block_4(get_each_context_4(n,m,F));let _=((B=n[1])==null?void 0:B.circle)??[],b=[];for(let F=0;F<_.length;F+=1)b[F]=create_each_block_3(get_each_context_3(n,_,F));let S=((j=n[1])==null?void 0:j.polygon)??[],C=[];for(let F=0;F<S.length;F+=1)C[F]=create_each_block_2(get_each_context_2(n,S,F));let R=((W=n[1])==null?void 0:W.polyline)??[],w=[];for(let F=0;F<R.length;F+=1)w[F]=create_each_block_1$1(get_each_context_1$1(n,R,F));let k=((U=n[1])==null?void 0:U.line)??[],$=[];for(let F=0;F<k.length;F+=1)$[F]=create_each_block$1(get_each_context$1(n,k,F));let O=[(z=n[1])==null?void 0:z.a,{xmlns:"http://www.w3.org/2000/svg"},{width:n[0]},{height:n[0]},n[2]],P={};for(let F=0;F<O.length;F+=1)P=assign$3(P,O[F]);return{c(){e=svg_element("svg");for(let F=0;F<u.length;F+=1)u[F].c();a=empty();for(let F=0;F<g.length;F+=1)g[F].c();t=empty();for(let F=0;F<b.length;F+=1)b[F].c();r=empty();for(let F=0;F<C.length;F+=1)C[F].c();s=empty();for(let F=0;F<w.length;F+=1)w[F].c();c=empty();for(let F=0;F<$.length;F+=1)$[F].c();set_svg_attributes(e,P)},m(F,X){insert(F,e,X);for(let q=0;q<u.length;q+=1)u[q].m(e,null);append(e,a);for(let q=0;q<g.length;q+=1)g[q].m(e,null);append(e,t);for(let q=0;q<b.length;q+=1)b[q].m(e,null);append(e,r);for(let q=0;q<C.length;q+=1)C[q].m(e,null);append(e,s);for(let q=0;q<w.length;q+=1)w[q].m(e,null);append(e,c);for(let q=0;q<$.length;q+=1)$[q].m(e,null)},p(F,[X]){var q,K,te,Z,H,Q,ne;if(X&2){d=((q=F[1])==null?void 0:q.path)??[];let V;for(V=0;V<d.length;V+=1){const J=get_each_context_5(F,d,V);u[V]?u[V].p(J,X):(u[V]=create_each_block_5(J),u[V].c(),u[V].m(e,a))}for(;V<u.length;V+=1)u[V].d(1);u.length=d.length}if(X&2){m=((K=F[1])==null?void 0:K.rect)??[];let V;for(V=0;V<m.length;V+=1){const J=get_each_context_4(F,m,V);g[V]?g[V].p(J,X):(g[V]=create_each_block_4(J),g[V].c(),g[V].m(e,t))}for(;V<g.length;V+=1)g[V].d(1);g.length=m.length}if(X&2){_=((te=F[1])==null?void 0:te.circle)??[];let V;for(V=0;V<_.length;V+=1){const J=get_each_context_3(F,_,V);b[V]?b[V].p(J,X):(b[V]=create_each_block_3(J),b[V].c(),b[V].m(e,r))}for(;V<b.length;V+=1)b[V].d(1);b.length=_.length}if(X&2){S=((Z=F[1])==null?void 0:Z.polygon)??[];let V;for(V=0;V<S.length;V+=1){const J=get_each_context_2(F,S,V);C[V]?C[V].p(J,X):(C[V]=create_each_block_2(J),C[V].c(),C[V].m(e,s))}for(;V<C.length;V+=1)C[V].d(1);C.length=S.length}if(X&2){R=((H=F[1])==null?void 0:H.polyline)??[];let V;for(V=0;V<R.length;V+=1){const J=get_each_context_1$1(F,R,V);w[V]?w[V].p(J,X):(w[V]=create_each_block_1$1(J),w[V].c(),w[V].m(e,c))}for(;V<w.length;V+=1)w[V].d(1);w.length=R.length}if(X&2){k=((Q=F[1])==null?void 0:Q.line)??[];let V;for(V=0;V<k.length;V+=1){const J=get_each_context$1(F,k,V);$[V]?$[V].p(J,X):($[V]=create_each_block$1(J),$[V].c(),$[V].m(e,null))}for(;V<$.length;V+=1)$[V].d(1);$.length=k.length}set_svg_attributes(e,P=get_spread_update(O,[X&2&&((ne=F[1])==null?void 0:ne.a),{xmlns:"http://www.w3.org/2000/svg"},X&1&&{width:F[0]},X&1&&{height:F[0]},X&4&&F[2]]))},i:noop$1,o:noop$1,d(F){F&&detach(e),destroy_each(u,F),destroy_each(g,F),destroy_each(b,F),destroy_each(C,F),destroy_each(w,F),destroy_each($,F)}}}function instance$8(n,e,a){let t;const r=["src","size","theme"];let s=compute_rest_props(e,r),{src:c}=e,{size:d="100%"}=e,{theme:u="default"}=e;if(d!=="100%"&&d.slice(-1)!="x"&&d.slice(-1)!="m"&&d.slice(-1)!="%")try{d=parseInt(d)+"px"}catch{d="100%"}return n.$$set=m=>{e=assign$3(assign$3({},e),exclude_internal_props(m)),a(2,s=compute_rest_props(e,r)),"src"in m&&a(3,c=m.src),"size"in m&&a(0,d=m.size),"theme"in m&&a(4,u=m.theme)},n.$$.update=()=>{n.$$.dirty&24&&a(1,t=(c==null?void 0:c[u])??(c==null?void 0:c.default))},[d,t,s,c,u]}class Icon extends SvelteComponent{constructor(e){super(),init$1(this,e,instance$8,create_fragment$8,safe_not_equal,{src:3,size:0,theme:4})}}const AdjustmentsHorizontal={default:{a:{fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},path:[{"stroke-linecap":"round","stroke-linejoin":"round",d:"M10.5 6h9.75M10.5 6a1.5 1.5 0 11-3 0m3 0a1.5 1.5 0 10-3 0M3.75 6H7.5m3 12h9.75m-9.75 0a1.5 1.5 0 01-3 0m3 0a1.5 1.5 0 00-3 0m-3.75 0H7.5m9-6h3.75m-3.75 0a1.5 1.5 0 01-3 0m3 0a1.5 1.5 0 00-3 0m-9.75 0h9.75"}]},mini:{a:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},path:[{d:"M10 3.75a2 2 0 10-4 0 2 2 0 004 0zM17.25 4.5a.75.75 0 000-1.5h-5.5a.75.75 0 000 1.5h5.5zM5 3.75a.75.75 0 01-.75.75h-1.5a.75.75 0 010-1.5h1.5a.75.75 0 01.75.75zM4.25 17a.75.75 0 000-1.5h-1.5a.75.75 0 000 1.5h1.5zM17.25 17a.75.75 0 000-1.5h-5.5a.75.75 0 000 1.5h5.5zM9 10a.75.75 0 01-.75.75h-5.5a.75.75 0 010-1.5h5.5A.75.75 0 019 10zM17.25 10.75a.75.75 0 000-1.5h-1.5a.75.75 0 000 1.5h1.5zM14 10a2 2 0 10-4 0 2 2 0 004 0zM10 16.25a2 2 0 10-4 0 2 2 0 004 0z"}]},solid:{a:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},path:[{d:"M18.75 12.75h1.5a.75.75 0 000-1.5h-1.5a.75.75 0 000 1.5zM12 6a.75.75 0 01.75-.75h7.5a.75.75 0 010 1.5h-7.5A.75.75 0 0112 6zM12 18a.75.75 0 01.75-.75h7.5a.75.75 0 010 1.5h-7.5A.75.75 0 0112 18zM3.75 6.75h1.5a.75.75 0 100-1.5h-1.5a.75.75 0 000 1.5zM5.25 18.75h-1.5a.75.75 0 010-1.5h1.5a.75.75 0 010 1.5zM3 12a.75.75 0 01.75-.75h7.5a.75.75 0 010 1.5h-7.5A.75.75 0 013 12zM9 3.75a2.25 2.25 0 100 4.5 2.25 2.25 0 000-4.5zM12.75 12a2.25 2.25 0 114.5 0 2.25 2.25 0 01-4.5 0zM9 15.75a2.25 2.25 0 100 4.5 2.25 2.25 0 000-4.5z"}]}},ArrowsPointingIn={default:{a:{fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},path:[{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 9V4.5M9 9H4.5M9 9L3.75 3.75M9 15v4.5M9 15H4.5M9 15l-5.25 5.25M15 9h4.5M15 9V4.5M15 9l5.25-5.25M15 15h4.5M15 15v4.5m0-4.5l5.25 5.25"}]},mini:{a:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},path:[{d:"M3.28 2.22a.75.75 0 00-1.06 1.06L5.44 6.5H2.75a.75.75 0 000 1.5h4.5A.75.75 0 008 7.25v-4.5a.75.75 0 00-1.5 0v2.69L3.28 2.22zM13.5 2.75a.75.75 0 00-1.5 0v4.5c0 .414.336.75.75.75h4.5a.75.75 0 000-1.5h-2.69l3.22-3.22a.75.75 0 00-1.06-1.06L13.5 5.44V2.75zM3.28 17.78l3.22-3.22v2.69a.75.75 0 001.5 0v-4.5a.75.75 0 00-.75-.75h-4.5a.75.75 0 000 1.5h2.69l-3.22 3.22a.75.75 0 101.06 1.06zM13.5 14.56l3.22 3.22a.75.75 0 101.06-1.06l-3.22-3.22h2.69a.75.75 0 000-1.5h-4.5a.75.75 0 00-.75.75v4.5a.75.75 0 001.5 0v-2.69z"}]},solid:{a:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},path:[{"fill-rule":"evenodd",d:"M3.22 3.22a.75.75 0 011.06 0l3.97 3.97V4.5a.75.75 0 011.5 0V9a.75.75 0 01-.75.75H4.5a.75.75 0 010-1.5h2.69L3.22 4.28a.75.75 0 010-1.06zm17.56 0a.75.75 0 010 1.06l-3.97 3.97h2.69a.75.75 0 010 1.5H15a.75.75 0 01-.75-.75V4.5a.75.75 0 011.5 0v2.69l3.97-3.97a.75.75 0 011.06 0zM3.75 15a.75.75 0 01.75-.75H9a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-2.69l-3.97 3.97a.75.75 0 01-1.06-1.06l3.97-3.97H4.5a.75.75 0 01-.75-.75zm10.5 0a.75.75 0 01.75-.75h4.5a.75.75 0 010 1.5h-2.69l3.97 3.97a.75.75 0 11-1.06 1.06l-3.97-3.97v2.69a.75.75 0 01-1.5 0V15z","clip-rule":"evenodd"}]}},ArrowsPointingOut={default:{a:{fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},path:[{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3.75 3.75v4.5m0-4.5h4.5m-4.5 0L9 9M3.75 20.25v-4.5m0 4.5h4.5m-4.5 0L9 15M20.25 3.75h-4.5m4.5 0v4.5m0-4.5L15 9m5.25 11.25h-4.5m4.5 0v-4.5m0 4.5L15 15"}]},mini:{a:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},path:[{d:"M13.28 7.78l3.22-3.22v2.69a.75.75 0 001.5 0v-4.5a.75.75 0 00-.75-.75h-4.5a.75.75 0 000 1.5h2.69l-3.22 3.22a.75.75 0 001.06 1.06zM2 17.25v-4.5a.75.75 0 011.5 0v2.69l3.22-3.22a.75.75 0 011.06 1.06L4.56 16.5h2.69a.75.75 0 010 1.5h-4.5a.747.747 0 01-.75-.75zM12.22 13.28l3.22 3.22h-2.69a.75.75 0 000 1.5h4.5a.747.747 0 00.75-.75v-4.5a.75.75 0 00-1.5 0v2.69l-3.22-3.22a.75.75 0 10-1.06 1.06zM3.5 4.56l3.22 3.22a.75.75 0 001.06-1.06L4.56 3.5h2.69a.75.75 0 000-1.5h-4.5a.75.75 0 00-.75.75v4.5a.75.75 0 001.5 0V4.56z"}]},solid:{a:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},path:[{"fill-rule":"evenodd",d:"M15 3.75a.75.75 0 01.75-.75h4.5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0V5.56l-3.97 3.97a.75.75 0 11-1.06-1.06l3.97-3.97h-2.69a.75.75 0 01-.75-.75zm-12 0A.75.75 0 013.75 3h4.5a.75.75 0 010 1.5H5.56l3.97 3.97a.75.75 0 01-1.06 1.06L4.5 5.56v2.69a.75.75 0 01-1.5 0v-4.5zm11.47 11.78a.75.75 0 111.06-1.06l3.97 3.97v-2.69a.75.75 0 011.5 0v4.5a.75.75 0 01-.75.75h-4.5a.75.75 0 010-1.5h2.69l-3.97-3.97zm-4.94-1.06a.75.75 0 010 1.06L5.56 19.5h2.69a.75.75 0 010 1.5h-4.5a.75.75 0 01-.75-.75v-4.5a.75.75 0 011.5 0v2.69l3.97-3.97a.75.75 0 011.06 0z","clip-rule":"evenodd"}]}},ChevronLeft={default:{a:{fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},path:[{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.75 19.5L8.25 12l7.5-7.5"}]},mini:{a:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},path:[{"fill-rule":"evenodd",d:"M12.79 5.23a.75.75 0 01-.02 1.06L8.832 10l3.938 3.71a.75.75 0 11-1.04 1.08l-4.5-4.25a.75.75 0 010-1.08l4.5-4.25a.75.75 0 011.06.02z","clip-rule":"evenodd"}]},solid:{a:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},path:[{"fill-rule":"evenodd",d:"M7.72 12.53a.75.75 0 010-1.06l7.5-7.5a.75.75 0 111.06 1.06L9.31 12l6.97 6.97a.75.75 0 11-1.06 1.06l-7.5-7.5z","clip-rule":"evenodd"}]}},ChevronRight={default:{a:{fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},path:[{"stroke-linecap":"round","stroke-linejoin":"round",d:"M8.25 4.5l7.5 7.5-7.5 7.5"}]},mini:{a:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},path:[{"fill-rule":"evenodd",d:"M7.21 14.77a.75.75 0 01.02-1.06L11.168 10 7.23 6.29a.75.75 0 111.04-1.08l4.5 4.25a.75.75 0 010 1.08l-4.5 4.25a.75.75 0 01-1.06-.02z","clip-rule":"evenodd"}]},solid:{a:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},path:[{"fill-rule":"evenodd",d:"M16.28 11.47a.75.75 0 010 1.06l-7.5 7.5a.75.75 0 01-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 011.06-1.06l7.5 7.5z","clip-rule":"evenodd"}]}},Cog6Tooth={default:{a:{fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},path:[{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.324.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 011.37.49l1.296 2.247a1.125 1.125 0 01-.26 1.431l-1.003.827c-.293.24-.438.613-.431.992a6.759 6.759 0 010 .255c-.007.378.138.75.43.99l1.005.828c.424.35.534.954.26 1.43l-1.298 2.247a1.125 1.125 0 01-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.57 6.57 0 01-.22.128c-.331.183-.581.495-.644.869l-.213 1.28c-.09.543-.56.941-1.11.941h-2.594c-.55 0-1.02-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 01-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 01-1.369-.49l-1.297-2.247a1.125 1.125 0 01.26-1.431l1.004-.827c.292-.24.437-.613.43-.992a6.932 6.932 0 010-.255c.007-.378-.138-.75-.43-.99l-1.004-.828a1.125 1.125 0 01-.26-1.43l1.297-2.247a1.125 1.125 0 011.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.087.22-.128.332-.183.582-.495.644-.869l.214-1.281z"},{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}]},mini:{a:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},path:[{"fill-rule":"evenodd",d:"M7.84 1.804A1 1 0 018.82 1h2.36a1 1 0 01.98.804l.331 1.652a6.993 6.993 0 011.929 1.115l1.598-.54a1 1 0 011.186.447l1.18 2.044a1 1 0 01-.205 1.251l-1.267 1.113a7.047 7.047 0 010 2.228l1.267 1.113a1 1 0 01.206 1.25l-1.18 2.045a1 1 0 01-1.187.447l-1.598-.54a6.993 6.993 0 01-1.929 1.115l-.33 1.652a1 1 0 01-.98.804H8.82a1 1 0 01-.98-.804l-.331-1.652a6.993 6.993 0 01-1.929-1.115l-1.598.54a1 1 0 01-1.186-.447l-1.18-2.044a1 1 0 01.205-1.251l1.267-1.114a7.05 7.05 0 010-2.227L1.821 7.773a1 1 0 01-.206-1.25l1.18-2.045a1 1 0 011.187-.447l1.598.54A6.993 6.993 0 017.51 3.456l.33-1.652zM10 13a3 3 0 100-6 3 3 0 000 6z","clip-rule":"evenodd"}]},solid:{a:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},path:[{"fill-rule":"evenodd",d:"M11.078 2.25c-.917 0-1.699.663-1.85 1.567L9.05 4.889c-.02.12-.115.26-.297.348a7.493 7.493 0 00-.986.57c-.166.115-.334.126-.45.083L6.3 5.508a1.875 1.875 0 00-2.282.819l-.922 1.597a1.875 1.875 0 00.432 2.385l.84.692c.095.078.17.229.154.43a7.598 7.598 0 000 1.139c.015.2-.059.352-.153.43l-.841.692a1.875 1.875 0 00-.432 2.385l.922 1.597a1.875 1.875 0 002.282.818l1.019-.382c.115-.043.283-.031.45.082.312.214.641.405.985.57.182.088.277.228.297.35l.178 1.071c.151.904.933 1.567 1.85 1.567h1.844c.916 0 1.699-.663 1.85-1.567l.178-1.072c.02-.12.114-.26.297-.349.344-.165.673-.356.985-.57.167-.114.335-.125.45-.082l1.02.382a1.875 1.875 0 002.28-.819l.923-1.597a1.875 1.875 0 00-.432-2.385l-.84-.692c-.095-.078-.17-.229-.154-.43a7.614 7.614 0 000-1.139c-.016-.2.059-.352.153-.43l.84-.692c.708-.582.891-1.59.433-2.385l-.922-1.597a1.875 1.875 0 00-2.282-.818l-1.02.382c-.114.043-.282.031-.449-.083a7.49 7.49 0 00-.985-.57c-.183-.087-.277-.227-.297-.348l-.179-1.072a1.875 1.875 0 00-1.85-1.567h-1.843zM12 15.75a3.75 3.75 0 100-7.5 3.75 3.75 0 000 7.5z","clip-rule":"evenodd"}]}},Power={default:{a:{fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},path:[{"stroke-linecap":"round","stroke-linejoin":"round",d:"M5.636 5.636a9 9 0 1012.728 0M12 3v9"}]},mini:{a:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},path:[{"fill-rule":"evenodd",d:"M10 2a.75.75 0 01.75.75v7.5a.75.75 0 01-1.5 0v-7.5A.75.75 0 0110 2zM5.404 4.343a.75.75 0 010 1.06 6.5 6.5 0 109.192 0 .75.75 0 111.06-1.06 8 8 0 11-11.313 0 .75.75 0 011.06 0z","clip-rule":"evenodd"}]},solid:{a:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},path:[{"fill-rule":"evenodd",d:"M12 2.25a.75.75 0 01.75.75v9a.75.75 0 01-1.5 0V3a.75.75 0 01.75-.75zM6.166 5.106a.75.75 0 010 1.06 8.25 8.25 0 1011.668 0 .75.75 0 111.06-1.06c3.808 3.807 3.808 9.98 0 13.788-3.807 3.808-9.98 3.808-13.788 0-3.808-3.807-3.808-9.98 0-13.788a.75.75 0 011.06 0z","clip-rule":"evenodd"}]}},QuestionMarkCircle={default:{a:{fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},path:[{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9.879 7.519c1.171-1.025 3.071-1.025 4.242 0 1.172 1.025 1.172 2.687 0 3.712-.203.179-.43.326-.67.442-.745.361-1.45.999-1.45 1.827v.75M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9 5.25h.008v.008H12v-.008z"}]},mini:{a:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},path:[{"fill-rule":"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zM8.94 6.94a.75.75 0 11-1.061-1.061 3 3 0 112.871 5.026v.345a.75.75 0 01-1.5 0v-.5c0-.72.57-1.172 1.081-1.287A1.5 1.5 0 108.94 6.94zM10 15a1 1 0 100-2 1 1 0 000 2z","clip-rule":"evenodd"}]},solid:{a:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},path:[{"fill-rule":"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12zm11.378-3.917c-.89-.777-2.366-.777-3.255 0a.75.75 0 01-.988-1.129c1.454-1.272 3.776-1.272 5.23 0 1.513 1.324 1.513 3.518 0 4.842a3.75 3.75 0 01-.837.552c-.676.328-1.028.774-1.028 1.152v.75a.75.75 0 01-1.5 0v-.75c0-1.279 1.06-2.107 1.875-2.502.182-.088.351-.199.503-.331.83-.727.83-1.857 0-2.584zM12 18a.75.75 0 100-1.5.75.75 0 000 1.5z","clip-rule":"evenodd"}]}},Wrench={default:{a:{fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true"},path:[{"stroke-linecap":"round","stroke-linejoin":"round",d:"M21.75 6.75a4.5 4.5 0 01-4.884 4.484c-1.076-.091-2.264.071-2.95.904l-7.152 8.684a2.548 2.548 0 11-3.586-3.586l8.684-7.152c.833-.686.995-1.874.904-2.95a4.5 4.5 0 016.336-4.486l-3.276 3.276a3.004 3.004 0 002.25 2.25l3.276-3.276c.256.565.398 1.192.398 1.852z"},{"stroke-linecap":"round","stroke-linejoin":"round",d:"M4.867 19.125h.008v.008h-.008v-.008z"}]},mini:{a:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},path:[{"fill-rule":"evenodd",d:"M19 5.5a4.5 4.5 0 01-4.791 4.49c-.873-.055-1.808.128-2.368.8l-6.024 7.23a2.724 2.724 0 11-3.837-3.837L9.21 8.16c.672-.56.855-1.495.8-2.368a4.5 4.5 0 015.873-4.575c.324.105.39.51.15.752L13.34 4.66a.455.455 0 00-.11.494 3.01 3.01 0 001.617 1.617c.17.07.363.02.493-.111l2.692-2.692c.241-.241.647-.174.752.15.14.435.216.9.216 1.382zM4 17a1 1 0 100-2 1 1 0 000 2z","clip-rule":"evenodd"}]},solid:{a:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},path:[{"fill-rule":"evenodd",d:"M12 6.75a5.25 5.25 0 016.775-5.025.75.75 0 01.313 1.248l-3.32 3.319c.063.475.276.934.641 1.299.365.365.824.578 1.3.64l3.318-3.319a.75.75 0 011.248.313 5.25 5.25 0 01-5.472 6.756c-1.018-.086-1.87.1-2.309.634L7.344 21.3A3.298 3.298 0 112.7 16.657l8.684-7.151c.533-.44.72-1.291.634-2.309A5.342 5.342 0 0112 6.75zM4.117 19.125a.75.75 0 01.75-.75h.008a.75.75 0 01.75.75v.008a.75.75 0 01-.75.75h-.008a.75.75 0 01-.75-.75v-.008z","clip-rule":"evenodd"}]}},RovSelector_svelte_svelte_type_style_lang="";function create_if_block_3(n){let e,a,t,r;return{c(){e=element("p"),a=text("You Are: "),t=element("span"),r=text(n[5]),attr(t,"class","font-bold"),attr(e,"class","text-center p-2 text-white")},m(s,c){insert(s,e,c),append(e,a),append(e,t),append(t,r)},p(s,c){c&32&&set_data(r,s[5])},d(s){s&&detach(e)}}}function create_if_block_2(n){let e,a;return{c(){e=element("h2"),a=text(n[2]),attr(e,"class","text-center p-2 pt-0 font-bold ")},m(t,r){insert(t,e,r),append(e,a)},p(t,r){r&4&&set_data(a,t[2])},d(t){t&&detach(e)}}}function create_else_block(n){let e,a,t,r,s,c=n[4]?"Disconnect":"Connect",d,u,m,g,_;return{c(){e=element("button"),a=element("span"),t=text(n[2]),r=space(),s=element("span"),d=text(c),attr(a,"class","swap-off"),attr(s,"class","swap-on whitespace-nowrap inline"),attr(e,"class",u=`btn btn-sm btn-primary align-top swap ${n[3]?"swap-active":""}`)},m(b,S){insert(b,e,S),append(e,a),append(a,t),append(e,r),append(e,s),append(s,d),g||(_=[listen(e,"mouseenter",n[12]),listen(e,"mouseleave",n[13]),listen(e,"click",n[14])],g=!0)},p(b,S){S&4&&set_data(t,b[2]),S&16&&c!==(c=b[4]?"Disconnect":"Connect")&&set_data(d,c),S&8&&u!==(u=`btn btn-sm btn-primary align-top swap ${b[3]?"swap-active":""}`)&&attr(e,"class",u)},i(b){m||add_render_callback(()=>{m=create_in_transition(e,fade,{}),m.start()})},o:noop$1,d(b){b&&detach(e),g=!1,run_all(_)}}}function create_if_block_1$1(n){let e,a,t,r;return{c(){e=element("button"),e.textContent="Connect",attr(e,"class","btn btn-sm btn-primary align-top")},m(s,c){insert(s,e,c),t||(r=listen(e,"click",n[11]),t=!0)},p:noop$1,i(s){a||add_render_callback(()=>{a=create_in_transition(e,fade,{}),a.start()})},o:noop$1,d(s){s&&detach(e),t=!1,r()}}}function create_if_block$2(n){let e,a,t;return{c(){e=element("button"),e.innerHTML="<span>Drive ROV</span>",attr(e,"class","btn btn-sm btn-warning align-top")},m(r,s){insert(r,e,s),a||(t=listen(e,"click",n[15]),a=!0)},p:noop$1,d(r){r&&detach(e),a=!1,t()}}}function create_fragment$7(n){let e,a,t,r,s,c,d,u,m,g,_,b,S,C,R,w,k=n[4]&&create_if_block_3(n),$=!n[4]&&create_if_block_2(n);c=new Icon({props:{theme:"solid",src:ChevronLeft,class:"w-6 h-6 pointer-events-none"}});function O(B,j){return B[4]?create_else_block:create_if_block_1$1}let P=O(n),x=P(n);g=new Icon({props:{theme:"solid",src:ChevronRight,class:"w-6 h-6 pointer-events-none"}});let I=!n[6]&&create_if_block$2(n);return{c(){e=element("div"),k&&k.c(),a=space(),t=element("div"),$&&$.c(),r=space(),s=element("button"),create_component(c.$$.fragment),d=space(),x.c(),u=space(),m=element("button"),create_component(g.$$.fragment),_=space(),I&&I.c(),attr(s,"class","btn btn-sm btn-ghost btn-secondary"),attr(s,"aria-label","Switch to Previous ROV"),attr(m,"class","btn btn-sm btn-ghost btn-secondary"),attr(m,"aria-label","Switch to Next ROV"),attr(t,"class",b=`bg-base-100 m-0 p-2 pb-1 whitespace-nowrap text-center rounded-xl  ${n[4]?"rounded-b-none":""}`),attr(e,"id","rov_chooser"),attr(e,"class",S=null_to_empty(`absolute left-1/2 bottom-0  -translate-x-1/2 transition-all overflow-hidden z-50  ${n[4]?" ":"disconnected"} `)+" svelte-1simma4")},m(B,j){insert(B,e,j),k&&k.m(e,null),append(e,a),append(e,t),$&&$.m(t,null),append(t,r),append(t,s),mount_component(c,s,null),append(t,d),x.m(t,null),append(t,u),append(t,m),mount_component(g,m,null),append(t,_),I&&I.m(t,null),C=!0,R||(w=[listen(s,"click",n[1]),action_destroyer(addTooltip.call(null,s,{label:"Switch to Previous ROV",placement:"bottom"})),listen(m,"click",n[0]),action_destroyer(addTooltip.call(null,m,{label:"Switch to Next ROV",placement:"bottom"}))],R=!0)},p(B,[j]){B[4]?k?k.p(B,j):(k=create_if_block_3(B),k.c(),k.m(e,a)):k&&(k.d(1),k=null),B[4]?$&&($.d(1),$=null):$?$.p(B,j):($=create_if_block_2(B),$.c(),$.m(t,r)),P===(P=O(B))&&x?x.p(B,j):(x.d(1),x=P(B),x&&(x.c(),transition_in(x,1),x.m(t,u))),B[6]?I&&(I.d(1),I=null):I?I.p(B,j):(I=create_if_block$2(B),I.c(),I.m(t,null)),(!C||j&16&&b!==(b=`bg-base-100 m-0 p-2 pb-1 whitespace-nowrap text-center rounded-xl  ${B[4]?"rounded-b-none":""}`))&&attr(t,"class",b),(!C||j&16&&S!==(S=null_to_empty(`absolute left-1/2 bottom-0  -translate-x-1/2 transition-all overflow-hidden z-50  ${B[4]?" ":"disconnected"} `)+" svelte-1simma4"))&&attr(e,"class",S)},i(B){C||(transition_in(c.$$.fragment,B),transition_in(x),transition_in(g.$$.fragment,B),C=!0)},o(B){transition_out(c.$$.fragment,B),transition_out(g.$$.fragment,B),C=!1},d(B){B&&detach(e),k&&k.d(),$&&$.d(),destroy_component(c),x.d(),destroy_component(g),I&&I.d(),R=!1,run_all(w)}}}function instance$7(n,e,a){let t,r,s,c,d,u;component_subscribe(n,rovPeerIdEndNumber,O=>a(8,r=O)),component_subscribe(n,peerServerConnState,O=>a(9,s=O)),component_subscribe(n,rovDataChannelConnState,O=>a(10,c=O)),component_subscribe(n,ourPeerId,O=>a(5,d=O)),component_subscribe(n,isRovDriver,O=>a(6,u=O));let{selectedRov:m=""}=e,g="";const _=()=>{RovActions.disconnectFromRov(),set_store_value(rovPeerIdEndNumber,r=r+1,r),t&&RovActions.connectToRov()},b=()=>{RovActions.disconnectFromRov(),set_store_value(rovPeerIdEndNumber,r=Math.max(r-1,0),r),t&&RovActions.connectToRov()};let S=!1;const C=()=>{RovActions.connectToRov()},R=()=>{a(3,S=!0)},w=()=>{a(3,S=!1)},k=()=>{RovActions.disconnectFromRov(),a(3,S=!1)},$=()=>{RovActions.takeControl()};return n.$$set=O=>{"selectedRov"in O&&a(7,m=O.selectedRov)},n.$$.update=()=>{n.$$.dirty&1536&&a(4,t=c===ConnectionState.connected||c===ConnectionState.connecting||c===ConnectionState.reconnecting||s===ConnectionState.connecting||s===ConnectionState.reconnecting||s===ConnectionState.disconnected),n.$$.dirty&256&&a(7,m=getROVName(r)),n.$$.dirty&384&&a(2,g="ROV "+r+m.replace("ROV-"," | "))},[_,b,g,S,t,d,u,m,r,s,c,C,R,w,k,$]}class RovSelector extends SvelteComponent{constructor(e){super(),init$1(this,e,instance$7,create_fragment$7,safe_not_equal,{selectedRov:7,nextRov:0,prevRov:1})}get nextRov(){return this.$$.ctx[0]}get prevRov(){return this.$$.ctx[1]}}const CompassDial_svelte_svelte_type_style_lang="";function create_fragment$6(n){let e,a,t,r;return{c(){e=element("div"),a=element("div"),t=space(),r=element("div"),attr(a,"class","line svelte-wxznj7"),attr(r,"class","bg svelte-wxznj7"),attr(r,"id","compassDiscImg"),set_style(r,"transform",`translateX(${n[0]}px)`),attr(e,"class","compass bg-base-100 svelte-wxznj7")},m(s,c){insert(s,e,c),append(e,a),append(e,t),append(e,r)},p(s,[c]){c&1&&set_style(r,"transform",`translateX(${s[0]}px)`)},i:noop$1,o:noop$1,d(s){s&&detach(e)}}}function instance$6(n,e,a){let t;return component_subscribe(n,rovHeading,r=>a(0,t=r)),[t]}class CompassDial extends SvelteComponent{constructor(e){super(),init$1(this,e,instance$6,create_fragment$6,safe_not_equal,{})}}const TopBar_svelte_svelte_type_style_lang="";function create_if_block$1(n){let e,a,t,r,s,c,d,u,m,g,_,b,S,C,R,w,k,$,O,P,x,I,B,j,W,U,z,F,X,q,K,te,Z,H,Q,ne,V;return s=new Icon({props:{theme:"mini",src:Power,class:"h-12 pointer-events-none"}}),k=new Icon({props:{theme:"solid",src:Wrench,class:"h-12 pointer-events-none"}}),X=new Icon({props:{theme:"solid",src:AdjustmentsHorizontal,class:"h-12 pointer-events-none"}}),{c(){e=element("div"),a=element("div"),t=element("ul"),r=element("li"),create_component(s.$$.fragment),c=space(),d=element("li"),d.innerHTML='<span class="btn btn-ghost svelte-16r1evb">Shutdown ROV</span>',u=space(),m=element("li"),m.innerHTML='<span class="btn btn-ghost svelte-16r1evb">Reboot ROV</span>',g=space(),_=element("li"),_.innerHTML='<span class="btn btn-ghost svelte-16r1evb">Restart ROV Services</span>',b=space(),S=element("div"),C=space(),R=element("ul"),w=element("li"),create_component(k.$$.fragment),$=space(),O=element("li"),O.innerHTML='<span class="btn btn-ghost svelte-16r1evb">System Status</span>',P=space(),x=element("li"),x.innerHTML='<span class="btn btn-ghost svelte-16r1evb">ROV Logs</span>',I=space(),B=element("li"),B.innerHTML='<span class="btn btn-ghost svelte-16r1evb">Local Debug Links</span>',j=space(),W=element("div"),U=space(),z=element("ul"),F=element("li"),create_component(X.$$.fragment),q=space(),K=element("li"),K.innerHTML='<span class="btn btn-ghost svelte-16r1evb">Enable ROV Wifi</span>',te=space(),Z=element("li"),Z.innerHTML='<span class="btn btn-ghost svelte-16r1evb">Disable ROV Wifi</span>',attr(r,"aria-hidden","true"),attr(d,"role","menuitem"),attr(m,"role","menuitem"),attr(_,"role","menuitem"),attr(t,"class","menu inline-block menu-normal flex-1 svelte-16r1evb"),attr(S,"class","divider md:divider-horizontal md:m-0"),attr(w,"aria-hidden","true"),attr(O,"role","menuitem"),attr(x,"role","menuitem"),attr(B,"role","menuitem"),attr(R,"class","menu inline-block menu-normal flex-1 svelte-16r1evb"),attr(W,"class","divider md:divider-horizontal md:m-0"),attr(F,"aria-hidden","true"),attr(K,"role","menuitem"),attr(Z,"role","menuitem"),attr(z,"class","menu inline-block menu-normal flex-1 svelte-16r1evb"),attr(a,"class","multi-menu card-body md:flex-row rounded-box  svelte-16r1evb"),attr(e,"class","mt-1 mb-24 m-auto w-full max-w-max card card-compact dropdown-content bg-base-100 shadow p-1 overflow-auto pointer-events-auto")},m(J,ae){insert(J,e,ae),append(e,a),append(a,t),append(t,r),mount_component(s,r,null),append(t,c),append(t,d),append(t,u),append(t,m),append(t,g),append(t,_),append(a,b),append(a,S),append(a,C),append(a,R),append(R,w),mount_component(k,w,null),append(R,$),append(R,O),append(R,P),append(R,x),append(R,I),append(R,B),append(a,j),append(a,W),append(a,U),append(a,z),append(z,F),mount_component(X,F,null),append(z,q),append(z,K),append(z,te),append(z,Z),Q=!0,ne||(V=[listen(d,"click",RovActions.shutdownRov),listen(d,"keypress",selectKeypressFactory(RovActions.shutdownRov)),listen(m,"click",RovActions.rebootRov),listen(m,"keypress",selectKeypressFactory(RovActions.rebootRov)),listen(_,"click",RovActions.restartRovServices),listen(_,"keypress",selectKeypressFactory(RovActions.rebootRov)),listen(O,"click",RovActions.getRovStatusReport),listen(O,"keypress",selectKeypressFactory(RovActions.rebootRov)),listen(x,"click",RovActions.getRovLogs),listen(x,"keypress",selectKeypressFactory(RovActions.rebootRov)),listen(B,"click",n[4]),listen(B,"keypress",selectKeypressFactory(n[5])),listen(K,"click",RovActions.enableRovWifi),listen(K,"keypress",selectKeypressFactory(RovActions.rebootRov)),listen(Z,"click",RovActions.disableRovWifi),listen(Z,"keypress",selectKeypressFactory(RovActions.rebootRov))],ne=!0)},p:noop$1,i(J){Q||(transition_in(s.$$.fragment,J),transition_in(k.$$.fragment,J),transition_in(X.$$.fragment,J),add_render_callback(()=>{H||(H=create_bidirectional_transition(e,slide,{},!0)),H.run(1)}),Q=!0)},o(J){transition_out(s.$$.fragment,J),transition_out(k.$$.fragment,J),transition_out(X.$$.fragment,J),H||(H=create_bidirectional_transition(e,slide,{},!1)),H.run(0),Q=!1},d(J){J&&detach(e),destroy_component(s),destroy_component(k),destroy_component(X),J&&H&&H.end(),ne=!1,run_all(V)}}}function create_fragment$5(n){let e,a,t,r,s,c,d,u,m,g,_,b,S,C,R,w,k,$,O,P;s=new Icon({props:{theme:"solid",src:Cog6Tooth,class:"w-6 h-6 pointer-events-none"}}),m=new CompassDial({}),S=new Icon({props:{theme:"solid",src:QuestionMarkCircle,class:"w-6 h-6 pointer-events-none"}});let x=n[1]&&create_if_block$1(n);return k=new Icon({props:{theme:"solid",src:n[2]?ArrowsPointingIn:ArrowsPointingOut,class:"w-6 h-6 pointer-events-none"}}),{c(){e=element("div"),a=element("div"),t=element("div"),r=element("button"),create_component(s.$$.fragment),d=space(),u=element("div"),create_component(m.$$.fragment),g=space(),_=element("div"),b=element("button"),create_component(S.$$.fragment),C=space(),x&&x.c(),R=space(),w=element("button"),create_component(k.$$.fragment),attr(r,"class","btn btn-ghost btn-square rounded-tl-none"),r.disabled=c=n[0]!=ConnectionState.connected,attr(t,"class","pr-3 justify-start flex-shrink"),attr(u,"class","navbar-center flex-1 self-stretch"),attr(b,"class","btn btn-square btn-ghost !rounded-tr-none"),attr(_,"class","pl-3 justify-end flex-shrink"),attr(a,"class","navbar rounded-t-none shadow-xl rounded-box h-9 p-0 min-h-0 lg:rounded-t-none bg-base-100 m-auto max-w-sm top-bar flex-none pointer-events-auto overflow-hidden svelte-16r1evb"),attr(e,"class","px-1 absolute flex w-full flex-col max-h-screen pointer-events-none"),attr(w,"class","btn btn-square bg-base-100 pointer-events-auto absolute -right-1 -top-1 rounded-none rounded-bl-2xl")},m(I,B){insert(I,e,B),append(e,a),append(a,t),append(t,r),mount_component(s,r,null),append(a,d),append(a,u),mount_component(m,u,null),append(a,g),append(a,_),append(_,b),mount_component(S,b,null),append(e,C),x&&x.m(e,null),insert(I,R,B),insert(I,w,B),mount_component(k,w,null),$=!0,O||(P=[listen(r,"click",n[3]),action_destroyer(addTooltip.call(null,r,{label:"Menu",placement:"left"})),action_destroyer(addTooltip.call(null,b,{label:"Hover or long-press buttons to show help",placement:"bottom",timeout:0})),listen(w,"click",n[6]),action_destroyer(addTooltip.call(null,w,{label:"Toggle Fullscreen",placement:"right"}))],O=!0)},p(I,[B]){(!$||B&1&&c!==(c=I[0]!=ConnectionState.connected))&&(r.disabled=c),I[1]?x?(x.p(I,B),B&2&&transition_in(x,1)):(x=create_if_block$1(I),x.c(),transition_in(x,1),x.m(e,null)):x&&(group_outros(),transition_out(x,1,1,()=>{x=null}),check_outros());const j={};B&4&&(j.src=I[2]?ArrowsPointingIn:ArrowsPointingOut),k.$set(j)},i(I){$||(transition_in(s.$$.fragment,I),transition_in(m.$$.fragment,I),transition_in(S.$$.fragment,I),transition_in(x),transition_in(k.$$.fragment,I),$=!0)},o(I){transition_out(s.$$.fragment,I),transition_out(m.$$.fragment,I),transition_out(S.$$.fragment,I),transition_out(x),transition_out(k.$$.fragment,I),$=!1},d(I){I&&detach(e),destroy_component(s),destroy_component(m),destroy_component(S),x&&x.d(),I&&detach(R),I&&detach(w),destroy_component(k),O=!1,run_all(P)}}}function instance$5(n,e,a){let t,r;component_subscribe(n,rovDataChannelConnState,g=>a(0,t=g)),component_subscribe(n,fullscreenOpen,g=>a(2,r=g));let s=!1;const c=()=>a(1,s=!s),d=()=>window.open("./404.html"),u=()=>window.open("./404.html"),m=g=>toggleFullscreen(g,null);return n.$$.update=()=>{n.$$.dirty&1&&t!=ConnectionState.connected&&a(1,s=!1)},[t,s,r,c,d,u,m]}class TopBar extends SvelteComponent{constructor(e){super(),init$1(this,e,instance$5,create_fragment$5,safe_not_equal,{})}}const GamepadLeftSvg=`<svg width="100%" height="100%" viewBox="0 0 123 232" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" style="fill-rule:evenodd;clip-rule:evenodd">
  <g id="left_side_of_controller">
    <path d="M112.977 140.769c-6 29.375-13.537 33.424-35.28 43.583-35.355 16.519-33.138 57.105-56.59 45.51-14.36-7.1-21.13-19.23-21.13-38.4 0-24.92 11.42-65.99 32.4-119.1 10.625-22.199 25.844-16.641 42.794-16.641 7.93 0 15.744-1.226 22.454 2.224 14.564 7.511 21.031 55.022 15.352 82.824Z"/>
    <g id="stick_button_left">
      <g id="stick_bg_left">
        <circle id="shadow10" cx="81.987" cy="176.33" r="26.46" style="fill-opacity:.5"/>
        <circle id="Oval5" cx="80.737" cy="175.09" r="25.21" style="fill:#6180b0;stroke:#000;stroke-width:2.49px"/>
      </g>
      <path d="M80.737 179.329v-8.477h25.442v-7.872l12.11 12.11-12.11 12.11v-7.871H80.737Z" style="fill:#ff00bf" class="direction_highlight" id="l_stick_right_direction_highlight"/>
      <path d="M76.499 175.09h8.477v25.442h7.872l-12.11 12.11-12.11-12.11h7.871V175.09Z" style="fill:#ff00bf" class="direction_highlight" id="l_stick_down_direction_highlight"/>
      <path d="M80.737 170.852v8.477H55.295v7.871l-12.11-12.11 12.11-12.11v7.872h25.442Z" style="fill:#ff00bf" class="direction_highlight" id="l_stick_left_direction_highlight"/>
      <path d="M84.976 175.09h-8.477v-25.442h-7.872l12.11-12.11 12.11 12.11h-7.871v25.442Z" style="fill:#ff00bf" class="direction_highlight" id="l_stick_up_direction_highlight"/>
      <g id="stick_left">
        <circle id="shadow11" cx="82.597" cy="176.96" r="17.12" style="fill-opacity:.5"/>
        <use xlink:href="#2a" x="48" y="143" width="65" height="65" class="gpad-highlight" id="stick_button_left_highlight"/>
        <g id="Group-6">
          <circle id="Oval-Copy" cx="80.737" cy="175.09" r="15.88" style="fill:#fff;stroke:#000;stroke-width:2.49px"/>
          <circle id="Oval-Copy-2" cx="80.737" cy="175.09" r="12.14" style="fill:#fff;stroke:#000;stroke-width:1.25px"/>
          <path d="M79.737 170.127a.402.402 0 0 0-.4-.4h-.725a.4.4 0 0 1-.32-.64l2.125-2.833a.4.4 0 0 1 .64 0l2.125 2.833a.4.4 0 0 1-.32.64h-.725a.402.402 0 0 0-.4.4v2.088a.402.402 0 0 0 .354.397c1.712.21 3.36.845 4.718 1.903a.4.4 0 0 0 .481.011l.619-.445a.399.399 0 0 1 .634.332l-.058 3.054a.4.4 0 0 1-.519.374l-2.916-.91a.402.402 0 0 1-.114-.707l.125-.091a.398.398 0 0 0-.018-.662 7.939 7.939 0 0 0-2.845-1.046.4.4 0 0 0-.459.394c-.002 1.15-.002 4.148-.002 5.234a.4.4 0 0 0 .4.4h.725a.4.4 0 0 1 .32.64l-2.125 2.833a.398.398 0 0 1-.64 0l-2.125-2.833a.4.4 0 0 1 .32-.64h.725a.4.4 0 0 0 .4-.4v-5.21a.4.4 0 0 0-.467-.395 8.156 8.156 0 0 0-2.818 1.075.398.398 0 0 0-.024.654c.045.036.093.072.141.108a.4.4 0 0 1-.127.704l-2.93.861a.399.399 0 0 1-.513-.383l-.006-3.054a.4.4 0 0 1 .639-.322l.604.451a.4.4 0 0 0 .486-.005c1.357-1.045 2.985-1.681 4.666-1.909a.4.4 0 0 0 .348-.396l.001-2.105Z"/>
        </g>
      </g>
    </g>
    <g id="select_button">
      <use xlink:href="#2b" x="78" y="118" width="43" height="39" class="gpad-highlight" id="select_button_highlight"/>
      <path id="select" d="M105.267 133.325a7.506 7.506 0 0 1 2.496 5.595 7.507 7.507 0 0 1-2.496 5.596H95.213a7.507 7.507 0 0 1-2.496-5.596c0-2.22.964-4.217 2.496-5.595h10.054Z" style="fill:#9a9a9a;fill-opacity:.5"/>
      <path id="select1" d="M104.162 132.138a7.506 7.506 0 0 1 2.496 5.595 7.507 7.507 0 0 1-2.496 5.596H94.108a7.507 7.507 0 0 1-2.496-5.596c0-2.22.964-4.217 2.496-5.595h10.054Z" style="fill:#fff;stroke:#000;stroke-width:1.35px"/>
      <text x="96.295" y="141.267" style="font-family:'ArialRoundedMTBold','Arial Rounded MT Bold',sans-serif;font-size:9.858px">?</text>
    </g>
    <g id="d_pad">
      <path d="M86.434 71.626c.913 0 1.659.746 1.659 1.659v18.212h18.212c.913 0 1.66.747 1.66 1.659v14.893c0 .913-.747 1.66-1.66 1.66H88.093v18.211c0 .913-.746 1.66-1.659 1.66H71.541c-.911 0-1.66-.749-1.66-1.66v-18.211H51.67c-.911 0-1.66-.749-1.66-1.66V93.156c0-.902.747-1.659 1.66-1.659h18.211V73.285c0-.902.747-1.659 1.66-1.659h14.893Z" style="fill:#9a9a9a;fill-opacity:.5" id="shadow14"/>
      <use xlink:href="#2c" x="53" y="54" width="48" height="53" class="gpad-highlight" id="d_pad_up_highlight"/>
      <use xlink:href="#2d" x="53" y="91" width="48" height="52" class="gpad-highlight" id="d_pad_down_highlight"/>
      <use xlink:href="#2e" x="70" y="75" width="52" height="48" class="gpad-highlight" id="d_pad_right_highlight"/>
      <use xlink:href="#2f" x="33" y="75" width="52" height="48" class="gpad-highlight" id="d_pad_left_highlight"/>
      <path d="M84.774 69.966c.913 0 1.66.747 1.66 1.66v18.211h18.222c.902 0 1.659.747 1.659 1.66V106.4c0 .903-.757 1.66-1.659 1.66H86.434v18.211c0 .903-.747 1.66-1.66 1.66H69.892c-.911 0-1.66-.749-1.66-1.66v-18.222H50.01c-.91 0-1.659-.749-1.659-1.659V91.497c0-.913.747-1.66 1.659-1.66h18.212V71.626c0-.913.747-1.66 1.659-1.66h14.893Z" style="fill:#fff;stroke:#000;stroke-width:1.66px;stroke-linejoin:round"/>
      <path d="m91.827 94.401 9.095 4.542-9.105 4.564V94.39l.01.011Z" style="fill:none;stroke:#000;stroke-width:1.66px;stroke-linejoin:round" id="d_pad_right"/>
      <path d="m62.839 103.496-9.106-4.553 9.106-4.553v9.106Z" style="fill:none;stroke:#000;stroke-width:1.66px;stroke-linejoin:round" id="d_pad_left"/>
      <path d="m81.881 113.432-4.553 9.106-4.553-9.106h9.106Z" style="fill:none;stroke:#000;stroke-width:1.66px;stroke-linejoin:round" id="d_pad_down"/>
      <path d="m72.775 84.455 4.563-9.106 4.543 9.106h-9.106Z" style="fill:none;stroke:#000;stroke-width:1.66px;stroke-linejoin:round" id="d_pad_up"/>
      <path id="center_icon" d="M71.374 99.114c0-.817.672-1.49 1.49-1.49h8.939c.817 0 1.49.673 1.49 1.49v3.642c0 .817-.673 1.49-1.49 1.49h-8.939c-.818 0-1.49-.673-1.49-1.49v-3.642Zm1.071 1.382v2.389c0 .268.219.485.49.485h8.83a.49.49 0 0 0 .491-.485v-1.742l-1.452-1.437a.497.497 0 0 0-.694 0l-1.249 1.236.308.305c.099.091.156.22.156.355a.491.491 0 0 1-.85.331l-3.394-3.36a.497.497 0 0 0-.694 0l-1.942 1.923Zm5.55-2.209a.662.662 0 1 1 .001 1.323.662.662 0 0 1-.001-1.323Zm-5.131-1.656-.082.001c.21-.594.775-.995 1.406-.994h6.29c.649 0 1.202.415 1.406.994l-.081-.001h-8.939Zm1.242-1.985.082-.002h6.29c.028 0 .055 0 .082.002a1.493 1.493 0 0 0-1.406-.995h-3.642c-.63 0-1.196.4-1.406.995Z"/>
    </g>
    <g id="shoulder_trigger_back_left">
      <g class="direction_highlight" id="shoulder_trigger_back_left_direction_highlight">
        <path d="M110.415 51.254 98.146 34.763h24.538l-12.269 16.491Z" style="fill:#ff00bf"/>
        <path d="M97.161 17.167c2.534 0 13.254.512 13.218 21" style="fill:none;stroke:#ff00bf;stroke-width:8.5px;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:1.5"/>
      </g>
      <path id="shadow4" d="M54.417 40.591h37.84c1.52 0 2.77-.618 2.77-1.36a.695.695 0 0 0-.07-.309l-10.9-23.604c-.7-1.545-3.53-2.648-6.75-2.648h-11.8c-7.66 0-13.86 3.05-13.86 6.811v19.761c0 .741 1.25 1.36 2.77 1.36v-.011Z" style="fill-opacity:.5"/>
      <use xlink:href="#2g" x="32" y="3" width="76" height="56" transform="translate(0 -4.346)" class="gpad-highlight" id="shoulder_trigger_back_left_highlight"/>
      <path id="bg" d="M51.957 38.16c-.38 0-.73-.072-.98-.196-.25-.124-.4-.288-.4-.484V17.719c0-1.69 1.4-3.225 3.65-4.327a20.546 20.546 0 0 1 8.83-1.803h11.79c1.26 0 2.48.206 3.46.597.98.392 1.67.928 1.95 1.525l10.9 23.625c.03.34-.13.515-.38.628-.26.134-.6.206-.98.206h-37.84v-.01Z" style="fill:#fff;stroke:#000;stroke-width:2.2px"/>
      <path d="m74.228 32.999-.217-.942a.766.766 0 0 0-1.493.343l.9 3.914 3.914-.9a.766.766 0 0 0-.343-1.493l-1.606.369c.66-1.61.965-3.317.85-5.04a.766.766 0 0 0-1.529.101 9.59 9.59 0 0 1-.476 3.648Zm-9.227-13.535a2.177 2.177 0 1 1 4.168-.327.93.93 0 0 1 .191.118l2.594 2.023a.986.986 0 0 1-1.213 1.555l-2.594-2.023a1.04 1.04 0 0 1-.16-.158 2.16 2.16 0 0 1-1.678.093l-3.292 3.361.048.141.046.179c.021.101.036.205.043.312v.269c-.006.101-.019.2-.038.297l-.055.216a1.959 1.959 0 0 1-.044.129l3.292 3.361a2.16 2.16 0 0 1 1.678.093.957.957 0 0 1 .16-.158l2.594-2.023a.986.986 0 0 1 1.213 1.555L69.36 30.5a.97.97 0 0 1-.191.117 2.179 2.179 0 1 1-4.308.516 2.184 2.184 0 0 1 .14-.842l-3.291-3.362-.006.002a2.14 2.14 0 0 1-.356.093l-.131.018-.236.013-.171-.007-.188-.023a2.142 2.142 0 0 1-.447-.125l-.232-.108-.19-.117-.204-.158-.153-.147-.147-.173-.081-.113-.129-.221-.084-.186a2.661 2.661 0 0 1-.035-.095h-2.107v1.616a.704.704 0 1 1-1.408 0v-4.641a.704.704 0 1 1 1.408 0v1.616h2.107l.084-.209.08-.155.124-.195.144-.181.089-.095.125-.115.144-.113.065-.045.274-.156a2.182 2.182 0 0 1 .737-.2l.313-.006.24.027c.128.021.251.053.371.095l3.291-3.361Zm1.228 10.811.04-.038a1.127 1.127 0 1 1-.04.038Zm-4.929-6.48a1.13 1.13 0 0 0-1.401.76l-.032.141-.014.181.016.195.03.128a1.13 1.13 0 0 0 1.396.761l.113-.04c.411-.168.7-.572.7-1.044l-.002-.072a1.13 1.13 0 0 0-.698-.972l-.108-.038Zm12.928-7.039a9.59 9.59 0 0 1 .476 3.648.766.766 0 0 0 1.529.101c.115-1.723-.19-3.43-.85-5.04l1.606.369a.766.766 0 0 0 .343-1.493l-3.914-.901-.9 3.915a.765.765 0 1 0 1.493.343l.217-.942Zm-7.959 2.762a1.128 1.128 0 1 0-.04-.039l.04.039Z"/>
    </g>
    <g id="shoulder_button_front_left">
      <path id="shadow5" d="M94.279 44.584H54.287c-2.643 0-4.818 2.591-4.818 5.74v6.9c.004 1.258.875 2.29 1.931 2.29h45.767c1.059 0 1.93-1.038 1.93-2.3v-6.88c0-3.149-2.175-5.74-4.818-5.74v-.01Z" style="fill-opacity:.5"/>
      <use xlink:href="#2h" x="30" y="31" width="86" height="41" class="gpad-highlight" id="shoulder_button_front_left_highlight"/>
      <path id="bg1" d="M92.769 44.934h.017c2.109 0 3.844 2.067 3.844 4.58v6.92c0 .625-.433 1.14-.957 1.14H49.897c-.529 0-.965-.519-.965-1.15v-6.9c0-2.513 1.735-4.58 3.844-4.58h39.993v-.01Z" style="fill:#fff;stroke:#000;stroke-width:2.12px"/>
      <text x="70.61" y="54.634" style="font-family:'ArialRoundedMTBold','Arial Rounded MT Bold',sans-serif;font-size:15px">-</text>
    </g>
    <g id="l_touch_targets" opacity="0">
      <path id="stick_button_left_touch_target" d="M103.497 149.101c7.227 6.337 11.792 15.634 11.792 25.989 0 19.069-15.482 34.551-34.552 34.551-19.069 0-34.551-15.482-34.551-34.551 0-19.07 15.482-34.552 34.551-34.552 2.258 0 4.466.217 6.601.631 1.548 5.051 6.247 8.728 11.797 8.728 1.535 0 3.005-.281 4.362-.796Z" style="fill:#419bf3"/>
      <path id="select_button_touch_target" d="M93.558 126.53a12.266 12.266 0 0 1 5.577-1.333c6.809 0 12.336 5.534 12.336 12.35s-5.527 12.35-12.336 12.35-12.337-5.534-12.337-12.35c0-1.681.336-3.284.945-4.744a18.743 18.743 0 0 0 5.815-6.273Z" style="fill:#419bf3"/>
      <path id="d_pad_left_touch_target" d="M57.9 116.925c-10.093-.218-18.219-8.48-18.219-18.625 0-10.281 8.346-18.628 18.628-18.628.14 0 .279.002.419.005l18.205 18.204v.01L57.9 116.925Z" style="fill:#419bf3"/>
      <path id="d_pad_down_touch_target" d="m57.9 116.925 19.042-19.043 19.033 19.042c.004.14.006.279.006.419 0 10.282-8.348 18.629-18.629 18.629-10.282 0-19.452-8.765-19.452-19.047Z" style="fill:#419bf3"/>
      <path id="d_pad_up_touch_target" d="M67.141 63.678h20.421c4.962 3.261 8.277 8.827 8.413 15.17L76.942 97.882l-.009-.001-18.205-18.204c-.004-.14-.005-.279-.005-.419 0-6.512 3.349-12.249 8.418-15.58Z" style="fill:#419bf3"/>
      <path id="d_pad_right_touch_target" d="m76.942 97.882 19.033-19.034c10.281 0 19.048 9.171 19.048 19.452 0 10.282-8.348 18.629-18.629 18.629-.14 0-.279-.002-.419-.005L76.942 97.882Z" style="fill:#419bf3"/>
      <path id="shoulder_button_front_left_touch_target" d="M99.096 41.101H47.503c-2.766 0-5.009 2.197-5.009 4.908v15.706c0 1.077.905 1.963 2.004 1.963h57.603c1.099 0 2.004-.886 2.004-1.963V46.009c0-2.711-2.243-4.908-5.009-4.908Z" style="fill:#419bf3"/>
      <path id="shoulder_trigger_back_left_touch_target" d="M47.697 41.101h52.635c1.521 0 2.816-1.579 2.065-2.955-2.77-5.082-14.508-29.61-14.508-29.61-.743-1.517-3.545-2.595-6.742-2.595H58.788c-7.657 0-13.864 3.027-13.864 6.761v27.047c0 .741 1.252 1.352 2.773 1.352Z" style="fill:#419bf3"/>
    </g>
  </g>
  <defs>
    <image id="2a" width="65" height="65" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEEAAABBCAYAAACO98lFAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAHVUlEQVR4nO1b2XLjOAyEnawzmUxm9mF+Ll84P5eXzX1rX9R2q9UAacXeo2pQhaJsyyLRBEAQoCJ+U6yO3cHVcF31wb8N1XN+rX6Wv3+GDg6CEXqVXLvPQ8f1wQE5GAgi/Iralfmu6nugdjDfcXsQQD4NAgmfCb6m79w9TApAxXz/p8BYDIKZeeU1teuoAcmE/2i0/J/FQCwCQWY/E/wkdgDoZwUCpIJ+RMR7cs33TjRjXzD2AiFRfSf4CfEpXfM9CgTPPgRWfpPfGJCJqewDRDcIjdlXoStWDQE5AN4a/B5TDVkERBcICQCs5izkHyNvpMVvuJ+1gUFgAF6JX+RawXCa0QVEE4QEAFZtFXwTEWcjb6hlMAACgGBTUABeRn4e+YVaAMNAvIc4zxYQJQgFAGAV/ovhM2LcD7NQTWAteCF+MsygODC6gTitQCgAwGzyrH+JiPOI+Dq2zApECwTWAAj9SLwZ28zJxvic7bOvhutVBkQKgokD1AfwzEP4rxFxMTI+n9N9bBIsAIMAO4faMwD3MQdyLc9R+qDnW7J/FDNQ4aH+EP58FPrbyBfUAoweEODUMhDuie9G5u8eY2cmMA82jSEiBqcNlTm4ZRAgQP0x85ej4N/HFp9bILR8AoPAPkafEfQMx1vf4MxiBkLDDDIAvgs7ELBKYJlsgfAaO+f3GFOfwv93ALggivuZUKYJLhaAZz+LnQ/ArH+PiB8jA4hvsfML0IJNzE0hixPgHJ9juszy/0P+68LrWRCl2tBjDuuYrwbsBy5H4f8kEKAJcIwQgqNGFzazENAGaE/lUF2kmQZQIdowAWE0hSwiZFNgENgMGISL2K0MmUME8+BUG3oAYNBcJAkwuC8PApFziKwF8AfQBJgErlULsiUt20WC3X6DVxNeUl2IrXuMLRBsEg6EbEUACOwUsSxexnSJhC9QZ1htpVUbPuh+5z8yJ1pFkuvYOcm5TyBTyIBgTWBtUGYNYC1o5RIYiHUCAoPk4gkXVmeOeEtLNUEjRF4FeL9Q+QFHmCHdrkN4sGoAYomHmC/HzpdMNIGXGR4IO0V1jNAGjhg1NNaVwM2oCuoY/9Gdqu5XdBwZCJP+EROpJlQD0G2y2yXqdtl2boDXMTBhojAZ78k4dOfauyKVq4NLmigQbneone4DgI6BgRhkLFn+QnMXThMn4ziNmMUHVe7glDrQIIYB4I6dUPuQbubURJndmHg81h9lPsFtnnQWeBDaoVtplpBqg45HweCxuQnRcW0fnHXOJqEdaxY5iwGWCu/G4sbVGlO2Kk3GpSC4DhWMjDPhDwGEjqd3TOqXus1BB5517B5+aC1okY7N9d8cRwbC/5UWgZ+BoGXxfQqkQ5id2pFor6JtRgqCCuCyNRW7zg8FiEuZVXXLtESnVGmCE94lLcoszgFIn9Ma01vUEzQbmwMhE5737e46A8MJsi9l2tiqV2ZF28mY1hHb6oyzbdeRqw06MPa2zUL4bFJeC66AmFCPJrjSWFUT1PzeUiBckoXzCK5OWY1HD3ZsyW2gVAu0LMZJDG6fY7qF5nUbYHO+oEf4TCN1LDoOl1VKtUFBcB5YkXe1Qc0ouw0Lg9EiTaCw+nONksfwFL4K5Uw0InbVqGwrrabANQDuHJkczihzzM5CnYwt5/laAGAM7IdU+AdigPBkQHBARPBAxTmqCjotuDeMgWAwmLXsMIXz9u6QhuYRIXTWP7Sh0oQttXwCA4GBcElMK0PsC0Ke00q5u5WAfYCCfyfMILBfqFasFAQFwiU1HyKvDPEzGEg1lSyR6lYBgP8wCnwbETfEt+Gr06lTTMtwv1Y/h6vhWoVgTeAMkzuMxQKxWmsZTvOOFfCqBbcCAj7fxdQc1Cfg2TOqapGo1mBASGI8xTTL5CpDqsqupL5PQRbaB9W/iYi/Rr6h7wFCtjyiny4QcKMCAdWsKkPOo6OyzOajOcjM/GAKUHc1BTaHh5g7xdIULAijSTihNHHhhMhmkeOIpYc02CECCDUFtypMTqqovBYEEUqBeI25QwOp/2BbZhCqMwZVXIIl0a0KrAXOF2yF7z6uQ9rAzgpm8TrexiDoHkM9egWC9pNFhi420CAJS2PXxglUpqI6zitofZKLtb2lscqhsk+Ac3yMeVDmAjPd1qdnGXvOMbKTzH6vljWtUbp4gUFwTtUd5tQNE+8auwGIaGhChD3VmhVruQSmJTp3rLfn4BYD8WyuOafhEjsR4Y/t7QVCAwitVbqS2Ea+1/AZ5OIE1iz2E5o44VcAOChqAtANQgJEVglypTqefY4RqjDbpfSyM0k2rXfQo/6gxjsPzkyyFz9aYbPbUb4bThO8R3npA1S8+8RVKYDBbVa2Y9JUGgPCbZZB3hsACLGIirfgtETXKtsxue20u7bCRyx7GexT9cLGu5A97MgJyMLrPRHxL70SyFSAgTa7VhpMm11HxH/k5VClBJDq2tFMWLk+6KvCRy2fFy+L94IwoWO9NP5PnCGYUfUm/THfjv9NBf0N6UGHaHzqzbQAAAAASUVORK5CYII="/>
    <image id="2b" width="43" height="39" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACsAAAAnCAYAAACWn7G7AAAACXBIWXMAAA7EAAAOxAGVKw4bAAADoklEQVRYhdWZ3XbaMBCExxQSCm2v8nJ5wrxc7hrCT0joBRo8HkayKTetztkjY2T0abzeXQvgP2rdPRc/n15vuv6lezrdM9/kySpgty72CvaWBYxOZpCd9a3jBHeq9ADGwauwDUg1hOMxODXYcRM4wgpogpxVjn1xNcCvyufLomrAV7AG6pDJHFqbQyVLC4jA87SCBuQ3s5n0Duygn8X0mIZy/rLI59Nr58AD2KCqQs5LvyjHcznnwAqrcMdgXQ04KZhAOSlBCLgA8GD9QhbjsAr6IXawzx8YKn/xY1XX3cBvPyEI9wDg0YzQhJ0JrIPui81LX/NxXfClJZ8lrKq6KGBLAN+LLYspMN1BYY84K7kHsCtG9/G7cBXa1HdryrqvPhSwVbF16QlOYMJ26F2Aiu4AvNuiUqTQ8wN156SXVSosXUBV/SFG6GWBpWIoEx8L7A7AVsbMZIxHB57TWN3DBmXpBuqvVHYN4KfYWtRdmLJ8mLblewflYmjHApxi9k1u8FigVjir+kuAV+hdwWH3shCqRfc4iGk00bsco0GKsUldAqvCa/SuoG5AWILwlh/QP2yMJBqvo7IzP9FQV4Edeo3eh92naXwgGUGoNkFTFgSAjjkguYEDc8WatTTuauylssxKFOOIs8KaSGrZr1bBVWsDH5ySRaoVaLz2qzI2FUC1krSawbTV6koP3MmmjPM5Rt8YWrA6ocdCFiEaduboowBKzyedY3ldqgPSIppxNtWfDsfUyaxEPz2VMeqzmhD49O9lERpbFXoAnNKtDkqgmt81G2lMZSrt5Fqm2TcAm3K8FWgHdujJynohQkiFIugSOYPxug2A3w1gugbnVgGbsKosb70GcIYkfs906rBc6LYAbnBW+A29a4y5Q4RlHcmB6gJ7DMMOTDktZLRE1EKG7rARo7qEHXeDl+7pVLJETVl9DyMoVeND5qqrG/GB3Iq9o3/gkrLAiBtwACdK+wRepzKLadrk7xBWo8gO15HBX2viW27y2Rqwnqeq/h6Wqn8HTqZuEF0AsPwrRbgXMlobaG6vVUyE1fcwTySeKLiwC3DzVVwmAa5fi9WXGfy9YvIqTtXldQrvbwieyQZtyo6MFh1exPjOTGuTQ+0znBvE17QjM2WvK+1z1Xr9TS9ofKuounUE5O2jCBuAE3iKFGkfQIHHKrQqaBPWgB261aeWqqmrWPrX+7Pawq732OfUqrXr1N3vSbDabv0fodbu/X/hn29/AAo2VaYa5XYBAAAAAElFTkSuQmCC"/>
    <image id="2c" width="48" height="53" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAA1CAYAAAAHz2g0AAAACXBIWXMAAA7EAAAOxAGVKw4bAAAEw0lEQVRoge1ay3LbMAxc2c6zSU/5uX5hfq7HJo7t2OqhXGu1Akgp8UybmXIGI1mWCCxeBCEBX3x0l5zsR/9z9nzP3VN/CZ6zGTaE+4wiUiBzQFYZB0J3M86XDBewz/7LwISMTfAuOEbXqnPOELSvnAOIQawajCjsqtBaaFPoSug6+H2dXL+S5znXWnithH8HxG48uSA36cMrjIH4uVNtuJZ7ACc5nux3bzSyxIhZRXhqPzq6xhAcM8Ep5LFxTEFsAg258O426j68Hpm9BYCaPhZ6lyPPO/lf5ziPCAAZq+YjfydFQDIAmfCHIvSh0L781mdPMt/UhYr7uNtQcAbdTaFrOXoQasyQBxmqb1PbFJi0kyMB0SLqUnjunvqaC6n2KfwtgLtyvDVAbgkH4D5PzVPYt0Jre0YDW90zjQFg6j4EcAfgXohgbjB2J89OketQuxScSlglwiuIswttgGb2oQsRwLdCD+VIEHQnWiED4K6zBfBa+FAOve8d09g6j6UuRAs8APhuIOhKfCYCoBlnXzRP63FR7TEOaMbAezDnBIBaIosBAngUusdgBQY05+Bw36ffq/CnIuiuEC0apWg4ABde44DLf2SFR4ytQADKUC1A7e/wx31UeALTmPK5VN5qFuowXsAiEIyFBwyxQMYRALoCAWwEGAPa03O2SALIs5ACURAszDSlalYiALpFBmBX5gTGWteU7MWdr/DNGMhKCq0oyVTXBwVAxsxAmlW6co3C+6JY1TxH5kIKwuNBXcpLZi2dIwDUKMrvPaZliS6IUYU7y4VaVakXeFrb1yygeV6fy4pCz/2z1gG9ObJGVGJHwByAW2Jtz9VcZpELZUBq8VEjXfqz/1s80jEHQAZmCS19dvZo7Yn/+fEfwN8eXx7A0iDm8C5BjT5y/0UBLGGuOyeOLvhvCdgPA/AJsibUEeMNN6/xfgVwrDwTAYzkmAXABc+E9l7OAUMez4o53WFpD8gBZZZpAshMqUyU+R7D/la3hVp6qAVYPvO5rHUSWQN23rRApHFtPnHr9ybC877WfoDdCAejVoksMRoOQG/yJpRvB7UdssZgJVajmQV0Q78t5GAia7g7hQCAMeJoI07ht0V4ap7WWbInfgXwUohA2KE7CO80MymAKHDVb1Xzrxh3E44YNunaScgAaE/oVyGC2GJoK6ornVuKKm/kQpp1nCGFp4ZVeG8xZgBcIS8BCI0LtYIruupC3kVjn0aF57Zwi6EVottB7wtFc7IzF7kSreAL5DgGnrunvrQXI/+nz2r3mf97K6TVG82sQBAkBrRaIEqp1TQaaUv3tEcM2ve+aK297n1PTwzMSG6BZhC78J0wUoGYz9WtXPiwEYtxbEXvB3ZCTKe+JgDuQia8g2BTlde1Nc7umm7mo62kr+6e4XyB1BU6WwvOk59H8pbGXzMp8frSd2RuCa+rDnZtEsS1l3zqr35d/Td7SxkJXwORValRTaRzxEwaLzuixpNnnEz4CERU6Wal9dl99D1xaz/AoUy0xsnaIXMBKBAFk9Hkc4OQUeVbicg6Ps+cvo6XBBEY+DH6VqLKLAGi5/783KaUCxLV+6N7Fn2t4qPyrdCiLlpjhAK2vhn6lABLvtBqjUt9wfXlxm/KDCtMj03mWAAAAABJRU5ErkJggg=="/>
    <image id="2d" width="48" height="52" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAA0CAYAAADMk7uRAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAEkklEQVRoge1ay3LbMAxcp3bzcnvqz+UL+3O5tY3t2I57CDdergBISjLT8Uw5g6EsiyQWDxKABFx4W7x34MPp8d1js/Zz8eM0d8wkJhJmPx0AgAGAMVAlE8b4wvrqemo7BdfRvRRIuGjBuBKC62yNaHFn+CSE4DoEMVg0YF7pqvjt80WAXLoRvRT/DUAsg0V0cWXyqqBIM1lzCb8kpP+9jX04PS4URLeQSF8lTPpipPci7VQAnPmj9E4KaKCJSAPOPJlcJqSAFIjOF9m5Mn8IiHwc29hOEzo5gIH0lXkyugLw1fqVAXGT8qY2TgkfAOyFnu33Hr02Oi24BtxBKd0VgGujr9JnIDhnJXkyvWvEOYDEkaVPTcg1QKnfALi1niBWGJqTamGM+Y3MsQjGqPbezHKKDyxxlvYtgDsA962/MxDqExkAmgOZ3zZS5v3ZI3rr6DVg9s+eGqCtE8A9gHUjAiGISAsKwO2ekn9CL/nIuY9tztFzINqBqIGbxvAawLdG6wbMtaBmRPuNpH/dxizkmUP7n+QCSU0ocmL6gAK4b8x/b71qgQ6dAXDpr0SyCi4TRre7KYAohJgK4h5nLXBr1TNBbZoAto1JMk+pq0/4zubCHmyjzny0ExGEOvS6XRMApaoaUADPOPvLS7tHjegcszQADLUwBQSB0IwyAJTyHmcTO+FsTrodZwfjqA8o81VIQSYJhoBucLZdXZwaOMh/aL/1QIxO9jJQzEwoA6LB3Ao9EPYVADJFh3WmXfJVWJICUMZ57SG1AllKr3FTBEC3yiwgrCQ/AJIByIAoiAyQMqMAXBORpCczPhWAA4kmnkJznw93nI8AGAP0WQBmNz8cLq79B/Cv28UDmOvEWb2moo+M+xQAY8xkdR22xchzUSErWnc2gGgyLzhl9Rw/8DQWiuo+Xv/pqg8VkAzAWB1H0709+iiTDGcAtIyi6aKCc804XyWAqvRX1XI0RGb+mgHYoU8Znw3MmGmlACo7V+lx0R1esyeV/AF1PnCQcVsD41rRYlbYKhPyLMrrOFvEOe2UlJKp41OjjYEhkMycysKWS96LUGScqd9Ve46ZlQNg87l2jfnfAP60a2qFIMZ8ogOQ2b5LbYM+adG0UMuMEQCaIoWxacw7iB36umjq0JUPZNL3ChptmmkhkxuNMr0uFJnRrwaC5kTHTkvsEQAgNh/aPbMnzawoSa+PRgAioWzQa8K1QBDhwbYEXsvUrbyYmQ/rOOqUR7mv9aCpxd29jKdpqkNHzjz5HIg04DUelaAXdmn7DkDn1SocS+tb9Nur+sCoE3MRj130bQmfoenorqPmVQGITMnPFj8X3JHfQHRpXDMjjWO8qLWy65X87wl6BSA6Y/x090Ot00L1joyLvST3OCnDh6yCFuW4WRSrsVAWG+VOHCzC5i/WdCusXrVWCXoWjntkmtp++poVCF+1qllFdaG51YUs0o3Cdb33NrYEEICIwIyVRTIQUWjsGokoZL5aaOx7Cb9XzlU0D86igC00HWcsbMFnNnN/Zy0KjyPtAKg/uZkstZkfOI058Wh7z8dPF9n+Akw5M9cvVTL/AAAAAElFTkSuQmCC"/>
    <image id="2e" width="52" height="48" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADQAAAAwCAYAAABe6Vn9AAAACXBIWXMAAA7EAAAOxAGVKw4bAAAEqUlEQVRogd2a3VLjMAyFT0qh/C1XvBxPyMtxudAW0nYv8GmOFclWYHd2Bs9o8m/7i2RbUgL8sDIsufnp9LLo/r9VnofHU/bebgcdiN7xd4vtfHXcgws7Y0CG5DbTRqtDp+Q2BJt1pAESCcx+rw2vI9phu2/lfL8HtQ464UGsgq0HGMF4QB7AMdhWUE+nl8FCVQ2KdiyIyoVzboWctrIgh7JP0eOZxhTK05CFIcC67FPWmMNFmuoB2c5bGWSrYLNyBnLGDmHY+TWAS7OlEExNMQOkmlGAEcBHkRHTSzrIs4Psz4EExJoaAS4BXAHYlC2PLZRqqgekJqYg70a0vuZYikxOYdYCsgFwXYTHERTrimDU1AhDgH2RHWqNe+NtELiuhi5Qa+YGwG3ZUiyUN0lYGKAeNwqzK7KVeuw4O5ZrqqmpsTJ+KBwzBLkuELcA7ozcYtIWoXQ8tTSk2qGZEeQNwKsjO3xq7r08o7MfnofH01c0dAfgF4D7IoTiuOJE0gLSscNxsy8wfDGD3KMTxEfrhbWmbR1Dl6XTBLoH8FDA7sr5a0yznzU7D8iOnR0+XxqfP2E+tqwFzIqnIUiHaH5XmMxPtfSASUs3mGZD1ZA3hjxz25ZnCUOQPWLtq8xmObvSe1A6MaimCKQNR2bhAe1Qa8ZqTde9pvZ7JqdAOpaoKU4W95hmvCVAHBM6Zgi4kfq0zqZHEpmcB8UJwgMjHE1zCRAXTh7vUS/e6nJ5MFX9GW/bQlnPgbKRfZpGC+ggnaSZ7aVugnhLQRiHRSbXg7L+nQXMaEg9ilHqinxE6yemx5CCWCjrgVvPW497QDzv1WE9eDsJhH5iy+QUJhMnRTFS5Pqcks96bYelBxTBWclcz9aVrcMtq/4t3ZJOMSXq+XZdWQ1FCYue/Ou6FgNFWRjrynsC9NchK/Za1P5ioAyIjftHTDMUkFuHxiJah02Q2KwP0IDygDIg7MiHEcJwnekBqXPK8MBCehmfEKqlIW1cQTQu0ZD5Qu4fE0Dq+uxFCMd2ohSWC2WB9IaWVjTmp2cAuSfjKaiGGKky/FYw1pmCUqDI1Gw2hiCMLglzwDx8QACkmR6+IIbdb6Vu1ZiaoQflAtkG7VvUN6lhAmHekQ/wbOqK4fcrgN8CRm2p+SnUrEQm540b1Yx2+lCuaQieySl4ITi1RCjVFKHClLAHBMw1pKa2xeR4ApNmliRJ7MxpkyRvqLW0RZ3lsWZXFU9D3szGN6hjQ+1f46BeGssbozaNRfOLzC5cYM8NltxcKzmiYTejVM3JeWFy1UYAZLVE06Z2KJwB3UkiSgV7Da0whcm8R7VmTe07qWA7k+qWIHZdqkp2DOm1I2oT0YlgyScVbzZV70OT9TznwYTrEMxN6mDqubFAaOIv+vLQ0lALSsVziapJwf3g9Tw8nuQbkQKNpmH1BqIPXi0YDyjyF72PX19aWFmO5rw25n3kysC0oDwwL8QIve1Zw8F3Vi9R0gJZAuRBachwdM6dn29+NA6gIjh7rVlno9jB7XkArlfgfdYPG1/440WzrmTxZi0PFsCCHy9sSfwak6onWWwnZ53+8q8xXvkfPy8t+XHpR5Y/ZaguuvoNjWEAAAAASUVORK5CYII="/>
    <image id="2f" width="52" height="48" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADQAAAAwCAYAAABe6Vn9AAAACXBIWXMAAA7EAAAOxAGVKw4bAAAEqElEQVRogd2ay3LbMAxFIT/qxE26ys/lC/Nz2bV1/IisLsprXV0BJNRkughnMPRDgngEkAQgmX2x1i05+Hl4XXT8Z7WX7mnIHtscoAPR+v7RpoOffG/BhYMRkC7ZZ/VHgxqSfQjmXpBguI/E5HPrGt5AvIFHcjvOg5oNQmBYVkHvAYb6HSgP4hr0MziFmlwwgFmJrJ3fGK4G4oGpXIv0wecq1Ma5iMKsqd+UHp8VMLJUBIMeA8XAezN7L31fdPc2BVM9UyBnEcBgMXjItgj/5kGxrgjEs8p7kYv0nehwFwW1kOdqDPHNkQyU1xgGdx8AFzM7F1mXXm+ClXOH5+G1g9tFLsfzBUA7M7srsqOeLcZQ0FWDgZsxzNnMTmZ2JH16DgQ3LpxD3vzZ2F9L3JnZfZF96QG1s9FSGSupdRjmWAQ3qLO5a+o8mgBg/kB4zsASgPhuZg+l3xPYzkb3w13NAME6bJk3MzuY2W8z+1X6Q5G3Anu2ca7d4F66p6FmIV4QYCGGeiSw+3LMls5rAfHcYTfDjenkOMyt6g2rLdvqcrDWvsA8mtmPAuVZKQvE1jnY6Lb6v87TFBAOiBYFdr1Hkn2BZStFexLPB7gNXG1brjvYOK9ONl8kvAhltspFUQIv2zynGApWAtDG8kCXMljcCMAAYmdT6zDUrLVcji3lQQHswUa3w8Ait2AgzAu42UCAvC3oXhdGJJHL6Txi18MGy/sS4DCPMkB90XW20WVgGejJwEz0exZiOLWWBwYBIAaRAbrYaJm+wOhGnbJMDUjjMAXS+G4rkrUQz4N30uXFiOkcLLKQdyLnQRyBaxTOkXgNCG7m6dC0JJ2e1FyOYTJ5UitHUqAhea537bC1gCK4mgtE/y/Rl9Uxa6v2Ic2WLjEl9HxYV9ZCtaJFq6DxWbpSsC0grbREYbwnZu2NtSUK0gSLgDIgvQjiMrhxZh/COapLiyIKl07BcbBe3APhdBnhy7qcd10AhGgatQMPsGaxJhBftFbA4Lz/ZKNlEHRmgXA+BDoBGJWw3KZASu/B8AA4IeNBZmM5jraRjR4JTK3mWWoCx0DqnzUYDABhTkeD42jbKkCcPiAfQrrtgcH9qitfNIc0RdZqzIFgrBx7so8leEeb1hFgsZNN3Q+WSi0K3iKgd5HTbLOxJsApOIcv3g3DTVDLHwrQT4Fi9wtLwh4QX5Tdja2DAWNQKD1p0TEKJBmI5xFbCZaC+8H1eC6lXE4txCsacnoMEP/DBZE+aIpcA/IKJVzGgpXU7XhvmrTbxUptrlUxvRfRQqOX87eA+MZxofGN4PBdV7+btaJSsLfCIatE49+RYWKByGaW0UrKloIL4vMMwlOcWeW4TKQbIldrPqtYD92wRGajDYF4L9LasQfkZZmZzFKvA70aVnEfwrgPvF66p4GeEUVA7O/6wItT5RoM62sFvhrX4b/FGyuaPimDwpWNc0v3nGyG6UXzHlgrpZi02YUrD421UKK/qb6MhfizB6apw1WOrz80DqAiOP09C6JNg0wvAvC+5x7roy188aKqK9m8PCfql714wS3xakxKT7LpIGeD/udXY6L2v19gWvLi0pdsfwDrTzKXc+jmowAAAABJRU5ErkJggg=="/>
    <image id="2g" width="76" height="56" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEwAAAA4CAYAAABXJB78AAAACXBIWXMAAA7EAAAOxAGVKw4bAAAGn0lEQVR4nO2c21LjSBBE0zYwHhhmX/bn+ML9OV6XGTCL5wGllU5ltSSDL0RsRXRIsmypdZRVXX2BBQ6wh+3jwj5ajGx9Px23bFsc63YbzuOfxd/+2w/ZnEo7KIXi++kzv98hwBxQOvbPPxXapEoHUA5jiX1QfpygHQpMy1uxTfA+BdxopQVWAkA4Xha2z2O9zqT7YwhL4Wj5z44dIICPQ7uqThSqqgCtuuL7DjEpDsjgPCZVkFheZZ/ngH1wH7b4hk1VwFA1KytXXVnJVov+vnLRylxZDollY8cKT1X3IZWVChPjQ/LBFcy1bK/lWIsqz6EhbIFaXQSgkDYAXqRsunts7Bq8/vZh+7g4FNoAmKnL3Y4QrgHcyPabHSu8ltKAoWsmWAqMyiKoZym/u62rltd8s+PZtnfhEODV/RQUIa1ty0JoqjKNa61YVgFTV1RYvwH8ksJjQqQK1UUPds3kkim4ExaBrAF8t7KWQqhJZZXCKlUkddH9COeb3Gtp10jphl5/llUxTKFRJVTVdwC3XbmTrYKjym7QBtZqKStgqq5fAJ7sPgv7nacZy+46OCSW7YCNuCNdkcq6A/DDikKjEt0tk0vS5gKjutbdfRSW52baWu41AFMgqbnCUsBXd1zjXVE/ANwD+NkVQrtFrzIN/p6XTUktHBhbRwWm6lrK9z030zRjKd+ZrbJWDGMqkYDd4R3UX9iHRpW5wsYC/lRgrjDeY2nf9bSDOZoq7SCVJYW5S2rryPhFl7xHD+0e+8CosKkpRWXeSjLoV8ry/EyBEdoS0lrOUdlYK+nAGPTvunIv5Sd6lySwsdg1BxgV9ophkFdlpfzM0wsG/9kt5hUQx7c8YVVgDPzaUtId79C3ktrMt3IvhGN/CI9jvK7D0txMy3N37hq9yhby+8k2xSWTyqi0VBjw2ToqMGAfzhyFEYymJ8AwtikwTWYJ7Qq9e+/ysoft46REVoGltz4GbW0l5V9V33GOKTRVlsYtz/yf0L9EBcZ4tkIf/CerbBk+S+Nd2o/0znYq3vn2/mQaGkolfcf7s/riCOhWiifTnubsXmYITQNr5WGpi6TDNz4qkTraKaP3e7VM377ur9C7qCbVz6i7bApMYxmD/ySlJYVpZVvgWspJY1+toN8yd2etCxukqlFyaBouYsgYU1nLJb2CDi1l7mMjqx+xKV235J4JWiuhbtqYwvx4rACfC6mql6usFdNSHKsapVGVtYBp5Vpx6BhqatVH7+sNkrvlVJWt7NqljQFLFT4VnCn1GFOZw9JeiELT8AKgVtlcYJdgVQMwBiy1mD4aPCqGrwhMjQ9XJdeem6UWM+VlALLKviqwlO60eiNJaaqyyS3mVwWmlhoATWbHgLW6cQP76sAODf4p+48qc7f86sDUpuZlSWUpxfg0l0yrY85R1LTldGg+slL1L8s4piqbslQgVXTsYXTM/BT5mgKs4lk18awd8pfudzrAuNcpbwHzN+mTotUqGr0ZcDxg1Qy5jm5U4HTrs/Qb+e0bzCpgaXjYZ2/SCppX9G+E4+anUpgOKOrypgpcGsOr5h+aCqvcLkHSaSzKWYeSTwHM66v1TODSgKivbxukF5xZcmB+c1eUT2FxRobZMrrvpbH8Y1uaXdKZIp73vM231UjMFpgWw1rLjDh+zhu9dee9f3Zsq1TGenIsfzD5gZmDnJVLJlgbDCcZqCxW8kU+a+YzR7KkMs6ScyLEZ8G9cVsU+wD2gSV3rFTFNQ3qhi/o5yMndTOOZD6HyRfNl8xpN50NT8uhorViWLWe4Ql9oFRl6XzkuYHpC2cco2f8i/25ypbiBvAql1RY+pZ80RorpAtD0mz3KSylQmnFD5X21B3rXKUuiYpKuwLely526X+KXwqMyoFU5hm9i5ZjSye2VlhRaFzaOdk9W4kr3Y2BU4dwWRG6Ykr+zjmMnV68p0O6lKByTcCgtVpJfTv68FqBm+6GVaYMnAcaH9LX9qvSfIXPC4ZryAbQdsA6t9QbsgP9ahXRuDBnSeYprZWAew9F15Gl4D+qMN5o0PHEEJguHUiB/pwzS1N6Lakkhe1W9rT6ktz3v9nhzVLf69yu6OZpUjWAUC0ebivMWktguBaUAKulApeiLprHoGp4qvoruIHFh5r4J39V38uvec6g758lcNvieHcdXWhXPkz4izaHkiBdgqoq81CThrH83GBVYvMBiz9Z1v1LUNMcc2i+vwcnLeGc9ICN1SyXDmjMBkDG1rke/MBTljdeun32fxz434L9AZ7ptX/DaxeNAAAAAElFTkSuQmCC"/>
    <image id="2h" width="86" height="41" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFYAAAApCAYAAACvIt7jAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAEmklEQVRoge2bzVLbQBCEW8YGgiG58HI8IS/HMeBfrBy0Y/W2ZlaKqyivEqZqSrKx1t6Pdmt2JAPf8SXRXHLQS/t20XFzjNfmub3kuMmAHJhjj+caCjJ7PBX0KAwB2jhb7++Tx79yRBDHtqOAw4k7QBliE6SOOSewLXKAUWbHRYDdiRNU3i7QA1wEW++4mqME8hRsFbILd6lPCFTORcob2rfHCnfMIq4dnlIV4mfanuSx/V3HySKbcACVAXIuaZ+Bl6yhplC1KsBj2rc8Ygj8rFxV7UCxKRgqw1ylY2xr+/waDy6Pe83wTlYK1SAeARxou0j7HGflvrRvDcM9g3XUyko1gCsAt04aZA8uR01g1QIM6oFyn/Imbb3P79qCKlY9kqHeArgDcJ/yjvIWvYrHVFtLqFpZpTvKLfrzSCPHtum58ZMXhjawRAfOgD4A+EFpkFm5pvbawbIFGNQ9OqCblCaWRo4bwGU7iBTL3mpg79BBXVM+pDTlqmoXzvjXDLUCBstQt+jnY1C9E5xlA1HuEjj7q+exbAP36BS6BvAE4DHlOj3PluCBvTZUC64G2AbMArbolOpB5ZOb7S8wwQo8xTJYU+wTgJ/oAT+gtwS1Ax67hlCwbANmAe/o5wDndau0b3YHeIqV4IogUuwjOqi/0naNHizbQa21LPsjn7TYAkyJahO36CuFwYrzpX3Da/PcMlhvpcUe66nWlPuI3g4MLCu2JrCRYvfwobLvWkbVT6jYUg3L5ZZVBKZeO5HNWbF7dJ+7Qe+7O3Tz/IBfUnL1k0Vp5aVLWV4gcD1roLXs8qqCmkIVy35qfmvzUaiuDfDgpTrWg7uUXAVpYGutY1mx9jkNsjcXXVmO9kM8K9B9D3Qpoz5trTF1bl4HDwjmtyz90Qlt9p6C/PzLca8RuqTlDBvbEuH8Io8d+wBWIHOpwsU0e1CtYfOyQt8aLtyEsXkqdB1jEEt6AZcLpXaavak1KTbIyxNeec0BLK+8uKTaIYfNq62sF+uFp1gPKjcobMmnNd8BeSOmdn/VliEvad/RlVgb9JBLcCd1t7x2mgfV4BlUr4atHSyQfxttjh8AfqMHzAo+0DGhDzNYbfx6PcoNelWCXrNF3oCZE1hdfe3RwXxHDneDoXJDS1DFMlzuqO+Q13S8OuGloNZ6tYc3V1atwWXVRmBHr3mVbICLaf7q6OWZ2k9cFp7PavtQFbuH77UA0EaN7ugaEC9PuePD3SBdQ88NLFufNl7sasIWuc9OUqxXah0x7N5wg4IvJmpjAqgbrjdfrs3Nb3eSXn3re+xr89zSVVp7kyYdzHD4K8NrafZVbf7WGgrWvol60uZFg9a0JxnnHJ4V2PYkz9sbHzFsTER9gtpjbEHECuYcrWOzydO1L68xoXfC6O1Gk5oTFUYEVwGfZL94N0xUFVjof8UGv6jjU2noV9nmWWoy8WsGUAEHQHCnoQKMvvZzAqrhea6KynsewASwQHhvLO/r43CsmYWnXg84v8a9jTOEUbg13muGF8eaWWhbMHqueFf3JBjBjzn+FZBjMYA35XcIF8P5X345c+mvZr7ji+IPPk7IumiDX5AAAAAASUVORK5CYII="/>
  </defs>
</svg>
`,GamepadRightSvg=`<svg width="100%" height="100%" viewBox="0 0 123 232" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" style="fill-rule:evenodd;clip-rule:evenodd">
  <g id="right_side_of_controller">
    <path d="M10.5 140.855c6 29.375 13.537 33.424 35.28 43.583 35.355 16.519 33.138 57.105 56.59 45.51 14.36-7.1 21.13-19.23 21.13-38.4 0-24.92-11.42-65.99-32.4-119.1-10.625-22.2-25.844-16.642-42.794-16.642-7.93 0-15.744-1.225-22.454 2.225-14.564 7.511-21.031 55.022-15.352 82.824Z"/>
    <g id="stick_button_right">
      <g id="stick_bg_right">
        <circle id="shadow12" cx="42.54" cy="176.272" r="26.46" style="fill-opacity:.5"/>
        <circle id="Oval6" cx="41.3" cy="175.022" r="25.21" style="fill:#6180b0;stroke:#000;stroke-width:2.49px"/>
      </g>
      <path d="M41.215 179.291v-8.477h25.442v-7.872l12.11 12.11-12.11 12.11v-7.871H41.215Z" style="fill:#ff00bf" class="direction_highlight" id="r_stick_right_direction_highlight"/>
      <path d="M36.977 175.052h8.477v25.442h7.871l-12.11 12.11-12.11-12.11h7.872v-25.442Z" style="fill:#ff00bf" class="direction_highlight" id="r_stick_down_direction_highlight"/>
      <path d="M41.216 170.814v8.477H15.774v7.871l-12.11-12.11 12.11-12.11v7.872h25.442Z" style="fill:#ff00bf" class="direction_highlight" id="r_stick_left_direction_highlight"/>
      <path d="M45.454 175.052h-8.477V149.61h-7.872l12.11-12.11 12.11 12.11h-7.871v25.442Z" style="fill:#ff00bf" class="direction_highlight" id="r_stick_up_direction_highlight"/>
      <g id="stick_right">
        <circle id="shadow13" cx="43.16" cy="176.892" r="17.12" style="fill-opacity:.5"/>
        <use xlink:href="#4a" x="161" y="142" width="65" height="66" transform="translate(-152)" class="gpad-highlight" id="stick_button_right_highlight"/>
        <g id="Group-61">
          <circle id="Oval-Copy1" cx="41.3" cy="175.022" r="15.88" style="fill:#fff;stroke:#000;stroke-width:2.49px"/>
          <circle id="Oval-Copy-21" cx="41.3" cy="175.022" r="12.14" style="fill:#fff;stroke:#000;stroke-width:1.25px"/>
          <path d="M39.689 175a.318.318 0 0 0 .317-.353l-.282-2.586a.318.318 0 0 0-.317-.284h-2.102a.32.32 0 0 1-.239-.53l3.995-4.543a.317.317 0 0 1 .478 0l3.995 4.543a.32.32 0 0 1-.239.53h-2.102c-.163 0-.3.122-.317.284l-.282 2.586a.318.318 0 0 0 .317.353h3.433a.32.32 0 0 0 .319-.319v-.968a.318.318 0 0 1 .51-.255l3.05 2.287a.32.32 0 0 1 0 .51l-3.05 2.287a.318.318 0 0 1-.51-.255v-.968a.32.32 0 0 0-.319-.319h-3.721a.32.32 0 0 0-.317.284l-.386 3.542a.318.318 0 0 0 .317.353h.029a.318.318 0 0 1 .233.537l-.966 1.034a.318.318 0 0 1-.466 0 972.66 972.66 0 0 1-.966-1.034.318.318 0 0 1 .233-.537h.029a.318.318 0 0 0 .317-.353l-.386-3.542a.32.32 0 0 0-.317-.284h-3.721a.32.32 0 0 0-.319.319v.968a.318.318 0 0 1-.51.255l-3.05-2.287a.32.32 0 0 1 0-.51l3.05-2.287a.318.318 0 0 1 .51.255v.968a.32.32 0 0 0 .319.319h3.433Z"/>
        </g>
      </g>
    </g>
    <g id="start_button">
      <path id="start" d="M30.051 132.744a8.497 8.497 0 0 1 2.825 6.334 8.495 8.495 0 0 1-2.825 6.333H18.67a8.495 8.495 0 0 1-2.825-6.333 8.497 8.497 0 0 1 2.825-6.334h11.381Z" style="fill:#9a9a9a;fill-opacity:.5"/>
      <use xlink:href="#4b" x="152" y="117" width="46" height="41" transform="translate(-152)" class="gpad-highlight" id="start_button_highlight"/>
      <path id="start1" d="M28.85 131.196a8.494 8.494 0 0 1 2.826 6.333 8.496 8.496 0 0 1-2.826 6.333H17.47a8.495 8.495 0 0 1-2.825-6.333 8.493 8.493 0 0 1 2.825-6.333h11.38Z" style="fill:#fff;stroke:#000;stroke-width:1.35px"/>
      <path id="Playstation_Btn_Icon" d="m20.832 134.571 5.982 2.961-5.975 2.955v-5.916h-.007Z" style="stroke:#000;stroke-width:1.1px;stroke-linejoin:round"/>
    </g>
    <g id="button_1">
      <g id="Group">
        <circle id="shadow" cx="45.85" cy="121.855" r="11.806" style="fill:#00ff04;fill-opacity:.5"/>
        <use xlink:href="#4c" x="171" y="95" width="52" height="52" transform="translate(-152)" class="gpad-highlight" id="button_1_highlight"/>
        <circle id="Oval" cx="44.99" cy="121.007" r="10.945" style="fill:#00ff04;stroke:#000;stroke-width:1.72px"/>
      </g>
      <g id="Playstation_Btn_Icon1">
        <path id="Line" d="m41.345 117.35 7.72 7.731" style="fill:none;stroke:#000;stroke-width:1.72px;stroke-linecap:round;stroke-linejoin:round"/>
        <path id="Line-Copy" d="m41.345 125.081 7.72-7.731" style="fill:none;stroke:#000;stroke-width:1.72px;stroke-linecap:round;stroke-linejoin:round"/>
      </g>
    </g>
    <g id="button_2">
      <g id="Group1">
        <circle id="shadow1" cx="66.7" cy="101.005" r="11.806" style="fill:#ff0009;fill-opacity:.5"/>
        <use xlink:href="#4d" x="192" y="74" width="52" height="52" transform="translate(-152)" class="gpad-highlight" id="button_2_highlight"/>
        <circle id="Oval1" cx="65.851" cy="100.145" r="10.945" style="fill:#ff0009;stroke:#000;stroke-width:1.72px"/>
      </g>
      <path d="M60.941 95.78c-.898 0-1.637.739-1.637 1.637v5.456c0 .898.739 1.637 1.637 1.637h5.456c.898 0 1.637-.739 1.637-1.637v-5.456c0-.898-.739-1.637-1.637-1.637h-5.456Zm11.457.546a.548.548 0 0 0-.931-.386l-2.182 2.183a.542.542 0 0 0-.16.385v3.274c0 .145.057.284.16.386l2.182 2.182c.103.102.241.16.386.16a.548.548 0 0 0 .545-.546v-7.638Zm-8.746.911a2.905 2.905 0 0 1 2.898 2.908 2.906 2.906 0 0 1-2.898 2.909 2.905 2.905 0 0 1-2.897-2.909 2.904 2.904 0 0 1 2.897-2.908Zm0 1.212c.933 0 1.69.76 1.69 1.696 0 .936-.757 1.696-1.69 1.696-.932 0-1.689-.76-1.689-1.696 0-.936.757-1.696 1.689-1.696Z"/>
    </g>
    <g id="button_3">
      <g id="Group2">
        <circle id="shadow2" cx="25" cy="101.005" r="11.806" style="fill:#48c0fb;fill-opacity:.5"/>
        <use xlink:href="#4e" x="151" y="74" width="51" height="52" transform="translate(-152)" class="gpad-highlight" id="button_3_highlight"/>
        <circle id="Oval3" cx="24.14" cy="100.145" r="10.945" style="fill:#48c0fb;stroke:#000;stroke-width:1.72px"/>
      </g>
      <path d="M17.592 98.69c0-.798.657-1.455 1.455-1.455h.677c.486 0 .941-.243 1.21-.647l.591-.888c.27-.404.725-.647 1.211-.647h2.808c.486 0 .941.243 1.21.647l.591.888c.27.404.725.647 1.211.647h.676c.798 0 1.455.657 1.455 1.455v5.093c0 .798-.657 1.455-1.455 1.455H19.047a1.462 1.462 0 0 1-1.455-1.455V98.69Zm9.821 2.183a3.288 3.288 0 0 1-3.273 3.273 3.289 3.289 0 0 1-3.274-3.273 3.29 3.29 0 0 1 3.274-3.274 3.289 3.289 0 0 1 3.273 3.274Zm-3.273 2.182a2.192 2.192 0 0 0 2.182-2.182 2.193 2.193 0 0 0-2.182-2.183 2.193 2.193 0 0 0-2.183 2.183c0 1.197.985 2.182 2.183 2.182Z"/>
    </g>
    <g id="button_4">
      <g id="Group3">
        <circle id="shadow3" cx="45.85" cy="80.155" r="11.806" style="fill:#fff000;fill-opacity:.5"/>
        <use xlink:href="#4f" x="173" y="56" width="48" height="47" transform="translate(-152)" class="gpad-highlight" id="button_4_highlight"/>
        <circle id="Oval4" cx="44.99" cy="79.295" r="10.945" style="fill:#fff000;stroke:#000;stroke-width:1.72px"/>
      </g>
      <path id="Light_Icon" d="M44.99 72.753c.336 0 .613.277.613.613v1.227a.616.616 0 0 1-.613.613.616.616 0 0 1-.614-.613v-1.227c0-.336.277-.613.614-.613Zm0 10.631c.336 0 .613.277.613.613v1.227a.616.616 0 0 1-.613.613.617.617 0 0 1-.614-.613v-1.227c0-.336.277-.613.614-.613Zm0-6.542a2.465 2.465 0 0 0-2.454 2.453 2.465 2.465 0 0 0 2.454 2.453 2.464 2.464 0 0 0 2.453-2.453 2.464 2.464 0 0 0-2.453-2.453Zm4.626-1.305a.616.616 0 0 0 .195-.449.616.616 0 0 0-.613-.613.616.616 0 0 0-.449.195l-.868.867a.615.615 0 0 0-.164.418c0 .336.277.613.613.613a.615.615 0 0 0 .418-.164l.867-.867h.001Zm-7.518 7.517a.612.612 0 0 0-.418-1.062c-.17 0-.333.07-.449.195l-.866.867a.612.612 0 0 0 .866.866l.867-.866Zm9.434-3.759a.617.617 0 0 1-.614.614h-1.226a.616.616 0 0 1-.613-.614c0-.336.276-.613.613-.613h1.226c.337 0 .614.277.614.613Zm-10.631 0a.617.617 0 0 1-.613.614h-1.227a.617.617 0 0 1-.613-.614c0-.336.277-.613.613-.613h1.227c.336 0 .613.277.613.613Zm7.847 4.626a.614.614 0 0 0 .867-.867l-.867-.867a.616.616 0 1 0-.867.867l.867.866v.001Zm-7.517-7.517a.617.617 0 0 0 1.032-.449.612.612 0 0 0-.165-.418l-.867-.867a.611.611 0 0 0-.441-.187.613.613 0 0 0-.426 1.054l.867.867Z" style="fill-rule:nonzero"/>
    </g>
    <g id="shoulder_trigger_back_right">
      <g class="direction_highlight" id="shoulder_trigger_back_right_direction_highlight">
        <path d="m12.269 51.254 12.27-16.491H0l12.269 16.491Z" style="fill:#ff00bf"/>
        <path d="M25.523 17.167c-2.534 0-13.254.512-13.218 21" style="fill:none;stroke:#ff00bf;stroke-width:8.5px;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:1.5"/>
      </g>
      <path id="shadow6" d="M70.5 39.658H32.67c-1.52 0-2.78-.6-2.78-1.32 0-.1.03-.2.07-.3l10.9-22.92c.71-1.5 3.53-2.57 6.76-2.57h11.8c7.65 0 13.86 2.96 13.86 6.61v19.18c0 .72-1.25 1.32-2.78 1.32Z" style="fill-opacity:.5"/>
      <use xlink:href="#4g" x="165" y="3" width="76" height="55" transform="translate(-152 -4.306)" class="gpad-highlight" id="shoulder_trigger_back_right_highlight"/>
      <path id="bg" d="M31.21 37.298c-.37 0-.72-.06-.98-.19-.25-.12-.4-.28-.4-.47l10.92-23.07c.28-.58.97-1.1 1.95-1.48.99-.37 2.2-.58 3.46-.58h11.8c3.44 0 6.56.67 8.82 1.75 2.34 1.11 3.66 2.63 3.65 4.2v19.18c0 .19-.15.35-.4.47-.26.13-.62.2-.98.2H31.2l.01-.01Z" style="fill:#fff;stroke:#000;stroke-width:2.17px"/>
      <path d="M60.102 31.312a10.054 10.054 0 0 1-1.374 2.86.681.681 0 0 0 1.122.769c.892-1.302 1.505-2.722 1.785-4.195l1.075 1.05a.68.68 0 1 0 .95-.974l-2.551-2.49-2.489 2.551a.68.68 0 1 0 .973.95l.509-.521Zm-8.281-11.708a1.932 1.932 0 1 1 3.698-.289.862.862 0 0 1 .17.104l2.302 1.795a.876.876 0 0 1-1.077 1.38l-2.301-1.796a.82.82 0 0 1-.143-.139 1.924 1.924 0 0 1-1.489.082l-2.921 2.983a1.183 1.183 0 0 1 .043.125c.011.038.022.076.031.115l.01.043c.019.09.031.183.037.277l.002.022.001.037a.508.508 0 0 1 .001.039v.026l-.001.071v.006l-.002.038a1.91 1.91 0 0 1-.034.263l-.014.066-.025.096-.004.012a1.515 1.515 0 0 1-.045.132l2.921 2.983a1.939 1.939 0 0 1 1.489.082.898.898 0 0 1 .143-.139l2.301-1.796a.875.875 0 0 1 1.077 1.38l-2.302 1.795a.862.862 0 0 1-.17.104 1.933 1.933 0 0 1-1.828 2.326 1.932 1.932 0 0 1-1.87-2.615L48.9 26.229l-.005.002a1.954 1.954 0 0 1-.339.085c-.026.005-.053.008-.079.011l-.014.002c-.035.004-.07.006-.105.008l-.018.001-.012.001-.048.001h-.027l-.074-.001-.013-.001-.015-.001a13.143 13.143 0 0 1-.119-.01l-.013-.001-.063-.009-.021-.003a1.881 1.881 0 0 1-.54-.175l-.011-.005-.02-.011-.011-.005-.01-.006-.01-.005-.046-.026-.018-.01-.007-.005c-.03-.018-.06-.036-.089-.056l-.009-.007a1.622 1.622 0 0 1-.141-.106l-.013-.01-.027-.024a1.461 1.461 0 0 1-.128-.122l-.008-.009-.039-.042-.005-.006-.028-.033-.027-.032-.007-.009-.012-.015-.012-.016-.029-.038-.005-.008-.032-.045-.006-.01a1.934 1.934 0 0 1-.076-.123l-.024-.044a.773.773 0 0 1-.015-.029l-.038-.079-.005-.011-.004-.011-.004-.008-.015-.035-.004-.011-.004-.009c-.011-.028-.022-.056-.031-.085h-1.87v1.434a.625.625 0 0 1-1.25 0v-4.118a.625.625 0 0 1 1.25 0v1.434h1.87a1.351 1.351 0 0 1 .05-.132l.005-.011.019-.043.034-.069.005-.01.006-.01.003-.007.023-.041a1.82 1.82 0 0 1 .095-.151l.006-.01.009-.012.023-.032.009-.012.007-.009a.106.106 0 0 0 .009-.011l.006-.008.009-.012.028-.034.036-.042.001-.001.063-.067.008-.009.008-.008.076-.072.026-.023.009-.007c.041-.035.083-.068.126-.099l.002-.002.047-.033.01-.006a2.03 2.03 0 0 1 .201-.118l.011-.005.021-.01.011-.005a1.924 1.924 0 0 1 .654-.178l.012-.001.058-.004.015-.001.015-.001h.022l.038-.001h.05l.012.001h.025l.012.001.018.001.032.002.012.001.024.002c.045.004.09.009.133.016l.012.002c.113.019.223.048.329.085l2.921-2.983Zm1.089 9.594.036-.034a1.002 1.002 0 1 1-.036.034Zm-4.373-5.75a1.002 1.002 0 0 0-1.269.783l-.003.016c-.006.04-.01.081-.012.122v.013l-.001.026c0 .054.005.107.013.158l.001.007.001.008c.007.037.015.073.026.109l.001.004a1.002 1.002 0 0 0 1.238.675l.007-.001.012-.004.011-.004a.142.142 0 0 0 .022-.007l.013-.005.009-.003a1.001 1.001 0 0 0 .648-.937l-.002-.064a1.002 1.002 0 0 0-.619-.862l-.027-.011-.009-.003-.013-.005-.01-.003-.012-.004-.009-.003-.016-.005Zm11.565-5.943-.509-.522a.681.681 0 0 0-.962-.012.681.681 0 0 0-.011.962l2.489 2.551 2.551-2.49a.68.68 0 0 0-.95-.974l-1.075 1.05c-.28-1.472-.893-2.893-1.785-4.195a.68.68 0 0 0-1.122.769 10.047 10.047 0 0 1 1.374 2.861Zm-7.156 2.147a1.002 1.002 0 1 0-.036-.034l.036.034Z"/>
    </g>
    <g id="shoulder_button_front_right">
      <path id="shadow7" d="M32.192 43.878h39.986c2.643 0 4.817 2.645 4.817 5.859v7.033c0 1.288-.871 2.347-1.93 2.347h-45.76c-1.059 0-1.93-1.059-1.93-2.347v-7.033c0-3.214 2.175-5.859 4.817-5.859Z" style="fill-opacity:.5"/>
      <use xlink:href="#4h" x="159" y="30" width="87" height="41" transform="translate(-152)" class="gpad-highlight" id="shoulder_button_front_right_highlight"/>
      <path id="bg1" d="M30.673 44.236h40.011c2.109 0 3.844 2.109 3.844 4.674v7.053c0 .638-.432 1.164-.957 1.164H27.795c-.53 0-.965-.53-.965-1.174V48.91c0-2.565 1.735-4.674 3.843-4.674Z" style="fill:#fff;stroke:#000;stroke-width:2.15px"/>
      <text x="48.396" y="55.277" style="font-family:'ArialRoundedMTBold','Arial Rounded MT Bold',sans-serif;font-size:13px">+</text>
    </g>
    <g id="r_touch_targets" opacity="0">
      <path id="stick_button_right_touch_target" d="M34.841 141.791a34.686 34.686 0 0 1 6.374-.588c19.07 0 34.552 15.482 34.552 34.552s-15.482 34.552-34.552 34.552c-19.069 0-34.551-15.482-34.551-34.552 0-10.648 4.827-20.178 12.411-26.518 1.298.465 2.697.718 4.155.718 5.345 0 9.9-3.406 11.611-8.164Z" style="fill:#419bf3"/>
      <path id="start_button_touch_target" d="M35.167 134.497c.26.997.399 2.043.399 3.122 0 6.809-5.528 12.336-12.336 12.336-6.808 0-12.336-5.527-12.336-12.336s5.528-12.337 12.336-12.337c2.48 0 4.789.734 6.723 1.995a16.16 16.16 0 0 0 5.214 7.22Z" style="fill:#419bf3"/>
      <path id="button_1_touch_target" d="M39.627 106.677a16.066 16.066 0 0 1 5.496-.963c1.93 0 3.781.34 5.496.963l9.655 9.656c.623 1.715.963 3.566.963 5.496 0 8.894-7.22 16.114-16.114 16.114-8.894 0-16.115-7.22-16.115-16.114 0-1.93.34-3.781.963-5.496l9.656-9.656Z" style="fill:#419bf3"/>
      <path id="button_2_touch_target" d="M60.481 85.823a16.066 16.066 0 0 1 5.496-.963c8.894 0 16.114 7.221 16.114 16.115 0 8.894-7.22 16.114-16.114 16.114-2.186 0-4.271-.436-6.173-1.226l-8.715-8.715a16.056 16.056 0 0 1-1.227-6.173c0-1.93.34-3.781.963-5.496l9.656-9.656Z" style="fill:#419bf3"/>
      <path id="button_3_touch_target" d="M30.442 115.863a16.056 16.056 0 0 1-6.173 1.226c-8.894 0-16.115-7.22-16.115-16.114 0-8.894 7.221-16.115 16.115-16.115 1.93 0 3.781.34 5.495.963l9.656 9.656c.623 1.715.963 3.566.963 5.496 0 2.186-.436 4.271-1.226 6.173l-8.715 8.715Z" style="fill:#419bf3"/>
      <path id="button_4_touch_target" d="M30.235 86.294a16.056 16.056 0 0 1-1.227-6.173c0-8.894 7.221-16.115 16.115-16.115 8.894 0 16.114 7.221 16.114 16.115 0 2.186-.436 4.271-1.226 6.173l-8.715 8.715a16.056 16.056 0 0 1-6.173 1.226c-2.186 0-4.271-.436-6.173-1.226l-8.715-8.715Z" style="fill:#419bf3"/>
      <path id="shoulder_trigger_back_right_touch_target" d="M76.155 41.187H23.519c-1.52 0-2.586-2.458-1.769-4.167.046-.096 14.212-28.399 14.212-28.399.743-1.517 3.546-2.595 6.744-2.595h22.358c7.656 0 13.863 3.027 13.863 6.762v27.046c0 .742-1.252 1.353-2.772 1.353Z" style="fill:#419bf3"/>
      <path id="shoulder_button_front_right_touch_target" d="M25.477 41.187h48.72c2.613 0 4.73 2.007 4.73 4.483v14.346c0 .983-.854 1.793-1.892 1.793H22.639c-1.038 0-1.892-.81-1.892-1.793V45.67c0-2.476 2.117-4.483 4.73-4.483Z" style="fill:#419bf3"/>
    </g>
  </g>
  <defs>
    <image id="4a" width="65" height="66" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEEAAABCCAYAAAAIY7vrAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAHcElEQVR4nO1c23YbNwyEZEduLm7ykJ/LF+bn8lK7kZVa1vahHO3s7IDk6hK3J+U5OEtJ3iUwBEAQ4Dri/xar1xr4y/BtMvbX1efhtXi5KggqaMe4KRDXBOmiIBihVx19bkNH/+KAXAQEEX5lru67rA10zfrHdglAzgKhInwP6fgqcIv4nrPAOAkEIzw+r+nzmq5r+Y7vQYMQhxgFPdBnvc7AOBWIxSAQADrz64RuzHcOCBZ8iIiXGEHgPpPTjsVgLAJBANAZh7A3QrfUx+98X4ggLPRLROzLVckBgmctAqIbBAOACg9hb4neyGcGg0EA8xCchX8u/T31+fdMM7qB6AJBAGD75tmG0KCNXAEIA8Hjs+qz0M8R8ZdcQaolJwHRBCEBgNVdBb8j2tBVgYA2BDENYVh40A8ifMdg7MNrRROIKggNADDzGxL2t4TwO5sHO0g1BQbgR0TsEsLvAEP9RRcQt50AgHT2N0XIu4h4W+gd9UHQDNaGDASYgQLwFBHbGLXqtnzH/uWZREgjzm4QBAC2fwiCmWfh3xdCH78BKAiAZ9VAgOrvivBb8wznYFnwA/pfhm+rTBusORQtUA2AGrPqvyOBPxC9J2qBgJaBAA3YRsT3iPhTCL89FcBgHrp6pGYx0wQTDXLQwyaA2f8QEfeGMhB4haiBAHN4kme0nKsjjkdmLTMHDYZ4CYQWYPZ/NwSNgKawT+hdHQCCA5F9igKQRZNDxD+TrNowASHRAvYF0AKYwH0R+iORgsArBAdNDLRGi/sYV4ddTE1J74+YCp9Fk3YXOgOBhFczUC14G1NN+BgRn8qVzQGziGXUaYGCcCgg3BUQWHi+n4XngCkLoDi0boKgQDhfAAAgsDMHaIFTY14e0RgEAMFLKmuA/r1GmfuYB1DrGE1i4iCPICR7Aw2KEA+oOYDuYzQF1gKdxWwrzRrR2ms4R+oiSWgEm96kqSb0moJbFnl5ZC3g4Eh9gYIA4QbhgUFgJ6oriQut+f6DA2IdvmWaoCAoIVrUuEB3kS7HoFtx3pNgddHYRMfG+M6RTvIYvAhkmuBAACMcITJBeHWENT/gwNckSbaCaEAFcoEZg40o8tgYBN0sZT6BgdCw2M2+A6C1e4XQDMCbmJoBtHKX8OFWFF2WRxAqGaNsv6DEAOjAtbxiCwB8vinfuQnJ+ADPuk+Z8aA+weULNWGyScghvxQA5gNXTeIwP7yN56vzB6k5OsfoNMFljXiwLGu0VHjlA1d1oK1MVpbO4wDt6BwZBBcnuBSaI/b6TvhzgUC/pqGtnGbqj5w54FozjWzJY/U9VxOUL8ePTpJbgpu81MyhNrAjB8AlmptBHq+XtxSMLFhiBmpUVbMrNF1me6jJWwuEX6K1QDipOHrFpsnTi/DmQHAPcnVATWBkDJzbVBDODdR4q/FV3UDxQG4Q3rfzNrWrUHpmY35cMqVWq6zywiAoACy4Cu8If+cGPBWIGk86vuYQdJJS06iZgwNAa4NaBktrgie0TCuVH02kKBiqpcdnI7ukW2lnBln2xtUFwZwGT2i9y6jaf2tCwA/zxxNTTbiuGZFOAFxNEAyoVpziMJ0GMACuROd4USDS8VkTsH11qqcpLNQGOZFRK4+57HILBD6xUivSMh9cqOUibdVBZuaQaQIXRjmRwQlVBWCIMR/Qyi6pxrhSPQu+jWkZjktxrJkMxKxlKXenCaoB25gmMlxNgQUDENneQjUAaXcUYjiNhrokE9cjoQ0100xBaGkCGPke8wSG7ibVrLKUO5tHNjZXp7ko+0h9BoI1oXle4QjC19XnoSQZFAg1B06quNMnTpieVFfLF0HtHws9UJ9BYHNwWjBrNXOATa6JGZfI0KSFizFq6S4ez/kBqDe04MEQl+mz8vxxjGpBlhiKGAsVXCDVBIbu2bOZdGcTHAjZGQVoAUzgISL+KARtYJ/Q7RRnIJBJgDEwBW2oJSxqqpwVZdkc2PzYGaovAAggNgf2B7VAKQeBmjoq1PIcACyEW1K1JKexBMYZzP18UgWrwGNM/QIDAFNwq0JEdJ5UMdoA5laFOXVqzpZ1SatVp/UZz+YZteM6uipokNSMVGsHt9g3RHlohPfoDAKH1xpPuIMaaO6AhsYGrBEcKGmkuOgYX7qhaZTqtT7Jp9j0GJ/WJ3tPr7FP4NBYo8NWhGhXBG6pJkjcEDHOdsTcZ2THbJ5iWhrrPbjFjpH3K3jmjr7v3TWmrbm17TjVqiUxPdp7F9MKkYscNTjTnSsLzH13GKPbDLpBqADhqlPZ4W72BVmAxfsFPt2uh7tZ7fko7ws9oxuAbhAMELpc6vsNXBJzhzSyiDFLn+k5JKf6s5Xgokf9K0DUymKuNFarEDMImkR1L36o8DZ11tMWV42S13+ystiN6bvKleYRXEq/O6t91dd/0JIXwbL6pfZdiUxTagdz1e8Gue/nvQjGrfJWXFaz1N+5KRAt4nt+/iuB2ha+HOr+NmIumBP2osI7Js5uF3hNOGIa3MyEjviXviactRNeGI9IIrz/zAvjS5oD6DX/fcAv3/4G1s+EbdFAgYoAAAAASUVORK5CYII="/>
    <image id="4b" width="46" height="41" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC4AAAApCAYAAABKvBuPAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAD00lEQVRYhdWZzXKjQAyEm8R2kv075eX8hHk533Ydm9gJe8g0NI0EYzuXTJVqKBjgk9BImgH4pq255eZtt7vp/pfmubv23otenIDWnMsAJ+drlakCN+BmoV9q3UIPYFmB2ZcFwI0dN8H56LkRpAqC41n4FFygHfYuONZz2XMd9sP6SFL4ENygVe4WhGP02W7RjwpZhJ+AJ9AEuy/9qhzfyzn27j6Edrj3Imc5zhSYwK8cPIFWyFWRtRyrIu42EAiFdTnJdb2Pik8A+2bWVisTeF1kU2QtfQTPlzr0qcib9ZR3EX6tkdUji0cuQuiHRAi/FnD6Ol+s0G9FjgBauUebzokGZvU5V3HoTYF8EnksPeE3GFtdwRW6LdCqbDQnCN8A6LbdrqHVe/BkUqqLPBTQHwB+lp6i8Gp1YJhoZ4M+YHAxdSudvGrxkdXd4lEUuRfwpwL6S4RKPJYxDk7/JvgRwGsZuwrGqXyU65ykfatxFX5OB/8N4I/BE5xAjVjvhE9rH2RcpBxd6oxpeF20uIdB+q+6CsEJT6tvAksSpsWntTkXgKn/U05ivN6Nt90OL81zNxdVCM44zQgyZ3W6C0Mjwd4xuMlarumX4NfQ0Fplca811M89HDKq0PoE5yTNwNU9VJkDhq+q0FEyG8CTKtBDIhXgCxhlGBIpDk5XYcija7SY5oG5DDyCr035DI1RFvVsqlYDhsjACcjxXjZEwGm1mYHPKXJJxcjWJdfnnhsVaxeDZ/Wy19cqnlR8TM0z04VEBp4V/FpzeLFEF2lkPDDOmicTrQ416WQro77dAWGh7laMqjqGsCOGyKDyGpw7yHiKKhTV5uGaVC2efXqv6hSUEYRWPmOcyjWKnDCk+70ppgoQfrISysAjBTRdK/Qe46qO0C3qMucewF8A/0QBlrhV8A4eQetLaTGGL1qU1xmTGdqAuFZ5LdAO3xYDRT4PAN2krA0UUPA3jOMu3aCT61o80X2a4DnqLrT83sC5Cqq2uEJHFteCX6GPyOtxL2u1HqevE5y+rq4yKWlH4C/Nc7ftdg7PF3pSIQx932uNaOkWrYA84lzt4w7eCKAnFPXba9acLcYhVd0kAl9cLGvc5Av1WrSiUehLV/nRSt/jePWGULagWJloRRfV0AoeZV5d7UQZtAev3RDSQbopE312tXJUQ2dJLZNwJ8vbLXuHDpttv2XwX7t3mMCzX9qpjWpoL5ayAi6sDC/arQ3gOTb7ErNF/4ICfq4fe9X+eAKv92R99NwuOI6qvv74pj8S3maUqHlmBDI596X/gLJ261834LY/b9+y/QdJLrfuY2EtwQAAAABJRU5ErkJggg=="/>
    <image id="4c" width="52" height="52" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADQAAAA0CAYAAADFeBvrAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAE3ElEQVRogd2a3XbaMBCEF0ISaJr2Ji+XJ8zL5aZJgAQK7kU0ZjyelQ1JTlt0zh7xI2R9Hmm1WhNxZmXymZ3dN48n9fcwuWs+awwfAkoA9DN9r4PvwXwE8CQgAZkM1FlpBuqTwI4CqoA40zY8WK6dcZujwEYDEYyCTM1r/ox/oyB7qfV1+5uxUINARhU3eNgFveY2XBRkHxE7eu0gR0NVgRJVptGHcMZtuPDAd4ntow+Im1EFS4EMDO42BnsREbOKqVoYEMP8rtiO2uF3g1CzDEiKKoJBXxa7ktpBRQKziYgt1dvSHt/jd1ynxSok6jAMg1yRXZPhs8s4TD9WSGE2EfFGhveAQ9veFHQq9YAEBkCsCkPMiy3o9ZyAAKVAGCwgXiNiXWoY4DbRn4apo8imnMIASEG+kS1KPY+DUgDiKQcgKLEuhhs1i9w7ouzNZ+3A22KmGmAwxa7LwBcRcUP2vdQAA1QGhDsPZZZiLxGxKsZqbaPrCXsqOYVYHZ5urA4gbqVmKNzxDAhTbRUHRVUd3mx5/diIIgNSKHYCmGYA+kEGqGOBoCa8Yg2GbaIwHaAy3TJ1LuOgDoBuC8jPYj8EqDbl4BCwdrQdQNze1HMM981jO+2GphxPt6s4LHxMMwd0E/01xHcdg3uL7r7FMHDtW6rZhQOqp5ICqUpOITgEhoJBIXbdbmPdJjBQBV6Q9yk4BSjJYx10CjV3DTcNKDV4OQzW7UPuO4XBGmPT6KMXOUwjeusnUwhOASrxHsTejTfZ68Tm1Fb70b54TwMQbkRr2HJqCjkgVmoRfYDapopyEe8qsTK82a6ju5c5IA162+LW0FgoNQ53eG0oEB/82AFoXwrCMO7waIH4gm4tcYTtjKcEfpslTbRfvWncpyqjUBbI5Qj0VJod5rLDnb1oHBa0zoIxh0XXZ+vpdDq44pyFmiZHsj7cZ3pkz8wlYHrXGwP0X5UxJ1ZNMbm4SgNG10fWryZGMnPXyGO56EavLs1US2qo8T7hQI7tdzSYU0iB0CkHidvE4JV4n6klSXamT4Q7WfymYJ2iQKySJjQ4JHHGmym7Zr0ob6QM4PIKAEuP4Np/ppDeRb0wTprrqEfW7sDGfXJOgfMKqBkQYKxUT6FpRHuEdYtf1eELr8iWpQakJjvUXD/LpK8MqDPe2nlIFdLodxXdOCs7xA0dHzbU30ux5+jmFlgpBurkFLi4NQTjRYvpwUkNl6bim5BNQz2xAuipAD2X9wqEdJZTKAViKJ5ymzK4dfgwXgd7zBEcWZ7niPhFYDz1VKFhL/cwuWvum0e8xfFWFdKYS4/NrOQxQMsC8WSAXqPuFJqhNBYGyIkKflTCIbwOks8zY4HgCKASphxyc7qGUnUyIDRUlTZxCCC5rbrhMYlGtyaxljjR6BxCdWPNctvuPMTZU5cK1qwp59rGpIJ1K8DaqWVNm7G5bY0YFJ5dO68xbLScp86ePnB0oBurS9bbnJyWv/U4xUUfX/M4RaBq2dQxD7xqoQ8Hpe6hVy0oPfkJngaAteB1Fu93lnMAeoxwm/axjySrJVUo4sweGhsotM8SKPpYP0toZAc8BeiFNx9+rJ+AaZJial7XEifZiVg/G63KSUACxb91aWQH3w5Oamfc5mv+GsPlbP68pOVs/l6WlX/hD4BnV/4AcperLpSp2XYAAAAASUVORK5CYII="/>
    <image id="4d" width="52" height="52" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADQAAAA0CAYAAADFeBvrAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAFUElEQVRogd2a0XbaSBBEC+LY2E68L/k5f2F+zi+7iQO2A+yDp6BUqh4JzO5D5pw+EiCGuaqenp5GwB/WFpfu8HH/dFKf3xff9pf8/Q8DBYBT+hzBfBTwLKAORHXUtg/nfgRwHtxJQAaig15MvNamg1dDOD8ZajaQwKSBL4tzBTsMUga+K84ddDbYJFBQxUEqUzgFUoBkFdwsqC5QAeMD/2S2lKOqxcE4wDaYA86GKoGCiyWQKzm68Rp1O1VmC+B3YT2wLtRVjxbZvRTgc8dUMQfSwb81e5Vz/Zxtxz4e90+LCioqZOq4aynINYCbZtdyVCh+n3dYlXlt9tKM5wRMinWVGgEVMEscVbmWwa+CKRRdkn2qqxFm0yDW7ZyvCaiKTbpf5XLualTGQW4B3DW7bcbPVCUHepNBbwD8Km5CFfL9vQwUopqqQxdTkHsAX9rx3qBuZHBLAeK8IcwaR1VdUQ7ajSqNWlLIg4C6GmEI8gXAVzm/b6AESgop0Brv6lRADqDutgCAx/3TwO0OQBOBwNW5byAPzb42I9CtATEoJKCVwPB3HWZrxx2Ga9uhuUIOlebOHY7KPAD4qxmVIhDnhANtcYxmq3DdAsMFV6OcAlGlQRifcjmq87kB6dxxoAcBSgNVICpEFakOMF503zBcnxTMs5CoUFpEk0KqEk3nEIF0YdXBOrB//mqmUBwfF9tDuwIO88ez6ASkYToFBgJxknMO8i7qwprWKCqii+2m9feCYdTUpWWWQp4VMCNQt6PdYbgeeUDQQXPgHs3oilxsGTBW7VzXKAUatKW9rnI3T3N0YVXTTEFTIE2V1FYn9KVJr2fyC0bpKihUiahD3WCYyymEh2HgXQlPVqnMTWEK4wnvSCEFqnaivQzbVah+WIE0hdlZn1V/qk7aCUegHpRv4vyHFGDkDtY/oaoN4ty+dZyH5nPI4c7dcleFE++711/v5pQK9YD0x/+vNue3utf0gKpyU8p6q3JUKk8hXHNKFSj1NQlUVWY0v6pyrAqy6jcVSXr5WxfOg0J11zy38hyLlhbTuUWS1J/uVuM23JsCpSJgShKZlngtgJ9rblZVfbahT+9Pc7gKaHL74C6hLuDbZq0BpM0c+/GFNeVsGzGvLejNqqD2ve1DUkjv3lpMawEpCdXFEBjmcszZfhVGMC+W+JwaNHe5pBDvjiqj22bfz/D7ugtV1ejCWiB5BvCz2XMzh3KgVDR5B/q++LZvyZ1CqbtRoTWO+dxUVceV88/ZH2H+AfCj2c+ZQJNziM0jkQJpnqUBQBNN3Y1OFUkU6G8BokobHAOE1uYiVC9s6938hOMGyxNFYHznvepT1RQU6EeDolJUaVKhWPUJbscfXwqUJonAsKDBqLVGLpIQ3BXXOaQu94yjy1GdbkAYAElzlX4jJ568lnON6nBz1gNSl6NKhPKg4OpsbYyDVtW2aZrW6zbcy8BeDtYImOaQRrkUugmawvZg/sytbfMiraq4MmmR5OC0PNUr1qdFdS3vazBIOd2oxVTcVPKiif4DoVvytBWvgofOuZdgnvak6Bb/Tun94aUX7+z9lJNRIa8BpBpClcvpH1+alM6CATqbJat1u1Is4mupS498PxVJNP2hUp7JE9i3L0CYN9pKhSyMsx06xVClbYN4Ra4BoPO9yvxfcX6/2ya3vMXzCVpD0GLHVC2gyhf1XD8bheez/wUvoPidFDTSMRUzfIud/vtxT7jcgxcFWJpfwDCDKCszGN75tJ0+SRVtZ1V0Jp758fe8edpfHf/7h5e8TTxa1uvbBzp4/ZFHzC5Wczv1wT9tl34I8I9q/wJ8hc/eTcdQhAAAAABJRU5ErkJggg=="/>
    <image id="4e" width="51" height="52" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADMAAAA0CAYAAAAnpACSAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAFSElEQVRogd2a3VIbOxCE28TYQIDc5OV4wrwcNyfhP8CeC9S41duzP4FTpyqqmtLaXmv1aUajmbGBv6htPnOwq+F61Xg/Nt+Hz3z+h2CKya8Zs4P5KNxqmACwKfpq/GGmB/BnYKtgBER7v/b3tOnEh5nXANZBLYKZgKAcFdf+jMHktbjuoJYCzcIYSAI4KsS1xMm9Sl+JQ2MJ1CRMAaIT/hKE7/Nefl818ArgRXqVCmwWqIQJIAliW8gX9BqCTEon/hxEoV5kAThGCbRdCeIAx012cn0s9zmMauJ3kCcDg4NIP2ojzRQgrglOft9kJ/0OvYY4jpqXTv6xyZP0/JxQbnZROx3MhEZUE5z4HsAJgNPWnwQgmhtwMLFnA3kQuTc41dQsUDIz3+zUiGriVOSsiUJRcwnGQe6b8H7VJuS77Df23iQMgVwr1AgBvgI4b/1XA9q3yXHfAAcTew4gt+g1SRh30Z27vhquN6qdd5hmYnNaOZXJXzQY9gqUYAYcTIYwdw2E9yoMFyAdqNEZVGbm3su1cgHgssmFARFmZ5PTzf+IN42oFtW81PNpP4oYVDtb0QrQa8a1ws1+3uQSwLcmBFJT42qrN1MY3kdn4Rrxw9QPVM53bGaYNrEd+r3CyRPmMmhGHYDDPOHNzBQEsuL0eCp6oKoG31sys8rETtBvfALR3AiTTIcTpQN4Qu3t+LnLb/SRxasDLdWMmpkDnYucoTcd3wdcWXUO+pkfpDx/+Nq9HQBsroZr/Nh8H1wzafPrQelA7Hl9hrEncxN6KTSiIHQOqmU9h9x9v2kmuGQ/YxyGQCr64D0OZ1OKzdz0uEe4jzSqoFesQLqWNFPFYx7KEE7js2O5N53k6okUZB9Eg1eP9SLQ2nBmSqoUII09tPtebAzGdT6ujpcy2cM5EyCmkrCUu6gJaAaa8qWp3Cj1R6jNqxvfV64CS4C+UmnVgPEqrkm9Uwoe98sUzP/VNtavalXUDExHrFVFpcvXZZylY84VNapnABhrZu4BPKFTzOSxkz90auwUh6V4LI353rbhg1QG0gzR4ya+3rX7qlKTAmgxI9UCPG1WsDINcDPzVfM0lxGv5+16sKn7raozzzbuUxhXYzICVRoCABy1XCCpX0E00tWY6R7j+EknkTToabPXAXQ8h5kESppx02KooanuHfpwI4XxanL6PqF0LGact+2a6bQukGonOoKpPaPhuINoyOEg/F5KATwOuwNwI3IrokDUqGtG513uGX6Bq6gwt+jjsKqUNFedUZifAH41IdQdenNTU+s006XNBYhv/gfkeClNtCpoaNr8gIMWfgL4R6DU3HzvaLDatS3JWirgDkAfrvGY7wVf8SUFDYX51UAIc4NeM+7RZvcMm5uZBoR+hvg+eETtGBIMN/4NDmammnnAQSvRk8W6mYCwZ+FAgVKy5ftqrgioGuQepKgToNt391yGNKnWnBK0lDpr+sxrVmY829QF8vRY3TOFIHTN0cyW1Jp5g24yr/u6+3atLCmcc6KcuB7A1Mii8yVNEsCoIKjm5emzp9ApfU6OQrXjYYxqQn8BGMGknzRGmik8G9qgujI+sUeMXXc6ND1MUrCq6DerFWAiCSoK6SmF1vzffzXz1Fm9ZIrE9f3kvUYeTNtUcgb03o19ynGqH2qr6kzKYRxgFQgwk57avzGW1ALSWeQpQJUvOcAo/vrQT+cBSienE/aKTFWoc6DUu2AJyGIYA3KoqpJTjZ0m7GbM68//u4m2ALWk11btQ33vv/8jkLaJfzctGXsorj/0N60/hvG29o9z2j77T3R/RfsXSO/jtpPsGBMAAAAASUVORK5CYII="/>
    <image id="4f" width="48" height="47" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAvCAYAAAClgknJAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAE80lEQVRogd1a21bbMBCchJAGSri0/BxfyM/RQkm4E9wHdvBovLKdwEurc/bY2Eaa2V2tdqUA/3ibfEUnF83VTv1cTs6bz469MwEDPalcvTWV685ktiYgwCcjRFuTyJu925rIaAIV4FO57tnfSkIB87qxv5XYaCKjCBj4qcieyEzu+V4JvAnwDYBXud/Ie5IZRWKQQIBXjRP4LGQ/ZC7PZhUCryEvJnyuRBoAzRCJXgIJeAIn4G8mcyFCSwCt5l8BPIc8AXiMK5+RjLpXL4kqAQOvbkKwCwAHIYdxXcS7fbRWIAFqnsAfANzH9UHIPKG1yCCJlID4PF2GWifwQwDfARzZlSRoBSfwHEDvQ9YhdyH3QoTWoEulc2KWEegBfxBAlwCORZZBgpaYx/8ogZcgQM2vAdwmhFWpul6Ms4C4joM/DJBLAKchZwBOQpZBjm6UWYDucwdgBeAPgBuTW7TW4Pz4mBNuhZoFdNLuo3Ubgv8B4GdcSUIJDLnQHVqXc7LUdiciIbFCQSCZuLMAs4gBjwPweQhJnKB1IUajLAox+ih4utpEgNfWiclFc1XMhcwCrn26zzKAngVoEqAFCErDqK4DGkZppf34Tr/J1ogirCrYDwKVmK/uc2QEKKdBLtO+L2S0AsMsSfIdw6wK14cpEivULODuQwscBwlO4pN4ptrnmpHlQhuUKzXfcY3QEEuZBwlaomhOQNMFEqALefj00Kn+7OGQQGlZdy2d3Gu8RyiuKfdCmFaozoEshHLFJQmKrr7qzxl47TvLjzixuSDqJHeXLPpWAppx0g005zkwUeCa+2S1gLZpgNecStMS9q3h2INC0Zk2zeU1ccuSNmah2vkQeA8SrqRaYlirMzoE9HktbXbg2umY+qKWJPoYWX2RAh0qE7MCRifqNuBrRLw48nE6SiLmmgV0AL/3wT/bvI9ss6DanIBnf16A630RzlDJFgfa0DgunXGmQCfPdpCal2h+0qlhR5JwJWV1so/TSeaIOXMh7Vhr2GeUpV+WpwyR0G9UOcyRXpD3v3ECbErAzVirYSlZDav7PDXwrnHNf7R/zYOqlvCVWF1HNc8qisI6doF2BZ5If9nkc+Wwb62PWchojUwCbumUAAdS7XMAzVO0cNG8H8gXNdWcal2Br1HWyKzItDYerInd/zVDVPBMnVX7/L8soVPLUvPa5y3ey8vbkDVaKzAT7a8HLifnzUVzpYNpBcXB/qDcOvF8ni7Vt7FFpdwF2BsA1yhrYlrhEeU862yx1Fwos8BcRCsp/VbT6ixtVtehQq4B/Aq5jmcrlC5UjUJ9BHxA5irMURz8I9q5we+UgGufuxIZAbqQEhieA4kbcdAHdHeg1c0e0e5KaF2c7UowICiBawC/47pC6z4d/x+7reJW0KSO7zOX2JYAJ+8N2km8Qqv9bKEsWt/Wohf3Wh+zvFRheTm0L6Shc2Xi24sFgW23FmmF2vNso8orqdrGli9cCtwjT1X7wPDuNL/JttYXJlrD9u1OkwRFV93aFnv1sGPM+YCTcCIuXmYC5equiaGC1oOO0Sc1Y09olERWCnqI7dvYUiKvIln6PHjMtMsZWXbctJfcZ7mQkvD7nQ76tioJR5xU+s5Blsz5yeTOJ5RbE6gQcUL+jq1Wrn682+Ww+1NFeeW0vq/ftIb+zE8OvmJX4aON/c3EV/xG4r9pfwEs4yD3oK/mAAAAAABJRU5ErkJggg=="/>
    <image id="4g" width="76" height="55" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEwAAAA3CAYAAACmcqwpAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAGiUlEQVR4nO2b3XbaSBCES9ixN7G9e5OXyxPm5XK3scHGMnuByiqVumckgQHnbJ8zRwKEfj6qe3p6hgZHth+7X4289P3G3tfPo9cl2xVe7ypbAMDP5rufo2pzbrBqAku3UfPPltxPBsj3S68BzAN3FGCBqrStgv1VcNzc+4nUE7W3wmcKcBK4g4ElqlIwKwBXsu9tCbQM1luw9VaCCKAM7nrCzU0xPqSCuqo0HuOK83OquRtGatLWyra19xzg+3l/7H41GbSDFGbqUtUQynXXvtg+P6tBy6wES8G8BlvuO8CR2iJoixUWwFJlEcwXADeyvZH3CVDdtaSyTF2qklYa4Wxlu5XXbA2Gqouu926HuqTGH6pKQd0mjeAITdXJ8+o26xE9VikoQnqR7XO35XurbqvGcyJyzUUuKeqiKhQWlfRX175K43sO7QrlDiACFgV2AlM1PUvb2Fbhqbuqiw5c8xCFKbQVhjGKoL517U72Ce4Wscqy3jJySXdHPjAV9YIezlqa/kh+Tv1B/LrzgSWBXhV2iz2QbwDurREclXYjN68qA5YDU1ekmjYAntCr2q+l52RrEMSxpQrzxFTd8Ra9uu4BPAD4u9sSGlWmD7AEmMcvdUl1wycMw4BeJ0pHVhBoGstmATN1Rb0i1fW1A3MP4B/sgSk0qowKm+KSfDhuHZoDozuuMQwBTGN4njZo2mMOlLZEYZG6CIzBXtX1gD00glO3dBc5BJgHfbrkGmNYmRtvu2NaecZlMaygLnVHDfZ36N1RGxXmLnIl565ZNCRiIwAC086FAFo5hsfxGKYbKozFCvOAn7kjgTHYP0ijwgjM49cSYO6aVIt2Ko19TpfddPeysWNXkESWcWwSMKtGRD0jgz3d8U6a95IM+uom7o5A2SX1tbe2O+8r+thIWKo8j21RTjiyOQqrxa5IYWyag2kPWUpaS1bK/N+683LYw89aDDuCaNQRDdMG91MFFtS6VGERLE1YtXmWr+44B5ZbFM90mEVYW8TDsxIsfe5ZaYUqa4q6tPmQKJP/lMprqcCnGTrP9ybXiwoAURGgWJtb4pI+DNJkVVukKt6kFxSnwPLPHB5VoMMdLzN50w4nKmqO7qcIrHPHSF2RO7rC+FpdIBoGzam0qtXAaqytVX2ze1mssFIJx2OXqoywSvWv2sPPMc8VFZz+6BGoST/gKnoTKKqLD671rgiaDrCzLvtYoCKL4mKpZd8bWAosOIHGg6xn9LqXBtnJgfXIVgOVgQstBJYMgzyViIqEWaBfmm9dnJUU5rC8Tu+B3iurHuirPdBnsBGwyiDb3dFL0A7rj1IXkCtsbqIauWMtQf2U0AbAJhQIS+qKhj61Icens0hhcwbZJXf842ABkrhWBtlTgHmSGtXpgcIEw5GstvAkXE8x1TzTj9QVAdOEVV/rWNFr56wkfCQsXsvXTpRgzQIYDY1qAd+hZfUkvRmdUPBrHduiyV2f3MhW8QAVcCVgUQzztRJRT+g33WKoro82vbavo4gWo7gS9TwjuwbC3tFdMiqTRDHKZ2PQ7Z9q/Kj3QGC6HMABOrhIbQNThWUDVS/r+MIRYDzFxQmEVzv21ApjDZ+THZzcdYAltRWn2bIBaZSl88Z0WovnY109KhCewhTYFv3s9xN6eL4QZbQIJbKsHpaN4N3ldLqK0+uv2P+KOmNzSmDa0eiygTWAx65xUYqqLYI2a21FNufnN8EJUk40cH7vXAmrA+MPuMEe1r8AfqNX2zMqy51kmwLzqatIUTr13qIH6DV74HzAdIab02u/u/aIMTTvAIBKDMsu7LCoIKD/BT0fO2dlgg/MXpDxao09pEeMVfaCcQcwySWjX0hnjHVBB2+GytJ041xVidLSAV0rRnCMZcU4li13ihZ38IIEweN0JnnKZOiprBZOdJGdB38CS3tKBcZBcXQxTQ34/gvyucYI1qng6cNmy6AITtuk9CJTmALz3EsDqWf9mrPRzuGS3PoQTZeh6+pqTWJHWf9oUfDP5vtOhkc6WG7lRtxFFdSlwKK5W/KHZgem8LI/PFRdEnaQgvPhhs8mR4nuOYuFWelGqxdRJaMNvjOwwUMlJWodT/qM8SXCopWgedshcEVg/PeZWh6mBT8uIypNgF4CKLcMXFQPK8ICggdM/lEbgfGe8BJh0TxrLxUNU1hA8pAGTY/LAF0yLGAci6Jhz/t+6f+S1QcN4E363oVbCOTD/pGbQPw0tuTP8f/bQvsPPoCzn/bfs3UAAAAASUVORK5CYII="/>
    <image id="4h" width="87" height="41" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFcAAAApCAYAAABA4LXdAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAEk0lEQVRoge2bzVLbQBCE24kxhJ+ceDmekJfjCBhwsHKw2ttqzeyakFStUkzV1Aphy9qP9uzMrAC+7J/Z6rMXuBsePn2Nnu1+dTv86Xs/BCYBeeq53i2CODv3EdgnQTCoKxuzcydfvwNzYENjPAlydfIVqOp+rnbdXmDXVKqjO+y4CjmdrICNAH5Ljk+F3JNlUPfJ8Qx4BjicvIF1qDVfImBVIiHq+D6O++D3VcDryodmUL8nnkEG+gTsilVwhJo5X3+81t3wsHLAM7hBnHWo69HP5HiNOWQHDPQDebDjCOqvxFdIAPuHZMp11RLq2egbG+mq5ChE9GSq3AjsbvQ3GVU0NCoert4JXIu1qliC3QA4F7+Qcw44U29Ppqp1sG8AXsU5J3/vgDK/elhArlpC/CF+MY6EraHCw0NvpnAIV8G+iHM+sPfMMgdVbw2uxlmqljCvAFzK6IAj9fZmCkVVq2C3AJ5Qwpy+j6Hkm5yDjAVusJApYIVLqDcArjEHvEFZ4HqGCxT1uWq3o29Q5hGFD03TVmiEhdpCxhh7iQPUGwA/x+NrlDDBRS6C2wtkX8wUripWw4G/bocCOBRQLVtgzGQM9bBwjQNcAqZ6CZc3thTlaqy9QBEIMA0Z6pp6EnKcLYym6vWYywWN6iXgGxyAMzRo3O0VbrSYveIAd4OiWAf/giKe8Nt5NzzgfnU7tMJCFhoI+ApFxQwNmjUsRbksEHjvjLHvKFC3mK4phOv5/FS5QZ+2BpgKvsAUNMelwNVsgXDXKIAYBhRqlGqmc/xIhaalr4Kmn9vPS8oWtEBgGPDqU8FmRdJkngq31WJsNW68iaM30Kvp13iP+Ty8Z6Jzagqn1hXTG+AY/YWyi0+ayp1a1Ah3q805YnO0U+BGN6L9Te8iaV6oyu1NwV6haedL24tpDxcN8bTgttpx2uDQxeAdywgLXv5qs4bdMLrCznYmJhbB9TcoWE2ktf5mSrJHWXV7znFpOkev0OgvKHOmqBxwaArXW2cOVVXKG2BWgPF1ryh5oKYpvZrDZSHB8vcJwPP4s6pZ+wqpejPlcnTFEuwzpnU3b0qrs6XB9SrtGQe4jyiAqWIHvPcLA3O4mpaocrX80wIBKLGKSs6aNj2ahz4V0RYHqI8ogB1uFH+PtgYOO5dSpbUayNqCI/gXzCuzpcAFpnA1/D2jKPgJ0/AQhYaJtRY0hcutDsLay/lom6fHVqObw/X5qoI1NFC5rl4AGLKdCC5qvqDtUJSoC4B2kWo7EEuAG+1I6DpDz5Sr1wNQVy7BKiRVNP+63iWKFrLe4UYblZrjEihhZzF3Yke4jbjrKZp+dTKwvQKNzEOhhwjdfdCQEKVjR6ulYp5e+Kq6w7xZ0/uzCjVrlfY6eml8hJo+tyDq9VxXj9kzYB9B1cr0rPdY6xaFB193oufGUtUC7d4CdzX9gxWutt8QjEuwwY6j8t+hzyozf1YsBJBss9ccwbhUcxXX/Pj66CnHFETjafKsj7l0sMBcxRw93QrjrFoTRrK/1nr/EiFn3a0INoD2o/sfgvC//+fOKfaZ/+75sr9ovwE6VuMXJQtz3QAAAABJRU5ErkJggg=="/>
  </defs>
</svg>
`,OnscreenGamepads_svelte_svelte_type_style_lang="";function create_fragment$4(n){let e,a,t,r,s,c,d,u,m;return{c(){e=element("div"),a=element("div"),t=space(),r=element("div"),s=space(),c=element("div"),d=space(),u=element("div"),attr(a,"id","gamepad-joystick-touch-area-left"),attr(a,"class","gamepad-joystick-touch-area svelte-h6lsjy"),attr(r,"id","gamepad-joystick-touch-area-right"),attr(r,"class","gamepad-joystick-touch-area svelte-h6lsjy"),attr(c,"class","hidden gpad-display gpad-display-left"),attr(u,"class","hidden gpad-display gpad-display-right"),attr(e,"id","gamepad-container"),attr(e,"class",m=(n[1],""))},m(g,_){insert(g,e,_),append(e,a),append(e,t),append(e,r),append(e,s),append(e,c),c.innerHTML=GamepadLeftSvg,append(e,d),append(e,u),u.innerHTML=GamepadRightSvg,n[4](e)},p(g,[_]){_&2&&m!==(m=(g[1],""))&&attr(e,"class",m)},i:noop$1,o:noop$1,d(g){g&&detach(e),n[4](null)}}}function instance$4(n,e,a){let t,r,s;component_subscribe(n,peerServerConnState,m=>a(2,r=m)),component_subscribe(n,rovDataChannelConnState,m=>a(3,s=m));let c;const d=appReady.subscribe(m=>{if(!m)return;d();const g=gamepadController.get();g&&g.setupOnscreenGamepad(c)});function u(m){binding_callbacks[m?"unshift":"push"](()=>{c=m,a(0,c)})}return n.$$.update=()=>{n.$$.dirty&12&&a(1,t=s===ConnectionState.connected||s===ConnectionState.connecting||s===ConnectionState.reconnecting||r===ConnectionState.connecting||r===ConnectionState.reconnecting||r===ConnectionState.disconnected)},[c,t,r,s,u]}class OnscreenGamepads extends SvelteComponent{constructor(e){super(),init$1(this,e,instance$4,create_fragment$4,safe_not_equal,{})}}const VideoPlayer_svelte_svelte_type_style_lang="";function create_fragment$3(n){let e,a;return{c(){e=element("div"),attr(e,"id","livestream_container"),attr(e,"class",a=null_to_empty(n[1]?"full":"")+" svelte-4narkd")},m(t,r){insert(t,e,r),n[4](e)},p(t,[r]){r&2&&a!==(a=null_to_empty(t[1]?"full":"")+" svelte-4narkd")&&attr(e,"class",a)},i:noop$1,o:noop$1,d(t){t&&detach(e),n[4](null)}}}function instance$3(n,e,a){let t,r,s;component_subscribe(n,rovVideoStreamConnState,_=>a(2,t=_)),component_subscribe(n,appReady,_=>a(3,r=_)),component_subscribe(n,fullscreenOpen,_=>a(1,s=_));let c=null,d=null;const u=_=>{if(!_||_==d)return;d=_;const b=document.createElement("video");b.id="video_livestream",b.muted=!0,b.autoplay=!0,b.controls=!1,b.srcObject=_,b.setAttribute("tabindex","-1"),a(0,c.innerHTML="",c),c.appendChild(b),b.onclick=()=>{b.play()},setTimeout(()=>{b.play().catch(S=>{showToastMessage("Click video to play.",5e3,()=>{b.play()})})},150)},m=rovVideoStream.subscribe(_=>{!_||_==d||(_.onaddtrack=function(b){console.log("Got remote track from relay",b.track),u(new MediaStream([b.track]))},u(_))});onDestroy(()=>{videoElement&&(videoElement.pause(),videoElement.srcObject=null),m()});function g(_){binding_callbacks[_?"unshift":"push"](()=>{c=_,a(0,c)})}return n.$$.update=()=>{n.$$.dirty&12&&r===!0&&(t==ConnectionState.connecting||t==ConnectionState.reconnecting?showLoadingUi(LOADING_MESSAGE.awaitingVideoCall,null):(t==ConnectionState.disconnected||t==ConnectionState.connected)&&hideLoadingUi(LOADING_MESSAGE.awaitingVideoCall))},[c,s,t,r,g]}class VideoPlayer extends SvelteComponent{constructor(e){super(),init$1(this,e,instance$3,create_fragment$3,safe_not_equal,{})}}const NetworkCheck={default:{a:{viewBox:"0 0 24 24"},path:[{d:"M15.9 5c-.17 0-.32.09-.41.23l-.07.15-5.18 11.65c-.16.29-.26.61-.26.96 0 1.11.9 2.01 2.01 2.01.96 0 1.77-.68 1.96-1.59l.01-.03L16.4 5.5c0-.28-.22-.5-.5-.5zM1 9l2 2c2.88-2.88 6.79-4.08 10.53-3.62l1.19-2.68C9.89 3.84 4.74 5.27 1 9zm20 2 2-2a15.367 15.367 0 0 0-5.59-3.57l-.53 2.82c1.5.62 2.9 1.53 4.12 2.75zm-4 4 2-2c-.8-.8-1.7-1.42-2.66-1.89l-.55 2.92c.42.27.83.59 1.21.97zM5 13l2 2a7.1 7.1 0 0 1 4.03-2l1.28-2.88c-2.63-.08-5.3.87-7.31 2.88z"}]},outlined:{a:{viewBox:"0 0 24 24"},path:[{d:"M15.9 5c-.17 0-.32.09-.41.23l-.07.15-5.18 11.65c-.16.29-.26.61-.26.96 0 1.11.9 2.01 2.01 2.01.96 0 1.77-.68 1.96-1.59l.01-.03L16.4 5.5c0-.28-.22-.5-.5-.5zM1 9l2 2c2.88-2.88 6.79-4.08 10.53-3.62l1.19-2.68C9.89 3.84 4.74 5.27 1 9zm20 2 2-2a15.367 15.367 0 0 0-5.59-3.57l-.53 2.82c1.5.62 2.9 1.53 4.12 2.75zm-4 4 2-2c-.8-.8-1.7-1.42-2.66-1.89l-.55 2.92c.42.27.83.59 1.21.97zM5 13l2 2a7.1 7.1 0 0 1 4.03-2l1.28-2.88c-2.63-.08-5.3.87-7.31 2.88z"}]},round:{a:{viewBox:"0 0 24 24"},path:[{d:"M15.9 5c-.17 0-.32.09-.41.23l-.07.15-5.18 11.65c-.16.29-.26.61-.26.96 0 1.11.9 2.01 2.01 2.01.96 0 1.77-.68 1.96-1.59l.01-.03L16.4 5.5c0-.28-.22-.5-.5-.5zM2.06 10.06c.51.51 1.33.55 1.89.09 2.76-2.26 6.24-3.18 9.58-2.76l1.19-2.68c-4.35-.78-8.96.3-12.57 3.25-.64.53-.68 1.51-.09 2.1zm19.88 0c.59-.59.55-1.57-.1-2.1a15.393 15.393 0 0 0-4.44-2.53l-.53 2.82c1.13.47 2.19 1.09 3.17 1.89.58.46 1.39.43 1.9-.08zm-4.03 4.03c.6-.6.56-1.63-.14-2.12-.46-.33-.94-.61-1.44-.86l-.55 2.92c.11.07.22.14.32.22.57.4 1.33.32 1.81-.16zm-11.83-.01c.5.5 1.27.54 1.85.13.94-.66 2.01-1.06 3.1-1.22l1.28-2.88c-2.13-.06-4.28.54-6.09 1.84-.69.51-.74 1.53-.14 2.13z"}]},sharp:{a:{viewBox:"0 0 24 24"},path:[{d:"M15.9 5c-.17 0-.32.09-.41.23l-.07.15-5.18 11.65c-.16.29-.26.61-.26.96 0 1.11.9 2.01 2.01 2.01.96 0 1.77-.68 1.96-1.59l.01-.03L16.4 5.5c0-.28-.22-.5-.5-.5zM1 9l2 2c2.88-2.88 6.79-4.08 10.53-3.62l1.19-2.68C9.89 3.84 4.74 5.27 1 9zm20 2 2-2a15.367 15.367 0 0 0-5.59-3.57l-.53 2.82c1.5.62 2.9 1.53 4.12 2.75zm-4 4 2-2c-.8-.8-1.7-1.42-2.66-1.89l-.55 2.92c.42.27.83.59 1.21.97zM5 13l2 2a7.1 7.1 0 0 1 4.03-2l1.28-2.88c-2.63-.08-5.3.87-7.31 2.88z"}]},twotone:{a:{viewBox:"0 0 24 24"},path:[{d:"M15.9 5c-.17 0-.32.09-.41.23l-.07.15-5.18 11.65c-.16.29-.26.61-.26.96 0 1.11.9 2.01 2.01 2.01.96 0 1.77-.68 1.96-1.59l.01-.03L16.4 5.5c0-.28-.22-.5-.5-.5zM1 9l2 2c2.88-2.88 6.79-4.08 10.53-3.62l1.19-2.68C9.89 3.84 4.74 5.27 1 9zm20 2 2-2a15.367 15.367 0 0 0-5.59-3.57l-.53 2.82c1.5.62 2.9 1.53 4.12 2.75zm-4 4 2-2c-.8-.8-1.7-1.42-2.66-1.89l-.55 2.92c.42.27.83.59 1.21.97zM5 13l2 2a7.1 7.1 0 0 1 4.03-2l1.28-2.88c-2.63-.08-5.3.87-7.31 2.88z"}]}},Thermostat={default:{a:{viewBox:"0 0 24 24"},path:[{d:"M15 13V5c0-1.66-1.34-3-3-3S9 3.34 9 5v8c-1.21.91-2 2.37-2 4 0 2.76 2.24 5 5 5s5-2.24 5-5c0-1.63-.79-3.09-2-4zm-4-2V5c0-.55.45-1 1-1s1 .45 1 1v1h-1v1h1v2h-1v1h1v1h-2z"}]},outlined:{a:{viewBox:"0 0 24 24"},path:[{d:"M15 13V5c0-1.66-1.34-3-3-3S9 3.34 9 5v8c-1.21.91-2 2.37-2 4 0 2.76 2.24 5 5 5s5-2.24 5-5c0-1.63-.79-3.09-2-4zm-4-8c0-.55.45-1 1-1s1 .45 1 1h-1v1h1v2h-1v1h1v2h-2V5z"}]},round:{a:{viewBox:"0 0 24 24"},path:[{d:"M15 13V5c0-1.66-1.34-3-3-3S9 3.34 9 5v8c-1.21.91-2 2.37-2 4 0 2.76 2.24 5 5 5s5-2.24 5-5c0-1.63-.79-3.09-2-4zm-2-2h-2V5c0-.55.45-1 1-1s1 .45 1 1h-.5c-.28 0-.5.22-.5.5s.22.5.5.5h.5v2h-.5c-.28 0-.5.22-.5.5s.22.5.5.5h.5v2z"}]},sharp:{a:{viewBox:"0 0 24 24"},path:[{d:"M15 13V5c0-1.66-1.34-3-3-3S9 3.34 9 5v8c-1.21.91-2 2.37-2 4 0 2.76 2.24 5 5 5s5-2.24 5-5c0-1.63-.79-3.09-2-4zm-4-8c0-.55.45-1 1-1s1 .45 1 1h-1v1h1v2h-1v1h1v2h-2V5z"}]},twotone:{a:{viewBox:"0 0 24 24"},path:[{d:"M15 13V5c0-1.66-1.34-3-3-3S9 3.34 9 5v8c-1.21.91-2 2.37-2 4 0 2.76 2.24 5 5 5s5-2.24 5-5c0-1.63-.79-3.09-2-4zm-4-8c0-.55.45-1 1-1s1 .45 1 1h-1v1h1v2h-1v1h1v2h-2V5z"}]}},Waves={default:{a:{viewBox:"0 0 24 24"},path:[{d:"M17 16.99c-1.35 0-2.2.42-2.95.8-.65.33-1.18.6-2.05.6-.9 0-1.4-.25-2.05-.6-.75-.38-1.57-.8-2.95-.8s-2.2.42-2.95.8c-.65.33-1.17.6-2.05.6v1.95c1.35 0 2.2-.42 2.95-.8.65-.33 1.17-.6 2.05-.6s1.4.25 2.05.6c.75.38 1.57.8 2.95.8s2.2-.42 2.95-.8c.65-.33 1.18-.6 2.05-.6.9 0 1.4.25 2.05.6.75.38 1.58.8 2.95.8v-1.95c-.9 0-1.4-.25-2.05-.6-.75-.38-1.6-.8-2.95-.8zm0-4.45c-1.35 0-2.2.43-2.95.8-.65.32-1.18.6-2.05.6-.9 0-1.4-.25-2.05-.6-.75-.38-1.57-.8-2.95-.8s-2.2.43-2.95.8c-.65.32-1.17.6-2.05.6v1.95c1.35 0 2.2-.43 2.95-.8.65-.35 1.15-.6 2.05-.6s1.4.25 2.05.6c.75.38 1.57.8 2.95.8s2.2-.43 2.95-.8c.65-.35 1.15-.6 2.05-.6s1.4.25 2.05.6c.75.38 1.58.8 2.95.8v-1.95c-.9 0-1.4-.25-2.05-.6-.75-.38-1.6-.8-2.95-.8zm2.95-8.08c-.75-.38-1.58-.8-2.95-.8s-2.2.42-2.95.8c-.65.32-1.18.6-2.05.6-.9 0-1.4-.25-2.05-.6-.75-.37-1.57-.8-2.95-.8s-2.2.42-2.95.8c-.65.33-1.17.6-2.05.6v1.93c1.35 0 2.2-.43 2.95-.8.65-.33 1.17-.6 2.05-.6s1.4.25 2.05.6c.75.38 1.57.8 2.95.8s2.2-.43 2.95-.8c.65-.32 1.18-.6 2.05-.6.9 0 1.4.25 2.05.6.75.38 1.58.8 2.95.8V5.04c-.9 0-1.4-.25-2.05-.58zM17 8.09c-1.35 0-2.2.43-2.95.8-.65.35-1.15.6-2.05.6s-1.4-.25-2.05-.6c-.75-.38-1.57-.8-2.95-.8s-2.2.43-2.95.8c-.65.35-1.15.6-2.05.6v1.95c1.35 0 2.2-.43 2.95-.8.65-.32 1.18-.6 2.05-.6s1.4.25 2.05.6c.75.38 1.57.8 2.95.8s2.2-.43 2.95-.8c.65-.32 1.18-.6 2.05-.6.9 0 1.4.25 2.05.6.75.38 1.58.8 2.95.8V9.49c-.9 0-1.4-.25-2.05-.6-.75-.38-1.6-.8-2.95-.8z"}]},outlined:{a:{viewBox:"0 0 24 24"},path:[{d:"M17 16.99c-1.35 0-2.2.42-2.95.8-.65.33-1.18.6-2.05.6-.9 0-1.4-.25-2.05-.6-.75-.38-1.57-.8-2.95-.8s-2.2.42-2.95.8c-.65.33-1.17.6-2.05.6v1.95c1.35 0 2.2-.42 2.95-.8.65-.33 1.17-.6 2.05-.6s1.4.25 2.05.6c.75.38 1.57.8 2.95.8s2.2-.42 2.95-.8c.65-.33 1.18-.6 2.05-.6.9 0 1.4.25 2.05.6.75.38 1.58.8 2.95.8v-1.95c-.9 0-1.4-.25-2.05-.6-.75-.38-1.6-.8-2.95-.8zm0-4.45c-1.35 0-2.2.43-2.95.8-.65.32-1.18.6-2.05.6-.9 0-1.4-.25-2.05-.6-.75-.38-1.57-.8-2.95-.8s-2.2.43-2.95.8c-.65.32-1.17.6-2.05.6v1.95c1.35 0 2.2-.43 2.95-.8.65-.35 1.15-.6 2.05-.6s1.4.25 2.05.6c.75.38 1.57.8 2.95.8s2.2-.43 2.95-.8c.65-.35 1.15-.6 2.05-.6s1.4.25 2.05.6c.75.38 1.58.8 2.95.8v-1.95c-.9 0-1.4-.25-2.05-.6-.75-.38-1.6-.8-2.95-.8zm2.95-8.08c-.75-.38-1.58-.8-2.95-.8s-2.2.42-2.95.8c-.65.32-1.18.6-2.05.6-.9 0-1.4-.25-2.05-.6-.75-.37-1.57-.8-2.95-.8s-2.2.42-2.95.8c-.65.33-1.17.6-2.05.6v1.93c1.35 0 2.2-.43 2.95-.8.65-.33 1.17-.6 2.05-.6s1.4.25 2.05.6c.75.38 1.57.8 2.95.8s2.2-.43 2.95-.8c.65-.32 1.18-.6 2.05-.6.9 0 1.4.25 2.05.6.75.38 1.58.8 2.95.8V5.04c-.9 0-1.4-.25-2.05-.58zM17 8.09c-1.35 0-2.2.43-2.95.8-.65.35-1.15.6-2.05.6s-1.4-.25-2.05-.6c-.75-.38-1.57-.8-2.95-.8s-2.2.43-2.95.8c-.65.35-1.15.6-2.05.6v1.95c1.35 0 2.2-.43 2.95-.8.65-.32 1.18-.6 2.05-.6s1.4.25 2.05.6c.75.38 1.57.8 2.95.8s2.2-.43 2.95-.8c.65-.32 1.18-.6 2.05-.6.9 0 1.4.25 2.05.6.75.38 1.58.8 2.95.8V9.49c-.9 0-1.4-.25-2.05-.6-.75-.38-1.6-.8-2.95-.8z"}]},round:{a:{viewBox:"0 0 24 24"},path:[{d:"M17 16.99c-1.35 0-2.2.42-2.95.8-.65.33-1.18.6-2.05.6-.9 0-1.4-.25-2.05-.6-.75-.38-1.57-.8-2.95-.8s-2.2.42-2.95.8c-.43.22-.81.41-1.27.52-.45.1-.78.46-.78.91v.1c0 .6.56 1.03 1.14.91.74-.15 1.3-.43 1.81-.69.65-.33 1.17-.6 2.05-.6s1.4.25 2.05.6c.75.38 1.57.8 2.95.8s2.2-.42 2.95-.8c.65-.33 1.18-.6 2.05-.6.9 0 1.4.25 2.05.6.52.26 1.08.55 1.83.7a.94.94 0 0 0 1.12-.91v-.09c0-.46-.34-.82-.79-.92-.46-.1-.83-.29-1.26-.52-.75-.39-1.6-.81-2.95-.81zm0-4.45c-1.35 0-2.2.43-2.95.8-.65.32-1.18.6-2.05.6-.9 0-1.4-.25-2.05-.6-.75-.38-1.57-.8-2.95-.8s-2.2.43-2.95.8c-.43.21-.81.41-1.28.52-.44.1-.77.46-.77.91v.1a.93.93 0 0 0 1.12.91c.75-.15 1.31-.44 1.83-.69.65-.35 1.15-.6 2.05-.6s1.4.25 2.05.6c.75.38 1.57.8 2.95.8s2.2-.43 2.95-.8c.65-.35 1.15-.6 2.05-.6s1.4.25 2.05.6c.52.26 1.08.55 1.83.7a.94.94 0 0 0 1.12-.92v-.09c0-.46-.34-.82-.79-.92-.46-.1-.83-.29-1.26-.52-.75-.38-1.6-.8-2.95-.8zm2.95-8.08c-.75-.38-1.58-.8-2.95-.8s-2.2.42-2.95.8c-.65.32-1.18.6-2.05.6-.9 0-1.4-.25-2.05-.6-.75-.37-1.57-.8-2.95-.8s-2.2.42-2.95.8c-.43.22-.81.41-1.27.52-.45.1-.78.46-.78.91v.07c0 .6.54 1.04 1.12.92.75-.15 1.31-.44 1.83-.69.65-.33 1.17-.6 2.05-.6s1.4.25 2.05.6c.75.38 1.57.8 2.95.8s2.2-.43 2.95-.8c.65-.32 1.18-.6 2.05-.6.9 0 1.4.25 2.05.6.52.26 1.08.55 1.83.7A.94.94 0 0 0 22 5.97v-.09c0-.46-.34-.82-.79-.92-.46-.1-.83-.28-1.26-.5zM17 8.09c-1.35 0-2.2.43-2.95.8-.65.35-1.15.6-2.05.6s-1.4-.25-2.05-.6c-.75-.38-1.57-.8-2.95-.8s-2.2.43-2.95.8c-.43.23-.8.42-1.26.52-.45.1-.79.46-.79.92v.09a.93.93 0 0 0 1.12.91c.75-.15 1.31-.44 1.83-.69.65-.32 1.18-.6 2.05-.6s1.4.25 2.05.6c.75.38 1.57.8 2.95.8s2.2-.43 2.95-.8c.65-.32 1.18-.6 2.05-.6.9 0 1.4.25 2.05.6.52.26 1.08.55 1.83.7a.94.94 0 0 0 1.12-.91v-.09c0-.46-.34-.82-.79-.92-.46-.1-.83-.29-1.26-.52-.75-.39-1.6-.81-2.95-.81z"}]},sharp:{a:{viewBox:"0 0 24 24"},path:[{d:"M17 16.99c-1.35 0-2.2.42-2.95.8-.65.33-1.18.6-2.05.6-.9 0-1.4-.25-2.05-.6-.75-.38-1.57-.8-2.95-.8s-2.2.42-2.95.8c-.65.33-1.17.6-2.05.6v1.95c1.35 0 2.2-.42 2.95-.8.65-.33 1.17-.6 2.05-.6s1.4.25 2.05.6c.75.38 1.57.8 2.95.8s2.2-.42 2.95-.8c.65-.33 1.18-.6 2.05-.6.9 0 1.4.25 2.05.6.75.38 1.58.8 2.95.8v-1.95c-.9 0-1.4-.25-2.05-.6-.75-.38-1.6-.8-2.95-.8zm0-4.45c-1.35 0-2.2.43-2.95.8-.65.32-1.18.6-2.05.6-.9 0-1.4-.25-2.05-.6-.75-.38-1.57-.8-2.95-.8s-2.2.43-2.95.8c-.65.32-1.17.6-2.05.6v1.95c1.35 0 2.2-.43 2.95-.8.65-.35 1.15-.6 2.05-.6s1.4.25 2.05.6c.75.38 1.57.8 2.95.8s2.2-.43 2.95-.8c.65-.35 1.15-.6 2.05-.6s1.4.25 2.05.6c.75.38 1.58.8 2.95.8v-1.95c-.9 0-1.4-.25-2.05-.6-.75-.38-1.6-.8-2.95-.8zm2.95-8.08c-.75-.38-1.58-.8-2.95-.8s-2.2.42-2.95.8c-.65.32-1.18.6-2.05.6-.9 0-1.4-.25-2.05-.6-.75-.37-1.57-.8-2.95-.8s-2.2.42-2.95.8c-.65.33-1.17.6-2.05.6v1.93c1.35 0 2.2-.43 2.95-.8.65-.33 1.17-.6 2.05-.6s1.4.25 2.05.6c.75.38 1.57.8 2.95.8s2.2-.43 2.95-.8c.65-.32 1.18-.6 2.05-.6.9 0 1.4.25 2.05.6.75.38 1.58.8 2.95.8V5.04c-.9 0-1.4-.25-2.05-.58zM17 8.09c-1.35 0-2.2.43-2.95.8-.65.35-1.15.6-2.05.6s-1.4-.25-2.05-.6c-.75-.38-1.57-.8-2.95-.8s-2.2.43-2.95.8c-.65.35-1.15.6-2.05.6v1.95c1.35 0 2.2-.43 2.95-.8.65-.32 1.18-.6 2.05-.6s1.4.25 2.05.6c.75.38 1.57.8 2.95.8s2.2-.43 2.95-.8c.65-.32 1.18-.6 2.05-.6.9 0 1.4.25 2.05.6.75.38 1.58.8 2.95.8V9.49c-.9 0-1.4-.25-2.05-.6-.75-.38-1.6-.8-2.95-.8z"}]},twotone:{a:{viewBox:"0 0 24 24"},path:[{d:"M17 16.99c-1.35 0-2.2.42-2.95.8-.65.33-1.18.6-2.05.6-.9 0-1.4-.25-2.05-.6-.75-.38-1.57-.8-2.95-.8s-2.2.42-2.95.8c-.65.33-1.17.6-2.05.6v1.95c1.35 0 2.2-.42 2.95-.8.65-.33 1.17-.6 2.05-.6s1.4.25 2.05.6c.75.38 1.57.8 2.95.8s2.2-.42 2.95-.8c.65-.33 1.18-.6 2.05-.6.9 0 1.4.25 2.05.6.75.38 1.58.8 2.95.8v-1.95c-.9 0-1.4-.25-2.05-.6-.75-.38-1.6-.8-2.95-.8zm0-4.45c-1.35 0-2.2.43-2.95.8-.65.32-1.18.6-2.05.6-.9 0-1.4-.25-2.05-.6-.75-.38-1.57-.8-2.95-.8s-2.2.43-2.95.8c-.65.32-1.17.6-2.05.6v1.95c1.35 0 2.2-.43 2.95-.8.65-.35 1.15-.6 2.05-.6s1.4.25 2.05.6c.75.38 1.57.8 2.95.8s2.2-.43 2.95-.8c.65-.35 1.15-.6 2.05-.6s1.4.25 2.05.6c.75.38 1.58.8 2.95.8v-1.95c-.9 0-1.4-.25-2.05-.6-.75-.38-1.6-.8-2.95-.8zm2.95-8.08c-.75-.38-1.58-.8-2.95-.8s-2.2.42-2.95.8c-.65.32-1.18.6-2.05.6-.9 0-1.4-.25-2.05-.6-.75-.37-1.57-.8-2.95-.8s-2.2.42-2.95.8c-.65.33-1.17.6-2.05.6v1.93c1.35 0 2.2-.43 2.95-.8.65-.33 1.17-.6 2.05-.6s1.4.25 2.05.6c.75.38 1.57.8 2.95.8s2.2-.43 2.95-.8c.65-.32 1.18-.6 2.05-.6.9 0 1.4.25 2.05.6.75.38 1.58.8 2.95.8V5.04c-.9 0-1.4-.25-2.05-.58zM17 8.09c-1.35 0-2.2.43-2.95.8-.65.35-1.15.6-2.05.6s-1.4-.25-2.05-.6c-.75-.38-1.57-.8-2.95-.8s-2.2.43-2.95.8c-.65.35-1.15.6-2.05.6v1.95c1.35 0 2.2-.43 2.95-.8.65-.32 1.18-.6 2.05-.6s1.4.25 2.05.6c.75.38 1.57.8 2.95.8s2.2-.43 2.95-.8c.65-.32 1.18-.6 2.05-.6.9 0 1.4.25 2.05.6.75.38 1.58.8 2.95.8V9.49c-.9 0-1.4-.25-2.05-.6-.75-.38-1.6-.8-2.95-.8z"}]}},SensorDisplay_svelte_svelte_type_style_lang="";function get_each_context(n,e,a){const t=n.slice();return t[3]=e[a].measurementName,t[4]=e[a].unit,t[5]=e[a].icon,t[7]=a,t}function get_each_context_1(n,e,a){const t=n.slice();return t[3]=e[a].measurementName,t[4]=e[a].unit,t[5]=e[a].icon,t[8]=e[a].valueStore,t[7]=a,t}function create_if_block_1(n){let e,a,t,r,s=n[0][n[3]].toFixed(2).padEnd(4)+"",c,d,u,m=n[4]+"",g,_,b,S,C;return a=new Icon({props:{theme:"solid",src:n[5],class:"sensor-icon pointer-events-none w-6 h-6 mr-2"}}),{c(){e=element("div"),create_component(a.$$.fragment),t=space(),r=element("span"),c=text(s),d=space(),u=element("span"),g=text(m),_=space(),attr(r,"class","sensor-value svelte-1f3sva5"),attr(u,"class","sensor-unit svelte-1f3sva5"),attr(e,"class","sensor pointer-events-auto cursor-help svelte-1f3sva5"),attr(e,"tabindex","0")},m(R,w){insert(R,e,w),mount_component(a,e,null),append(e,t),append(e,r),append(r,c),append(e,d),append(e,u),append(u,g),append(e,_),b=!0,S||(C=action_destroyer(addTooltip.call(null,e,{label:n[3],placement:"bottom",timeout:0})),S=!0)},p(R,w){n=R,(!b||w&1)&&s!==(s=n[0][n[3]].toFixed(2).padEnd(4)+"")&&set_data(c,s)},i(R){b||(transition_in(a.$$.fragment,R),b=!0)},o(R){transition_out(a.$$.fragment,R),b=!1},d(R){R&&detach(e),destroy_component(a),S=!1,C()}}}function create_each_block_1(n){let e,a,t=n[7]<=sensorDetails.length/2&&create_if_block_1(n);return{c(){t&&t.c(),e=empty()},m(r,s){t&&t.m(r,s),insert(r,e,s),a=!0},p(r,s){r[7]<=sensorDetails.length/2&&t.p(r,s)},i(r){a||(transition_in(t),a=!0)},o(r){transition_out(t),a=!1},d(r){t&&t.d(r),r&&detach(e)}}}function create_if_block(n){let e,a,t,r,s=n[0][n[3]].toFixed(2).padEnd(4)+"",c,d,u,m=n[4]+"",g,_,b,S,C;return a=new Icon({props:{theme:"solid",src:n[5],class:"sensor-icon pointer-events-none w-6 h-6 mr-2"}}),{c(){e=element("div"),create_component(a.$$.fragment),t=space(),r=element("span"),c=text(s),d=space(),u=element("span"),g=text(m),_=space(),attr(r,"class","sensor-value svelte-1f3sva5"),attr(u,"class","sensor-unit svelte-1f3sva5"),attr(e,"class","sensor pointer-events-auto cursor-help svelte-1f3sva5"),attr(e,"tabindex","0")},m(R,w){insert(R,e,w),mount_component(a,e,null),append(e,t),append(e,r),append(r,c),append(e,d),append(e,u),append(u,g),append(e,_),b=!0,S||(C=action_destroyer(addTooltip.call(null,e,{label:n[3],placement:"bottom",timeout:0})),S=!0)},p(R,w){n=R,(!b||w&1)&&s!==(s=n[0][n[3]].toFixed(2).padEnd(4)+"")&&set_data(c,s)},i(R){b||(transition_in(a.$$.fragment,R),b=!0)},o(R){transition_out(a.$$.fragment,R),b=!1},d(R){R&&detach(e),destroy_component(a),S=!1,C()}}}function create_each_block(n){let e,a,t=n[7]>sensorDetails.length/2&&create_if_block(n);return{c(){t&&t.c(),e=empty()},m(r,s){t&&t.m(r,s),insert(r,e,s),a=!0},p(r,s){r[7]>sensorDetails.length/2&&t.p(r,s)},i(r){a||(transition_in(t),a=!0)},o(r){transition_out(t),a=!1},d(r){t&&t.d(r),r&&detach(e)}}}function create_fragment$2(n){let e,a,t,r,s,c,d,u,m,g,_,b,S,C=sensorDetails,R=[];for(let P=0;P<C.length;P+=1)R[P]=create_each_block_1(get_each_context_1(n,C,P));const w=P=>transition_out(R[P],1,1,()=>{R[P]=null});let k=sensorDetails,$=[];for(let P=0;P<k.length;P+=1)$[P]=create_each_block(get_each_context(n,k,P));const O=P=>transition_out($[P],1,1,()=>{$[P]=null});return{c(){e=element("input"),a=space(),t=element("div"),r=element("div"),s=element("div"),c=space();for(let P=0;P<R.length;P+=1)R[P].c();d=space(),u=element("div"),m=space(),g=element("div"),_=element("div"),b=space();for(let P=0;P<$.length;P+=1)$[P].c();attr(e,"id","depth2"),attr(e,"type","range"),attr(e,"min","0"),attr(e,"max","100"),e.value=n[1],attr(e,"class","range range-info range-md vertical-indicator left-down svelte-1f3sva5"),attr(s,"class","w-4 h-12"),attr(r,"class","sensor-overlay sensor-overlay-left svelte-1f3sva5"),attr(u,"class","sensor-center-spacer svelte-1f3sva5"),attr(_,"class","w-12 h-12"),attr(g,"class","sensor-overlay sensor-overlay-right svelte-1f3sva5"),attr(t,"class","sensor-overlay-container pointer-events-none svelte-1f3sva5")},m(P,x){insert(P,e,x),insert(P,a,x),insert(P,t,x),append(t,r),append(r,s),append(r,c);for(let I=0;I<R.length;I+=1)R[I].m(r,null);append(t,d),append(t,u),append(t,m),append(t,g),append(g,_),append(g,b);for(let I=0;I<$.length;I+=1)$[I].m(g,null);S=!0},p(P,[x]){if((!S||x&2)&&(e.value=P[1]),x&1){C=sensorDetails;let I;for(I=0;I<C.length;I+=1){const B=get_each_context_1(P,C,I);R[I]?(R[I].p(B,x),transition_in(R[I],1)):(R[I]=create_each_block_1(B),R[I].c(),transition_in(R[I],1),R[I].m(r,null))}for(group_outros(),I=C.length;I<R.length;I+=1)w(I);check_outros()}if(x&1){k=sensorDetails;let I;for(I=0;I<k.length;I+=1){const B=get_each_context(P,k,I);$[I]?($[I].p(B,x),transition_in($[I],1)):($[I]=create_each_block(B),$[I].c(),transition_in($[I],1),$[I].m(g,null))}for(group_outros(),I=k.length;I<$.length;I+=1)O(I);check_outros()}},i(P){if(!S){for(let x=0;x<C.length;x+=1)transition_in(R[x]);for(let x=0;x<k.length;x+=1)transition_in($[x]);S=!0}},o(P){R=R.filter(Boolean);for(let x=0;x<R.length;x+=1)transition_out(R[x]);$=$.filter(Boolean);for(let x=0;x<$.length;x+=1)transition_out($[x]);S=!1},d(P){P&&detach(e),P&&detach(a),P&&detach(t),destroy_each(R,P),destroy_each($,P)}}}const sensorDetails=[{measurementName:"Depth",unit:"m",icon:Waves,valueStore:depthM},{measurementName:"Water Temp",unit:"",icon:Thermostat,valueStore:waterTempC},{measurementName:"Internal Temp",unit:"",icon:Thermostat,valueStore:internalTempC},{measurementName:"Latency",unit:"ms",icon:NetworkCheck,valueStore:networkLatencyMs}];function instance$2(n,e,a){let t;component_subscribe(n,depthM,c=>a(1,t=c));let r={};const s=[];for(let c=0;c<sensorDetails.length;c++){const{measurementName:d,valueStore:u}=sensorDetails[c];s.push(subscribe(u,m=>{a(0,r[d]=m,r),a(0,r)}))}return onDestroy(()=>{s.forEach(c=>c())}),[r,t]}class SensorDisplay extends SvelteComponent{constructor(e){super(),init$1(this,e,instance$2,create_fragment$2,safe_not_equal,{})}}const fragmentShader=`precision mediump float;

uniform vec2 resolution;
uniform float yaw;
uniform float roll;
uniform float pitch;

const float pi = 3.1415927;
const float deg = pi / 180.0;

// Uncomment to see the lat-long grid for context
#define SHOW_LARGE_GRID
#define SHOW_SPHERE
#define SHOW_SPHERE_GRID

mat3 rotationAll(float yaw, float pitch, float roll) {
        /// yaw
    return mat3(

    cos(yaw), 0, -sin(yaw),
       0,     1,    0,
    sin(yaw), 0, cos(yaw))
/// pitch
     * mat3(
    1,     0,          0,
    0, cos(pitch), sin(pitch),
    0, -sin(pitch), cos(pitch))

 /// roll
     * mat3(
    cos(roll), sin(roll),  0,
    -sin(roll), cos(roll), 0,
    0,            0,       1);
}

void main() {
    vec2 uv = gl_FragCoord.xy / resolution;
    float scale = 1.0 / resolution.x; // min(resolution.x, resolution.y);
    vec4 color = vec4(0.0, 0.0, 0.0, 0.0);

	const float verticalFieldOfView = 50.0 * deg;
	const float insetSphereRadius = 0.5;


    // Inset sphere
    vec2 spherePoint = (uv - insetSphereRadius) / insetSphereRadius; //(uv - insetSphereRadius) / insetSphereRadius;
    if (length(spherePoint) <= 1.0) {
        vec3 c = vec3(0);
        vec2 s = clamp(spherePoint, vec2(-1.0), vec2(1.0));

        // Show convex sphere grid lines
        // vec3 dir = rotationAll(yaw, pitch,roll) * vec3(s.xy, sqrt(max(0.0, 1.0 - dot(s.xy, s.xy))));
        //             float latLongLine = (1.0 - pow(smoothstep(0.0, 0.09, min(abs(fract(atan(dir.y, length(dir.xz)) / (15.0 * deg)) - 0.5), abs(fract(atan(dir.x, dir.z) / (15.0 * deg)) - 0.5)) * 2.0), 10.0));
        //             c += latLongLine * vec3(-dir.y, dir.y, 1);

        // show concave sphere grid lines:
        vec3 dir = rotationAll(yaw, pitch,roll) * normalize(vec3(s.xy, 1.0));
        // vec3 dir = rotationAll(yaw, pitch,roll) * vec3(s.xy, sqrt(max(0.0, 1.0 - dot(s.xy, s.xy))));
        // float latLongLine = (1.0 - pow(smoothstep(0.0, 0.09, min(abs(fract(atan(dir.y, length(dir.xz)) / (15.0 * deg)) - 0.5), abs(fract(atan(dir.x, dir.z) / (15.0 * deg)) - 0.5)) * 2.0), 10.0));
        // float latLongLine = (1.0 - pow(smoothstep(0.0, 0.04, min(abs(fract(atan(dir.y, length(dir.xz)) / (15.0 * deg)) - 0.5), abs(fract(atan(dir.x, dir.z) / (15.0 * deg)) - 0.5)) * 2.0), 10.0));


        float latLine = (1.0 - pow(smoothstep(0.0, 0.4,abs(fract(atan(dir.y, length(dir.xz)) / (15.0 * deg)) - 0.5) * 2.0), 1.0));

        float longLine = (1.0 - pow(smoothstep(0.0, 0.4, abs(fract(atan(dir.x, dir.z) / (15.0 * deg)) - 0.5) * 2.0), 10.0));


        c += (max(latLine,longLine) * 0.8) * vec3(dir.y / 2.0,  dir.y / 2.0 + 0.5, dir.y / 2.0 + 1.0) *(dir.y / 2.0 + 0.7);
                // c += latLine * vec3(1.0 - abs(dir.y),  dir.y - 0.5, -dir.y + 0.5) *(dir.y / 2.0 + 0.5);
                // c += longLine *  vec3(dir.y / 2.0 + 0.5,  dir.y / 2.0 + 0.5, dir.y / 2.0 + 0.5) / 2.0;

        // Fade the inset sphere to antialias its border transition
        float fade = clamp((1.0 - length(spherePoint)) * 2.0, 0.0, 1.0);
        color.rgb = mix(vec3(0), c, fade);
        float fade2 = clamp((1.0 - length(spherePoint)) * 5.0, 0.0, 0.4);
        color.a = fade2;
    }

  gl_FragColor = color;
}
`;const BYTE$2=5120,UNSIGNED_BYTE$3=5121,SHORT$2=5122,UNSIGNED_SHORT$3=5123,INT$3=5124,UNSIGNED_INT$3=5125,FLOAT$3=5126,UNSIGNED_SHORT_4_4_4_4$1=32819,UNSIGNED_SHORT_5_5_5_1$1=32820,UNSIGNED_SHORT_5_6_5$1=33635,HALF_FLOAT$1=5131,UNSIGNED_INT_2_10_10_10_REV$1=33640,UNSIGNED_INT_10F_11F_11F_REV$1=35899,UNSIGNED_INT_5_9_9_9_REV$1=35902,FLOAT_32_UNSIGNED_INT_24_8_REV$1=36269,UNSIGNED_INT_24_8$1=34042,glTypeToTypedArray={};{const n=glTypeToTypedArray;n[BYTE$2]=Int8Array,n[UNSIGNED_BYTE$3]=Uint8Array,n[SHORT$2]=Int16Array,n[UNSIGNED_SHORT$3]=Uint16Array,n[INT$3]=Int32Array,n[UNSIGNED_INT$3]=Uint32Array,n[FLOAT$3]=Float32Array,n[UNSIGNED_SHORT_4_4_4_4$1]=Uint16Array,n[UNSIGNED_SHORT_5_5_5_1$1]=Uint16Array,n[UNSIGNED_SHORT_5_6_5$1]=Uint16Array,n[HALF_FLOAT$1]=Uint16Array,n[UNSIGNED_INT_2_10_10_10_REV$1]=Uint32Array,n[UNSIGNED_INT_10F_11F_11F_REV$1]=Uint32Array,n[UNSIGNED_INT_5_9_9_9_REV$1]=Uint32Array,n[FLOAT_32_UNSIGNED_INT_24_8_REV$1]=Uint32Array,n[UNSIGNED_INT_24_8$1]=Uint32Array}function getGLTypeForTypedArray(n){if(n instanceof Int8Array)return BYTE$2;if(n instanceof Uint8Array||n instanceof Uint8ClampedArray)return UNSIGNED_BYTE$3;if(n instanceof Int16Array)return SHORT$2;if(n instanceof Uint16Array)return UNSIGNED_SHORT$3;if(n instanceof Int32Array)return INT$3;if(n instanceof Uint32Array)return UNSIGNED_INT$3;if(n instanceof Float32Array)return FLOAT$3;throw new Error("unsupported typed array type")}function getGLTypeForTypedArrayType(n){if(n===Int8Array)return BYTE$2;if(n===Uint8Array||n===Uint8ClampedArray)return UNSIGNED_BYTE$3;if(n===Int16Array)return SHORT$2;if(n===Uint16Array)return UNSIGNED_SHORT$3;if(n===Int32Array)return INT$3;if(n===Uint32Array)return UNSIGNED_INT$3;if(n===Float32Array)return FLOAT$3;throw new Error("unsupported typed array type")}function getTypedArrayTypeForGLType(n){const e=glTypeToTypedArray[n];if(!e)throw new Error("unknown gl type");return e}const isArrayBuffer$1=typeof SharedArrayBuffer<"u"?function n(e){return e&&e.buffer&&(e.buffer instanceof ArrayBuffer||e.buffer instanceof SharedArrayBuffer)}:function n(e){return e&&e.buffer&&e.buffer instanceof ArrayBuffer};function error$1(...n){console.error(...n)}const isTypeWeakMaps=new Map;function isType(n,e){if(!n||typeof n!="object")return!1;let a=isTypeWeakMaps.get(e);a||(a=new WeakMap,isTypeWeakMaps.set(e,a));let t=a.get(n);if(t===void 0){const r=Object.prototype.toString.call(n);t=r.substring(8,r.length-1)===e,a.set(n,t)}return t}function isBuffer(n,e){return typeof WebGLBuffer<"u"&&isType(e,"WebGLBuffer")}function isTexture(n,e){return typeof WebGLTexture<"u"&&isType(e,"WebGLTexture")}const STATIC_DRAW=35044,ARRAY_BUFFER$1=34962,ELEMENT_ARRAY_BUFFER$2=34963,BUFFER_SIZE=34660,BYTE$1=5120,UNSIGNED_BYTE$2=5121,SHORT$1=5122,UNSIGNED_SHORT$2=5123,INT$2=5124,UNSIGNED_INT$2=5125,FLOAT$2=5126,defaults$2={attribPrefix:""};function setBufferFromTypedArray(n,e,a,t,r){n.bindBuffer(e,a),n.bufferData(e,t,r||STATIC_DRAW)}function createBufferFromTypedArray(n,e,a,t){if(isBuffer(n,e))return e;a=a||ARRAY_BUFFER$1;const r=n.createBuffer();return setBufferFromTypedArray(n,a,r,e,t),r}function isIndices(n){return n==="indices"}function getNormalizationForTypedArrayType(n){return n===Int8Array||n===Uint8Array}function getArray$1(n){return n.length?n:n.data}const texcoordRE=/coord|texture/i,colorRE=/color|colour/i;function guessNumComponentsFromName(n,e){let a;if(texcoordRE.test(n)?a=2:colorRE.test(n)?a=4:a=3,e%a>0)throw new Error(`Can not guess numComponents for attribute '${n}'. Tried ${a} but ${e} values is not evenly divisible by ${a}. You should specify it.`);return a}function getNumComponents$1(n,e,a){return n.numComponents||n.size||guessNumComponentsFromName(e,a||getArray$1(n).length)}function makeTypedArray(n,e){if(isArrayBuffer$1(n))return n;if(isArrayBuffer$1(n.data))return n.data;Array.isArray(n)&&(n={data:n});let a=n.type?typedArrayTypeFromGLTypeOrTypedArrayCtor(n.type):void 0;return a||(isIndices(e)?a=Uint16Array:a=Float32Array),new a(n.data)}function glTypeFromGLTypeOrTypedArrayType(n){return typeof n=="number"?n:n?getGLTypeForTypedArrayType(n):FLOAT$2}function typedArrayTypeFromGLTypeOrTypedArrayCtor(n){return typeof n=="number"?getTypedArrayTypeForGLType(n):n||Float32Array}function attribBufferFromBuffer(n,e){return{buffer:e.buffer,numValues:2*3*4,type:glTypeFromGLTypeOrTypedArrayType(e.type),arrayType:typedArrayTypeFromGLTypeOrTypedArrayCtor(e.type)}}function attribBufferFromSize(n,e){const a=e.data||e,t=typedArrayTypeFromGLTypeOrTypedArrayCtor(e.type),r=a*t.BYTES_PER_ELEMENT,s=n.createBuffer();return n.bindBuffer(ARRAY_BUFFER$1,s),n.bufferData(ARRAY_BUFFER$1,r,e.drawType||STATIC_DRAW),{buffer:s,numValues:a,type:getGLTypeForTypedArrayType(t),arrayType:t}}function attribBufferFromArrayLike(n,e,a){const t=makeTypedArray(e,a);return{arrayType:t.constructor,buffer:createBufferFromTypedArray(n,t,void 0,e.drawType),type:getGLTypeForTypedArray(t),numValues:0}}function createAttribsFromArrays(n,e){const a={};return Object.keys(e).forEach(function(t){if(!isIndices(t)){const r=e[t],s=r.attrib||r.name||r.attribName||defaults$2.attribPrefix+t;if(r.value){if(!Array.isArray(r.value)&&!isArrayBuffer$1(r.value))throw new Error("array.value is not array or typedarray");a[s]={value:r.value}}else{let c;r.buffer&&r.buffer instanceof WebGLBuffer?c=attribBufferFromBuffer:typeof r=="number"||typeof r.data=="number"?c=attribBufferFromSize:c=attribBufferFromArrayLike;const{buffer:d,type:u,numValues:m,arrayType:g}=c(n,r,t),_=r.normalize!==void 0?r.normalize:getNormalizationForTypedArrayType(g),b=getNumComponents$1(r,t,m);a[s]={buffer:d,numComponents:b,type:u,normalize:_,stride:r.stride||0,offset:r.offset||0,divisor:r.divisor===void 0?void 0:r.divisor,drawType:r.drawType}}}}),n.bindBuffer(ARRAY_BUFFER$1,null),a}function getBytesPerValueForGLType(n,e){return e===BYTE$1||e===UNSIGNED_BYTE$2?1:e===SHORT$1||e===UNSIGNED_SHORT$2?2:e===INT$2||e===UNSIGNED_INT$2||e===FLOAT$2?4:0}const positionKeys=["position","positions","a_position"];function getNumElementsFromAttributes(n,e){let a,t;for(t=0;t<positionKeys.length&&(a=positionKeys[t],!(a in e||(a=defaults$2.attribPrefix+a,a in e)));++t);t===positionKeys.length&&(a=Object.keys(e)[0]);const r=e[a];if(!r.buffer)return 1;n.bindBuffer(ARRAY_BUFFER$1,r.buffer);const s=n.getBufferParameter(ARRAY_BUFFER$1,BUFFER_SIZE);n.bindBuffer(ARRAY_BUFFER$1,null);const c=getBytesPerValueForGLType(n,r.type),d=s/c,u=r.numComponents||r.size,m=d/u;if(m%1!==0)throw new Error(`numComponents ${u} not correct for length ${length}`);return m}function createBufferInfoFromArrays(n,e,a){const t=createAttribsFromArrays(n,e),r=Object.assign({},a||{});r.attribs=Object.assign({},a?a.attribs:{},t);const s=e.indices;if(s){const c=makeTypedArray(s,"indices");r.indices=createBufferFromTypedArray(n,c,ELEMENT_ARRAY_BUFFER$2),r.numElements=c.length,r.elementType=getGLTypeForTypedArray(c)}else r.numElements||(r.numElements=getNumElementsFromAttributes(n,r.attribs));return r}function isWebGL2(n){return!!n.texStorage2D}const glEnumToString=function(){const n={},e={};function a(t){const r=t.constructor.name;if(!n[r]){for(const s in t)if(typeof t[s]=="number"){const c=e[t[s]];e[t[s]]=c?`${c} | ${s}`:s}n[r]=!0}}return function(r,s){return a(r),e[s]||(typeof s=="number"?`0x${s.toString(16)}`:s)}}(),error=error$1;function getElementById(n){return typeof document<"u"&&document.getElementById?document.getElementById(n):null}const TEXTURE0=33984,ARRAY_BUFFER=34962,ELEMENT_ARRAY_BUFFER$1=34963,COMPILE_STATUS=35713,LINK_STATUS=35714,FRAGMENT_SHADER=35632,VERTEX_SHADER=35633,SEPARATE_ATTRIBS=35981,ACTIVE_UNIFORMS=35718,ACTIVE_ATTRIBUTES=35721,TRANSFORM_FEEDBACK_VARYINGS=35971,ACTIVE_UNIFORM_BLOCKS=35382,UNIFORM_BLOCK_REFERENCED_BY_VERTEX_SHADER=35396,UNIFORM_BLOCK_REFERENCED_BY_FRAGMENT_SHADER=35398,UNIFORM_BLOCK_DATA_SIZE=35392,UNIFORM_BLOCK_ACTIVE_UNIFORM_INDICES=35395,FLOAT=5126,FLOAT_VEC2=35664,FLOAT_VEC3=35665,FLOAT_VEC4=35666,INT=5124,INT_VEC2=35667,INT_VEC3=35668,INT_VEC4=35669,BOOL=35670,BOOL_VEC2=35671,BOOL_VEC3=35672,BOOL_VEC4=35673,FLOAT_MAT2=35674,FLOAT_MAT3=35675,FLOAT_MAT4=35676,SAMPLER_2D=35678,SAMPLER_CUBE=35680,SAMPLER_3D=35679,SAMPLER_2D_SHADOW=35682,FLOAT_MAT2x3=35685,FLOAT_MAT2x4=35686,FLOAT_MAT3x2=35687,FLOAT_MAT3x4=35688,FLOAT_MAT4x2=35689,FLOAT_MAT4x3=35690,SAMPLER_2D_ARRAY=36289,SAMPLER_2D_ARRAY_SHADOW=36292,SAMPLER_CUBE_SHADOW=36293,UNSIGNED_INT=5125,UNSIGNED_INT_VEC2=36294,UNSIGNED_INT_VEC3=36295,UNSIGNED_INT_VEC4=36296,INT_SAMPLER_2D=36298,INT_SAMPLER_3D=36299,INT_SAMPLER_CUBE=36300,INT_SAMPLER_2D_ARRAY=36303,UNSIGNED_INT_SAMPLER_2D=36306,UNSIGNED_INT_SAMPLER_3D=36307,UNSIGNED_INT_SAMPLER_CUBE=36308,UNSIGNED_INT_SAMPLER_2D_ARRAY=36311,TEXTURE_2D$1=3553,TEXTURE_CUBE_MAP=34067,TEXTURE_3D=32879,TEXTURE_2D_ARRAY=35866,typeMap={};function getBindPointForSamplerType(n,e){return typeMap[e].bindPoint}function floatSetter(n,e){return function(a){n.uniform1f(e,a)}}function floatArraySetter(n,e){return function(a){n.uniform1fv(e,a)}}function floatVec2Setter(n,e){return function(a){n.uniform2fv(e,a)}}function floatVec3Setter(n,e){return function(a){n.uniform3fv(e,a)}}function floatVec4Setter(n,e){return function(a){n.uniform4fv(e,a)}}function intSetter(n,e){return function(a){n.uniform1i(e,a)}}function intArraySetter(n,e){return function(a){n.uniform1iv(e,a)}}function intVec2Setter(n,e){return function(a){n.uniform2iv(e,a)}}function intVec3Setter(n,e){return function(a){n.uniform3iv(e,a)}}function intVec4Setter(n,e){return function(a){n.uniform4iv(e,a)}}function uintSetter(n,e){return function(a){n.uniform1ui(e,a)}}function uintArraySetter(n,e){return function(a){n.uniform1uiv(e,a)}}function uintVec2Setter(n,e){return function(a){n.uniform2uiv(e,a)}}function uintVec3Setter(n,e){return function(a){n.uniform3uiv(e,a)}}function uintVec4Setter(n,e){return function(a){n.uniform4uiv(e,a)}}function floatMat2Setter(n,e){return function(a){n.uniformMatrix2fv(e,!1,a)}}function floatMat3Setter(n,e){return function(a){n.uniformMatrix3fv(e,!1,a)}}function floatMat4Setter(n,e){return function(a){n.uniformMatrix4fv(e,!1,a)}}function floatMat23Setter(n,e){return function(a){n.uniformMatrix2x3fv(e,!1,a)}}function floatMat32Setter(n,e){return function(a){n.uniformMatrix3x2fv(e,!1,a)}}function floatMat24Setter(n,e){return function(a){n.uniformMatrix2x4fv(e,!1,a)}}function floatMat42Setter(n,e){return function(a){n.uniformMatrix4x2fv(e,!1,a)}}function floatMat34Setter(n,e){return function(a){n.uniformMatrix3x4fv(e,!1,a)}}function floatMat43Setter(n,e){return function(a){n.uniformMatrix4x3fv(e,!1,a)}}function samplerSetter(n,e,a,t){const r=getBindPointForSamplerType(n,e);return isWebGL2(n)?function(s){let c,d;!s||isTexture(n,s)?(c=s,d=null):(c=s.texture,d=s.sampler),n.uniform1i(t,a),n.activeTexture(TEXTURE0+a),n.bindTexture(r,c),n.bindSampler(a,d)}:function(s){n.uniform1i(t,a),n.activeTexture(TEXTURE0+a),n.bindTexture(r,s)}}function samplerArraySetter(n,e,a,t,r){const s=getBindPointForSamplerType(n,e),c=new Int32Array(r);for(let d=0;d<r;++d)c[d]=a+d;return isWebGL2(n)?function(d){n.uniform1iv(t,c),d.forEach(function(u,m){n.activeTexture(TEXTURE0+c[m]);let g,_;isTexture(n,u)?(g=u,_=null):(g=u.texture,_=u.sampler),n.bindSampler(a,_),n.bindTexture(s,g)})}:function(d){n.uniform1iv(t,c),d.forEach(function(u,m){n.activeTexture(TEXTURE0+c[m]),n.bindTexture(s,u)})}}typeMap[FLOAT]={Type:Float32Array,size:4,setter:floatSetter,arraySetter:floatArraySetter};typeMap[FLOAT_VEC2]={Type:Float32Array,size:8,setter:floatVec2Setter,cols:2};typeMap[FLOAT_VEC3]={Type:Float32Array,size:12,setter:floatVec3Setter,cols:3};typeMap[FLOAT_VEC4]={Type:Float32Array,size:16,setter:floatVec4Setter,cols:4};typeMap[INT]={Type:Int32Array,size:4,setter:intSetter,arraySetter:intArraySetter};typeMap[INT_VEC2]={Type:Int32Array,size:8,setter:intVec2Setter,cols:2};typeMap[INT_VEC3]={Type:Int32Array,size:12,setter:intVec3Setter,cols:3};typeMap[INT_VEC4]={Type:Int32Array,size:16,setter:intVec4Setter,cols:4};typeMap[UNSIGNED_INT]={Type:Uint32Array,size:4,setter:uintSetter,arraySetter:uintArraySetter};typeMap[UNSIGNED_INT_VEC2]={Type:Uint32Array,size:8,setter:uintVec2Setter,cols:2};typeMap[UNSIGNED_INT_VEC3]={Type:Uint32Array,size:12,setter:uintVec3Setter,cols:3};typeMap[UNSIGNED_INT_VEC4]={Type:Uint32Array,size:16,setter:uintVec4Setter,cols:4};typeMap[BOOL]={Type:Uint32Array,size:4,setter:intSetter,arraySetter:intArraySetter};typeMap[BOOL_VEC2]={Type:Uint32Array,size:8,setter:intVec2Setter,cols:2};typeMap[BOOL_VEC3]={Type:Uint32Array,size:12,setter:intVec3Setter,cols:3};typeMap[BOOL_VEC4]={Type:Uint32Array,size:16,setter:intVec4Setter,cols:4};typeMap[FLOAT_MAT2]={Type:Float32Array,size:32,setter:floatMat2Setter,rows:2,cols:2};typeMap[FLOAT_MAT3]={Type:Float32Array,size:48,setter:floatMat3Setter,rows:3,cols:3};typeMap[FLOAT_MAT4]={Type:Float32Array,size:64,setter:floatMat4Setter,rows:4,cols:4};typeMap[FLOAT_MAT2x3]={Type:Float32Array,size:32,setter:floatMat23Setter,rows:2,cols:3};typeMap[FLOAT_MAT2x4]={Type:Float32Array,size:32,setter:floatMat24Setter,rows:2,cols:4};typeMap[FLOAT_MAT3x2]={Type:Float32Array,size:48,setter:floatMat32Setter,rows:3,cols:2};typeMap[FLOAT_MAT3x4]={Type:Float32Array,size:48,setter:floatMat34Setter,rows:3,cols:4};typeMap[FLOAT_MAT4x2]={Type:Float32Array,size:64,setter:floatMat42Setter,rows:4,cols:2};typeMap[FLOAT_MAT4x3]={Type:Float32Array,size:64,setter:floatMat43Setter,rows:4,cols:3};typeMap[SAMPLER_2D]={Type:null,size:0,setter:samplerSetter,arraySetter:samplerArraySetter,bindPoint:TEXTURE_2D$1};typeMap[SAMPLER_CUBE]={Type:null,size:0,setter:samplerSetter,arraySetter:samplerArraySetter,bindPoint:TEXTURE_CUBE_MAP};typeMap[SAMPLER_3D]={Type:null,size:0,setter:samplerSetter,arraySetter:samplerArraySetter,bindPoint:TEXTURE_3D};typeMap[SAMPLER_2D_SHADOW]={Type:null,size:0,setter:samplerSetter,arraySetter:samplerArraySetter,bindPoint:TEXTURE_2D$1};typeMap[SAMPLER_2D_ARRAY]={Type:null,size:0,setter:samplerSetter,arraySetter:samplerArraySetter,bindPoint:TEXTURE_2D_ARRAY};typeMap[SAMPLER_2D_ARRAY_SHADOW]={Type:null,size:0,setter:samplerSetter,arraySetter:samplerArraySetter,bindPoint:TEXTURE_2D_ARRAY};typeMap[SAMPLER_CUBE_SHADOW]={Type:null,size:0,setter:samplerSetter,arraySetter:samplerArraySetter,bindPoint:TEXTURE_CUBE_MAP};typeMap[INT_SAMPLER_2D]={Type:null,size:0,setter:samplerSetter,arraySetter:samplerArraySetter,bindPoint:TEXTURE_2D$1};typeMap[INT_SAMPLER_3D]={Type:null,size:0,setter:samplerSetter,arraySetter:samplerArraySetter,bindPoint:TEXTURE_3D};typeMap[INT_SAMPLER_CUBE]={Type:null,size:0,setter:samplerSetter,arraySetter:samplerArraySetter,bindPoint:TEXTURE_CUBE_MAP};typeMap[INT_SAMPLER_2D_ARRAY]={Type:null,size:0,setter:samplerSetter,arraySetter:samplerArraySetter,bindPoint:TEXTURE_2D_ARRAY};typeMap[UNSIGNED_INT_SAMPLER_2D]={Type:null,size:0,setter:samplerSetter,arraySetter:samplerArraySetter,bindPoint:TEXTURE_2D$1};typeMap[UNSIGNED_INT_SAMPLER_3D]={Type:null,size:0,setter:samplerSetter,arraySetter:samplerArraySetter,bindPoint:TEXTURE_3D};typeMap[UNSIGNED_INT_SAMPLER_CUBE]={Type:null,size:0,setter:samplerSetter,arraySetter:samplerArraySetter,bindPoint:TEXTURE_CUBE_MAP};typeMap[UNSIGNED_INT_SAMPLER_2D_ARRAY]={Type:null,size:0,setter:samplerSetter,arraySetter:samplerArraySetter,bindPoint:TEXTURE_2D_ARRAY};function floatAttribSetter(n,e){return function(a){if(a.value)switch(n.disableVertexAttribArray(e),a.value.length){case 4:n.vertexAttrib4fv(e,a.value);break;case 3:n.vertexAttrib3fv(e,a.value);break;case 2:n.vertexAttrib2fv(e,a.value);break;case 1:n.vertexAttrib1fv(e,a.value);break;default:throw new Error("the length of a float constant value must be between 1 and 4!")}else n.bindBuffer(ARRAY_BUFFER,a.buffer),n.enableVertexAttribArray(e),n.vertexAttribPointer(e,a.numComponents||a.size,a.type||FLOAT,a.normalize||!1,a.stride||0,a.offset||0),n.vertexAttribDivisor&&n.vertexAttribDivisor(e,a.divisor||0)}}function intAttribSetter(n,e){return function(a){if(a.value)if(n.disableVertexAttribArray(e),a.value.length===4)n.vertexAttrib4iv(e,a.value);else throw new Error("The length of an integer constant value must be 4!");else n.bindBuffer(ARRAY_BUFFER,a.buffer),n.enableVertexAttribArray(e),n.vertexAttribIPointer(e,a.numComponents||a.size,a.type||INT,a.stride||0,a.offset||0),n.vertexAttribDivisor&&n.vertexAttribDivisor(e,a.divisor||0)}}function uintAttribSetter(n,e){return function(a){if(a.value)if(n.disableVertexAttribArray(e),a.value.length===4)n.vertexAttrib4uiv(e,a.value);else throw new Error("The length of an unsigned integer constant value must be 4!");else n.bindBuffer(ARRAY_BUFFER,a.buffer),n.enableVertexAttribArray(e),n.vertexAttribIPointer(e,a.numComponents||a.size,a.type||UNSIGNED_INT,a.stride||0,a.offset||0),n.vertexAttribDivisor&&n.vertexAttribDivisor(e,a.divisor||0)}}function matAttribSetter(n,e,a){const t=a.size,r=a.count;return function(s){n.bindBuffer(ARRAY_BUFFER,s.buffer);const c=s.size||s.numComponents||t,d=c/r,u=s.type||FLOAT,g=typeMap[u].size*c,_=s.normalize||!1,b=s.offset||0,S=g/r;for(let C=0;C<r;++C)n.enableVertexAttribArray(e+C),n.vertexAttribPointer(e+C,d,u,_,g,b+S*C),n.vertexAttribDivisor&&n.vertexAttribDivisor(e+C,s.divisor||0)}}const attrTypeMap={};attrTypeMap[FLOAT]={size:4,setter:floatAttribSetter};attrTypeMap[FLOAT_VEC2]={size:8,setter:floatAttribSetter};attrTypeMap[FLOAT_VEC3]={size:12,setter:floatAttribSetter};attrTypeMap[FLOAT_VEC4]={size:16,setter:floatAttribSetter};attrTypeMap[INT]={size:4,setter:intAttribSetter};attrTypeMap[INT_VEC2]={size:8,setter:intAttribSetter};attrTypeMap[INT_VEC3]={size:12,setter:intAttribSetter};attrTypeMap[INT_VEC4]={size:16,setter:intAttribSetter};attrTypeMap[UNSIGNED_INT]={size:4,setter:uintAttribSetter};attrTypeMap[UNSIGNED_INT_VEC2]={size:8,setter:uintAttribSetter};attrTypeMap[UNSIGNED_INT_VEC3]={size:12,setter:uintAttribSetter};attrTypeMap[UNSIGNED_INT_VEC4]={size:16,setter:uintAttribSetter};attrTypeMap[BOOL]={size:4,setter:intAttribSetter};attrTypeMap[BOOL_VEC2]={size:8,setter:intAttribSetter};attrTypeMap[BOOL_VEC3]={size:12,setter:intAttribSetter};attrTypeMap[BOOL_VEC4]={size:16,setter:intAttribSetter};attrTypeMap[FLOAT_MAT2]={size:4,setter:matAttribSetter,count:2};attrTypeMap[FLOAT_MAT3]={size:9,setter:matAttribSetter,count:3};attrTypeMap[FLOAT_MAT4]={size:16,setter:matAttribSetter,count:4};const errorRE=/ERROR:\s*\d+:(\d+)/gi;function addLineNumbersWithError(n,e="",a=0){const t=[...e.matchAll(errorRE)],r=new Map(t.map((s,c)=>{const d=parseInt(s[1]),u=t[c+1],m=u?u.index:e.length,g=e.substring(s.index,m);return[d-1,g]}));return n.split(`
`).map((s,c)=>{const d=r.get(c);return`${c+1+a}: ${s}${d?`

^^^ ${d}`:""}`}).join(`
`)}const spaceRE=/^[ \t]*\n/;function prepShaderSource(n){let e=0;return spaceRE.test(n)&&(e=1,n=n.replace(spaceRE,"")),{lineOffset:e,shaderSource:n}}function reportError(n,e){return n.errorCallback(e),n.callback&&setTimeout(()=>{n.callback(`${e}
${n.errors.join(`
`)}`)}),null}function checkShaderStatus(n,e,a,t){if(t=t||error,!n.getShaderParameter(a,COMPILE_STATUS)){const s=n.getShaderInfoLog(a),{lineOffset:c,shaderSource:d}=prepShaderSource(n.getShaderSource(a)),u=`${addLineNumbersWithError(d,s,c)}
Error compiling ${glEnumToString(n,e)}: ${s}`;return t(u),u}return""}function getProgramOptions(n,e,a){let t,r,s;if(typeof e=="function"&&(a=e,e=void 0),typeof n=="function")a=n,n=void 0;else if(n&&!Array.isArray(n)){const m=n;a=m.errorCallback,n=m.attribLocations,t=m.transformFeedbackVaryings,r=m.transformFeedbackMode,s=m.callback}const c=a||error,d=[],u={errorCallback(m,...g){d.push(m),c(m,...g)},transformFeedbackVaryings:t,transformFeedbackMode:r,callback:s,errors:d};{let m={};Array.isArray(n)?n.forEach(function(g,_){m[g]=e?e[_]:_}):m=n||{},u.attribLocations=m}return u}const defaultShaderType=["VERTEX_SHADER","FRAGMENT_SHADER"];function getShaderTypeFromScriptType(n,e){if(e.indexOf("frag")>=0)return FRAGMENT_SHADER;if(e.indexOf("vert")>=0)return VERTEX_SHADER}function deleteProgramAndShaders(n,e,a){const t=n.getAttachedShaders(e);for(const r of t)a.has(r)&&n.deleteShader(r);n.deleteProgram(e)}const wait=(n=0)=>new Promise(e=>setTimeout(e,n));function createProgramNoCheck(n,e,a){const t=n.createProgram(),{attribLocations:r,transformFeedbackVaryings:s,transformFeedbackMode:c}=getProgramOptions(a);for(let d=0;d<e.length;++d){let u=e[d];if(typeof u=="string"){const m=getElementById(u),g=m?m.text:u;let _=n[defaultShaderType[d]];m&&m.type&&(_=getShaderTypeFromScriptType(n,m.type)||_),u=n.createShader(_),n.shaderSource(u,prepShaderSource(g).shaderSource),n.compileShader(u),n.attachShader(t,u)}}Object.entries(r).forEach(([d,u])=>n.bindAttribLocation(t,u,d));{let d=s;d&&(d.attribs&&(d=d.attribs),Array.isArray(d)||(d=Object.keys(d)),n.transformFeedbackVaryings(t,d,c||SEPARATE_ATTRIBS))}return n.linkProgram(t),t}function createProgram(n,e,a,t,r){const s=getProgramOptions(a,t,r),c=new Set(e),d=createProgramNoCheck(n,e,s);function u(m,g){const _=getProgramErrors(m,g,s.errorCallback);return _&&deleteProgramAndShaders(m,g,c),_}if(s.callback){waitForProgramLinkCompletionAsync(n,d).then(()=>{const m=u(n,d);s.callback(m,m?void 0:d)});return}return u(n,d)?void 0:d}async function waitForProgramLinkCompletionAsync(n,e){const a=n.getExtension("KHR_parallel_shader_compile"),t=a?(s,c)=>s.getProgramParameter(c,a.COMPLETION_STATUS_KHR):()=>!0;let r=0;do await wait(r),r=1e3/60;while(!t(n,e))}function getProgramErrors(n,e,a){if(a=a||error,!n.getProgramParameter(e,LINK_STATUS)){const r=n.getProgramInfoLog(e);a(`Error in program linking: ${r}`);const c=n.getAttachedShaders(e).map(d=>checkShaderStatus(n,n.getShaderParameter(d,n.SHADER_TYPE),d,a));return`${r}
${c.filter(d=>d).join(`
`)}`}}function createProgramFromSources(n,e,a,t,r){return createProgram(n,e,a,t,r)}function isBuiltIn(n){const e=n.name;return e.startsWith("gl_")||e.startsWith("webgl_")}const tokenRE=/(\.|\[|]|\w+)/g,isDigit=n=>n>="0"&&n<="9";function addSetterToUniformTree(n,e,a,t){const r=n.split(tokenRE).filter(d=>d!=="");let s=0,c="";for(;;){const d=r[s++];c+=d;const u=isDigit(d[0]),m=u?parseInt(d):d;if(u&&(c+=r[s++]),s===r.length){a[m]=e;break}else{const _=r[s++],b=_==="[",S=a[m]||(b?[]:{});a[m]=S,a=S,t[c]=t[c]||function(C){return function(R){setUniformTree(C,R)}}(S),c+=_}}}function createUniformSetters(n,e){let a=0;function t(d,u,m){const g=u.name.endsWith("[0]"),_=u.type,b=typeMap[_];if(!b)throw new Error(`unknown type: 0x${_.toString(16)}`);let S;if(b.bindPoint){const C=a;a+=u.size,g?S=b.arraySetter(n,_,C,m,u.size):S=b.setter(n,_,C,m,u.size)}else b.arraySetter&&g?S=b.arraySetter(n,m):S=b.setter(n,m);return S.location=m,S}const r={},s={},c=n.getProgramParameter(e,ACTIVE_UNIFORMS);for(let d=0;d<c;++d){const u=n.getActiveUniform(e,d);if(isBuiltIn(u))continue;let m=u.name;m.endsWith("[0]")&&(m=m.substr(0,m.length-3));const g=n.getUniformLocation(e,u.name);if(g){const _=t(e,u,g);r[m]=_,addSetterToUniformTree(m,_,s,r)}}return r}function createTransformFeedbackInfo(n,e){const a={},t=n.getProgramParameter(e,TRANSFORM_FEEDBACK_VARYINGS);for(let r=0;r<t;++r){const s=n.getTransformFeedbackVarying(e,r);a[s.name]={index:r,type:s.type,size:s.size}}return a}function createUniformBlockSpecFromProgram(n,e){const a=n.getProgramParameter(e,ACTIVE_UNIFORMS),t=[],r=[];for(let d=0;d<a;++d){r.push(d),t.push({});const u=n.getActiveUniform(e,d);t[d].name=u.name}[["UNIFORM_TYPE","type"],["UNIFORM_SIZE","size"],["UNIFORM_BLOCK_INDEX","blockNdx"],["UNIFORM_OFFSET","offset"]].forEach(function(d){const u=d[0],m=d[1];n.getActiveUniforms(e,r,n[u]).forEach(function(g,_){t[_][m]=g})});const s={},c=n.getProgramParameter(e,ACTIVE_UNIFORM_BLOCKS);for(let d=0;d<c;++d){const u=n.getActiveUniformBlockName(e,d),m={index:n.getUniformBlockIndex(e,u),usedByVertexShader:n.getActiveUniformBlockParameter(e,d,UNIFORM_BLOCK_REFERENCED_BY_VERTEX_SHADER),usedByFragmentShader:n.getActiveUniformBlockParameter(e,d,UNIFORM_BLOCK_REFERENCED_BY_FRAGMENT_SHADER),size:n.getActiveUniformBlockParameter(e,d,UNIFORM_BLOCK_DATA_SIZE),uniformIndices:n.getActiveUniformBlockParameter(e,d,UNIFORM_BLOCK_ACTIVE_UNIFORM_INDICES)};m.used=m.usedByVertexShader||m.usedByFragmentShader,s[u]=m}return{blockSpecs:s,uniformData:t}}function setUniformTree(n,e){for(const a in e){const t=n[a];typeof t=="function"?t(e[a]):setUniformTree(n[a],e[a])}}function setUniforms(n,...e){const a=n.uniformSetters||n,t=e.length;for(let r=0;r<t;++r){const s=e[r];if(Array.isArray(s)){const c=s.length;for(let d=0;d<c;++d)setUniforms(a,s[d])}else for(const c in s){const d=a[c];d&&d(s[c])}}}function createAttributeSetters(n,e){const a={},t=n.getProgramParameter(e,ACTIVE_ATTRIBUTES);for(let r=0;r<t;++r){const s=n.getActiveAttrib(e,r);if(isBuiltIn(s))continue;const c=n.getAttribLocation(e,s.name),d=attrTypeMap[s.type],u=d.setter(n,c,d);u.location=c,a[s.name]=u}return a}function setAttributes(n,e){for(const a in e){const t=n[a];t&&t(e[a])}}function setBuffersAndAttributes(n,e,a){a.vertexArrayObject?n.bindVertexArray(a.vertexArrayObject):(setAttributes(e.attribSetters||e,a.attribs),a.indices&&n.bindBuffer(ELEMENT_ARRAY_BUFFER$1,a.indices))}function createProgramInfoFromProgram(n,e){const a=createUniformSetters(n,e),t=createAttributeSetters(n,e),r={program:e,uniformSetters:a,attribSetters:t};return isWebGL2(n)&&(r.uniformBlockSpec=createUniformBlockSpecFromProgram(n,e),r.transformFeedbackInfo=createTransformFeedbackInfo(n,e)),r}const notIdRE=/\s|{|}|;/;function createProgramInfo(n,e,a,t,r){const s=getProgramOptions(a,t,r),c=[];if(e=e.map(function(m){if(!notIdRE.test(m)){const g=getElementById(m);if(g)m=g.text;else{const _=`no element with id: ${m}`;s.errorCallback(_),c.push(_)}}return m}),c.length)return reportError(s,"");const d=s.callback;d&&(s.callback=(m,g)=>{d(m,m?void 0:createProgramInfoFromProgram(n,g))});const u=createProgramFromSources(n,e,s);return u?createProgramInfoFromProgram(n,u):null}const TRIANGLES=4,UNSIGNED_SHORT=5123;function drawBufferInfo(n,e,a,t,r,s){a=a===void 0?TRIANGLES:a;const c=e.indices,d=e.elementType,u=t===void 0?e.numElements:t;r=r===void 0?0:r,d||c?s!==void 0?n.drawElementsInstanced(a,u,d===void 0?UNSIGNED_SHORT:e.elementType,r,s):n.drawElements(a,u,d===void 0?UNSIGNED_SHORT:e.elementType,r):s!==void 0?n.drawArraysInstanced(a,r,u,s):n.drawArrays(a,r,u)}const AHRSViz_svelte_svelte_type_style_lang="";function create_fragment$1(n){let e;return{c(){e=element("canvas"),attr(e,"id","AHRS-display"),attr(e,"class","svelte-1q05xdg")},m(a,t){insert(a,e,t),n[7](e)},p:noop$1,i:noop$1,o:noop$1,d(a){a&&detach(e),n[7](null)}}}function instance$1(n,e,a){let t,r,s;component_subscribe(n,rovRoll,b=>a(4,t=b)),component_subscribe(n,rovPitch,b=>a(5,r=b)),component_subscribe(n,rovHeading,b=>a(6,s=b));let c;const d=`
attribute vec4 position;
void main() {
  gl_Position = position;
}`;let u,m,g;onMount(()=>{if(a(1,u=c.getContext("webgl")),!u){console.warn("Unable to initialize WebGL. Your browser or machine may not support it.");return}a(2,m=createProgramInfo(u,[d,fragmentShader])),a(3,g=createBufferInfoFromArrays(u,{position:[-1,-1,0,1,-1,0,-1,1,0,-1,1,0,1,-1,0,1,1,0]}))});function _(b){binding_callbacks[b?"unshift":"push"](()=>{c=b,a(0,c)})}return n.$$.update=()=>{if(n.$$.dirty&126&&m&&u){u.viewport(0,0,u.canvas.width,u.canvas.height);const b={yaw:s*(3.14/180)*-1,pitch:r*(3.14/180)*-1,roll:t*(3.14/180),resolution:[u.canvas.width,u.canvas.height]};u.useProgram(m.program),setBuffersAndAttributes(u,m,g),setUniforms(m,b),drawBufferInfo(u,g)}},[c,u,m,g,t,r,s,_]}class AHRSViz extends SvelteComponent{constructor(e){super(),init$1(this,e,instance$1,create_fragment$1,safe_not_equal,{})}}const App_svelte_svelte_type_style_lang="";function create_fragment(n){let e,a,t,r,s,c,d,u,m,g,_,b,S,C,R,w,k,$,O,P,x,I,B;return a=new SvelteToast({props:{options:{reversed:!0,intro:{y:192},pausable:!0,classes:["toast-msg"]}}}),r=new HelpTooltips({}),c=new DialogSpawner({}),u=new LoadingIndicator({}),g=new VideoPlayer({}),b=new VideoPlayer({}),C=new OnscreenGamepads({}),w=new SensorDisplay({}),$=new AHRSViz({}),P=new TopBar({}),I=new RovSelector({}),{c(){e=element("main"),create_component(a.$$.fragment),t=space(),create_component(r.$$.fragment),s=space(),create_component(c.$$.fragment),d=space(),create_component(u.$$.fragment),m=space(),create_component(g.$$.fragment),_=space(),create_component(b.$$.fragment),S=space(),create_component(C.$$.fragment),R=space(),create_component(w.$$.fragment),k=space(),create_component($.$$.fragment),O=space(),create_component(P.$$.fragment),x=space(),create_component(I.$$.fragment),attr(e,"class","svelte-18jji2s")},m(j,W){insert(j,e,W),mount_component(a,e,null),append(e,t),mount_component(r,e,null),append(e,s),mount_component(c,e,null),append(e,d),mount_component(u,e,null),append(e,m),mount_component(g,e,null),append(e,_),mount_component(b,e,null),append(e,S),mount_component(C,e,null),append(e,R),mount_component(w,e,null),append(e,k),mount_component($,e,null),append(e,O),mount_component(P,e,null),append(e,x),mount_component(I,e,null),B=!0},p:noop$1,i(j){B||(transition_in(a.$$.fragment,j),transition_in(r.$$.fragment,j),transition_in(c.$$.fragment,j),transition_in(u.$$.fragment,j),transition_in(g.$$.fragment,j),transition_in(b.$$.fragment,j),transition_in(C.$$.fragment,j),transition_in(w.$$.fragment,j),transition_in($.$$.fragment,j),transition_in(P.$$.fragment,j),transition_in(I.$$.fragment,j),B=!0)},o(j){transition_out(a.$$.fragment,j),transition_out(r.$$.fragment,j),transition_out(c.$$.fragment,j),transition_out(u.$$.fragment,j),transition_out(g.$$.fragment,j),transition_out(b.$$.fragment,j),transition_out(C.$$.fragment,j),transition_out(w.$$.fragment,j),transition_out($.$$.fragment,j),transition_out(P.$$.fragment,j),transition_out(I.$$.fragment,j),B=!1},d(j){j&&detach(e),destroy_component(a),destroy_component(r),destroy_component(c),destroy_component(u),destroy_component(g),destroy_component(b),destroy_component(C),destroy_component(w),destroy_component($),destroy_component(P),destroy_component(I)}}}function instance(n,e,a){let t,r,s,c;component_subscribe(n,peerServerConnState,m=>a(0,t=m)),component_subscribe(n,rovDataChannelConnState,m=>a(1,r=m)),component_subscribe(n,rovPeerIdEndNumber,m=>a(2,s=m)),component_subscribe(n,appReady,m=>a(3,c=m));let d=new GamepadController(10);gamepadController.set(d);const u=getURLQueryStringVariable("debug")!=null;return u&&inspect({iframe:!1}),debugXstateMode.set(u),rovPeerIdEndNumber.set(parseInt(localStorage.getItem("rovPeerIdEndNumber")||"0")),ourPeerId.set(localStorage.getItem("ourPeerId")||null),ourPeerId.subscribe(m=>{localStorage.setItem("ourPeerId",m)}),onMount(()=>{appReady.set(!0),showLoadingUi(LOADING_MESSAGE.internetCheck,null),runSiteInitMachine(()=>{hideLoadingUi(LOADING_MESSAGE.internetCheck),rovMessageHandler.setSendMessageCallback(connectionManager.sendMessageToCurrentRov.bind(connectionManager)),connectionManager.start()})}),onDestroy(()=>{RovActions.stopPingLoop(),d.gpadEmulator.cleanup()}),n.$$.update=()=>{n.$$.dirty&15&&c===!0&&(r==ConnectionState.connecting?(showLoadingUi(LOADING_MESSAGE.webrtcConnecting,"Searching for "+getROVName(s)),d.clearExternalEventListenerCallbacks(),RovActions.stopPingLoop()):r==ConnectionState.reconnecting?(showLoadingUi(LOADING_MESSAGE.webrtcReconnecting,null),d.clearExternalEventListenerCallbacks(),RovActions.stopPingLoop()):r==ConnectionState.disconnected?(d.clearExternalEventListenerCallbacks(),hideLoadingUi(LOADING_MESSAGE.webrtcReconnecting),hideLoadingUi(LOADING_MESSAGE.webrtcConnecting),RovActions.stopPingLoop()):r==ConnectionState.connected&&(showToastMessage("Connected to ROV!",1e3),d.setupGamepadEvents(10),hideLoadingUi(LOADING_MESSAGE.webrtcReconnecting),hideLoadingUi(LOADING_MESSAGE.webrtcConnecting),RovActions.startPingLoop()),t==ConnectionState.connecting?showLoadingUi(LOADING_MESSAGE.serverConnecting,null):t==ConnectionState.reconnecting?hideLoadingUi(LOADING_MESSAGE.serverReconnecting):(t==ConnectionState.disconnected||t==ConnectionState.connected)&&(hideLoadingUi(LOADING_MESSAGE.serverConnecting),hideLoadingUi(LOADING_MESSAGE.serverReconnecting)))},[t,r,s,c]}class App extends SvelteComponent{constructor(e){super(),init$1(this,e,instance,create_fragment,safe_not_equal,{})}}window.onbeforeunload=()=>{connectionManager.cleanup()};new App({target:document.getElementById("app")});
